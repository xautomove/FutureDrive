/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,o,i,a={2:(e,t,n)=>{var r=n(2199),o=n(4664),i=n(5950);e.exports=function(e){return r(e,i,o)}},79:(e,t,n)=>{var r=n(3702),o=n(80),i=n(7120),a=n(8655),s=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},80:(e,t,n)=>{var r=n(6025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},104:(e,t,n)=>{var r=n(3661);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},270:(e,t,n)=>{var r=n(7068),o=n(346);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},583:(e,t,n)=>{var r=n(7237),o=n(7255),i=n(8586),a=n(7797);e.exports=function(e){return i(e)?r(a(e)):o(e)}},631:(e,t,n)=>{var r=n(8077),o=n(9326);e.exports=function(e,t){return null!=e&&o(e,t,r)}},641:(e,t,n)=>{var r=n(6649),o=n(5950);e.exports=function(e,t){return e&&r(e,t,o)}},659:(e,t,n)=>{var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},689:(e,t,n)=>{var r=n(2),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:o.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],b=t[h];if(i)var y=l?i(b,v,h,t,e,s):i(v,b,h,e,t,s);if(!(void 0===y?v===b||a(v,b,n,i,s):y)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,O=t.constructor;x==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof O&&O instanceof O||(m=!1)}return s.delete(e),s.delete(t),m}},695:(e,t,n)=>{var r=n(8096),o=n(2428),i=n(6449),a=n(3656),s=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},748:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(6540))&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:a,height:l},u)},d),i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},776:(e,t,n)=>{var r=n(756),o=n(5950);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},888:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=window.require("@electron/remote").app,o=window.require("path"),i=new(n(4434));const a={USERDATA_DIR:o.join(r.getPath("userData"),"FutuDrive"),nodeController:null,activeProcesses:[],get isRunning(){return this.activeProcesses.length>0},get runningNodeIds(){return this.activeProcesses.map(function(e){return e.nodeId})},clearProcesses:function(){this.activeProcesses=[],i.emit("runningStateChanged",this.isRunning),i.emit("runningNodesChanged",[])},onRunningStateChange:function(e){return i.on("runningStateChanged",e),e(this.isRunning),function(){return i.off("runningStateChanged",e)}},onRunningNodesChange:function(e){return i.on("runningNodesChanged",e),e(this.runningNodeIds),function(){return i.off("runningNodesChanged",e)}},addProcess:function(e,t){this.activeProcesses.push({nodeId:e,process:t}),i.emit("runningStateChanged",this.isRunning),i.emit("runningNodesChanged",this.runningNodeIds)},removeProcess:function(e){var t=this.activeProcesses.findIndex(function(t){return t.nodeId===e});-1!==t&&(this.activeProcesses.splice(t,1),i.emit("runningStateChanged",this.isRunning),i.emit("runningNodesChanged",this.runningNodeIds))}}},909:(e,t,n)=>{var r=n(641),o=n(8329)(r);e.exports=o},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},945:(e,t,n)=>{var r=n(79),o=n(8223),i=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},975:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return i(u,"_invoke",function(n,r,o){var i,a,s,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,h.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,s=p;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(h.n=-1),f(a,s)):h.n=s:h.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=h.n<0)?s:n.call(r,h))!==l)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var h=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),f=d.prototype=c.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){i(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},i(e,t,n,r)}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var c=n(4157).ipcRenderer,u=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.windows={}},t=[{key:"openViewer",value:(n=o().m(function e(t,n,r){var i,a=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:return i=a.length>3&&void 0!==a[3]?a[3]:{},e.n=1,c.invoke("open_window",t,n,r,i);case 1:return e.a(2)}},e)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)})},function(e,t,n){return r.apply(this,arguments)})}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();e.exports=new u},1020:(e,t,n)=>{"use strict";var r=n(6540),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,l={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:l,_owner:a.current}}t.jsx=l,t.jsxs=l},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},1208:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n.ant-modal-confirm{\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n",""]);const s=a},1331:(e,t,n)=>{var r=n(2552),o=n(8879),i=n(346),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1549:(e,t,n)=>{var r=n(2032),o=n(3862),i=n(6721),a=n(2749),s=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1769:(e,t,n)=>{var r=n(6449),o=n(8586),i=n(1802),a=n(3222);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},1791:(e,t,n)=>{var r=n(6547),o=n(3360);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?o(n,c,u):r(n,c,u)}return n}},1799:(e,t,n)=>{var r=n(7217),o=n(270);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(i)var p=i(d,h,u,e,t,f);if(!(void 0===p?o(h,d,3,i,f):p))return!1}}return!0}},1802:(e,t,n)=>{var r=n(2224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},1819:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".hardware-manager {\n  height: 100%;\n  background-color: #252526;\n  padding-top: 10px;\n  /* padding-left: 10px; */\n  position: relative;\n}\n\n.hardware-manager .ant-space {\n  width: 100%;\n  margin-left: 10px;\n}\n\n.hardware-manager .ant-btn {\n  background-color: #333333;\n  border-color: #424242;\n  color: #cccccc;\n  margin-right: 8px;\n}\n\n.hardware-manager .ant-btn:hover {\n  background-color: #404040;\n  border-color: #505050;\n  color: #ffffff;\n}\n\n.hardware-manager .ant-btn-primary {\n  background-color: #0e639c;\n  border-color: #0e639c;\n  color: #ffffff;\n}\n\n.hardware-manager .ant-btn-primary:hover {\n  background-color: #1177bb;\n  border-color: #1177bb;\n}\n\n.hardware-manager .ant-tree {\n  margin-top: 8px;\n  background: transparent;\n  color: #cccccc;\n  border: none;\n  padding-left: 8px;\n}\n\n/* 修改选中效果为整个树节点 */\n.hardware-manager .ant-tree-treenode {\n  width: 100%;\n  padding: 0 !important;\n  height: 22px;\n  line-height: 22px;\n  position: relative;\n}\n\n.hardware-manager .ant-tree-treenode:hover::after,\n.hardware-manager .ant-tree-treenode-selected::after {\n  content: '';\n  position: absolute;\n  left: -20px;  /* 抵消父容器的 padding-left */\n  right: 0px; /* 延伸到右侧 */\n  height: 100%;\n  background-color: #37373d;\n  z-index: 0;\n  width: calc(100% + 20px); /* 确保宽度覆盖整个区域 */\n}\n\n.hardware-manager .ant-tree-indent,\n.hardware-manager .ant-tree-switcher,\n.hardware-manager .ant-tree-node-content-wrapper {\n  position: relative;\n  z-index: 1;\n  background: transparent !important;\n}\n\n/* 覆盖 Ant Design 的默认选中效果 */\n.hardware-manager .ant-tree-node-content-wrapper.ant-tree-node-selected,\n.hardware-manager .ant-tree-node-content-wrapper:hover {\n  background: transparent !important;\n  color: #cccccc !important;\n}\n\n.hardware-manager .ant-tree-node-content-wrapper {\n  color: #cccccc;\n  transition: none;\n}\n\n.hardware-manager .ant-tree-switcher {\n  color: #cccccc;\n}\n\n.hardware-manager .ant-tree-title {\n  font-size: 13px;\n  color: inherit;\n}\n\n.add-device-modal .ant-modal-content {\n  background: #252526;\n  color: #e0e0e0;\n}\n.add-device-modal .ant-modal-header {\n  background: #252526;\n  border-bottom: 1px solid #444;\n}\n.add-device-modal .ant-modal-title {\n  color: #e0e0e0;\n  height: 40px;\n}\n.add-device-modal .ant-modal-close {\n  color: #888;\n}\n.add-device-modal .ant-modal-close:hover {\n  color: #fff;\n}\n.add-device-modal .ant-form-item-label {\n  padding-right: 8px;\n  text-align: right;\n}\n.add-device-modal .ant-form-item {\n  margin-bottom: 18px;\n}\n.add-device-modal .ant-input,\n.add-device-modal .ant-select-selector,\n.add-device-modal .ant-input-textarea {\n  user-select: text !important;\n  -webkit-user-select: text !important;\n  min-width: 180px;\n  background: #1e1e1e !important;\n  color: #e0e0e0 !important;\n  border: 1px solid #444 !important;\n}\n.add-device-modal .ant-input:focus,\n.add-device-modal .ant-select-focused .ant-select-selector {\n  border-color: #1976d2 !important;\n  box-shadow: none !important;\n}\n.add-device-modal .ant-btn-primary {\n  background: #1976d2;\n  border: none;\n  color: #fff;\n}\n.add-device-modal .ant-btn-primary:hover {\n  background: #1565c0;\n  color: #fff;\n}\n.add-device-modal .ant-btn-default {\n  background: #3d3d3d;\n  border: none;\n  color: #e0e0e0;\n}\n.add-device-modal .ant-btn-default:hover {\n  background: #4d4d4d;\n  color: #fff;\n}\n.add-device-modal .ant-tabs-nav {\n  background: #252526;\n}\n.add-device-modal .ant-tabs-tab {\n  color: #e0e0e0;\n}\n.add-device-modal .ant-tabs-tab-active {\n  color: #1976d2 !important;\n}\n\n.add-device-modal .ant-modal-content,\n.add-device-modal .ant-modal-title,\n.add-device-modal .ant-form-item-label > label,\n.add-device-modal .ant-input,\n.add-device-modal .ant-select-selector,\n.add-device-modal .ant-input-textarea {\n  color: #e0e0e0 !important;\n}\n\n/* 只影响添加设备弹窗里的输入框 placeholder */\n.add-device-modal .ant-input::placeholder {\n  color: #888 !important;\n  opacity: 1 !important;\n}\n\n/* 添加设备弹窗文本不可选 */\n.add-device-modal,\n.add-device-modal * {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n\n\n",""]);const s=a},1843:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"/* 全局样式 */\n* {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.map-editor {\n  display: flex;\n  height: 100vh;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  position: relative;\n}\n\n/* 左侧工具栏 */\n.map-editor-toolbar-wrapper {\n  width: 60px;\n  background: #232323;\n  border-right: 1px solid #333;\n  display: flex;\n  flex-direction: column;\n}\n\n.map-editor-toolbar {\n  padding: 16px 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  height: 100%;\n}\n\n.map-editor-toolbar .ant-btn {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #2d2d2d;\n  border: none;\n  color: #e0e0e0;\n}\n\n.map-editor-toolbar .ant-btn:hover {\n  background: #3d3d3d;\n}\n\n.map-editor-toolbar .ant-btn-primary {\n  background: #1976d2;\n  color: #fff;\n}\n\n/* 中间画布区域 */\n.map-editor-canvas {\n  flex: 1;\n  position: relative;\n  background: #1a1a1a;\n  overflow: hidden;\n}\n\n.map-editor-canvas canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n/* 图层控制按钮 */\n.map-editor-layers-toggle {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  padding: 0;\n}\n\n/* 右侧属性面板 */\n.map-editor-properties-wrapper {\n  background: #232323;\n  border-left: 1px solid #333;\n}\n\n.map-editor-properties {\n  padding: 16px;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.map-editor-properties h3 {\n  margin-bottom: 16px;\n  color: #fff;\n  font-size: 16px;\n}\n\n.map-editor-properties .ant-form-item-label > label {\n  color: #e0e0e0;\n}\n\n.map-editor-properties .ant-input,\n.map-editor-properties .ant-select-selector {\n  background: #2d2d2d !important;\n  border: 1px solid #444 !important;\n  color: #e0e0e0 !important;\n}\n\n.map-editor-properties .ant-input:focus,\n.map-editor-properties .ant-select-focused .ant-select-selector {\n  border-color: #1976d2 !important;\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2) !important;\n}\n\n/* 图层面板 */\n.map-editor-layers-panel {\n  position: absolute;\n  bottom: 80px;\n  right: 20px;\n  width: 300px;\n  background: #232323;\n  border: 1px solid #333;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n}\n\n.map-editor-layers-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  border-bottom: 1px solid #333;\n  margin: -16px -16px 16px -16px;\n}\n\n.map-editor-layers-header h3 {\n  margin: 0;\n  color: #fff;\n  font-size: 16px;\n}\n\n.map-editor-layers-content {\n  padding: 0;\n  max-height: calc(100vh - 100px);\n  overflow-y: auto;\n}\n\n.layer-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.layer-item:hover {\n  background: #2d2d2d;\n}\n\n/* 滚动条样式 */\n.map-editor-properties::-webkit-scrollbar,\n.map-editor-layers-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.map-editor-properties::-webkit-scrollbar-track,\n.map-editor-layers-content::-webkit-scrollbar-track {\n  background: #232323;\n}\n\n.map-editor-properties::-webkit-scrollbar-thumb,\n.map-editor-layers-content::-webkit-scrollbar-thumb {\n  background: #444;\n  border-radius: 4px;\n}\n\n.map-editor-properties::-webkit-scrollbar-thumb:hover,\n.map-editor-layers-content::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n/* Resizable 手柄样式 */\n.re-resizable-handle {\n  background: #333;\n  transition: background-color 0.2s;\n}\n\n.re-resizable-handle:hover {\n  background: #444;\n}\n\n.re-resizable-handle-left {\n  width: 4px;\n  left: -2px;\n} ",""]);const s=a},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},1882:(e,t,n)=>{var r=n(2552),o=n(3805);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FILE_TYPES:()=>f,LOG_TYPES:()=>s,addLogListener:()=>u,formatDate:()=>i,generateUUID:()=>a,getFileType:()=>p,log:()=>h,removeLogListener:()=>d});var r=n(2717),o=window.require("path"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=new Date(e),r=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0"),a=String(n.getHours()).padStart(2,"0"),s=String(n.getMinutes()).padStart(2,"0"),l=String(n.getSeconds()).padStart(2,"0");return t.replace("YYYY",r).replace("MM",o).replace("DD",i).replace("HH",a).replace("mm",s).replace("ss",l)},a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},s={INFO:"info",WARNING:"warning",ERROR:"error"},l=new Set,c=[],u=function(e){l.add(e),c.length>0&&(c.forEach(function(t){return e(t)}),c.length=0)},d=function(e){l.delete(e)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.INFO,n=new Date,o=String(n.getMinutes()).padStart(2,"0"),i=String(n.getSeconds()).padStart(2,"0"),a=String(n.getMilliseconds()).padStart(3,"0"),u={type:t,message:e,timestamp:"".concat(o).concat(i).concat(a)};if(void 0===window.isMainWindow||null===window.isMainWindow)return c.push(u),void setTimeout(function(){1==window.isMainWindow?l.size>0&&l.forEach(function(e){e(u)}):r.A.send("log-message",u)},200);1==window.isMainWindow?0===l.size?c.push(u):l.forEach(function(e){e(u)}):r.A.send("log-message",u)},f={CODE:{extensions:[".js",".jsx",".ts",".tsx",".py",".java",".c",".cpp",".h",".hpp",".cs",".go",".rs",".php",".rb",".swift",".kt",".scala"],name:"code"},DOCUMENT:{extensions:[".md",".txt",".json",".xml",".html",".css",".scss",".less",".yaml",".yml",".ini",".conf",".config"],name:"document"}},p=function(e){var t=o.extname(e).toLowerCase();return f.CODE.extensions.includes(t)?f.CODE.name:f.DOCUMENT.extensions.includes(t)?f.DOCUMENT.name:null}},1986:(e,t,n)=>{var r=n(1873),o=n(7828),i=n(5288),a=n(5911),s=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2162:(e,t,n)=>{"use strict";var r=n(6540),o=n(9888),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var f=a(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},2199:(e,t,n)=>{var r=n(4528),o=n(6449);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFunctionWithReturnValue=t.getGlobal=t.getCurrentWebContents=t.getCurrentWindow=t.getBuiltin=void 0;const r=n(8280),o=n(8726),i=n(4157),a=n(8759),s=n(5371),{Promise:l}=global,c=new r.CallbacksRegistry,u=new Map,d=new FinalizationRegistry(e=>{const t=u.get(e);void 0!==t&&void 0===t.deref()&&(u.delete(e),i.ipcRenderer.send("REMOTE_BROWSER_DEREFERENCE",p,e,0))}),h=new WeakMap,f=new WeakSet,p=process.contextId||function(){const e=s.getElectronBinding("v8_util");if(e)return e.getHiddenValue(global,"contextId");throw new Error("Electron >=v13.0.0-beta.6 required to support sandboxed renderers")}();process.on("exit",()=>{i.ipcRenderer.send("REMOTE_BROWSER_CONTEXT_RELEASE",p)});const m=Symbol("is-remote-proxy");function g(e,t=new Set){const n=e=>{if(t.has(e))return{type:"value",value:null};if(e&&e.constructor&&"NativeImage"===e.constructor.name)return{type:"nativeimage",value:o.serialize(e)};if(Array.isArray(e)){t.add(e);const n={type:"array",value:g(e,t)};return t.delete(e),n}if(e instanceof Buffer)return{type:"buffer",value:e};if(o.isSerializableObject(e))return{type:"value",value:e};if("object"==typeof e){if(o.isPromise(e))return{type:"promise",then:n(function(t,n){e.then(t,n)})};if(h.has(e))return{type:"remote-object",id:h.get(e)};const r={type:"object",name:e.constructor?e.constructor.name:"",members:[]};t.add(e);for(const t in e)r.members.push({name:t,value:n(e[t])});return t.delete(e),r}return"function"==typeof e&&f.has(e)?{type:"function-with-return-value",value:n(e())}:"function"==typeof e?{type:"function",id:c.add(e),location:c.getLocation(e),length:e.length}:{type:"value",value:e}};return e.map(n)}function v(e,t,n,r){if(Array.isArray(r))for(const o of r){if(Object.prototype.hasOwnProperty.call(t,o.name))continue;const r={enumerable:o.enumerable};if("method"===o.type){const t=function(...e){let r;return r=this&&this.constructor===t?"REMOTE_BROWSER_MEMBER_CONSTRUCTOR":"REMOTE_BROWSER_MEMBER_CALL",x(i.ipcRenderer.sendSync(r,p,n,o.name,g(e)))};let a=y(t,n,o.name);r.get=()=>(a.ref=e,a),r.set=e=>(a=e,e),r.configurable=!0}else"get"===o.type&&(r.get=()=>x(i.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_GET",p,n,o.name)),o.writable&&(r.set=e=>{const t=g([e]),r=i.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_SET",p,n,o.name,t);return null!=r&&x(r),e}));Object.defineProperty(t,o.name,r)}}function b(e,t,n,r){if(null===r)return;const o={};v(e,o,n,r.members),b(e,o,n,r.proto),Object.setPrototypeOf(t,o)}function y(e,t,n){let r=!1;const o=()=>{if(r)return;r=!0;const o=i.ipcRenderer.sendSync("REMOTE_BROWSER_MEMBER_GET",p,t,n);v(e,e,o.id,o.members)};return new Proxy(e,{set:(e,t,n)=>("ref"!==t&&o(),e[t]=n,!0),get:(e,t)=>{if(t===m)return!0;Object.prototype.hasOwnProperty.call(e,t)||o();const n=e[t];return"toString"===t&&"function"==typeof n?n.bind(e):n},ownKeys:e=>(o(),Object.getOwnPropertyNames(e)),getOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t)||(o(),Object.getOwnPropertyDescriptor(e,t))})}function x(e){if(!e)return{};if("value"===e.type)return e.value;if("array"===e.type)return e.members.map(e=>x(e));if("nativeimage"===e.type)return o.deserialize(e.value);if("buffer"===e.type)return Buffer.from(e.value.buffer,e.value.byteOffset,e.value.byteLength);if("promise"===e.type)return l.resolve({then:x(e.then)});if("error"===e.type)return O(e);if("exception"===e.type)throw"error"===e.value.type?O(e.value):new Error(`Unexpected value type in exception: ${e.value.type}`);{let t;if("id"in e){const t=function(e){const t=u.get(e);if(void 0!==t){const e=t.deref();if(void 0!==e)return e}}(e.id);if(void 0!==t)return t}if("function"===e.type){const n=function(...t){let r;return r=this&&this.constructor===n?"REMOTE_BROWSER_CONSTRUCTOR":"REMOTE_BROWSER_FUNCTION_CALL",x(i.ipcRenderer.sendSync(r,p,e.id,g(t)))};t=n}else t={};return v(t,t,e.id,e.members),b(t,t,e.id,e.proto),t.constructor&&t.constructor[m]&&Object.defineProperty(t.constructor,"name",{value:e.name}),h.set(t,e.id),function(e,t){const n=new WeakRef(t);u.set(e,n),d.register(t,e)}(e.id,t),t}}function O(e){const t=e.value;for(const{name:n,value:r}of e.members)t[n]=x(r);return t}function w(e,t){i.ipcRenderer.on(e,(n,r,o,...a)=>{"number"!=typeof n.senderId||0===n.senderId||void 0===n.senderId?r===p?t(o,...a):i.ipcRenderer.send("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",p,r,o):console.error(`Message ${e} sent by unexpected WebContents (${n.senderId})`)})}const S=process.argv.includes("--enable-api-filtering-logging");function E(){const e={stack:void 0};return S&&Error.captureStackTrace(e,E),e.stack}w("REMOTE_RENDERER_CALLBACK",(e,t)=>{c.apply(e,x(t))}),w("REMOTE_RENDERER_RELEASE_CALLBACK",e=>{c.remove(e)}),t.require=e=>x(i.ipcRenderer.sendSync("REMOTE_BROWSER_REQUIRE",p,e,E())),t.getBuiltin=function(e){return x(i.ipcRenderer.sendSync("REMOTE_BROWSER_GET_BUILTIN",p,e,E()))},t.getCurrentWindow=function(){return x(i.ipcRenderer.sendSync("REMOTE_BROWSER_GET_CURRENT_WINDOW",p,E()))},t.getCurrentWebContents=function(){return x(i.ipcRenderer.sendSync("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",p,E()))},t.getGlobal=function(e){return x(i.ipcRenderer.sendSync("REMOTE_BROWSER_GET_GLOBAL",p,e,E()))},Object.defineProperty(t,"process",{enumerable:!0,get:()=>t.getGlobal("process")}),t.createFunctionWithReturnValue=function(e){const t=()=>e;return f.add(t),t},a.browserModuleNames.forEach(e=>{Object.defineProperty(t,e,{enumerable:!0,get:()=>t.getBuiltin(e)})})},2271:(e,t,n)=>{var r=n(1791),o=n(4664);e.exports=function(e,t){return r(e,o(e),t)}},2428:(e,t,n)=>{var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2551:(e,t,n)=>{"use strict";var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var $=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,L=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case _:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){Y(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ie(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function _e(e){if(e=xo(e)){if("function"!=typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=wo(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Me(e,t){return e(t)}function Te(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Te(),ke())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var $e=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){$e=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){$e=!1}function Ie(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,Le=null,ze=!1,je=null,Be={onError:function(e){De=!0,Le=e}};function Fe(e,t,n,r,o,i,a,s,l){De=!1,Le=null,Ie.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Ue(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Qe(o),e;if(a===r)return Qe(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,qe=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Ye=o.unstable_now,Ke=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Ot,wt,St,Et,_t,Ct=!1,kt=[],Mt=null,Tt=null,Pt=null,Rt=new Map,At=new Map,$t=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=xo(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=yo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Mt&&zt(Mt)&&(Mt=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),Rt.forEach(jt),At.forEach(jt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<kt.length){Ft(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Ft(Mt,e),null!==Tt&&Ft(Tt,e),null!==Pt&&Ft(Pt,e),Rt.forEach(t),At.forEach(t),n=0;n<$t.length;n++)(r=$t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<$t.length&&null===(n=$t[0]).blockedOn;)Lt(n),null===n.blockedOn&&$t.shift()}var Ht=x.ReactCurrentBatchConfig,Qt=!0;function Vt(e,t,n,r){var o=yt,i=Ht.transition;Ht.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=o,Ht.transition=i}}function Wt(e,t,n,r){var o=yt,i=Ht.transition;Ht.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=o,Ht.transition=i}}function Gt(e,t,n,r){if(Qt){var o=qt(e,t,n,r);if(null===o)Qr(e,t,r,Xt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Mt=Dt(Mt,e,t,n,r,o),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,At.set(i,Dt(At.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&Ot(i),null===(i=qt(e,t,n,r))&&Qr(e,t,r,Xt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Xt=null;function qt(e,t,n,r){if(Xt=null,null!==(e=yo(e=Oe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(bn),xn=on(L({},cn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var Cn=L({},dn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Cn),Mn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Rn),$n=[9,13,27,32],Nn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,Ln=u&&(!Nn||In&&8<In&&11>=In),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Xn(e){zr(e,0)}function qn(e){if(G(Oo(e)))return e}function Zn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Kn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Kn=Jn}else Kn=!1;Yn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&qn(Gn)){var t=[];Vn(t,Gn,e,Oe(e)),Re(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Gn)}function ir(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==X(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},Sr={},Er={};function _r(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=_r("animationend"),kr=_r("animationiteration"),Mr=_r("animationstart"),Tr=_r("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var $r=0;$r<Rr.length;$r++){var Nr=Rr[$r];Ar(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(kr,"onAnimationIteration"),Ar(Mr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Fe.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Le;De=!1,Le=null,ze||(ze=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,c),i=l}}}if(ze)throw e=je,ze=!1,je=null,e}function jr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var o=Vt;break;case 4:o=Wt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!$e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=yo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Re(function(){var r=i,o=Oe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case kr:case Mr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Ae(p,h))&&u.push(Vr(p,m,f))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Oo(l),f=null==c?s:Oo(c),(s=new u(m,p+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,yo(o)===r&&((u=new u(h,p+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Xr(a,s,l,u,!1),null!==c&&null!==d&&Xr(a,d,c,u,!0)}if("select"===(l=(s=r?Oo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Qn(s))if(Yn)g=ar;else{g=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Oo(r):window,e){case"focusin":(Qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,o)}var b;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):(Kt="value"in(Yt=o)?Yt.value:Yt.textContent,Un=!0)),0<(v=Wr(r,y)).length&&(y=new xn(y,e,null,n,o),a.push({event:y,listeners:v}),(b||null!==(b=Fn(n)))&&(y.data=b))),(b=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),Jt=Kt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=b)}zr(a,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ae(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Ae(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ae(n,i))&&a.unshift(Vr(n,l,s)):o||null!=(l=Ae(n,i))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(qr,"\n").replace(Zr,"")}function Kr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,bo="__reactHandles$"+ho;function yo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wo(e){return e[po]||null}var So=[],Eo=-1;function _o(e){return{current:e}}function Co(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function ko(e,t){Eo++,So[Eo]=e.current,e.current=t}var Mo={},To=_o(Mo),Po=_o(!1),Ro=Mo;function Ao(e,t){var n=e.type.contextTypes;if(!n)return Mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $o(e){return null!=e.childContextTypes}function No(){Co(Po),Co(To)}function Io(e,t,n){if(To.current!==Mo)throw Error(i(168));ko(To,t),ko(Po,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mo,Ro=To.current,ko(To,e),ko(Po,Po.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,Co(Po),Co(To),ko(To,e)):Co(Po),ko(Po,n)}var jo=null,Bo=!1,Fo=!1;function Uo(e){null===jo?jo=[e]:jo.push(e)}function Ho(){if(!Fo&&null!==jo){Fo=!0;var e=0,t=yt;try{var n=jo;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}jo=null,Bo=!1}catch(t){throw null!==jo&&(jo=jo.slice(e+1)),Ge(Je,Ho),t}finally{yt=t,Fo=!1}}return null}var Qo=[],Vo=0,Wo=null,Go=0,Xo=[],qo=0,Zo=null,Yo=1,Ko="";function Jo(e,t){Qo[Vo++]=Go,Qo[Vo++]=Wo,Wo=e,Go=t}function ei(e,t,n){Xo[qo++]=Yo,Xo[qo++]=Ko,Xo[qo++]=Zo,Zo=e;var r=Yo;e=Ko;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Yo=1<<32-at(t)+o|n<<o|r,Ko=i+e}else Yo=1<<i|n<<o|r,Ko=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Qo[--Vo],Qo[Vo]=null,Go=Qo[--Vo],Qo[Vo]=null;for(;e===Zo;)Zo=Xo[--qo],Xo[qo]=null,Ko=Xo[--qo],Xo[qo]=null,Yo=Xo[--qo],Xo[qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zo?{id:Yo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=x.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=$c(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&yi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Nc(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case O:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case w:return(t=zc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===o?c(e,t,n,r):null;case w:return n.key===o?u(e,t,n,r):null;case A:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:d(e,t,n,r,null);bi(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case O:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case A:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);bi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),ii&&Jo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Jo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ii&&Jo(o,m),c}function g(o,s,l,c){var u=I(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(o,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(o,m),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(o,m),ii&&Jo(o,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(o,b.value,c))&&(s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return ii&&Jo(o,g),u}for(m=r(o,m);!b.done;g++,b=l.next())null!==(b=p(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(o,e)}),ii&&Jo(o,g),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case O:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===A&&yi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=vi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Ic(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Nc(a.type,a.key,a.props,null,r.mode,l)).ref=vi(r,i,a),l.return=r,r=l)}return s(r);case w:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(a,r.mode,l)).return=r,r=i}return s(r);case A:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(I(a))return g(r,i,a,l);bi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Lc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Oi=xi(!0),wi=xi(!1),Si=_o(null),Ei=null,_i=null,Ci=null;function ki(){Ci=_i=Ei=null}function Mi(e){var t=Si.current;Co(Si),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ei=e,Ci=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Ei)throw Error(i(308));_i=e,Ei.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ai=null;function $i(e){null===Ai?Ai=[e]:Ai.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,$i(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ml){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ii(e,n)}return null===(o=r.interleaved)?(t.next=t,$i(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ii(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=L({},d,h);break e;case 2:Di=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Vi={},Wi=_o(Vi),Gi=_o(Vi),Xi=_o(Vi);function qi(e){if(e===Vi)throw Error(i(174));return e}function Zi(e,t){switch(ko(Xi,t),ko(Gi,e),ko(Wi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Wi),ko(Wi,t)}function Yi(){Co(Wi),Co(Gi),Co(Xi)}function Ki(e){qi(Xi.current);var t=qi(Wi.current),n=le(t,e.type);t!==n&&(ko(Gi,e),ko(Wi,n))}function Ji(e){Gi.current===e&&(Co(Wi),Co(Gi))}var ea=_o(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Ja:es,e=n(r,o),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Ka,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function va(){var e=0!==ha;return ha=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ya(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"==typeof t?t(e):t}function Oa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Dl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(e,t){var n=sa,r=ya(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ys=!0),r=r.queue,Da(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ra(9,Ca.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));30&aa||_a(n,t,o)}return o}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Ta(e)}function ka(e,t,n){return n(function(){Ma(t)&&Ta(e)})}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Ta(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=ba();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return ya().memoizedState}function $a(e,t,n,r){var o=ba();sa.flags|=e,o.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=ya();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Ra(t,n,i,r))}sa.flags|=e,o.memoizedState=Ra(1|t,n,i,r)}function Ia(e,t){return $a(8390656,8,e,t)}function Da(e,t){return Na(2048,8,e,t)}function La(e,t){return Na(4,2,e,t)}function za(e,t){return Na(4,4,e,t)}function ja(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Na(4,4,ja.bind(null,t,e),n)}function Fa(){}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function Va(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{yt=n,ia.transition=r}}function Wa(){return ya().memoizedState}function Ga(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e)?Za(t,n):null!==(n=Ni(e,t,n,r))&&(nc(n,e,r,ec()),Ya(n,t,r))}function Xa(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Za(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,$i(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ni(e,t,o,r))&&(nc(n,e,r,o=ec()),Ya(n,t,r))}}function qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ka={readContext:Ri,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ri,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,$a(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $a(4194308,4,e,t)},useInsertionEffect:function(e,t){return $a(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Pa,useDebugValue:Fa,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Va.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ba();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));30&aa||_a(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ia(ka.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Tl.identifierPrefix;if(ii){var n=Ko;t=":"+t+"R"+(n=(Yo&~(1<<32-at(Yo)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ri,useCallback:Ua,useContext:Ri,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:za,useMemo:Ha,useReducer:Oa,useRef:Aa,useState:function(){return Oa(xa)},useDebugValue:Fa,useDeferredValue:function(e){return Qa(ya(),la.memoizedState,e)},useTransition:function(){return[Oa(xa)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Ri,useCallback:Ua,useContext:Ri,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:za,useMemo:Ha,useReducer:wa,useRef:Aa,useState:function(){return wa(xa)},useDebugValue:Fa,useDeferredValue:function(e){var t=ya();return null===la?t.memoizedState=e:Qa(t,la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=ji(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Fi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=ji(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),Fi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=ji(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Bi(e,o,r))&&(nc(t,e,r,n),Fi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function as(e,t,n){var r=!1,o=Mo,i=t.contextType;return"object"==typeof i&&null!==i?i=Ri(i):(o=$o(t)?Ro:To.current,i=(r=null!=(r=t.contextTypes))?Ao(e,o):Mo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ri(i):(i=$o(t)?Ro:To.current,o.context=Ao(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Hi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ji(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Vl=r),ds(0,t)},n}function ps(e,t,n){(n=ji(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ji(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e)}var bs=x.ReactCurrentOwner,ys=!1;function xs(e,t,n,r){t.child=null===e?wi(t,null,n,r):Oi(t,e.child,n,r)}function Os(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=ga(e,t,n,r,i,o),n=va(),null===e||ys?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Qs(e,t,o))}function ws(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qs(e,t,o)}return t.flags|=1,(e=$c(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Qs(e,t,o);131072&e.flags&&(ys=!0)}}return Cs(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko($l,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ko($l,Al),Al|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko($l,Al),Al|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ko($l,Al),Al|=r;return xs(e,t,o,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,o){var i=$o(n)?Ro:To.current;return i=Ao(t,i),Pi(t,o),n=ga(e,t,n,r,i,o),r=va(),null===e||ys?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Qs(e,t,o))}function ks(e,t,n,r,o){if($o(n)){var i=!0;Lo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Hs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Ri(c):Ao(t,c=$o(n)?Ro:To.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Di=!1;var h=t.memoizedState;a.state=h,Hi(t,r,a,o),l=t.memoizedState,s!==r||h!==l||Po.current||Di?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Di||is(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ri(l):Ao(t,l=$o(n)?Ro:To.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Di=!1,h=t.memoizedState,a.state=h,Hi(t,r,a,o);var p=t.memoizedState;s!==d||h!==p||Po.current||Di?("function"==typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Di||is(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,i,o)}function Ms(e,t,n,r,o,i){_s(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&zo(t,n,!1),Qs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Oi(t,e.child,null,i),t.child=Oi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),Zi(e,t.containerInfo)}function Ps(e,t,n,r,o){return pi(),mi(o),t.flags|=256,xs(e,t,n,r),t.child}var Rs,As,$s,Ns,Is={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ko(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Dc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Ic(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Is,e):zs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(a=Ic(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&Oi(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Is,a);if(!(1&t.mode))return js(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ii(e,o),nc(r,e,o,-1))}return mc(),js(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Xo[qo++]=Yo,Xo[qo++]=Ko,Xo[qo++]=Zo,Yo=e.id,Ko=e.overflow,Zo=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=$c(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=$c(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,o}return e=(s=e.child).sibling,o=$c(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function zs(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&mi(r),Oi(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Fs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Us(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ko(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Fs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Fs(t,!0,n,null,i);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=$c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return $o(t.type)&&No(),Ws(t),null;case 3:return r=t.stateNode,Yi(),Co(Po),Co(To),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),As(e,t),Ws(t),null;case 5:Ji(t);var o=qi(Xi.current);if(n=t.type,null!==e&&null!=t.stateNode)$s(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=qi(Wi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[po]=a,e=!!(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Z(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":oe(r,a),jr("invalid",r)}for(var l in be(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[po]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":jr("cancel",e),jr("close",e),o=r;break;case"iframe":case"object":case"embed":jr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)jr(Ir[o],e);o=r;break;case"source":jr("error",e),o=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),o=r;break;case"details":jr("toggle",e),o=r;break;case"input":Z(e,r),o=q(e,r),jr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),jr("invalid",e)}for(a in be(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=qi(Xi.current),qi(Wi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Kr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Ws(t),null;case 13:if(Co(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))fi(),pi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Yi(),As(e,t),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return Mi(t.type._context),Ws(t),null;case 19:if(Co(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ko(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Ul&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Ws(t),null}else 2*Ye()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,ko(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Al)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ni(t),t.tag){case 1:return $o(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Co(Po),Co(To),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Co(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(ea),null;case 4:return Yi(),null;case 10:return Mi(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},$s=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,qi(Wi.current);var i,a=null;switch(n){case"input":o=q(e,o),r=q(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var qs=!1,Zs=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Ks=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[vo],delete t[bo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Zs||Js(n,t);case 6:var r=ul,o=dl;ul=null,hl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Zs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Zs&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach(function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(o,a),ye(l,s);var u=ye(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):y(o,d,h,u)}switch(l){case"input":K(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(o,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[po]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Fl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,ml(t,e),Zs=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Ks=e,d=e.child;null!==d;){for(h=Ks=d;null!==Ks;){switch(p=(f=Ks).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Js(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){Ol(h);continue}}null!==p?(p.return=f,Ks=p):Ol(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ks=e,yl(e,t,n)}function yl(e,t,n){for(var r=!!(1&e.mode);null!==Ks;){var o=Ks,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||qs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=qs;var c=Zs;if(qs=a,(Zs=l)&&!c)for(Ks=o;null!==Ks;)l=(a=Ks).child,22===a.tag&&null!==a.memoizedState?wl(o):null!==l?(l.return=a,Ks=l):wl(o);for(;null!==i;)Ks=i,yl(i,t,n),i=i.sibling;Ks=o,qs=s,Zs=c}xl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Ks=i):xl(e)}}function xl(e){for(;null!==Ks;){var t=Ks;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Qi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Qi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function Ol(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function wl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var Sl,El=Math.ceil,_l=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Ml=0,Tl=null,Pl=null,Rl=0,Al=0,$l=_o(0),Nl=0,Il=null,Dl=0,Ll=0,zl=0,jl=null,Bl=null,Fl=0,Ul=1/0,Hl=null,Ql=!1,Vl=null,Wl=null,Gl=!1,Xl=null,ql=0,Zl=0,Yl=null,Kl=-1,Jl=0;function ec(){return 6&Ml?Ye():-1!==Kl?Kl:Kl=Ye()}function tc(e){return 1&e.mode?2&Ml&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type):1}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Yl=null,Error(i(185));vt(e,n,r),2&Ml&&e===Tl||(e===Tl&&(!(2&Ml)&&(Ll|=n),4===Nl&&sc(e,Rl)),rc(e,r),1===n&&0===Ml&&!(1&t.mode)&&(Ul=Ye()+500,Bo&&Ho()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Bo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),ao(function(){!(6&Ml)&&Ho()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Kl=-1,Jl=0,6&Ml)throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Ml;Ml|=2;var a=pc();for(Tl===e&&Rl===t||(Hl=null,Ul=Ye()+500,hc(e,t));;)try{bc();break}catch(t){fc(e,t)}ki(),_l.current=a,Ml=o,null!==Pl?t=0:(Tl=null,Rl=0,t=Nl)}if(0!==t){if(2===t&&0!==(o=pt(e))&&(r=o,t=ic(e,o)),1===t)throw n=Il,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,r),2===t&&(a=pt(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Il,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Oc(e,Bl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Fl+500-Ye())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Oc.bind(null,e,Bl,Hl),t);break}Oc(e,Bl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(Oc.bind(null,e,Bl,Hl),r);break}Oc(e,Bl,Hl);break;default:throw Error(i(329))}}}return rc(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~zl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Ml)throw Error(i(327));wc();var t=ht(e,0);if(!(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Il,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oc(e,Bl,Hl),rc(e,Ye()),null}function cc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Ul=Ye()+500,Bo&&Ho())}}function uc(e){null!==Xl&&0===Xl.tag&&!(6&Ml)&&wc();var t=Ml;Ml|=1;var n=kl.transition,r=yt;try{if(kl.transition=null,yt=1,e)return e()}finally{yt=r,kl.transition=n,!(6&(Ml=t))&&Ho()}}function dc(){Al=$l.current,Co($l)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:Yi(),Co(Po),Co(To),ra();break;case 5:Ji(r);break;case 4:Yi();break;case 13:case 19:Co(ea);break;case 10:Mi(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Pl=e=$c(e.current,null),Rl=Al=t,Nl=0,Il=null,zl=Ll=Dl=0,Bl=jl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ai=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(ki(),oa.current=Ka,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Nl=1,Il=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=gs(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Nl&&(Nl=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,fs(0,c,t));break e;case 1:l=c;var b=a.type,y=a.stateNode;if(!(128&a.flags||"function"!=typeof b.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Wl&&Wl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Ka,null===e?Ka:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Tl||!(268435455&Dl)&&!(268435455&Ll)||sc(Tl,Rl)}function gc(e,t){var n=Ml;Ml|=2;var r=pc();for(Tl===e&&Rl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}if(ki(),Ml=n,_l.current=r,null!==Pl)throw Error(i(261));return Tl=null,Rl=0,Nl}function vc(){for(;null!==Pl;)yc(Pl)}function bc(){for(;null!==Pl&&!qe();)yc(Pl)}function yc(e){var t=Sl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gs(n,t,Al)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Oc(e,t,n){var r=yt,o=kl.transition;try{kl.transition=null,yt=1,function(e,t,n,r){do{wc()}while(null!==Xl);if(6&Ml)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(Pl=Tl=null,Rl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gl||(Gl=!0,Tc(tt,function(){return wc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=kl.transition,kl.transition=null;var s=yt;yt=1;var l=Ml;Ml|=4,Cl.current=null,function(e,t){if(eo=Qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Qt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(to),Qt=!!eo,to=eo=null,e.current=n,bl(n,e,o),Ze(),Ml=l,yt=s,kl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Xl=e,ql=o),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Ql)throw Ql=!1,e=Vl,Vl=null,e;!!(1&ql)&&0!==e.tag&&wc(),1&(a=e.pendingLanes)?e===Yl?Zl++:(Zl=0,Yl=e):Zl=0,Ho()}(e,t,n,r)}finally{kl.transition=o,yt=r}return null}function wc(){if(null!==Xl){var e=xt(ql),t=kl.transition,n=yt;try{if(kl.transition=null,yt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,ql=0,6&Ml)throw Error(i(331));var o=Ml;for(Ml|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(16&Ks.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ks=u;null!==Ks;){var d=Ks;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Ks=h;else for(;null!==Ks;){var f=(d=Ks).sibling,p=d.return;if(il(d),d===u){Ks=null;break}if(null!==f){f.return=p,Ks=f;break}Ks=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ks=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(2048&(a=Ks).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Ks=b;break e}Ks=a.return}}var y=e.current;for(Ks=y;null!==Ks;){var x=(s=Ks).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Ks=x;else e:for(s=y;null!==Ks;){if(2048&(l=Ks).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Ks=null;break e}var O=l.sibling;if(null!==O){O.return=l.return,Ks=O;break e}Ks=l.return}}if(Ml=o,Ho(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{yt=n,kl.transition=t}}return!1}function Sc(e,t,n){e=Bi(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Bi(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Ye()-Fl?hc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ii(e,t))&&(vt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $c(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Ac(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Ic(n.children,o,a,t);case E:s=8,o|=8;break;case _:return(e=Rc(12,n,t,2|o)).elementType=_,e.lanes=a,e;case T:return(e=Rc(13,n,t,o)).elementType=T,e.lanes=a,e;case P:return(e=Rc(19,n,t,o)).elementType=P,e.lanes=a,e;case $:return Dc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case M:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=$,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,a,s,l){return e=new jc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Fc(e){if(!e)return Mo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($o(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if($o(n))return Do(e,n,t)}return t}function Uc(e,t,n,r,o,i,a,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=Fc(null),n=e.current,(i=ji(r=ec(),o=tc(n))).callback=null!=t?t:null,Bi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Hc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ji(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(o,t,a))&&(nc(e,o,a,i),Fi(e,o,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)ys=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),pi();break;case 5:Ki(t);break;case 1:$o(t.type)&&Lo(t);break;case 4:Zi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ko(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ko(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ko(ea,1&ea.current),null!==(e=Qs(e,t,n))?e.sibling:null);ko(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Us(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Qs(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,ii&&1048576&t.flags&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=Ao(t,To.current);Pi(t,n),o=ga(null,t,r,e,o,n);var a=va();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$o(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Ms(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ac(e)?1:0;if(null!=e){if((e=e.$$typeof)===M)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=Os(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,zi(e,t),Hi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ps(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=Qs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Ki(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),_s(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ls(e,t,n);case 4:return Zi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Os(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,ko(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=Qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=ji(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Ri(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ws(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Hs(e,t),t.tag=1,$o(r)?(e=!0,Lo(t)):e=!1,Pi(t,n),as(t,r,o),ls(t,r,o,n),Ms(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Jc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Qc(a);s.call(e)}}Hc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Qc(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=a,e[mo]=a.current,Ur(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,o,r);return Qc(a)}qc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},qc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[mo]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&0!==t&&t<$t[n].priority;n++);$t.splice(n,0,e),0===n&&Lt(e)}},Ot=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ye()),!(6&Ml)&&(Ul=Ye()+500,Ho()))}break;case 13:uc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Ii(e,134217728);null!==t&&nc(t,e,134217728,ec()),Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);null!==n&&nc(n,e,t,ec()),Wc(e,t)}},Et=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wo(r);if(!o)throw Error(i(90));G(r),K(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[xo,Oo,wo,Ce,ke,cc]},tu={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2552:(e,t,n)=>{var r=n(1873),o=n(659),i=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2675:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".node-list-modal-wrapper {\n  :global(.ant-message) {\n    z-index: 3100 !important;\n  }\n\n  .modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2000;\n  }\n\n  .modal-content {\n    background-color: #2d2d2d;\n    border-radius: 8px;\n    width: 600px;\n    max-width: 90%;\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n    user-select: none;\n  }\n\n  .modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem 1rem 5px 1rem;\n    user-select: none;\n  }\n\n  .header-content {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    user-select: none;\n  }\n\n  .header-buttons {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .icon-button {\n    width: 32px;\n    height: 32px;\n    padding: 0;\n    background-color: #363636;\n    color: #888;\n    border: 1px solid #444;\n    border-radius: 4px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s;\n  }\n\n  .icon-button:hover {\n    background-color: #404040;\n    border-color: #555;\n    color: #fff;\n  }\n\n  .icon-button .anticon {\n    font-size: 16px;\n  }\n\n  .modal-header h2 {\n    margin: 0;\n    color: #fff;\n    font-size: 1.25rem;\n    user-select: none;\n  }\n\n  .close-button {\n    background: none;\n    border: none;\n    color: #fff;\n    font-size: 24px;\n    cursor: pointer;\n    padding: 0;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n  }\n\n  .close-button:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  .modal-body {\n    padding: 0px 16px 16px 16px;\n    overflow-y: auto;\n  }\n\n  .modal-body .ant-tabs {\n    color: #fff;\n  }\n\n  .modal-body .ant-tabs-tab {\n    color: #888 !important;\n  }\n\n  .modal-body .ant-tabs-tab-active {\n    color: #fff !important;\n  }\n\n  .modal-body .ant-tabs-ink-bar {\n    background: #4a90e2 !important;\n  }\n\n  .modal-body .ant-tabs-content {\n    margin-top: 16px;\n  }\n\n  /* 搜索框样式 */\n  .search-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n    width: 32px;\n    transition: width 0.3s cubic-bezier(.4,0,.2,1);\n    overflow: hidden;\n    margin-left: 16px;\n  }\n\n  .search-wrapper.open {\n    width: 180px;\n  }\n\n  .search-icon {\n    font-size: 18px;\n    color: #888;\n    cursor: pointer;\n    transition: color 0.2s;\n  }\n\n  .search-icon:hover {\n    color: #fff;\n  }\n\n  .search-input {\n    width: 100%;\n    padding: 4px 10px;\n    background: #363636;\n    border: 1px solid #444;\n    border-radius: 4px;\n    color: #fff;\n    font-size: 12px;\n    outline: none;\n    transition: border 0.2s, background 0.2s;\n    box-sizing: border-box;\n  }\n\n  .search-input:focus {\n    border: 1.5px solid #4a90e2;\n    background: #404040;\n  }\n\n  .search-input::placeholder {\n    color: #888;\n  }\n\n  /* 确保搜索框在标签栏右侧正确显示 */\n  .ant-tabs-extra-content {\n    display: flex;\n    align-items: center;\n  }\n\n  .node-list {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    user-select: none;\n  }\n\n  .node-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px;\n    background-color: #363636;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n    user-select: none;\n  }\n\n  .node-item:hover {\n    background-color: #404040;\n  }\n\n  .node-info {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    user-select: none;\n  }\n\n  .node-name {\n    color: #fff;\n    font-weight: 500;\n    text-align: left;\n    user-select: none;\n  }\n\n  .node-path {\n    color: #888;\n    font-size: 0.75rem;\n    user-select: none;\n  }\n\n  .node-type {\n    color: #888;\n    font-size: 0.875rem;\n    padding: 4px 8px;\n    background-color: #444;\n    border-radius: 4px;\n    user-select: none;\n  }\n} ",""]);const s=a},2693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},2717:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>s});var a=window.require("electron").ipcRenderer;const s=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.listeners=new Map},(t=[{key:"initialize",value:function(){this.initialized||(this.initialized=!0)}},{key:"send",value:function(e,t){a.send(e,t)}},{key:"on",value:function(e,t){var n=this;this.removeAllListeners(e);var r=function(e,n){t(e,n)};return this.listeners.set(e,new Set([r])),a.on(e,r),function(){return n.off(e,r)}}},{key:"off",value:function(e,t){this.listeners.has(e)&&(this.listeners.get(e).delete(t),a.removeListener(e,t))}},{key:"removeAllListeners",value:function(e){this.listeners.has(e)&&(this.listeners.get(e).clear(),a.removeAllListeners(e))}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}())},2749:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},2903:(e,t,n)=>{var r=n(3805),o=n(5527),i=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},2955:(e,t,n)=>{var r=n(5527),o=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},3040:(e,t,n)=>{var r=n(1549),o=n(79),i=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},3201:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},3215:(e,t,n)=>{var r=n(641),o=n(4066);e.exports=function(e,t){return e&&r(e,o(t))}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},3243:(e,t,n)=>{var r=n(6110),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},3345:e=>{e.exports=function(){return[]}},3349:(e,t,n)=>{var r=n(2199),o=n(6375),i=n(7241);e.exports=function(e){return r(e,i,o)}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3433:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.debug-console {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #1e1e1e;\n  color: #e0e0e0;\n  font-family: monospace;\n  font-size: 12px;\n}\n\n.console-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 18px 8px 18px;\n  background-color: #232323;\n  border-bottom: 1px solid #292929;\n  flex-shrink: 0;\n  font-size: 12px;\n}\n\n.console-title {\n  font-size: 12px;\n  font-weight: 500;\n  color: #888;\n}\n\n.console-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 5px 3px 5px 0px;\n  position: relative;\n  font-size: 12px;\n  z-index: 1;\n}\n\n.console-line {\n  display: flex;\n  align-items: flex-start;\n  padding: 5px 0 5px 0;\n  font-size: 12px;\n  line-height: 20px;\n  white-space: normal;\n  overflow: visible;\n  transition: background 0.2s;\n  min-height: 20px;\n}\n\n.console-line:hover {\n  background: #232323;\n}\n\n.line-number {\n  color: #444;\n  padding-right: 8px;\n  user-select: none;\n  flex-shrink: 0;\n  width: 28px;\n  text-align: right;\n  font-size: 12px;\n}\n\n.line-content {\n  flex: 1;\n  white-space: pre-wrap;\n  overflow: visible;\n  display: flex;\n  align-items: flex-start;\n}\n\n.timestamp {\n  color: #888;\n  margin-right: 8px;\n  flex-shrink: 0;\n  font-size: 12px;\n}\n\n.log-type {\n  padding: 0 4px;\n  border-radius: 3px;\n  margin-right: 8px;\n  font-size: 10px;\n  font-weight: 600;\n  flex-shrink: 0;\n  background: #232f3e;\n  color: #1976d2;\n  letter-spacing: 0.5px;\n}\n\n.log-info .log-type {\n  background: #232f3e;\n  color: #1976d2;\n}\n\n.log-warning .log-type {\n  background: #3a2e1a;\n  color: #f57c00;\n}\n\n.log-error .log-type {\n  background: #3a2323;\n  color: #d32f2f;\n}\n\n.message {\n  white-space: pre-wrap;\n  overflow: visible;\n  color: #ababab;\n  font-size: 12px;\n  word-break: break-all;\n}\n\n.console-clear,\n.console-filter,\n.console-scroll-lock {\n  cursor: pointer;\n  padding: 4px 8px;\n  color: #888;\n  transition: color 0.2s;\n  flex-shrink: 0;\n  background: none;\n  border: none;\n  font-size: 12px;\n}\n\n.console-clear:hover,\n.console-filter:hover,\n.console-scroll-lock:hover {\n  color: #fff;\n}\n\n.console-scroll-lock {\n  display: flex;\n  align-items: center;\n}\n\n.console-scroll-lock.locked {\n  color: #1976d2;\n}\n\n.console-scroll-lock svg {\n  width: 16px;\n  height: 16px;\n  color: #888;\n  fill: currentColor;\n  vertical-align: middle;\n  display: inline-block;\n  transition: color 0.2s;\n}\n\n.console-scroll-lock.locked svg {\n  color: #1976d2;\n}\n\n.console-scroll-lock:hover svg {\n  color: #fff;\n}\n\n/* 自定义滚动条样式 */\n.console-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.console-content::-webkit-scrollbar-track {\n  background: #1e1e1e;\n}\n\n.console-content::-webkit-scrollbar-thumb {\n  background: #292929;\n  border-radius: 4px;\n}\n\n.console-content::-webkit-scrollbar-thumb:hover {\n  background: #444;\n}\n\ninput,\ninput.console-search,\ninput[type="text"] {\n  font-size: 12px !important;\n}\n\n.console-search-wrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 32px;\n  transition: width 0.3s cubic-bezier(.4,0,.2,1);\n  overflow: hidden;\n}\n.console-search-wrapper.open {\n  width: 180px;\n}\n.console-search-icon {\n  font-size: 18px;\n  color: #888;\n  cursor: pointer;\n  transition: color 0.2s;\n}\n.console-search-icon:hover {\n  color: #fff;\n}\n.console-search-input {\n  width: 100%;\n  padding: 4px 10px;\n  background: #232323;\n  border: 1px solid #333;\n  border-radius: 5px;\n  color: #e0e0e0;\n  font-size: 12px;\n  outline: none;\n  transition: border 0.2s, background 0.2s;\n  box-sizing: border-box;\n}\n.console-search-input:focus {\n  border: 1.5px solid #1976d2;\n  background: #222b3a;\n}\n\n/* 右键菜单样式 */\n.context-menu {\n  position: fixed;\n  z-index: 1000;\n  background: #2d2d2d;\n  border: 1px solid #444;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n  min-width: 120px;\n}\n\n.context-menu-item {\n  padding: 8px 16px;\n  cursor: pointer;\n  color: #e0e0e0;\n  font-size: 13px;\n  transition: background 0.2s;\n  user-select: none;\n}\n\n.context-menu-item:hover {\n  background: #3d3d3d;\n}\n\n.context-menu-item:not(:last-child) {\n  border-bottom: 1px solid #444;\n} ',""]);const s=a},3488:e=>{e.exports=function(e){return e}},3541:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".code-editor {\n  height: 100%;\n  width: 100%;\n  background-color: #1e1e1e;\n}\n\n/* CodeMirror 样式覆盖 */\n.code-editor .cm-editor {\n  height: 100%;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 14px;\n}\n\n.code-editor .cm-editor .cm-scroller {\n  font-family: inherit;\n}\n\n.code-editor .cm-editor .cm-content {\n  padding: 10px 0;\n}\n\n/* 自定义滚动条样式 */\n.code-editor .cm-scroller::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n\n.code-editor .cm-scroller::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.code-editor .cm-scroller::-webkit-scrollbar-thumb {\n  background: rgba(121, 121, 121, 0.4);\n  border-radius: 5px;\n}\n\n.code-editor .cm-scroller::-webkit-scrollbar-thumb:hover {\n  background: rgba(121, 121, 121, 0.6);\n}\n\n.code-editor .cm-scroller::-webkit-scrollbar-thumb:active {\n  background: rgba(121, 121, 121, 0.8);\n} ",""]);const s=a},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=n(9935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3661:(e,t,n)=>{var r=n(3040),o=n(7670),i=n(289),a=n(4509),s=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},3663:(e,t,n)=>{var r=n(1799),o=n(776),i=n(7197);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3729:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},3736:(e,t,n)=>{var r=n(1873),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3838:(e,t,n)=>{var r=n(1791),o=n(7241);e.exports=function(e,t){return e&&r(t,o(t),e)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4066:(e,t,n)=>{var r=n(3488);e.exports=function(e){return"function"==typeof e?e:r}},4157:e=>{"use strict";e.exports=require("electron")},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4367:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"/* 弹窗基础样式 */\n.ros-topic-manager-modal {\n  z-index: 2000 !important;\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n\n.ros-topic-manager-modal .ant-modal-content {\n  background: #232323;\n  border-radius: 10px;\n  border: 1px solid #444;\n  color: #e0e0e0;\n  box-shadow: 0 4px 24px rgba(0,0,0,0.25);\n}\n\n.ros-topic-manager-modal .ant-modal-body {\n  padding: 0;\n  height: 500px;\n  display: flex;\n  flex-direction: column;\n}\n\n.ros-topic-manager-modal .ant-modal-header {\n  background: #232323;\n  border-bottom: 1px solid #444;\n  border-radius: 10px 10px 0 0;\n  padding-bottom: 10px;\n  margin-bottom: 0px !important;\n}\n\n.ros-topic-manager-modal .ant-modal-title {\n  color: #fff;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.ros-topic-manager-modal .ant-empty-description {\n  color: #fff;\n}\n\n.ros-topic-manager-modal .ant-modal-close {\n  top: 14px;\n  right: 14px;\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  background: none;\n  transition: background 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.ros-topic-manager-modal .ant-modal-close-x {\n  color: #f5f5f5;\n  font-size: 24px;\n  transition: color 0.2s;\n  line-height: 1;\n}\n\n.ros-topic-manager-modal .ant-modal-close:hover {\n  background: #444;\n}\n\n.ros-topic-manager-modal .ant-modal-close:hover .ant-modal-close-x {\n  color: #1976d2;\n}\n\n/* 允许输入框内容可选 */\n.ros-topic-manager-modal input,\n.ros-topic-manager-modal textarea {\n  user-select: text !important;\n  -webkit-user-select: text !important;\n}\n\n/* 主体内容区域 */\n.ros-topic-manager {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #2d2d2d;\n  color: #fff;\n}\n\n/* 工具栏 */\n.ros-topic-manager-toolbar {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 12px;\n  background: #363636;\n  border-bottom: 1px solid #444;\n  height: 48px;\n}\n\n.ros-topic-manager-toolbar-btn {\n  background: #232323;\n  color: #e0e0e0;\n  border: none;\n  border-radius: 4px;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s, color 0.2s;\n  font-size: 16px;\n  padding: 0;\n}\n\n.ros-topic-manager-toolbar-btn:hover {\n  background: #444;\n  color: #fff;\n}\n\n.ros-topic-manager-toolbar-btn.recording {\n  background: #d32f2f !important;\n  color: #fff !important;\n}\n\n/* 搜索框 */\n.ros-topic-manager-search-wrapper {\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  width: 36px;\n  transition: width 0.3s cubic-bezier(.4,0,.2,1);\n  overflow: hidden;\n}\n\n.ros-topic-manager-search-wrapper.open {\n  width: 180px;\n}\n\n.ros-topic-manager-search-icon {\n  font-size: 20px;\n  color: #888;\n  cursor: pointer;\n  transition: color 0.2s;\n}\n\n.ros-topic-manager-search-icon:hover {\n  color: #fff;\n}\n\n.ros-topic-manager-search-input {\n  width: 100%;\n  padding: 4px 10px;\n  background: #232323;\n  border: 1px solid #333;\n  border-radius: 5px;\n  color: #e0e0e0 !important;\n  font-size: 12px;\n  outline: none;\n  transition: border 0.2s, background 0.2s;\n  box-sizing: border-box;\n}\n\n.ros-topic-manager-search-input::placeholder {\n  color: #888;\n}\n\n.ros-topic-manager-search-input:focus {\n  border: 1.5px solid #1976d2;\n  background: #222b3a;\n  color: #fff !important;\n}\n\n/* 列表区域 */\n.ros-topic-manager-list-wrapper {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n}\n\n.ros-topic-manager-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n  background: #2d2d2d;\n}\n\n.ros-topic-manager-list-item {\n  padding: 6px 12px 6px 16px !important;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  color: #f5f5f5 !important;\n  font-size: 15px;\n}\n\n.ros-topic-manager-list-item:hover {\n  background: #404040;\n}\n\n.ros-topic-manager-list-item .ant-checkbox-wrapper {\n  color: #e0e0e0;\n  font-size: 14px;\n}\n\n/* 滚动条样式 */\n.ros-topic-manager-list::-webkit-scrollbar {\n  width: 8px;\n}\n\n.ros-topic-manager-list::-webkit-scrollbar-track {\n  background: #2d2d2d;\n}\n\n.ros-topic-manager-list::-webkit-scrollbar-thumb {\n  background: #444;\n  border-radius: 4px;\n}\n\n.ros-topic-manager-list::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n/* 录制面板 */\n.ros-topic-manager-inline-record {\n  background: #232323;\n  border-radius: 6px;\n  padding: 10px 14px;\n  margin: 12px 12px 0 12px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid #444;\n  gap: 12px;\n}\n\n.ros-topic-manager-inline-record-path {\n  margin-bottom: 0;\n}\n\n.ros-topic-manager-inline-record-actions {\n  margin-top: 0;\n  gap: 8px;\n}\n\n.ros-topic-manager-record-path-input,\n.ros-topic-manager-record-path-input:focus,\n.ros-topic-manager-record-path-input:active {\n  background: #1e1e1e !important;\n  color: #e0e0e0 !important;\n  border: 1px solid #333 !important;\n  box-shadow: none !important;\n}\n\n.ros-topic-manager-record-path-input::placeholder {\n  color: #888;\n}\n\n/* 右键菜单 */\n.ros-topic-manager .ant-menu-item,\n.ros-topic-manager .ant-menu-item-only-child {\n  color: #e0e0e0;\n  background: #2d2d2d;\n}\n\n.ros-topic-manager .ant-menu-item:hover,\n.ros-topic-manager .ant-menu-item-active,\n.ros-topic-manager .ant-menu-item-selected {\n  background: #3d3d3d !important;\n  color: #fff !important;\n}\n\n.ros-topic-manager-record-panel {\n  position: absolute;\n  top: 60px;\n  right: 24px;\n  width: 340px;\n  background: #232323;\n  border: 1px solid #444;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0,0,0,0.18);\n  z-index: 3001;\n  padding: 20px 20px 16px 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\n.ros-topic-manager-record-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #fff;\n  margin-bottom: 12px;\n}\n\n.ros-topic-manager-record-path {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.ros-topic-manager-record-checkbox-group {\n  display: flex;\n  flex-direction: column;\n  max-height: 120px;\n  overflow-y: auto;\n  background: #232323;\n  border-radius: 4px;\n  padding: 6px 0 6px 8px;\n  margin-bottom: 10px;\n}\n\n.ros-topic-manager-record-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n}",""]);const s=a},4394:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4434:e=>{"use strict";e.exports=require("events")},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4657:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(6540))&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:a,height:l},u)},d),i.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},4664:(e,t,n)=>{var r=n(9770),o=n(3345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},4733:(e,t,n)=>{var r=n(1791),o=n(5950);e.exports=function(e,t){return e&&r(t,o(t),e)}},4739:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"/* this gets exported as style.css and can be used for the default theming */\n/* these are the necessary styles for React Flow, they get used by base.css and style.css */\n.react-flow {\n  direction: ltr;\n}\n.react-flow__container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.react-flow__pane {\n  z-index: 1;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.react-flow__pane.selection {\n    cursor: pointer;\n  }\n.react-flow__pane.dragging {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n  }\n.react-flow__viewport {\n  transform-origin: 0 0;\n  z-index: 2;\n  pointer-events: none;\n}\n.react-flow__renderer {\n  z-index: 4;\n}\n.react-flow__selection {\n  z-index: 6;\n}\n.react-flow__nodesselection-rect:focus,\n.react-flow__nodesselection-rect:focus-visible {\n  outline: none;\n}\n.react-flow .react-flow__edges {\n  pointer-events: none;\n  overflow: visible;\n}\n.react-flow__edge-path,\n.react-flow__connection-path {\n  stroke: #b1b1b7;\n  stroke-width: 1;\n  fill: none;\n}\n.react-flow__edge {\n  pointer-events: visibleStroke;\n  cursor: pointer;\n}\n.react-flow__edge.animated path {\n    stroke-dasharray: 5;\n    -webkit-animation: dashdraw 0.5s linear infinite;\n            animation: dashdraw 0.5s linear infinite;\n  }\n.react-flow__edge.animated path.react-flow__edge-interaction {\n    stroke-dasharray: none;\n    -webkit-animation: none;\n            animation: none;\n  }\n.react-flow__edge.inactive {\n    pointer-events: none;\n  }\n.react-flow__edge.selected,\n  .react-flow__edge:focus,\n  .react-flow__edge:focus-visible {\n    outline: none;\n  }\n.react-flow__edge.selected .react-flow__edge-path,\n  .react-flow__edge:focus .react-flow__edge-path,\n  .react-flow__edge:focus-visible .react-flow__edge-path {\n    stroke: #555;\n  }\n.react-flow__edge-textwrapper {\n    pointer-events: all;\n  }\n.react-flow__edge-textbg {\n    fill: white;\n  }\n.react-flow__edge .react-flow__edge-text {\n    pointer-events: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n            user-select: none;\n  }\n.react-flow__connection {\n  pointer-events: none;\n}\n.react-flow__connection .animated {\n    stroke-dasharray: 5;\n    -webkit-animation: dashdraw 0.5s linear infinite;\n            animation: dashdraw 0.5s linear infinite;\n  }\n.react-flow__connectionline {\n  z-index: 1001;\n}\n.react-flow__nodes {\n  pointer-events: none;\n  transform-origin: 0 0;\n}\n.react-flow__node {\n  position: absolute;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  pointer-events: all;\n  transform-origin: 0 0;\n  box-sizing: border-box;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.react-flow__node.dragging {\n    cursor: -webkit-grabbing;\n    cursor: grabbing;\n  }\n.react-flow__nodesselection {\n  z-index: 3;\n  transform-origin: left top;\n  pointer-events: none;\n}\n.react-flow__nodesselection-rect {\n    position: absolute;\n    pointer-events: all;\n    cursor: -webkit-grab;\n    cursor: grab;\n  }\n.react-flow__handle {\n  position: absolute;\n  pointer-events: none;\n  min-width: 5px;\n  min-height: 5px;\n  width: 6px;\n  height: 6px;\n  background: #1a192b;\n  border: 1px solid white;\n  border-radius: 100%;\n}\n.react-flow__handle.connectionindicator {\n    pointer-events: all;\n    cursor: crosshair;\n  }\n.react-flow__handle-bottom {\n    top: auto;\n    left: 50%;\n    bottom: -4px;\n    transform: translate(-50%, 0);\n  }\n.react-flow__handle-top {\n    left: 50%;\n    top: -4px;\n    transform: translate(-50%, 0);\n  }\n.react-flow__handle-left {\n    top: 50%;\n    left: -4px;\n    transform: translate(0, -50%);\n  }\n.react-flow__handle-right {\n    right: -4px;\n    top: 50%;\n    transform: translate(0, -50%);\n  }\n.react-flow__edgeupdater {\n  cursor: move;\n  pointer-events: all;\n}\n.react-flow__panel {\n  position: absolute;\n  z-index: 5;\n  margin: 15px;\n}\n.react-flow__panel.top {\n    top: 0;\n  }\n.react-flow__panel.bottom {\n    bottom: 0;\n  }\n.react-flow__panel.left {\n    left: 0;\n  }\n.react-flow__panel.right {\n    right: 0;\n  }\n.react-flow__panel.center {\n    left: 50%;\n    transform: translateX(-50%);\n  }\n.react-flow__attribution {\n  font-size: 10px;\n  background: rgba(255, 255, 255, 0.5);\n  padding: 2px 3px;\n  margin: 0;\n}\n.react-flow__attribution a {\n    text-decoration: none;\n    color: #999;\n  }\n@-webkit-keyframes dashdraw {\n  from {\n    stroke-dashoffset: 10;\n  }\n}\n@keyframes dashdraw {\n  from {\n    stroke-dashoffset: 10;\n  }\n}\n.react-flow__edgelabel-renderer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n.react-flow__edge.updating .react-flow__edge-path {\n      stroke: #777;\n    }\n.react-flow__edge-text {\n    font-size: 10px;\n  }\n.react-flow__node.selectable:focus,\n  .react-flow__node.selectable:focus-visible {\n    outline: none;\n  }\n.react-flow__node-default,\n.react-flow__node-input,\n.react-flow__node-output,\n.react-flow__node-group {\n  padding: 10px;\n  border-radius: 3px;\n  width: 150px;\n  font-size: 12px;\n  color: #222;\n  text-align: center;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #1a192b;\n  background-color: white;\n}\n.react-flow__node-default.selectable:hover, .react-flow__node-input.selectable:hover, .react-flow__node-output.selectable:hover, .react-flow__node-group.selectable:hover {\n      box-shadow: 0 1px 4px 1px rgba(0, 0, 0, 0.08);\n    }\n.react-flow__node-default.selectable.selected,\n    .react-flow__node-default.selectable:focus,\n    .react-flow__node-default.selectable:focus-visible,\n    .react-flow__node-input.selectable.selected,\n    .react-flow__node-input.selectable:focus,\n    .react-flow__node-input.selectable:focus-visible,\n    .react-flow__node-output.selectable.selected,\n    .react-flow__node-output.selectable:focus,\n    .react-flow__node-output.selectable:focus-visible,\n    .react-flow__node-group.selectable.selected,\n    .react-flow__node-group.selectable:focus,\n    .react-flow__node-group.selectable:focus-visible {\n      box-shadow: 0 0 0 0.5px #1a192b;\n    }\n.react-flow__node-group {\n  background-color: rgba(240, 240, 240, 0.25);\n}\n.react-flow__nodesselection-rect,\n.react-flow__selection {\n  background: rgba(0, 89, 220, 0.08);\n  border: 1px dotted rgba(0, 89, 220, 0.8);\n}\n.react-flow__nodesselection-rect:focus,\n  .react-flow__nodesselection-rect:focus-visible,\n  .react-flow__selection:focus,\n  .react-flow__selection:focus-visible {\n    outline: none;\n  }\n.react-flow__controls {\n  box-shadow: 0 0 2px 1px rgba(0, 0, 0, 0.08);\n}\n.react-flow__controls-button {\n    border: none;\n    background: #fefefe;\n    border-bottom: 1px solid #eee;\n    box-sizing: content-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 16px;\n    height: 16px;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n            user-select: none;\n    padding: 5px;\n  }\n.react-flow__controls-button:hover {\n      background: #f4f4f4;\n    }\n.react-flow__controls-button svg {\n      width: 100%;\n      max-width: 12px;\n      max-height: 12px;\n    }\n.react-flow__controls-button:disabled {\n      pointer-events: none;\n    }\n.react-flow__controls-button:disabled svg {\n        fill-opacity: 0.4;\n      }\n.react-flow__minimap {\n  background-color: #fff;\n}\n.react-flow__minimap svg {\n  display: block;\n}\n.react-flow__resize-control {\n  position: absolute;\n}\n.react-flow__resize-control.left,\n.react-flow__resize-control.right {\n  cursor: ew-resize;\n}\n.react-flow__resize-control.top,\n.react-flow__resize-control.bottom {\n  cursor: ns-resize;\n}\n.react-flow__resize-control.top.left,\n.react-flow__resize-control.bottom.right {\n  cursor: nwse-resize;\n}\n.react-flow__resize-control.bottom.left,\n.react-flow__resize-control.top.right {\n  cursor: nesw-resize;\n}\n/* handle styles */\n.react-flow__resize-control.handle {\n  width: 4px;\n  height: 4px;\n  border: 1px solid #fff;\n  border-radius: 1px;\n  background-color: #3367d9;\n  transform: translate(-50%, -50%);\n}\n.react-flow__resize-control.handle.left {\n  left: 0;\n  top: 50%;\n}\n.react-flow__resize-control.handle.right {\n  left: 100%;\n  top: 50%;\n}\n.react-flow__resize-control.handle.top {\n  left: 50%;\n  top: 0;\n}\n.react-flow__resize-control.handle.bottom {\n  left: 50%;\n  top: 100%;\n}\n.react-flow__resize-control.handle.top.left {\n  left: 0;\n}\n.react-flow__resize-control.handle.bottom.left {\n  left: 0;\n}\n.react-flow__resize-control.handle.top.right {\n  left: 100%;\n}\n.react-flow__resize-control.handle.bottom.right {\n  left: 100%;\n}\n/* line styles */\n.react-flow__resize-control.line {\n  border-color: #3367d9;\n  border-width: 0;\n  border-style: solid;\n}\n.react-flow__resize-control.line.left,\n.react-flow__resize-control.line.right {\n  width: 1px;\n  transform: translate(-50%, 0);\n  top: 0;\n  height: 100%;\n}\n.react-flow__resize-control.line.left {\n  left: 0;\n  border-left-width: 1px;\n}\n.react-flow__resize-control.line.right {\n  left: 100%;\n  border-right-width: 1px;\n}\n.react-flow__resize-control.line.top,\n.react-flow__resize-control.line.bottom {\n  height: 1px;\n  transform: translate(0, -50%);\n  left: 0;\n  width: 100%;\n}\n.react-flow__resize-control.line.top {\n  top: 0;\n  border-top-width: 1px;\n}\n.react-flow__resize-control.line.bottom {\n  border-bottom-width: 1px;\n  top: 100%;\n}\n",""]);const s=a},4757:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".project-modal,\n.project-modal * {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n\n.project-modal .ant-modal-content {\n  background: #2d2d2d;\n  border-radius: 8px;\n}\n\n.project-modal .ant-modal-header {\n  background: #2d2d2d;\n  border-bottom: 1px solid #444;\n  padding: 16px 24px;\n}\n\n.project-modal .ant-modal-title {\n  color: #e0e0e0;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.project-modal .ant-modal-close {\n  color: #888;\n}\n\n.project-modal .ant-modal-close:hover {\n  color: #fff;\n}\n\n.project-form {\n  padding: 24px;\n}\n\n.project-form .ant-form-item-label > label {\n  color: #e0e0e0;\n  font-size: 13px;\n}\n\n.project-form .ant-input,\n.project-form .ant-input-textarea {\n  background: #1e1e1e !important;\n  border: 1px solid #444 !important;\n  color: #e0e0e0 !important;\n  border-radius: 4px;\n}\n\n.project-form .ant-input:hover,\n.project-form .ant-input-textarea:hover {\n  border-color: #666 !important;\n}\n\n.project-form .ant-input:focus,\n.project-form .ant-input-textarea:focus {\n  border-color: #1976d2 !important;\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2) !important;\n}\n\n.project-form .ant-input::placeholder,\n.project-form .ant-input-textarea::placeholder {\n  color: #666 !important;\n}\n\n.path-input-wrapper {\n  display: flex;\n  gap: 8px;\n}\n\n.path-input-wrapper .ant-input {\n  flex: 1;\n}\n\n.select-path-button {\n  background: #1976d2;\n  border: none;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.select-path-button:hover {\n  background: #1565c0;\n}\n\n.form-footer {\n  margin-top: 24px;\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n.form-footer .ant-btn {\n  min-width: 80px;\n}\n\n.form-footer .ant-btn-default {\n  background: #3d3d3d;\n  border: none;\n  color: #e0e0e0;\n}\n\n.form-footer .ant-btn-default:hover {\n  background: #4d4d4d;\n  color: #fff;\n}\n\n.form-footer .ant-btn-primary {\n  background: #1976d2;\n  border: none;\n}\n\n.form-footer .ant-btn-primary:hover {\n  background: #1565c0;\n} ",""]);const s=a},4840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},4879:(e,t,n)=>{"use strict";n.d(t,{A:()=>ofe});var r,o=n(6540),i=n.t(o,2),a=n(4848),s=n(961),l=n.t(s,2),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},u={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},d={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},h={width:"20px",height:"20px",position:"absolute",zIndex:1},f={top:c(c({},u),{top:"-5px"}),right:c(c({},d),{left:void 0,right:"-5px"}),bottom:c(c({},u),{top:void 0,bottom:"-5px"}),left:c(c({},d),{left:"-5px"}),topRight:c(c({},h),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:c(c({},h),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:c(c({},h),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:c(c({},h),{left:"-10px",top:"-10px",cursor:"nw-resize"})},p=(0,o.memo)(function(e){var t=e.onResizeStart,n=e.direction,r=e.children,i=e.replaceStyles,s=e.className,l=(0,o.useCallback)(function(e){t(e,n)},[t,n]),u=(0,o.useCallback)(function(e){t(e,n)},[t,n]),d=(0,o.useMemo)(function(){return c(c({position:"absolute",userSelect:"none"},f[n]),null!=i?i:{})},[i,n]);return(0,a.jsx)("div",{className:s||void 0,style:d,onMouseDown:l,onTouchStart:u,children:r})}),m=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},v={width:"auto",height:"auto"},b=function(e,t,n){return Math.max(Math.min(e,n),t)},y=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},x=function(e,t){return new RegExp(e,"i").test(t)},O=function(e){return Boolean(e.touches&&e.touches.length)},w=function(e,t,n){void 0===n&&(n=0);var r=t.reduce(function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n},0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e},S=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},E=function(e,t,n,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return r*(Number(e.replace("vh",""))/100)}return e},_=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],C="__resizable_base__",k=function(e){function t(t){var n,r,o,i,a=e.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(C):t.className+=C,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!==(r=null===(n=a.propsSize)||void 0===n?void 0:n.width)&&void 0!==r?r:"auto",height:null!==(i=null===(o=a.propsSize)||void 0===o?void 0:o.height)&&void 0!==i?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return m(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||v},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(n=e.propsSize[t])||void 0===n?void 0:n.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize(),o=Number(e.state[t].toString().replace("px",""))/r[t]*100;return"".concat(o,"%")}return S(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?S(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?S(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,o=this.props.boundsByDirection,i=this.state.direction,a=o&&x("left",i),s=o&&x("top",i);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n,r=this.props.scale||1,o=(n=this.props.resizeRatio||1,Array.isArray(n)?n:[n,n]),i=o[0],a=o[1],s=this.state,l=s.direction,c=s.original,u=this.props,d=u.lockAspectRatio,h=u.lockAspectRatioExtraHeight,f=u.lockAspectRatioExtraWidth,p=c.width,m=c.height,g=h||0,v=f||0;return x("right",l)&&(p=c.width+(e-c.x)*i/r,d&&(m=(p-v)/this.ratio+g)),x("left",l)&&(p=c.width-(e-c.x)*i/r,d&&(m=(p-v)/this.ratio+g)),x("bottom",l)&&(m=c.height+(t-c.y)*a/r,d&&(p=(m-g)*this.ratio+v)),x("top",l)&&(m=c.height-(t-c.y)*a/r,d&&(p=(m-g)*this.ratio+v)),{newWidth:p,newHeight:m}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,h=a||0,f=s||0;if(i){var p=(u-h)*this.ratio+f,m=(d-h)*this.ratio+f,g=(l-f)/this.ratio+h,v=(c-f)/this.ratio+h,y=Math.max(l,p),x=Math.min(c,m),O=Math.max(u,g),w=Math.min(d,v);e=b(e,y,x),t=b(t,O,w)}else e=b(e,l,c),t=b(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var o=this.resizable.getBoundingClientRect(),i=o.left,a=o.top,s=o.right,l=o.bottom;this.resizableLeft=i*e,this.resizableRight=s*e,this.resizableTop=a*e,this.resizableBottom=l*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,o=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,o=e.nativeEvent.clientY):e.nativeEvent&&O(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:g(g({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&O(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,r=n.maxWidth,o=n.maxHeight,i=n.minWidth,a=n.minHeight,l=O(e)?e.touches[0].clientX:e.clientX,c=O(e)?e.touches[0].clientY:e.clientY,u=this.state,d=u.direction,h=u.original,f=u.width,p=u.height,m=this.getParentSize(),g=function(e,t,n,r,o,i,a){return r=E(r,e.width,t,n),o=E(o,e.height,t,n),i=E(i,e.width,t,n),a=E(a,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===o?void 0:Number(o),minWidth:void 0===i?void 0:Number(i),minHeight:void 0===a?void 0:Number(a)}}(m,this.window.innerWidth,this.window.innerHeight,r,o,i,a);r=g.maxWidth,o=g.maxHeight,i=g.minWidth,a=g.minHeight;var v=this.calculateNewSizeFromDirection(l,c),b=v.newHeight,x=v.newWidth,S=this.calculateNewMaxFromBoundary(r,o);this.props.snap&&this.props.snap.x&&(x=w(x,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=w(b,this.props.snap.y,this.props.snapGap));var _=this.calculateNewSizeFromAspectRatio(x,b,{width:S.maxWidth,height:S.maxHeight},{width:i,height:a});if(x=_.newWidth,b=_.newHeight,this.props.grid){var C=y(x,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),k=y(b,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0;x=0===M||Math.abs(C-x)<=M?C:x,b=0===M||Math.abs(k-b)<=M?k:b}var T={width:x-h.width,height:b-h.height};if(this.delta=T,f&&"string"==typeof f)if(f.endsWith("%")){var P=x/m.width*100;x="".concat(P,"%")}else if(f.endsWith("vw")){var R=x/this.window.innerWidth*100;x="".concat(R,"vw")}else if(f.endsWith("vh")){var A=x/this.window.innerHeight*100;x="".concat(A,"vh")}p&&"string"==typeof p&&(p.endsWith("%")?(P=b/m.height*100,b="".concat(P,"%")):p.endsWith("vw")?(R=b/this.window.innerWidth*100,b="".concat(R,"vw")):p.endsWith("vh")&&(A=b/this.window.innerHeight*100,b="".concat(A,"vh")));var $={width:this.createSizeForCssProperty(x,"width"),height:this.createSizeForCssProperty(b,"height")};"row"===this.flexDir?$.flexBasis=$.width:"column"===this.flexDir&&($.flexBasis=$.height);var N=this.state.width!==$.width,I=this.state.height!==$.height,D=this.state.flexBasis!==$.flexBasis,L=N||I||D;L&&(0,s.flushSync)(function(){t.setState($)}),this.props.onResize&&L&&this.props.onResize(e,d,this.resizable,T)}},t.prototype.onMouseUp=function(e){var t,n,r=this.state,o=r.isResizing,i=r.direction;r.original,o&&this.resizable&&(this.props.onResizeStop&&this.props.onResizeStop(e,i,this.resizable,this.delta),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:g(g({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,s=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var c=Object.keys(n).map(function(t){return!1!==n[t]?(0,a.jsx)(p,{direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t],children:l&&l[t]?l[t]:null},t):null});return(0,a.jsx)("div",{className:s,style:i,children:c})},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(t,n){return-1!==_.indexOf(n)||(t[n]=e.props[n]),t},{}),n=g(g(g({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return(0,a.jsxs)(r,g({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)},children:[this.state.isResizing&&(0,a.jsx)("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(o.PureComponent);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function R(e){return function(e){if(Array.isArray(e))return M(e)}(e)||T(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const A="ant",$="anticon",N=["outlined","borderless","filled","underlined"],I=o.createContext({getPrefixCls:(e,t)=>t||(e?`${A}-${e}`:A),iconPrefixCls:$}),{Consumer:D}=I,L={};function z(e){const t=o.useContext(I),{getPrefixCls:n,direction:r,getPopupContainer:i}=t,a=t[e];return Object.assign(Object.assign({classNames:L,styles:L},a),{getPrefixCls:n,direction:r,getPopupContainer:i})}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function B(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}function F(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){if(Array.isArray(e))return e}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Q(e,t){return U(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||P(e,t)||H()}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const G=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function X(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function q(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var Z="data-rc-order",Y="data-rc-priority",K=new Map;function J(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function ee(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function te(e){return Array.from((K.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!X())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===a,l=document.createElement("style");l.setAttribute(Z,a),s&&i&&l.setAttribute(Y,"".concat(i)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=ee(t),u=c.firstChild;if(r){if(s){var d=(t.styles||te(c)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Z)))return!1;var t=Number(e.getAttribute(Y)||0);return i>=t});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ee(t);return(t.styles||te(n)).find(function(n){return n.getAttribute(J(t))===e})}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=re(e,t);n&&ee(t).removeChild(n)}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ee(n),o=te(r),i=W(W({},n),{},{styles:o});!function(e,t){var n=K.get(e);if(!n||!q(document,n)){var r=ne("",t),o=r.parentNode;K.set(e,o),e.removeChild(r)}}(r,i);var a,s,l,c=re(t,i);if(c)return null!==(a=i.csp)&&void 0!==a&&a.nonce&&c.nonce!==(null===(s=i.csp)||void 0===s?void 0:s.nonce)&&(c.nonce=null===(l=i.csp)||void 0===l?void 0:l.nonce),c.innerHTML!==e&&(c.innerHTML=e),c;var u=ne(e,i);return u.setAttribute(J(i),t),u}function ae(e,t,n){var r=o.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var se={},le=[];function ce(e,t){}function ue(e,t){}function de(e,t,n){t||se[n]||(e(!1,n),se[n]=!0)}function he(e,t){de(ce,e,t)}he.preMessage=function(e){le.push(e)},he.resetWarned=function(){se={}},he.noteOnce=function(e,t){de(ue,e,t)};const fe=he,pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(fe(!a,"Warning: There may be circular references"),a)return!1;if(t===o)return!0;if(n&&i>1)return!1;r.add(t);var s=i+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],o[l],s))return!1;return!0}if(t&&o&&"object"===j(t)&&"object"===j(o)){var c=Object.keys(t);return c.length===Object.keys(o).length&&c.every(function(n){return e(t[n],o[n],s)})}return!1}(e,t)};function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function ve(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e){return e.join("%")}var ye=function(){function e(t){me(this,e),F(this,"instanceId",void 0),F(this,"cache",new Map),this.instanceId=t}return ve(e,[{key:"get",value:function(e){return this.opGet(be(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(be(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const xe=ye;var Oe="data-token-hash",we="data-css-hash",Se="__cssinjs_instance__";var Ee=o.createContext({hashPriority:"low",cache:function(){var e=Math.random().toString(12).slice(2);if("undefined"!=typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(we,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(t){t[Se]=t[Se]||e,t[Se]===e&&document.head.insertBefore(t,n)});var r={};Array.from(document.querySelectorAll("style[".concat(we,"]"))).forEach(function(t){var n,o=t.getAttribute(we);r[o]?t[Se]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[o]=!0})}return new xe(e)}(),defaultCache:!0});const _e=Ee;new RegExp("CALC_UNIT","g");var Ce=function(){function e(){me(this,e),F(this,"cache",void 0),F(this,"keys",void 0),F(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ve(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach(function(e){var t;o=o?null===(t=o)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):void 0}),null!==(t=o)&&void 0!==t&&t.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(n=o)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(e,t){var n=Q(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e},[this.keys[0],this.cacheCallTimes]),i=Q(o,1)[0];this.delete(i)}this.keys.push(t)}var a=this.cache;t.forEach(function(e,o){if(o===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var i=a.get(e);i?i.map||(i.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}})}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var o=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)}),this.deleteByPath(this.cache,e)}}]),e}();F(Ce,"MAX_CACHE_SIZE",20),F(Ce,"MAX_CACHE_OFFSET",5);var ke=0,Me=function(){function e(t){me(this,e),F(this,"derivatives",void 0),F(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=ke,0===t.length&&t.length,ke+=1}return ve(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),e}(),Te=new Ce;function Pe(e){var t=Array.isArray(e)?e:[e];return Te.has(t)||Te.set(t,new Me(t)),Te.get(t)}var Re=new WeakMap,Ae={},$e=new WeakMap;function Ne(e){var t=$e.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof Me?t+=r.id:r&&"object"===j(r)?t+=Ne(r):t+=r}),t=G(t),$e.set(e,t)),t}function Ie(e,t){return G("".concat(t,"_").concat(Ne(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var De=X();function Le(e){return"number"==typeof e?"".concat(e,"px"):e}function ze(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var o=W(W({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(F(r={},Oe,t),F(r,we,n),r)),i=Object.keys(o).map(function(e){var t=o[e];return t?"".concat(e,'="').concat(t,'"'):null}).filter(function(e){return e}).join(" ");return"<style ".concat(i,">").concat(e,"</style>")}var je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Be=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!=n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(e){var t=Q(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")}).join(""),"}"):""},Fe=function(e,t,n){var r={},o={};return Object.entries(e).forEach(function(e){var t,i,a=Q(e,2),s=a[0],l=a[1];if(null!=n&&null!==(t=n.preserve)&&void 0!==t&&t[s])o[s]=l;else if(!("string"!=typeof l&&"number"!=typeof l||null!=n&&null!==(i=n.ignore)&&void 0!==i&&i[s])){var c,u=je(s,null==n?void 0:n.prefix);r[u]="number"!=typeof l||null!=n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),o[s]="var(".concat(u,")")}}),[o,Be(r,t,{scope:null==n?void 0:n.scope})]},Ue=X()?o.useLayoutEffect:o.useEffect,He=function(e,t){var n=o.useRef(!0);Ue(function(){return e(n.current)},t),Ue(function(){return n.current=!1,function(){n.current=!0}},[])},Qe=function(e,t){He(function(t){if(!t)return e()},t)};const Ve=He;var We=W({},i).useInsertionEffect;const Ge=We?function(e,t,n){return We(function(){return e(),t()},n)}:function(e,t,n){o.useMemo(e,n),Ve(function(){return t(!0)},n)},Xe=void 0!==W({},i).useInsertionEffect?function(e){var t=[],n=!1;return o.useEffect(function(){return n=!1,function(){n=!0,t.length&&t.forEach(function(e){return e()})}},e),function(e){n||t.push(e)}}:function(){return function(e){e()}};function qe(e,t,n,r,i){var a=o.useContext(_e).cache,s=be([e].concat(R(t))),l=Xe([s]),c=function(e){a.opUpdate(s,function(t){var r=Q(t||[void 0,void 0],2),o=r[0],i=[void 0===o?0:o,r[1]||n()];return e?e(i):i})};o.useMemo(function(){c()},[s]);var u=a.opGet(s)[1];return Ge(function(){null==i||i(u)},function(e){return c(function(t){var n=Q(t,2),r=n[0],o=n[1];return e&&0===r&&(null==i||i(u)),[r+1,o]}),function(){a.opUpdate(s,function(t){var n=Q(t||[],2),o=n[0],i=void 0===o?0:o,c=n[1];return 0==i-1?(l(function(){!e&&a.opGet(s)||null==r||r(c,!1)}),null):[i-1,c]})}},[s]),u}var Ze={},Ye=new Map;var Ke="token";function Je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,o.useContext)(_e),i=r.cache.instanceId,a=r.container,s=n.salt,l=void 0===s?"":s,c=n.override,u=void 0===c?Ze:c,d=n.formatToken,h=n.getComputedToken,f=n.cssVar,p=function(e,n){for(var r=Re,o=0;o<n.length;o+=1){var i=n[o];r.has(i)||r.set(i,new WeakMap),r=r.get(i)}return r.has(Ae)||r.set(Ae,Object.assign.apply(Object,[{}].concat(R(t)))),r.get(Ae)}(0,t),m=Ne(p),g=Ne(u),v=f?Ne(f):"",b=qe(Ke,[l,e.id,m,g,v],function(){var t,n=h?h(p,u,e):function(e,t,n,r){var o=W(W({},n.getDerivativeToken(e)),t);return r&&(o=r(o)),o}(p,u,e,d),r=W({},n),o="";if(f){var i=Q(Fe(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=i[0],o=i[1]}var a=Ie(n,l);n._tokenKey=a,r._tokenKey=Ie(r,l);var s=null!==(t=null==f?void 0:f.key)&&void 0!==t?t:a;n._themeKey=s,function(e){Ye.set(e,(Ye.get(e)||0)+1)}(s);var c="".concat("css","-").concat(G(a));return n._hashId=c,[n,c,r,o,(null==f?void 0:f.key)||""]},function(e){!function(e,t){Ye.set(e,(Ye.get(e)||0)-1);var n=Array.from(Ye.keys()),r=n.filter(function(e){return(Ye.get(e)||0)<=0});n.length-r.length>0&&r.forEach(function(e){!function(e,t){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(Oe,'="').concat(e,'"]')).forEach(function(e){var n;e[Se]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))})}(e,t),Ye.delete(e)})}(e[0]._themeKey,i)},function(e){var t=Q(e,4),n=t[0],r=t[3];if(f&&r){var o=ie(r,G("css-variables-".concat(n._themeKey)),{mark:we,prepend:"queue",attachTo:a,priority:-999});o[Se]=i,o.setAttribute(Oe,n._themeKey)}});return b}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(null,arguments)}const tt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var nt="comm",rt="rule",ot="decl",it=Math.abs,at=String.fromCharCode;function st(e){return e.trim()}function lt(e,t,n){return e.replace(t,n)}function ct(e,t,n){return e.indexOf(t,n)}function ut(e,t){return 0|e.charCodeAt(t)}function dt(e,t,n){return e.slice(t,n)}function ht(e){return e.length}function ft(e,t){return t.push(e),e}function pt(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function mt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case ot:return e.return=e.return||e.value;case nt:return"";case"@keyframes":return e.return=e.value+"{"+pt(e.children,r)+"}";case rt:if(!ht(e.value=e.props.join(",")))return""}return ht(n=pt(e.children,r))?e.return=e.value+"{"+n+"}":""}Object.assign;var gt=1,vt=1,bt=0,yt=0,xt=0,Ot="";function wt(e,t,n,r,o,i,a,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:gt,column:vt,length:a,return:"",siblings:s}}function St(){return xt=yt>0?ut(Ot,--yt):0,vt--,10===xt&&(vt=1,gt--),xt}function Et(){return xt=yt<bt?ut(Ot,yt++):0,vt++,10===xt&&(vt=1,gt++),xt}function _t(){return ut(Ot,yt)}function Ct(){return yt}function kt(e,t){return dt(Ot,e,t)}function Mt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tt(e){return st(kt(yt-1,At(91===e?e+2:40===e?e+1:e)))}function Pt(e){for(;(xt=_t())&&xt<33;)Et();return Mt(e)>2||Mt(xt)>3?"":" "}function Rt(e,t){for(;--t&&Et()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return kt(e,Ct()+(t<6&&32==_t()&&32==Et()))}function At(e){for(;Et();)switch(xt){case e:return yt;case 34:case 39:34!==e&&39!==e&&At(xt);break;case 40:41===e&&At(e);break;case 92:Et()}return yt}function $t(e,t){for(;Et()&&e+xt!==57&&(e+xt!==84||47!==_t()););return"/*"+kt(t,yt-1)+"*"+at(47===e?e:Et())}function Nt(e){for(;!Mt(_t());)Et();return kt(e,yt)}function It(e){return function(e){return Ot="",e}(Dt("",null,null,null,[""],e=function(e){return gt=vt=1,bt=ht(Ot=e),yt=0,[]}(e),0,[0],e))}function Dt(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,b=0,y="",x=o,O=i,w=r,S=y;g;)switch(p=b,b=Et()){case 40:if(108!=p&&58==ut(S,d-1)){-1!=ct(S+=lt(Tt(b),"&","&\f"),"&\f",it(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=Tt(b);break;case 9:case 10:case 13:case 32:S+=Pt(p);break;case 92:S+=Rt(Ct()-1,7);continue;case 47:switch(_t()){case 42:case 47:ft(zt($t(Et(),Ct()),t,n,l),l),5!=Mt(p||1)&&5!=Mt(_t()||1)||!ht(S)||" "===dt(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*m:s[c++]=ht(S)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==v&&(S=lt(S,/\f/g,"")),f>0&&(ht(S)-d||0===m&&47===p)&&ft(f>32?jt(S+";",r,n,d-1,l):jt(lt(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(ft(w=Lt(S,t,n,c,u,o,s,y,x=[],O=[],d,i),i),123===b)if(0===u)Dt(S,t,w,w,x,i,d,s,O);else{switch(h){case 99:if(110===ut(S,3))break;case 108:if(97===ut(S,2))break;default:u=0;case 100:case 109:case 115:}u?Dt(e,w,w,r&&ft(Lt(e,w,w,0,0,o,s,y,o,x=[],d,O),O),o,O,d,s,r?x:O):Dt(S,w,w,w,[""],O,0,s,O)}}c=u=f=0,m=v=1,y=S="",d=a;break;case 58:d=1+ht(S),f=p;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==St())continue;switch(S+=at(b),b*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(ht(S)-1)*v,v=1;break;case 64:45===_t()&&(S+=Tt(Et())),h=_t(),u=d=ht(y=S+=Nt(Ct())),b++;break;case 45:45===p&&2==ht(S)&&(m=0)}}return i}function Lt(e,t,n,r,o,i,a,s,l,c,u,d){for(var h=o-1,f=0===o?i:[""],p=function(e){return e.length}(f),m=0,g=0,v=0;m<r;++m)for(var b=0,y=dt(e,h+1,h=it(g=a[m])),x=e;b<p;++b)(x=st(g>0?f[b]+" "+y:lt(y,/&\f/g,f[b])))&&(l[v++]=x);return wt(e,t,n,0===o?rt:s,l,c,u,d)}function zt(e,t,n,r){return wt(e,t,n,nt,at(xt),dt(e,2,-2),0,r)}function jt(e,t,n,r,o){return wt(e,t,n,ot,dt(e,0,r),dt(e,r+1,-1),r,o)}var Bt,Ft="data-ant-cssinjs-cache-path",Ut="_FILE_STYLE__",Ht=!0;var Qt="_multi_value_";function Vt(e){return pt(It(e),mt).replace(/\{%%%\:[^;];}/g,";")}var Wt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,i=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,d=void 0===u?[]:u,h=(n.linters,""),f={};function p(t){var r=t.getName(s);if(!f[r]){var o=Q(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];f[r]="@keyframes ".concat(t.getName(s)).concat(o)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(function(t){Array.isArray(t)?e(t,n):t&&n.push(t)}),n}(Array.isArray(t)?t:[t]);return m.forEach(function(t){var r="string"!=typeof t||o?t:{};if("string"==typeof r)h+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=d.reduce(function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e},r);Object.keys(l).forEach(function(t){var r=l[t];if("object"!==j(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===j(e)&&e&&("_skip_check_"in e||Qt in e)}(r)){var u;function O(e,t){var n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),r=t;tt[e]||"number"!=typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!=t&&t._keyframe&&(p(t),r=t.getName(s)),h+="".concat(n,":").concat(r,";")}var d=null!==(u=null==r?void 0:r.value)&&void 0!==u?u:r;"object"===j(r)&&null!=r&&r[Qt]&&Array.isArray(d)?d.forEach(function(e){O(t,e)}):O(t,d)}else{var m=!1,g=t.trim(),v=!1;(o||i)&&s?g.startsWith("@")?m=!0:g=function(e,t,n){if(!t)return e;var r=".".concat(t),o="low"===n?":where(".concat(r,")"):r;return e.split(",").map(function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",i=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(i).concat(o).concat(r.slice(i.length))].concat(R(n.slice(1))).join(" ")}).join(",")}("&"===g?"":t,s,c):!o||s||"&"!==g&&""!==g||(g="",v=!0);var b=Q(e(r,n,{root:v,injectHash:m,parentSelectors:[].concat(R(a),[g])}),2),y=b[0],x=b[1];f=W(W({},f),x),h+="".concat(g).concat(y)}})}}),o?l&&(h&&(h="@layer ".concat(l.name," {").concat(h,"}")),l.dependencies&&(f["@layer ".concat(l.name)]=l.dependencies.map(function(e){return"@layer ".concat(e,", ").concat(l.name,";")}).join("\n"))):h="{".concat(h,"}"),[h,f]};function Gt(e,t){return G("".concat(e.join("%")).concat(t))}function Xt(){return null}var qt="style";function Zt(e,t){var n=e.token,r=e.path,i=e.hashId,a=e.layer,s=e.nonce,l=e.clientOnly,c=e.order,u=void 0===c?0:c,d=o.useContext(_e),h=d.autoClear,f=(d.mock,d.defaultCache),p=d.hashPriority,m=d.container,g=d.ssrInline,v=d.transformers,b=d.linters,y=d.cache,x=d.layer,O=n._tokenKey,w=[O];x&&w.push("layer"),w.push.apply(w,R(r));var S=De,E=qe(qt,w,function(){var e=w.join("|");if(function(e){return function(){if(!Bt&&(Bt={},X())){var e=document.createElement("div");e.className=Ft,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach(function(e){var t=Q(e.split(":"),2),n=t[0],r=t[1];Bt[n]=r});var n,r=document.querySelector("style[".concat(Ft,"]"));r&&(Ht=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!Bt[e]}(e)){var n=function(e){var t=Bt[e],n=null;if(t&&X())if(Ht)n=Ut;else{var r=document.querySelector("style[".concat(we,'="').concat(Bt[e],'"]'));r?n=r.innerHTML:delete Bt[e]}return[n,t]}(e),o=Q(n,2),s=o[0],c=o[1];if(s)return[s,O,c,{},l,u]}var d=t(),h=Q(Wt(d,{hashId:i,hashPriority:p,layer:x?a:void 0,path:r.join("-"),transformers:v,linters:b}),2),f=h[0],m=h[1],g=Vt(f),y=Gt(w,g);return[g,O,y,m,l,u]},function(e,t){var n=Q(e,3)[2];(t||h)&&De&&oe(n,{mark:we})},function(e){var t=Q(e,4),n=t[0],r=(t[1],t[2]),o=t[3];if(S&&n!==Ut){var i={mark:we,prepend:!x&&"queue",attachTo:m,priority:u},a="function"==typeof s?s():s;a&&(i.csp={nonce:a});var l=[],c=[];Object.keys(o).forEach(function(e){e.startsWith("@layer")?l.push(e):c.push(e)}),l.forEach(function(e){ie(Vt(o[e]),"_layer-".concat(e),W(W({},i),{},{prepend:!0}))});var d=ie(n,r,i);d[Se]=y.instanceId,d.setAttribute(Oe,O),c.forEach(function(e){ie(Vt(o[e]),"_effect-".concat(e),i)})}}),_=Q(E,3),C=_[0],k=_[1],M=_[2];return function(e){var t,n;return t=g&&!S&&f?o.createElement("style",et({},(F(n={},Oe,k),F(n,we,M),n),{dangerouslySetInnerHTML:{__html:C}})):o.createElement(Xt,null),o.createElement(o.Fragment,null,t,e)}}var Yt="cssVar";var Kt;F(Kt={},qt,function(e,t,n){var r=Q(e,6),o=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var d=o,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=ze(o,i,a,h,u),s&&Object.keys(s).forEach(function(e){if(!t[e]){t[e]=!0;var n=ze(Vt(s[e]),i,"_effect-".concat(e),h,u);e.startsWith("@layer")?d=n+d:d+=n}}),[c,a,d]}),F(Kt,Ke,function(e,t,n){var r=Q(e,5),o=r[2],i=r[3],a=r[4],s=(n||{}).plain;if(!i)return null;var l=o._tokenKey;return[-999,l,ze(i,a,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}),F(Kt,Yt,function(e,t,n){var r=Q(e,4),o=r[1],i=r[2],a=r[3],s=(n||{}).plain;return o?[-999,i,ze(o,a,i,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]:null});var Jt=function(){function e(t,n){me(this,e),F(this,"name",void 0),F(this,"style",void 0),F(this,"_keyframe",!0),this.name=t,this.style=n}return ve(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const en=Jt;function tn(e){return e.notSplit=!0,e}tn(["borderTop","borderBottom"]),tn(["borderTop"]),tn(["borderBottom"]),tn(["borderLeft","borderRight"]),tn(["borderLeft"]),tn(["borderRight"]);const nn=(0,o.createContext)({});function rn(e){return U(e)||T(e)||P(e)||H()}function on(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function an(e,t,n,r){if(!t.length)return n;var o,i=rn(t),a=i[0],s=i.slice(1);return o=e||"number"!=typeof a?Array.isArray(e)?R(e):W({},e):[],r&&void 0===n&&1===s.length?delete o[a][s[0]]:o[a]=an(o[a],s,n,r),o}function sn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!on(e,t.slice(0,-1))?e:an(e,t,n,r)}function ln(e){return Array.isArray(e)?[]:{}}var cn="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ln(t[0]);return t.forEach(function(e){!function t(n,o){var i,a=new Set(o),s=on(e,n),l=Array.isArray(s);if(l||"object"===j(i=s)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!a.has(s)){a.add(s);var c=on(r,n);l?r=sn(r,n,[]):c&&"object"===j(c)||(r=sn(r,n,ln(s))),cn(s).forEach(function(e){t([].concat(R(n),[e]),a)})}}else r=sn(r,n,s)}([])}),r}function dn(){}const hn=o.createContext({}),fn=()=>{const e=()=>{};return e.deprecated=dn,e},pn=(0,o.createContext)(void 0),mn={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},gn=W(W({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),vn={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},bn={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},gn),timePickerLocale:Object.assign({},vn)},yn="${label} is not a valid ${type}",xn={locale:"en",Pagination:mn,DatePicker:bn,TimePicker:vn,Calendar:bn,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:yn,method:yn,array:yn,object:yn,number:yn,date:yn,boolean:yn,integer:yn,float:yn,regexp:yn,email:yn,url:yn,hex:yn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let On=Object.assign({},xn.Modal),wn=[];const Sn=()=>wn.reduce((e,t)=>Object.assign(Object.assign({},e),t),xn.Modal);function En(){return On}const _n=(0,o.createContext)(void 0),Cn=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;o.useEffect(()=>{const e=function(e){if(e){const t=Object.assign({},e);return wn.push(t),On=Sn(),()=>{wn=wn.filter(e=>e!==t),On=Sn()}}On=Object.assign({},xn.Modal)}(null==t?void 0:t.Modal);return e},[t]);const i=o.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return o.createElement(_n.Provider,{value:i},n)},kn=Math.round;function Mn(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(e=>parseFloat(e));for(let e=0;e<3;e+=1)r[e]=t(r[e]||0,n[e]||"",e);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Tn=(e,t,n)=>0===n?e:e/100;function Pn(e,t){const n=t||255;return e>n?n:e<0?0:e}class Rn{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(F(this,"isValid",!0),F(this,"r",0),F(this,"g",0),F(this,"b",0),F(this,"a",1),F(this,"_h",void 0),F(this,"_s",void 0),F(this,"_l",void 0),F(this,"_v",void 0),F(this,"_max",void 0),F(this,"_min",void 0),F(this,"_brightness",void 0),e)if("string"==typeof e){const n=e.trim();function r(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):r("rgb")?this.fromRgbString(n):r("hsl")?this.fromHslString(n):(r("hsv")||r("hsb"))&&this.fromHsvString(n)}else if(e instanceof Rn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Pn(e.r),this.g=Pn(e.g),this.b=Pn(e.b),this.a="number"==typeof e.a?Pn(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if(void 0===this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:kn(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(void 0===this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return void 0===this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return void 0===this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return void 0===this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,o=e=>(n[e]-this[e])*r+this[e],i={r:kn(o("r")),g:kn(o("g")),b:kn(o("b")),a:kn(100*o("a"))/100};return this._c(i)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>kn((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"==typeof this.a&&this.a>=0&&this.a<1){const t=kn(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=kn(100*this.getSaturation()),n=kn(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=Pn(t,n),r}_c(e){return new this.constructor(e)}getMax(){return void 0===this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return void 0===this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a="number"==typeof r?r:1,t<=0){const e=kn(255*n);this.r=e,this.g=e,this.b=e}let o=0,i=0,a=0;const s=e/60,l=(1-Math.abs(2*n-1))*t,c=l*(1-Math.abs(s%2-1));s>=0&&s<1?(o=l,i=c):s>=1&&s<2?(o=c,i=l):s>=2&&s<3?(i=l,a=c):s>=3&&s<4?(i=c,a=l):s>=4&&s<5?(o=c,a=l):s>=5&&s<6&&(o=l,a=c);const u=n-l/2;this.r=kn(255*(o+u)),this.g=kn(255*(i+u)),this.b=kn(255*(a+u))}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a="number"==typeof r?r:1;const o=kn(255*n);if(this.r=o,this.g=o,this.b=o,t<=0)return;const i=e/60,a=Math.floor(i),s=i-a,l=kn(n*(1-t)*255),c=kn(n*(1-t*s)*255),u=kn(n*(1-t*(1-s))*255);switch(a){case 0:this.g=u,this.b=l;break;case 1:this.r=c,this.b=l;break;case 2:this.r=l,this.b=u;break;case 3:this.r=l,this.g=c;break;case 4:this.r=u,this.g=l;break;default:this.g=l,this.b=c}}fromHsvString(e){const t=Mn(e,Tn);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Mn(e,Tn);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Mn(e,(e,t)=>t.includes("%")?kn(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var An=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function $n(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Nn(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function In(e,t,n){var r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function Dn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new Rn(e),o=r.toHsv(),i=5;i>0;i-=1){var a=new Rn({h:$n(o,i,!0),s:Nn(o,i,!0),v:In(o,i,!0)});n.push(a)}n.push(r);for(var s=1;s<=4;s+=1){var l=new Rn({h:$n(o,s),s:Nn(o,s),v:In(o,s)});n.push(l)}return"dark"===t.theme?An.map(function(e){var r=e.index,o=e.amount;return new Rn(t.backgroundColor||"#141414").mix(n[r],o).toHexString()}):n.map(function(e){return e.toHexString()})}var Ln={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},zn=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];zn.primary=zn[5];var jn=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];jn.primary=jn[5];var Bn=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Bn.primary=Bn[5];var Fn=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Fn.primary=Fn[5];var Un=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Un.primary=Un[5];var Hn=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Hn.primary=Hn[5];var Qn=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Qn.primary=Qn[5];var Vn=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Vn.primary=Vn[5];var Wn=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Wn.primary=Wn[5];var Gn=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Gn.primary=Gn[5];var Xn=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Xn.primary=Xn[5];var qn=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];qn.primary=qn[5];var Zn=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Zn.primary=Zn[5];var Yn={red:zn,volcano:jn,orange:Bn,gold:Fn,yellow:Un,lime:Hn,green:Qn,cyan:Vn,blue:Wn,geekblue:Gn,purple:Xn,magenta:qn,grey:Zn},Kn=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Kn.primary=Kn[5];var Jn=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Jn.primary=Jn[5];var er=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];er.primary=er[5];var tr=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];tr.primary=tr[5];var nr=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];nr.primary=nr[5];var rr=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];rr.primary=rr[5];var or=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];or.primary=or[5];var ir=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];ir.primary=ir[5];var ar=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];ar.primary=ar[5];var sr=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];sr.primary=sr[5];var lr=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];lr.primary=lr[5];var cr=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];cr.primary=cr[5];var ur=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ur.primary=ur[5];const dr={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},hr=Object.assign(Object.assign({},dr),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function fr(e){return(e+8)/e}const pr=(e,t)=>new Rn(e).setA(t).toRgbString(),mr=(e,t)=>new Rn(e).darken(t).toHexString(),gr=e=>{const t=Dn(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},vr=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:pr(r,.88),colorTextSecondary:pr(r,.65),colorTextTertiary:pr(r,.45),colorTextQuaternary:pr(r,.25),colorFill:pr(r,.15),colorFillSecondary:pr(r,.06),colorFillTertiary:pr(r,.04),colorFillQuaternary:pr(r,.02),colorBgSolid:pr(r,1),colorBgSolidHover:pr(r,.75),colorBgSolidActive:pr(r,.95),colorBgLayout:mr(n,4),colorBgContainer:mr(n,0),colorBgElevated:mr(n,0),colorBgSpotlight:pr(r,.85),colorBgBlur:"transparent",colorBorder:mr(n,15),colorBorderSecondary:mr(n,6)}},br=Pe(function(e){Ln.pink=Ln.magenta,Yn.pink=Yn.magenta;const t=Object.keys(dr).map(t=>{const n=e[t]===Ln[t]?Yn[t]:Dn(e[t]);return Array.from({length:10},()=>1).reduce((e,r,o)=>(e[`${t}-${o+1}`]=n[o],e[`${t}${o+1}`]=n[o],e),{})}).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:r,colorWarning:o,colorError:i,colorInfo:a,colorPrimary:s,colorBgBase:l,colorTextBase:c}=e,u=t(s),d=t(r),h=t(o),f=t(i),p=t(a),m=n(l,c),g=t(e.colorLink||e.colorInfo),v=new Rn(f[1]).mix(new Rn(f[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBgFilledHover:v,colorErrorBgActive:f[3],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:g[4],colorLink:g[6],colorLinkActive:g[7],colorBgMask:new Rn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:gr,generateNeutralColorPalettes:vr})),(e=>{const t=function(e){const t=Array.from({length:10}).map((t,n)=>{const r=n-1,o=e*Math.pow(Math.E,r/5),i=n>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(i/2)});return t[1]=e,t.map(e=>({size:e,lineHeight:fr(e)}))}(e),n=t.map(e=>e.size),r=t.map(e=>e.lineHeight),o=n[1],i=n[0],a=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:i,fontSize:o,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*o),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}})(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),(e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}})(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:o}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:o+1},(e=>{let t=e,n=e,r=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:o}})(r))}(e))}),yr=br,xr={token:hr,override:{override:hr},hashed:!0},Or=o.createContext(xr),wr=`-ant-${Date.now()}-${Math.random()}`;const Sr=o.createContext(!1),Er=({children:e,disabled:t})=>{const n=o.useContext(Sr);return o.createElement(Sr.Provider,{value:null!=t?t:n},e)},_r=Sr,Cr=o.createContext(void 0),kr=({children:e,size:t})=>{const n=o.useContext(Cr);return o.createElement(Cr.Provider,{value:t||n},e)},Mr=Cr,Tr=Object.assign({},i),{useId:Pr}=Tr,Rr=void 0===Pr?()=>"":Pr;var Ar=n(6942),$r=n.n(Ar);function Nr(e){return e instanceof HTMLElement||e instanceof SVGElement}function Ir(e){return e&&"object"===j(e)&&Nr(e.nativeElement)?e.nativeElement:Nr(e)?e:null}function Dr(e){var t;return Ir(e)||(e instanceof o.Component?null===(t=s.findDOMNode)||void 0===t?void 0:t.call(s,e):null)}var Lr=n(6351),zr=Symbol.for("react.element"),jr=Symbol.for("react.transitional.element"),Br=Symbol.for("react.fragment");function Fr(e){return e&&"object"===j(e)&&(e.$$typeof===zr||e.$$typeof===jr)&&e.type===Br}var Ur=Number(o.version.split(".")[0]),Hr=function(e,t){"function"==typeof e?e(t):"object"===j(e)&&e&&"current"in e&&(e.current=t)},Qr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){Hr(t,e)})}},Vr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ae(function(){return Qr.apply(void 0,t)},t,function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})})},Wr=function(e){var t,n;if(!e)return!1;if(Gr(e)&&Ur>=19)return!0;var r=(0,Lr.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===Lr.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Lr.ForwardRef)};function Gr(e){return(0,o.isValidElement)(e)&&!Fr(e)}var Xr=function(e){if(e&&Gr(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function qr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Zr=["children"],Yr=o.createContext({});function Kr(e){var t=e.children,n=qr(e,Zr);return o.createElement(Yr.Provider,{value:n},t)}function Jr(e,t){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jr(e,t)}function eo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},to(e)}function no(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(no=function(){return!!e})()}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){var t=no();return function(){var n,r=to(e);if(t){var o=to(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ro(e)}(this,n)}}const io=function(e){eo(n,e);var t=oo(n);function n(){return me(this,n),t.apply(this,arguments)}return ve(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function ao(e){var t=o.useRef();t.current=e;var n=o.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}function so(e){var t=o.useRef(!1),n=Q(o.useState(e),2),r=n[0],i=n[1];return o.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[r,function(e,n){n&&t.current||i(e)}]}function lo(e){return void 0!==e}function co(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,s=Q(so(function(){return lo(o)?o:lo(r)?"function"==typeof r?r():r:"function"==typeof e?e():e}),2),l=s[0],c=s[1],u=void 0!==o?o:l,d=a?a(u):u,h=ao(i),f=Q(so([u]),2),p=f[0],m=f[1];return Qe(function(){var e=p[0];l!==e&&h(l,e)},[p]),Qe(function(){lo(o)||c(o)},[o]),[d,ao(function(e,t){c(e,t),m([u],t)})]}var uo="none",ho="appear",fo="enter",po="leave",mo="none",go="prepare",vo="start",bo="active",yo="end",xo="prepared";function Oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var wo,So,Eo,_o=(wo=X(),So="undefined"!=typeof window?window:{},Eo={animationend:Oo("Animation","AnimationEnd"),transitionend:Oo("Transition","TransitionEnd")},wo&&("AnimationEvent"in So||delete Eo.animationend.animation,"TransitionEvent"in So||delete Eo.transitionend.transition),Eo),Co={};if(X()){var ko=document.createElement("div");Co=ko.style}var Mo={};function To(e){if(Mo[e])return Mo[e];var t=_o[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Co)return Mo[e]=t[i],Mo[e]}return""}var Po=To("animationend"),Ro=To("transitionend"),Ao=!(!Po||!Ro),$o=Po||"animationend",No=Ro||"transitionend";function Io(e,t){return e?"object"===j(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}const Do=X()?o.useLayoutEffect:o.useEffect;var Lo=function(e){return+setTimeout(e,16)},zo=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Lo=function(e){return window.requestAnimationFrame(e)},zo=function(e){return window.cancelAnimationFrame(e)});var jo=0,Bo=new Map;function Fo(e){Bo.delete(e)}var Uo=function(e){var t=jo+=1;return function n(r){if(0===r)Fo(t),e();else{var o=Lo(function(){n(r-1)});Bo.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Uo.cancel=function(e){var t=Bo.get(e);return Fo(e),zo(t)};const Ho=Uo;var Qo=[go,vo,bo,yo],Vo=[go,xo],Wo=!1;function Go(e){return e===bo||e===yo}function Xo(e,t,n,r){var i,a,s,l=r.motionEnter,c=void 0===l||l,u=r.motionAppear,d=void 0===u||u,h=r.motionLeave,f=void 0===h||h,p=r.motionDeadline,m=r.motionLeaveImmediately,g=r.onAppearPrepare,v=r.onEnterPrepare,b=r.onLeavePrepare,y=r.onAppearStart,x=r.onEnterStart,O=r.onLeaveStart,w=r.onAppearActive,S=r.onEnterActive,E=r.onLeaveActive,_=r.onAppearEnd,C=r.onEnterEnd,k=r.onLeaveEnd,M=r.onVisibleChanged,T=Q(so(),2),P=T[0],R=T[1],A=(i=uo,a=Q(o.useReducer(function(e){return e+1},0),2)[1],s=o.useRef(i),[ao(function(){return s.current}),ao(function(e){s.current="function"==typeof e?e(s.current):e,a()})]),$=Q(A,2),N=$[0],I=$[1],D=Q(so(null),2),L=D[0],z=D[1],j=N(),B=(0,o.useRef)(!1),U=(0,o.useRef)(null);function H(){return n()}var V=(0,o.useRef)(!1);function G(){I(uo),z(null,!0)}var X=ao(function(e){var t=N();if(t!==uo){var n=H();if(!e||e.deadline||e.target===n){var r,o=V.current;t===ho&&o?r=null==_?void 0:_(n,e):t===fo&&o?r=null==C?void 0:C(n,e):t===po&&o&&(r=null==k?void 0:k(n,e)),o&&!1!==r&&G()}}}),q=function(e){var t=(0,o.useRef)();function n(t){t&&(t.removeEventListener(No,e),t.removeEventListener($o,e))}return o.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(No,e),r.addEventListener($o,e),t.current=r)},n]}(X),Z=Q(q,1)[0],Y=function(e){switch(e){case ho:return F(F(F({},go,g),vo,y),bo,w);case fo:return F(F(F({},go,v),vo,x),bo,S);case po:return F(F(F({},go,b),vo,O),bo,E);default:return{}}},K=o.useMemo(function(){return Y(j)},[j]),J=Q(function(e,t,n){var r=Q(so(mo),2),i=r[0],a=r[1],s=function(){var e=o.useRef(null);function t(){Ho.cancel(e.current)}return o.useEffect(function(){return function(){t()}},[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Ho(function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)});e.current=i},t]}(),l=Q(s,2),c=l[0],u=l[1],d=t?Vo:Qo;return Do(function(){if(i!==mo&&i!==yo){var e=d.indexOf(i),t=d[e+1],r=n(i);r===Wo?a(t,!0):t&&c(function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,i]),o.useEffect(function(){return function(){u()}},[]),[function(){a(go,!0)},i]}(j,!e,function(e){if(e===go){var t=K[go];return t?t(H()):Wo}var n;return te in K&&z((null===(n=K[te])||void 0===n?void 0:n.call(K,H(),null))||null),te===bo&&j!==uo&&(Z(H()),p>0&&(clearTimeout(U.current),U.current=setTimeout(function(){X({deadline:!0})},p))),te===xo&&G(),!0}),2),ee=J[0],te=J[1],ne=Go(te);V.current=ne;var re=(0,o.useRef)(null);Do(function(){if(!B.current||re.current!==t){R(t);var n,r=B.current;B.current=!0,!r&&t&&d&&(n=ho),r&&t&&c&&(n=fo),(r&&!t&&f||!r&&m&&!t&&f)&&(n=po);var o=Y(n);n&&(e||o[go])?(I(n),ee()):I(uo),re.current=t}},[t]),(0,o.useEffect)(function(){(j===ho&&!d||j===fo&&!c||j===po&&!f)&&I(uo)},[d,c,f]),(0,o.useEffect)(function(){return function(){B.current=!1,clearTimeout(U.current)}},[]);var oe=o.useRef(!1);(0,o.useEffect)(function(){P&&(oe.current=!0),void 0!==P&&j===uo&&((oe.current||P)&&(null==M||M(P)),oe.current=!0)},[P,j]);var ie=L;return K[go]&&te===vo&&(ie=W({transition:"none"},ie)),[j,te,ie,null!=P?P:t]}const qo=function(e){var t=e;"object"===j(e)&&(t=e.transitionSupport);var n=o.forwardRef(function(e,n){var r=e.visible,i=void 0===r||r,a=e.removeOnLeave,s=void 0===a||a,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,f=function(e,n){return!(!e.motionName||!t||!1===n)}(e,o.useContext(Yr).motion),p=(0,o.useRef)(),m=(0,o.useRef)(),g=Q(Xo(f,i,function(){try{return p.current instanceof HTMLElement?p.current:Dr(m.current)}catch(e){return null}},e),4),v=g[0],b=g[1],y=g[2],x=g[3],O=o.useRef(x);x&&(O.current=!0);var w,S=o.useCallback(function(e){p.current=e,Hr(n,e)},[n]),E=W(W({},h),{},{visible:i});if(c)if(v===uo)w=x?c(W({},E),S):!s&&O.current&&d?c(W(W({},E),{},{className:d}),S):l||!s&&!d?c(W(W({},E),{},{style:{display:"none"}}),S):null;else{var _;b===go?_="prepare":Go(b)?_="active":b===vo&&(_="start");var C=Io(u,"".concat(v,"-").concat(_));w=c(W(W({},E),{},{className:$r()(Io(u,v),F(F({},C,C&&_),u,"string"==typeof u)),style:y}),S)}else w=null;return o.isValidElement(w)&&Wr(w)&&(Xr(w)||(w=o.cloneElement(w,{ref:S}))),o.createElement(io,{ref:m},w)});return n.displayName="CSSMotion",n}(Ao);var Zo="add",Yo="keep",Ko="remove",Jo="removed";function ei(e){var t;return W(W({},t=e&&"object"===j(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ti(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ei)}var ni=["component","children","onVisibleChanged","onAllRemoved"],ri=["status"],oi=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const ii=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qo,t=function(t){eo(r,t);var n=oo(r);function r(){var e;me(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return F(ro(e=n.call.apply(n,[this].concat(o))),"state",{keyEntities:[]}),F(ro(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:W(W({},e),{},{status:Jo})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==Jo}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return ve(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,s=r.onVisibleChanged,l=(r.onAllRemoved,qr(r,ni)),c=i||o.Fragment,u={};return oi.forEach(function(e){u[e]=l[e],delete l[e]}),delete l.keys,o.createElement(c,l,n.map(function(n,r){var i=n.status,l=qr(n,ri),c=i===Zo||i===Yo;return o.createElement(e,et({},u,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(e){null==s||s(e,{key:l.key}),e||t.removeKey(l.key)}}),function(e,t){return a(W(W({},e),{},{index:r}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=ti(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=ti(e),a=ti(t);i.forEach(function(e){for(var t=!1,i=r;i<o;i+=1){var s=a[i];if(s.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map(function(e){return W(W({},e),{},{status:Zo})})),r=i),n.push(W(W({},s),{},{status:Yo})),r+=1,t=!0;break}}t||n.push(W(W({},e),{},{status:Ko}))}),r<o&&(n=n.concat(a.slice(r).map(function(e){return W(W({},e),{},{status:Zo})})));var s={};return n.forEach(function(e){var t=e.key;s[t]=(s[t]||0)+1}),Object.keys(s).filter(function(e){return s[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==Ko})).forEach(function(t){t.key===e&&(t.status=Yo)})}),n}(r,o);return{keyEntities:i.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==Jo||e.status!==Ko})}}}]),r}(o.Component);return F(t,"defaultProps",{component:"div"}),t}(Ao),ai=qo;function si(e){return e>=0&&e<=255}const li=function(e,t){const{r:n,g:r,b:o,a:i}=new Rn(e).toRgb();if(i<1)return e;const{r:a,g:s,b:l}=new Rn(t).toRgb();for(let e=.01;e<=1;e+=.01){const t=Math.round((n-a*(1-e))/e),i=Math.round((r-s*(1-e))/e),c=Math.round((o-l*(1-e))/e);if(si(t)&&si(i)&&si(c))return new Rn({r:t,g:i,b:c,a:Math.round(100*e)/100}).toRgbString()}return new Rn({r:n,g:r,b:o,a:1}).toRgbString()};function ci(e){const{override:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["override"]),r=Object.assign({},t);Object.keys(hr).forEach(e=>{delete r[e]});const o=Object.assign(Object.assign({},n),r);if(!1===o.motion){const e="0s";o.motionDurationFast=e,o.motionDurationMid=e,o.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:li(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:li(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:li(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:3*o.lineWidth,lineWidth:o.lineWidth,controlOutlineWidth:2*o.lineWidth,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:li(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:1200,screenXLMin:1200,screenXLMax:1599,screenXXL:1600,screenXXLMin:1600,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new Rn("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new Rn("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new Rn("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ui=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const di={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},hi={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},fi={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},pi=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:o}=t,i=ui(t,["override"]);let a=Object.assign(Object.assign({},r),{override:o});return a=ci(a),i&&Object.entries(i).forEach(([e,t])=>{const{theme:n}=t,r=ui(t,["theme"]);let o=r;n&&(o=pi(Object.assign(Object.assign({},a),r),{override:r},n)),a[e]=o}),a};function mi(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=o.useContext(Or),a=`5.26.4-${t||""}`,s=n||yr,[l,c,u]=Je(s,[hr,e],{salt:a,override:r,getComputedToken:pi,formatToken:ci,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:di,ignore:hi,preserve:fi}});return[s,u,t?c:"",l,i]}const gi=o.createContext(!0);function vi(e){const t=o.useContext(gi),{children:n}=e,[,r]=mi(),{motion:i}=r,a=o.useRef(!1);return a.current||(a.current=t!==i),a.current?o.createElement(gi.Provider,{value:i},o.createElement(Kr,{motion:i},n)):n}const bi=()=>null,yi={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},xi=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),Oi=(e,t)=>({outline:`${Le(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:null!=t?t:1,transition:"outline-offset 0s, outline 0s"}),wi=(e,t)=>({"&:focus-visible":Object.assign({},Oi(e,t))}),Si=e=>({[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}),Ei=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},wi(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}});const _i=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Ci,ki,Mi,Ti;function Pi(){return Ci||A}function Ri(){return ki||$}const Ai=()=>({getPrefixCls:(e,t)=>t||(e?`${Pi()}-${e}`:Pi()),getIconPrefixCls:Ri,getRootPrefixCls:()=>Ci||Pi(),getTheme:()=>Mi,holderRender:Ti}),$i=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:a,form:s,locale:l,componentSize:c,direction:u,space:d,splitter:h,virtual:f,dropdownMatchSelectWidth:p,popupMatchSelectWidth:m,popupOverflow:g,legacyLocale:v,parentContext:b,iconPrefixCls:y,theme:x,componentDisabled:O,segmented:w,statistic:S,spin:E,calendar:_,carousel:C,cascader:k,collapse:M,typography:T,checkbox:P,descriptions:R,divider:A,drawer:N,skeleton:D,steps:L,image:z,layout:j,list:B,mentions:F,modal:U,progress:H,result:Q,slider:V,breadcrumb:W,menu:G,pagination:X,input:q,textArea:Z,empty:Y,badge:K,radio:J,rate:ee,switch:te,transfer:ne,avatar:re,message:oe,tag:ie,table:se,card:le,tabs:ce,timeline:ue,timePicker:de,upload:he,notification:fe,tree:me,colorPicker:ge,datePicker:ve,rangePicker:be,flex:ye,wave:xe,dropdown:Oe,warning:we,tour:Se,tooltip:Ee,popover:Ce,popconfirm:ke,floatButtonGroup:Me,variant:Te,inputNumber:Re,treeSelect:Ae}=e,$e=o.useCallback((t,n)=>{const{prefixCls:r}=e;if(n)return n;const o=r||b.getPrefixCls("");return t?`${o}-${t}`:o},[b.getPrefixCls,e.prefixCls]),Ne=y||b.iconPrefixCls||$,Ie=n||b.csp;((e,t)=>{const[n,r]=mi();Zt({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null==t?void 0:t.nonce,layer:{name:"antd"}},()=>[Si(e)])})(Ne,Ie);const De=function(e,t,n){var r;fn();const o=e||{},i=!1!==o.inherit&&t?t:Object.assign(Object.assign({},xr),{hashed:null!==(r=null==t?void 0:t.hashed)&&void 0!==r?r:xr.hashed,cssVar:null==t?void 0:t.cssVar}),a=Rr();return ae(()=>{var r,s;if(!e)return t;const l=Object.assign({},i.components);Object.keys(e.components||{}).forEach(t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])});const c=`css-var-${a.replace(/:/g,"")}`,u=(null!==(r=o.cssVar)&&void 0!==r?r:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null==n?void 0:n.prefixCls},"object"==typeof i.cssVar?i.cssVar:{}),"object"==typeof o.cssVar?o.cssVar:{}),{key:"object"==typeof o.cssVar&&(null===(s=o.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},i),o),{token:Object.assign(Object.assign({},i.token),o.token),components:l,cssVar:u})},[o,i],(e,t)=>e.some((e,n)=>{const r=t[n];return!pe(e,r,!0)}))}(x,b.theme,{prefixCls:$e("")}),Le={csp:Ie,autoInsertSpaceInButton:r,alert:i,anchor:a,locale:l||v,direction:u,space:d,splitter:h,virtual:f,popupMatchSelectWidth:null!=m?m:p,popupOverflow:g,getPrefixCls:$e,iconPrefixCls:Ne,theme:De,segmented:w,statistic:S,spin:E,calendar:_,carousel:C,cascader:k,collapse:M,typography:T,checkbox:P,descriptions:R,divider:A,drawer:N,skeleton:D,steps:L,image:z,input:q,textArea:Z,layout:j,list:B,mentions:F,modal:U,progress:H,result:Q,slider:V,breadcrumb:W,menu:G,pagination:X,empty:Y,badge:K,radio:J,rate:ee,switch:te,transfer:ne,avatar:re,message:oe,tag:ie,table:se,card:le,tabs:ce,timeline:ue,timePicker:de,upload:he,notification:fe,tree:me,colorPicker:ge,datePicker:ve,rangePicker:be,flex:ye,wave:xe,dropdown:Oe,warning:we,tour:Se,tooltip:Ee,popover:Ce,popconfirm:ke,floatButtonGroup:Me,variant:Te,inputNumber:Re,treeSelect:Ae},ze=Object.assign({},b);Object.keys(Le).forEach(e=>{void 0!==Le[e]&&(ze[e]=Le[e])}),_i.forEach(t=>{const n=e[t];n&&(ze[t]=n)}),void 0!==r&&(ze.button=Object.assign({autoInsertSpace:r},ze.button));const je=ae(()=>ze,ze,(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(n=>e[n]!==t[n])}),{layer:Be}=o.useContext(_e),Fe=o.useMemo(()=>({prefixCls:Ne,csp:Ie,layer:Be?"antd":void 0}),[Ne,Ie,Be]);let Ue=o.createElement(o.Fragment,null,o.createElement(bi,{dropdownMatchSelectWidth:p}),t);const He=o.useMemo(()=>{var e,t,n,r;return un((null===(e=xn.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=je.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=je.form)||void 0===r?void 0:r.validateMessages)||{},(null==s?void 0:s.validateMessages)||{})},[je,null==s?void 0:s.validateMessages]);Object.keys(He).length>0&&(Ue=o.createElement(pn.Provider,{value:He},Ue)),l&&(Ue=o.createElement(Cn,{locale:l,_ANT_MARK__:"internalMark"},Ue)),(Ne||Ie)&&(Ue=o.createElement(nn.Provider,{value:Fe},Ue)),c&&(Ue=o.createElement(kr,{size:c},Ue)),Ue=o.createElement(vi,null,Ue);const Qe=o.useMemo(()=>{const e=De||{},{algorithm:t,token:n,components:r,cssVar:o}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["algorithm","token","components","cssVar"]),a=t&&(!Array.isArray(t)||t.length>0)?Pe(t):yr,s={};Object.entries(r||{}).forEach(([e,t])=>{const n=Object.assign({},t);"algorithm"in n&&(!0===n.algorithm?n.theme=a:(Array.isArray(n.algorithm)||"function"==typeof n.algorithm)&&(n.theme=Pe(n.algorithm)),delete n.algorithm),s[e]=n});const l=Object.assign(Object.assign({},hr),n);return Object.assign(Object.assign({},i),{theme:a,token:l,components:s,override:Object.assign({override:l},s),cssVar:o})},[De]);return x&&(Ue=o.createElement(Or.Provider,{value:Qe},Ue)),je.warning&&(Ue=o.createElement(hn.Provider,{value:je.warning},Ue)),void 0!==O&&(Ue=o.createElement(Er,{disabled:O},Ue)),o.createElement(I.Provider,{value:je},Ue)},Ni=e=>{const t=o.useContext(I),n=o.useContext(_n);return o.createElement($i,Object.assign({parentContext:t,legacyLocale:n},e))};Ni.ConfigContext=I,Ni.SizeContext=Mr,Ni.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:o}=e;void 0!==t&&(Ci=t),void 0!==n&&(ki=n),"holderRender"in e&&(Ti=o),r&&(function(e){return Object.keys(e).some(e=>e.endsWith("Color"))}(r)?function(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null==t?void 0:t(n))||n,n.toRgbString()},o=(e,t)=>{const o=new Rn(e),i=Dn(o.toRgbString());n[`${t}-color`]=r(o),n[`${t}-color-disabled`]=i[1],n[`${t}-color-hover`]=i[4],n[`${t}-color-active`]=i[6],n[`${t}-color-outline`]=o.clone().setA(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=i[0],n[`${t}-color-deprecated-border`]=i[2]};if(t.primaryColor){o(t.primaryColor,"primary");const e=new Rn(t.primaryColor),i=Dn(e.toRgbString());i.forEach((e,t)=>{n[`primary-${t+1}`]=e}),n["primary-color-deprecated-l-35"]=r(e,e=>e.lighten(35)),n["primary-color-deprecated-l-20"]=r(e,e=>e.lighten(20)),n["primary-color-deprecated-t-20"]=r(e,e=>e.tint(20)),n["primary-color-deprecated-t-50"]=r(e,e=>e.tint(50)),n["primary-color-deprecated-f-12"]=r(e,e=>e.setA(.12*e.a));const a=new Rn(i[0]);n["primary-color-active-deprecated-f-30"]=r(a,e=>e.setA(.3*e.a)),n["primary-color-active-deprecated-d-02"]=r(a,e=>e.darken(2))}return t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map(t=>`--${e}-${t}: ${n[t]};`).join("\n")}\n  }\n  `.trim()}(e,t);X()&&ie(n,`${wr}-dynamic-theme`)}(Pi(),r):Mi=r)},Ni.useConfig=function(){return{componentDisabled:(0,o.useContext)(_r),componentSize:(0,o.useContext)(Mr)}},Object.defineProperty(Ni,"SizeContext",{get:()=>Mr});const Ii=Ni;function Di(e,t){this.v=e,this.k=t}function Li(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Li=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Li(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Li(e,t,n,r)}function zi(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Li(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Li(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Li(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Li(d,"constructor",c),Li(c,"constructor",l),l.displayName="GeneratorFunction",Li(c,o,"GeneratorFunction"),Li(d),Li(d,o,"Generator"),Li(d,r,function(){return this}),Li(d,"toString",function(){return"[object Generator]"}),(zi=function(){return{w:i,m:h}})()}function ji(e,t){function n(r,o,i,a){try{var s=e[r](o),l=s.value;return l instanceof Di?t.resolve(l.v).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):t.resolve(l).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,a)})}catch(e){a(e)}}var r;this.next||(Li(ji.prototype),Li(ji.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Li(this,"_invoke",function(e,o,i){function a(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(a,a):a()},!0)}function Bi(e,t,n,r,o){return new ji(zi().w(e,t,n,r),o||Promise)}function Fi(e,t,n,r,o){var i=Bi(e,t,n,r,o);return i.next().then(function(e){return e.done?e.value:i.next()})}function Ui(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function Hi(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(j(e)+" is not iterable")}function Qi(){var e=zi(),t=e.m(Qi),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,Hi(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(Qi=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new Di(e,t)},AsyncIterator:ji,async:function(e,t,n,o,a){return(r(t)?Bi:Fi)(i(e),t,n,o,a)},keys:Ui,values:Hi}})()}function Vi(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Wi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Vi(i,r,o,a,s,"next",e)}function s(e){Vi(i,r,o,a,s,"throw",e)}a(void 0)})}}var Gi,Xi=W({},l),qi=Xi.version,Zi=Xi.render,Yi=Xi.unmountComponentAtNode;try{Number((qi||"").split(".")[0])>=18&&(Gi=Xi.createRoot)}catch(Zk){}function Ki(e){var t=Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===j(t)&&(t.usingClientEntryPoint=e)}var Ji="__rc_react_root__";function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Wi(Qi().mark(function e(t){return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(function(){var e;null===(e=t[Ji])||void 0===e||e.unmount(),delete t[Ji]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function na(e){Yi(e)}function ra(){return(ra=Wi(Qi().mark(function e(t){return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Gi){e.next=2;break}return e.abrupt("return",ea(t));case 2:na(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}let oa=(e,t)=>(function(e,t){Gi?function(e,t){Ki(!0);var n=t[Ji]||Gi(t);Ki(!1),n.render(e),t[Ji]=n}(e,t):function(e,t){null==Zi||Zi(e,t)}(e,t)}(e,t),()=>function(e){return ra.apply(this,arguments)}(t));function ia(e){return e&&(oa=e),oa}const aa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function sa(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function la(e){return function(e){return sa(e)instanceof ShadowRoot}(e)?sa(e):null}function ca(e){return"object"===j(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===j(e.icon)||"function"==typeof e.icon)}function ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];return"class"===n?(t.className=r,delete t.class):(delete t[n],t[function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}(n)]=r),t},{})}function da(e,t,n){return n?o.createElement(e.tag,W(W({key:t},ua(e.attrs)),n),(e.children||[]).map(function(n,r){return da(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})):o.createElement(e.tag,W({key:t},ua(e.attrs)),(e.children||[]).map(function(n,r){return da(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function ha(e){return Dn(e)[0]}function fa(e){return e?Array.isArray(e)?e:[e]:[]}var pa=["icon","className","onClick","style","primaryColor","secondaryColor"],ma={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},ga=function(e){var t,n,r,i,a,s,l=e.icon,c=e.className,u=e.onClick,d=e.style,h=e.primaryColor,f=e.secondaryColor,p=qr(e,pa),m=o.useRef(),g=ma;if(h&&(g={primaryColor:h,secondaryColor:f||ha(h)}),t=m,n=(0,o.useContext)(nn),r=n.csp,i=n.prefixCls,a=n.layer,s="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",i&&(s=s.replace(/anticon/g,i)),a&&(s="@layer ".concat(a," {\n").concat(s,"\n}")),(0,o.useEffect)(function(){var e=la(t.current);ie(s,"@ant-design-icons",{prepend:!a,csp:r,attachTo:e})},[]),function(e,t){fe(e,"[@ant-design/icons] ".concat(t))}(ca(l),"icon should be icon definiton, but got ".concat(l)),!ca(l))return null;var v=l;return v&&"function"==typeof v.icon&&(v=W(W({},v),{},{icon:v.icon(g.primaryColor,g.secondaryColor)})),da(v.icon,"svg-".concat(v.name),W(W({className:c,onClick:u,style:d,"data-icon":v.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p),{},{ref:m}))};ga.displayName="IconReact",ga.getTwoToneColors=function(){return W({},ma)},ga.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ma.primaryColor=t,ma.secondaryColor=n||ha(t),ma.calculated=!!n};const va=ga;function ba(e){var t=Q(fa(e),2),n=t[0],r=t[1];return va.setTwoToneColors({primaryColor:n,secondaryColor:r})}var ya=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ba(Wn.primary);var xa=o.forwardRef(function(e,t){var n=e.className,r=e.icon,i=e.spin,a=e.rotate,s=e.tabIndex,l=e.onClick,c=e.twoToneColor,u=qr(e,ya),d=o.useContext(nn),h=d.prefixCls,f=void 0===h?"anticon":h,p=d.rootClassName,m=$r()(p,f,F(F({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||"loading"===r.name),n),g=s;void 0===g&&l&&(g=-1);var v=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,b=Q(fa(c),2),y=b[0],x=b[1];return o.createElement("span",et({role:"img","aria-label":r.name},u,{ref:t,tabIndex:g,onClick:l,className:m}),o.createElement(va,{icon:r,primaryColor:y,secondaryColor:x,style:v}))});xa.displayName="AntdIcon",xa.getTwoToneColor=function(){var e=va.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},xa.setTwoToneColor=ba;const Oa=xa;var wa=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:aa}))};const Sa=o.forwardRef(wa),Ea={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var _a=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Ea}))};const Ca=o.forwardRef(_a),ka={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var Ma=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:ka}))};const Ta=o.forwardRef(Ma),Pa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var Ra=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Pa}))};const Aa=o.forwardRef(Ra),$a=o.createContext(void 0),Na=100,Ia={Modal:Na,Drawer:Na,Popover:Na,Popconfirm:Na,Tooltip:Na,Tour:Na,FloatButton:Na},Da={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1},La=(e,t)=>{const[,n]=mi(),r=o.useContext($a),i=e in Ia;let a;if(void 0!==t)a=[t,t];else{let o=null!=r?r:0;o+=i?(r?0:n.zIndexPopupBase)+Ia[e]:Da[e],a=[void 0===r?t:o,o]}return a},za=()=>({height:0,opacity:0}),ja=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Ba=e=>({height:e?e.offsetHeight:0}),Fa=(e,t)=>!0===(null==t?void 0:t.deadline)||"height"===t.propertyName,Ua=(e,t,n)=>void 0!==n?n:`${e}-${t}`,Ha=(e=A)=>({motionName:`${e}-motion-collapse`,onAppearStart:za,onEnterStart:za,onAppearActive:ja,onEnterActive:ja,onLeaveStart:Ba,onLeaveActive:za,onAppearEnd:Fa,onEnterEnd:Fa,onLeaveEnd:Fa,motionDeadline:500}),Qa=(e,t)=>{const n=o.useContext(_n),r=o.useMemo(()=>{var r;const o=t||xn[e],i=null!==(r=null==n?void 0:n[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"==typeof o?o():o),i||{})},[e,t,n]);return[r,o.useMemo(()=>{const e=null==n?void 0:n.locale;return(null==n?void 0:n.exist)&&!e?xn.locale:e},[n])]};function Va(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}const Wa=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1};function Ga(e){return e&&o.isValidElement(e)&&e.type===o.Fragment}function Xa(e,t){return((e,t,n)=>o.isValidElement(e)?o.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t)(e,e,t)}const qa=ve(function e(){me(this,e)});var Za="CALC_UNIT",Ya=new RegExp(Za,"g");function Ka(e){return"number"==typeof e?"".concat(e).concat(Za):e}var Ja=function(e){eo(n,e);var t=oo(n);function n(e,r){var o;me(this,n),F(ro(o=t.call(this)),"result",""),F(ro(o),"unitlessCssVar",void 0),F(ro(o),"lowPriority",void 0);var i=j(e);return o.unitlessCssVar=r,e instanceof n?o.result="(".concat(e.result,")"):"number"===i?o.result=Ka(e):"string"===i&&(o.result=e),o}return ve(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," + ").concat(Ka(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," - ").concat(Ka(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"==typeof n?r=n:Array.from(this.unitlessCssVar).some(function(e){return t.result.includes(e)})&&(r=!1),this.result=this.result.replace(Ya,r?"px":""),void 0!==this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(qa);const es=function(e){eo(n,e);var t=oo(n);function n(e){var r;return me(this,n),F(ro(r=t.call(this)),"result",0),e instanceof n?r.result=e.result:"number"==typeof e&&(r.result=e),r}return ve(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"==typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"==typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"==typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"==typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(qa),ts=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},ns=function(e,t,n,r){var o=W({},t[e]);null!=r&&r.deprecatedTokens&&r.deprecatedTokens.forEach(function(e){var t,n=Q(e,2),r=n[0],i=n[1];(null!=o&&o[r]||null!=o&&o[i])&&(null!==(t=o[i])&&void 0!==t||(o[i]=null==o?void 0:o[r]))});var i=W(W({},n),o);return Object.keys(i).forEach(function(e){i[e]===t[e]&&delete i[e]}),i};var rs="undefined"!=typeof CSSINJS_STATISTIC,os=!0;function is(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!rs)return Object.assign.apply(Object,[{}].concat(t));os=!1;var r={};return t.forEach(function(e){"object"===j(e)&&Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})})}),os=!0,r}var as={};function ss(){}const ls=function(e,t,n){var r;return"function"==typeof n?n(is(t,null!==(r=t[e])&&void 0!==r?r:{})):null!=n?n:{}};var cs=function(){function e(){me(this,e),F(this,"map",new Map),F(this,"objectIDMap",new WeakMap),F(this,"nextID",0),F(this,"lastAccessBeat",new Map),F(this,"accessBeat",0)}return ve(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map(function(e){return e&&"object"===j(e)?"obj_".concat(t.getObjectID(e)):"".concat(j(e),"_").concat(e)}).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))}),this.accessBeat=0}}}]),e}(),us=new cs;const ds=function(){return{}},{genStyleHooks:hs,genComponentStyleHook:fs,genSubStyleComponent:ps}=function(e){var t=e.useCSP,n=void 0===t?ds:t,r=e.useToken,i=e.usePrefix,a=e.getResetStyles,s=e.getCommonStyle,l=e.getCompUnitless;function c(t,l,c){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=Array.isArray(t)?t:[t,t],h=Q(d,1)[0],f=d.join("-"),p=e.layer||{name:"antd"};return function(e){var t,d,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,g=r(),v=g.theme,b=g.realToken,y=g.hashId,x=g.token,O=g.cssVar,w=i(),S=w.rootPrefixCls,E=w.iconPrefixCls,_=n(),C=O?"css":"js",k=(t=function(){var e=new Set;return O&&Object.keys(u.unitless||{}).forEach(function(t){e.add(je(t,O.prefix)),e.add(je(t,ts(h,O.prefix)))}),function(e,t){var n="css"===e?Ja:es;return function(e){return new n(e,t)}}(C,e)},d=[C,h,null==O?void 0:O.prefix],o.useMemo(function(){var e=us.get(d);if(e)return e;var n=t();return us.set(d,n),n},d)),M=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map(function(e){return Le(e)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map(function(e){return Le(e)}).join(","),")")}}}(C),T=M.max,P=M.min,R={theme:v,token:x,hashId:y,nonce:function(){return _.nonce},clientOnly:u.clientOnly,layer:p,order:u.order||-999};return"function"==typeof a&&Zt(W(W({},R),{},{clientOnly:!1,path:["Shared",S]}),function(){return a(x,{prefix:{rootPrefixCls:S,iconPrefixCls:E},csp:_})}),[Zt(W(W({},R),{},{path:[f,e,E]}),function(){if(!1===u.injectStyle)return[];var t=function(e){var t,n=e,r=ss;return rs&&"undefined"!=typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;return os&&(null===(r=t)||void 0===r||r.add(n)),e[n]}}),r=function(e,n){var r;as[e]={global:Array.from(t),component:W(W({},null===(r=as[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}}(x),n=t.token,r=t.flush,o=ls(h,b,c),i=".".concat(e),a=ns(h,b,o,{deprecatedTokens:u.deprecatedTokens});O&&o&&"object"===j(o)&&Object.keys(o).forEach(function(e){o[e]="var(".concat(je(e,ts(h,O.prefix)),")")});var d=is(n,{componentCls:i,prefixCls:e,iconCls:".".concat(E),antCls:".".concat(S),calc:k,max:T,min:P},O?o:a),f=l(d,{hashId:y,prefixCls:e,rootPrefixCls:S,iconPrefixCls:E});r(h,a);var p="function"==typeof s?s(d,e,m,u.resetFont):null;return[!1===u.resetStyle?null:p,f]}),y]}}return{genStyleHooks:function(e,t,n,i){var a=Array.isArray(e)?e[0]:e;function s(e){return"".concat(String(a)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var u=(null==i?void 0:i.unitless)||{},d=W(W({},"function"==typeof l?l(e):{}),{},F({},s("zIndexPopup"),!0));Object.keys(u).forEach(function(e){d[s(e)]=u[e]});var h=W(W({},i),{},{unitless:d,prefixToken:s}),f=c(e,t,n,h),p=function(e,t,n){var i=n.unitless,a=n.injectStyle,s=void 0===a||a,l=n.prefixToken,c=n.ignore,u=function(a){var s=a.rootCls,u=a.cssVar,d=void 0===u?{}:u,h=r().realToken;return function(e,t){var n=e.key,r=e.prefix,i=e.unitless,a=e.ignore,s=e.token,l=e.scope,c=void 0===l?"":l,u=(0,o.useContext)(_e),d=u.cache.instanceId,h=u.container,f=s._tokenKey,p=[].concat(R(e.path),[n,c,f]),m=qe(Yt,p,function(){var e=t(),o=Q(Fe(e,n,{prefix:r,unitless:i,ignore:a,scope:c}),2),s=o[0],l=o[1];return[s,l,Gt(p,l),n]},function(e){var t=Q(e,3)[2];De&&oe(t,{mark:we})},function(e){var t=Q(e,3),r=t[1],o=t[2];if(r){var i=ie(r,o,{mark:we,prepend:"queue",attachTo:h,priority:-999});i[Se]=d,i.setAttribute(Oe,n)}})}({path:[e],prefix:d.prefix,key:d.key,unitless:i,ignore:c,token:h,scope:s},function(){var r=ls(e,h,t),o=ns(e,h,r,{deprecatedTokens:null==n?void 0:n.deprecatedTokens});return Object.keys(r).forEach(function(e){o[l(e)]=o[e],delete o[e]}),o}),null};return function(t){var n=r().cssVar;return[function(r){return s&&n?o.createElement(o.Fragment,null,o.createElement(u,{rootCls:t,cssVar:n,component:e}),r):r},null==n?void 0:n.key]}}(a,n,h);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Q(f(e,t),2)[1],r=Q(p(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=c(e,t,n,W({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:c}}({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,o.useContext)(I);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,o]=mi();return{theme:e,realToken:t,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:e}=(0,o.useContext)(I);return null!=e?e:{}},getResetStyles:(e,t)=>{var n;const r=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[r,{"&":r},Si(null!==(n=null==t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:$)]},getCommonStyle:(e,t,n,r)=>{const o=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:o,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},s),a),{[o]:a})}},getCompUnitless:()=>di}),ms=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},gs=fs("Wave",e=>[ms(e)]),vs=`${A}-wave-target`;function bs(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function ys(e){return Number.isNaN(e)?0:e}const xs=e=>{const{className:t,target:n,component:r,registerUnmount:i}=e,a=o.useRef(null),s=o.useRef(null);o.useEffect(()=>{s.current=i()},[]);const[l,c]=o.useState(null),[u,d]=o.useState([]),[h,f]=o.useState(0),[p,m]=o.useState(0),[g,v]=o.useState(0),[b,y]=o.useState(0),[x,O]=o.useState(!1),w={left:h,top:p,width:g,height:b,borderRadius:u.map(e=>`${e}px`).join(" ")};function S(){const e=getComputedStyle(n);c(function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return bs(t)?t:bs(n)?n:bs(r)?r:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:o}=e;f(t?n.offsetLeft:ys(-parseFloat(r))),m(t?n.offsetTop:ys(-parseFloat(o))),v(n.offsetWidth),y(n.offsetHeight);const{borderTopLeftRadius:i,borderTopRightRadius:a,borderBottomLeftRadius:s,borderBottomRightRadius:l}=e;d([i,a,l,s].map(e=>ys(parseFloat(e))))}if(l&&(w["--wave-color"]=l),o.useEffect(()=>{if(n){const e=Ho(()=>{S(),O(!0)});let t;return"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(S),t.observe(n)),()=>{Ho.cancel(e),null==t||t.disconnect()}}},[]),!x)return null;const E=("Checkbox"===r||"Radio"===r)&&(null==n?void 0:n.classList.contains(vs));return o.createElement(ai,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n,r;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=a.current)||void 0===n?void 0:n.parentElement;null===(r=s.current)||void 0===r||r.call(s).then(()=>{null==e||e.remove()})}return!1}},({className:e},n)=>o.createElement("div",{ref:Qr(a,n),className:$r()(t,e,{"wave-quick":E}),style:w}))},Os=(e,t)=>{var n;const{component:r}=t;if("Checkbox"===r&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",null==e||e.insertBefore(i,null==e?void 0:e.firstChild);const a=ia();let s=null;s=a(o.createElement(xs,Object.assign({},t,{target:e,registerUnmount:function(){return s}})),i)},ws=(e,t,n)=>{const{wave:r}=o.useContext(I),[,i,a]=mi(),s=ao(o=>{const s=e.current;if((null==r?void 0:r.disabled)||!s)return;const l=s.querySelector(`.${vs}`)||s,{showEffect:c}=r||{};(c||Os)(l,{className:t,token:i,component:n,event:o,hashId:a})}),l=o.useRef(null);return e=>{Ho.cancel(l.current),l.current=Ho(()=>{s(e)})}},Ss=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:i}=(0,o.useContext)(I),a=(0,o.useRef)(null),s=i("wave"),[,l]=gs(s),c=ws(a,$r()(s,l),r);return o.useEffect(()=>{const e=a.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!Wa(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}},[n]),o.isValidElement(t)?Xa(t,{ref:Wr(t)?Qr(Xr(t),a):a}):null!=t?t:null},Es=e=>{const t=o.useContext(Mr);return o.useMemo(()=>e?"string"==typeof e?null!=e?e:t:"function"==typeof e?e(t):t:t,[e,t])};function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(_s(e)):Fr(e)&&e.props?n=n.concat(_s(e.props.children,t)):n.push(e))}),n}const Cs=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},ks=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Ms=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},Ts=hs("Space",e=>{const t=is(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[ks(t),Ms(t),Cs(t)]},()=>({}),{resetStyle:!1});var Ps=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Rs=o.createContext(null),As=(e,t)=>{const n=o.useContext(Rs),r=o.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:o,isLastItem:i}=n,a="vertical"===r?"-vertical-":"-";return $r()(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:o,[`${e}-compact${a}last-item`]:i,[`${e}-compact${a}item-rtl`]:"rtl"===t})},[e,t,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:r}},$s=e=>{const{children:t}=e;return o.createElement(Rs.Provider,{value:null},t)},Ns=e=>{const{children:t}=e,n=Ps(e,["children"]);return o.createElement(Rs.Provider,{value:o.useMemo(()=>n,[n])},t)};const Is=o.createContext(void 0),Ds=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Ls=/^[\u4E00-\u9FA5]{2}$/,zs=Ls.test.bind(Ls);function js(e){return"danger"===e?{danger:!0}:{type:e}}function Bs(e){return"string"==typeof e}function Fs(e){return"text"===e||"link"===e}["default","primary","danger"].concat(R(Ds));const Us={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var Hs=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Us}))};const Qs=o.forwardRef(Hs),Vs=(0,o.forwardRef)((e,t)=>{const{className:n,style:r,children:i,prefixCls:a}=e,s=$r()(`${a}-icon`,n);return o.createElement("span",{ref:t,className:s,style:r},i)}),Ws=Vs,Gs=(0,o.forwardRef)((e,t)=>{const{prefixCls:n,className:r,style:i,iconClassName:a}=e,s=$r()(`${n}-loading-icon`,r);return o.createElement(Ws,{prefixCls:n,className:s,style:i,ref:t},o.createElement(Qs,{className:a}))}),Xs=()=>({width:0,opacity:0,transform:"scale(0)"}),qs=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),Zs=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:a,mount:s}=e,l=!!n;return r?o.createElement(Gs,{prefixCls:t,className:i,style:a}):o.createElement(ai,{visible:l,motionName:`${t}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:Xs,onAppearActive:qs,onEnterStart:Xs,onEnterActive:qs,onLeaveStart:qs,onLeaveActive:Xs},({className:e,style:n},r)=>{const s=Object.assign(Object.assign({},a),n);return o.createElement(Gs,{prefixCls:t,className:$r()(i,e),style:s,ref:r})})},Ys=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Ks=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:o,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},Ys(`${t}-primary`,o),Ys(`${t}-danger`,i)]}};var Js,el=["b"],tl=["v"],nl=function(e){return Math.round(Number(e||0))},rl=function(e){eo(n,e);var t=oo(n);function n(e){return me(this,n),t.call(this,function(e){if(e instanceof Rn)return e;if(e&&"object"===j(e)&&"h"in e&&"b"in e){var t=e,n=t.b;return W(W({},qr(t,el)),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return ve(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=nl(100*e.s),n=nl(100*e.b),r=nl(e.h),o=e.a,i="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),a="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?i:a}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return W(W({},qr(e,tl)),{},{b:t,a:this.a})}}]),n}(Rn);(Js="#1677ff")instanceof rl||new rl(Js);let ol=function(){return ve(function e(t){var n;if(me(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map(t=>({color:new e(t.color),percent:t.percent})),void(this.cleared=t.cleared);const r=Array.isArray(t);r&&t.length?(this.colors=t.map(({color:t,percent:n})=>({color:new e(t),percent:n})),this.metaColor=new rl(this.colors[0].color.metaColor)):this.metaColor=new rl(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)},[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null==e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;return e?`linear-gradient(90deg, ${e.map(e=>`${e.color.toRgbString()} ${e.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,n)=>{const r=e.colors[n];return t.percent===r.percent&&t.color.equals(r.color)}):this.toHexString()===e.toHexString())}}])}();const il=e=>{const{paddingInline:t,onlyIconSize:n}=e;return is(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},al=e=>{var t,n,r,o,i,a;const s=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(o=e.contentLineHeight)&&void 0!==o?o:fr(s),d=null!==(i=e.contentLineHeightSM)&&void 0!==i?i:fr(l),h=null!==(a=e.contentLineHeightLG)&&void 0!==a?a:fr(c),f=((e,t)=>{const{r:n,g:r,b:o,a:i}=e.toRgb(),a=new rl(e.toRgbString()).onBackground(t).toHsv();return i<=.5?a.v>.5:.299*n+.587*r+.114*o>192})(new ol(e.colorBgSolid),"#fff")?"#000":"#fff",p=Ds.reduce((t,n)=>Object.assign(Object.assign({},t),{[`${n}ShadowColor`]:`0 ${Le(e.controlOutlineWidth)} 0 ${li(e[`${n}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:f,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-s*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*h)/2-e.lineWidth,0)})},sl=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:o,motionDurationSlow:i,motionEaseInOut:a,marginXS:s,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}},"> a":{color:"currentColor"},"&:not(:disabled)":wi(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:o,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(e=>`${e} ${i} ${a}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(s).mul(-1).equal()}}}}}},ll=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),cl=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),ul=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),dl=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),hl=(e,t,n,r,o,i,a,s)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},ll(e,Object.assign({background:t},a),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:i||void 0}})}),fl=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},dl(e))}),pl=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),ml=(e,t,n,r)=>{const o=r&&["link","text"].includes(r)?pl:fl;return Object.assign(Object.assign({},o(e)),ll(e.componentCls,t,n))},gl=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},ml(e,r,o))}),vl=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},ml(e,r,o))}),bl=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),yl=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},ml(e,n,r))}),xl=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},ml(e,r,o,n))}),Ol=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},gl(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),bl(e)),yl(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),hl(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),xl(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),wl=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},vl(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),bl(e)),yl(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),xl(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),xl(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),hl(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Sl=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},gl(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),vl(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),bl(e)),yl(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),xl(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),xl(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),hl(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),El=e=>Object.assign(Object.assign({},xl(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),hl(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),_l=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Ol(e),[`${t}-color-primary`]:wl(e),[`${t}-color-dangerous`]:Sl(e),[`${t}-color-link`]:El(e)},(e=>{const{componentCls:t}=e;return Ds.reduce((n,r)=>{const o=e[`${r}6`],i=e[`${r}1`],a=e[`${r}5`],s=e[`${r}2`],l=e[`${r}3`],c=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:o,boxShadow:e[`${r}ShadowColor`]},gl(e,e.colorTextLightSolid,o,{background:a},{background:c})),vl(e,o,e.colorBgContainer,{color:a,borderColor:a,background:e.colorBgContainer},{color:c,borderColor:c,background:e.colorBgContainer})),bl(e)),yl(e,i,{background:s},{background:l})),xl(e,o,"link",{color:a},{color:c})),xl(e,o,"text",{color:a,background:i},{color:c,background:l}))})},{})})(e))},Cl=e=>Object.assign(Object.assign(Object.assign(Object.assign({},vl(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),xl(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),gl(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),xl(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),kl=(e,t="")=>{const{componentCls:n,controlHeight:r,fontSize:o,borderRadius:i,buttonPaddingHorizontal:a,iconCls:s,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=e;return[{[t]:{fontSize:o,height:r,padding:`${Le(l)} ${Le(a)}`,borderRadius:i,[`&${n}-icon-only`]:{width:r,[s]:{fontSize:c}}}},{[`${n}${n}-circle${t}`]:cl(e)},{[`${n}${n}-round${t}`]:ul(e)}]},Ml=e=>{const t=is(e,{fontSize:e.contentFontSize});return kl(t,e.componentCls)},Tl=e=>{const t=is(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return kl(t,`${e.componentCls}-sm`)},Pl=e=>{const t=is(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return kl(t,`${e.componentCls}-lg`)},Rl=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},Al=hs("Button",e=>{const t=il(e);return[sl(t),Ml(t),Tl(t),Pl(t),Rl(t),_l(t),Cl(t),Ks(t)]},al,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function $l(e,t,n){const{focusElCls:r,focus:o,borderElCls:i}=n,a=i?"> *":"",s=["hover",o?"focus":null,"active"].filter(Boolean).map(e=>`&:${e} ${a}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function Nl(e,t,n){const{borderElCls:r}=n,o=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Il(e,t={focus:!0}){const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},$l(e,r,t)),Nl(n,r,t))}}function Dl(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Ll(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Dl(e,t)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const zl=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:o}=e,i=o(r).mul(-1).equal(),a=e=>{const o=`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${o} + ${o}::before`]:{position:"absolute",top:e?i:0,insetInlineStart:e?0:i,backgroundColor:n,content:'""',width:e?"100%":r,height:e?r:"100%"}}};return Object.assign(Object.assign({},a()),a(!0))},jl=ps(["Button","compact"],e=>{const t=il(e);return[Il(t),Ll(t),zl(t)]},al);const Bl={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Fl=o.forwardRef((e,t)=>{var n,r;const{loading:i=!1,prefixCls:a,color:s,variant:l,type:c,danger:u=!1,shape:d="default",size:h,styles:f,disabled:p,className:m,rootClassName:g,children:v,icon:b,iconPosition:y="start",ghost:x=!1,block:O=!1,htmlType:w="button",classNames:S,style:E={},autoInsertSpace:_,autoFocus:C}=e,k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),M=c||"default",{button:T}=o.useContext(I),[P,R]=(0,o.useMemo)(()=>{if(s&&l)return[s,l];if(c||u){const e=Bl[M]||[];return u?["danger",e[1]]:e}return(null==T?void 0:T.color)&&(null==T?void 0:T.variant)?[T.color,T.variant]:["default","outlined"]},[c,s,l,u,null==T?void 0:T.variant,null==T?void 0:T.color]),A="danger"===P?"dangerous":P,{getPrefixCls:$,direction:N,autoInsertSpace:D,className:L,style:j,classNames:B,styles:F}=z("button"),U=null===(n=null!=_?_:D)||void 0===n||n,H=$("btn",a),[Q,V,W]=Al(H),G=(0,o.useContext)(_r),X=null!=p?p:G,q=(0,o.useContext)(Is),Z=(0,o.useMemo)(()=>function(e){if("object"==typeof e&&e){let t=null==e?void 0:e.delay;return t=Number.isNaN(t)||"number"!=typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(i),[i]),[Y,K]=(0,o.useState)(Z.loading),[J,ee]=(0,o.useState)(!1),te=(0,o.useRef)(null),ne=Vr(t,te),re=1===o.Children.count(v)&&!b&&!Fs(R),oe=(0,o.useRef)(!0);o.useEffect(()=>(oe.current=!1,()=>{oe.current=!0}),[]),(0,o.useLayoutEffect)(()=>{let e=null;return Z.delay>0?e=setTimeout(()=>{e=null,K(!0)},Z.delay):K(Z.loading),function(){e&&(clearTimeout(e),e=null)}},[Z.delay,Z.loading]),(0,o.useEffect)(()=>{if(!te.current||!U)return;const e=te.current.textContent||"";re&&zs(e)?J||ee(!0):J&&ee(!1)}),(0,o.useEffect)(()=>{C&&te.current&&te.current.focus()},[]);const ie=o.useCallback(t=>{var n;Y||X?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)},[e.onClick,Y,X]),{compactSize:ae,compactItemClassnames:se}=As(H,N),le=Es(e=>{var t,n;return null!==(n=null!==(t=null!=h?h:ae)&&void 0!==t?t:q)&&void 0!==n?n:e}),ce=le&&null!==(r={large:"lg",small:"sm",middle:void 0}[le])&&void 0!==r?r:"",ue=Y?"loading":b,de=Va(k,["navigate"]),he=$r()(H,V,W,{[`${H}-${d}`]:"default"!==d&&d,[`${H}-${M}`]:M,[`${H}-dangerous`]:u,[`${H}-color-${A}`]:A,[`${H}-variant-${R}`]:R,[`${H}-${ce}`]:ce,[`${H}-icon-only`]:!v&&0!==v&&!!ue,[`${H}-background-ghost`]:x&&!Fs(R),[`${H}-loading`]:Y,[`${H}-two-chinese-chars`]:J&&U&&!Y,[`${H}-block`]:O,[`${H}-rtl`]:"rtl"===N,[`${H}-icon-end`]:"end"===y},se,m,g,L),fe=Object.assign(Object.assign({},j),E),pe=$r()(null==S?void 0:S.icon,B.icon),me=Object.assign(Object.assign({},(null==f?void 0:f.icon)||{}),F.icon||{}),ge=b&&!Y?o.createElement(Ws,{prefixCls:H,className:pe,style:me},b):i&&"object"==typeof i&&i.icon?o.createElement(Ws,{prefixCls:H,className:pe,style:me},i.icon):o.createElement(Zs,{existIcon:!!b,prefixCls:H,loading:Y,mount:oe.current}),ve=v||0===v?function(e,t){let n=!1;const r=[];return o.Children.forEach(e,e=>{const t=typeof e,o="string"===t||"number"===t;if(n&&o){const t=r.length-1,n=r[t];r[t]=`${n}${e}`}else r.push(e);n=o}),o.Children.map(r,e=>function(e,t){if(null==e)return;const n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&Bs(e.type)&&zs(e.props.children)?Xa(e,{children:e.props.children.split("").join(n)}):Bs(e)?zs(e)?o.createElement("span",null,e.split("").join(n)):o.createElement("span",null,e):Ga(e)?o.createElement("span",null,e):e}(e,t))}(v,re&&U):null;if(void 0!==de.href)return Q(o.createElement("a",Object.assign({},de,{className:$r()(he,{[`${H}-disabled`]:X}),href:X?void 0:de.href,style:fe,onClick:ie,ref:ne,tabIndex:X?-1:0}),ge,ve));let be=o.createElement("button",Object.assign({},k,{type:w,className:he,style:fe,onClick:ie,disabled:X,ref:ne}),ge,ve,se&&o.createElement(jl,{prefixCls:H}));return Fs(R)||(be=o.createElement(Ss,{component:"Button",disabled:Y},be)),Q(be)}),Ul=Fl;Ul.Group=e=>{const{getPrefixCls:t,direction:n}=o.useContext(I),{prefixCls:r,size:i,className:a}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","className"]),l=t("btn-group",r),[,,c]=mi(),u=o.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),d=$r()(l,{[`${l}-${u}`]:u,[`${l}-rtl`]:"rtl"===n},a,c);return o.createElement(Is.Provider,{value:i},o.createElement("div",Object.assign({},s,{className:d})))},Ul.__ANT_BUTTON=!0;const Hl=Ul;function Ql(e){return!!(null==e?void 0:e.then)}const Vl=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:a,autoFocus:s,emitEvent:l,isSilent:c,quitOnNullishReturnValue:u,actionFn:d}=e,h=o.useRef(!1),f=o.useRef(null),[p,m]=so(!1),g=(...e)=>{null==a||a.apply(void 0,e)};return o.useEffect(()=>{let e=null;return s&&(e=setTimeout(()=>{var e;null===(e=f.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[]),o.createElement(Hl,Object.assign({},js(t),{onClick:e=>{if(h.current)return;if(h.current=!0,!d)return void g();let t;if(l){if(t=d(e),u&&!Ql(t))return h.current=!1,void g(e)}else if(d.length)t=d(a),h.current=!1;else if(t=d(),!Ql(t))return void g();(e=>{Ql(e)&&(m(!0),e.then((...e)=>{m(!1,!0),g.apply(void 0,e),h.current=!1},e=>{if(m(!1,!0),h.current=!1,!(null==c?void 0:c()))return Promise.reject(e)}))})(t)},loading:p,prefixCls:r},i,{ref:f}),n)},Wl=o.createContext({}),{Provider:Gl}=Wl,Xl=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:a,close:s,onCancel:l,onConfirm:c}=(0,o.useContext)(Wl);return i?o.createElement(Vl,{isSilent:r,actionFn:l,close:(...e)=>{null==s||s.apply(void 0,e),null==c||c(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:`${a}-btn`},n):null},ql=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:a,okType:s,onConfirm:l,onOk:c}=(0,o.useContext)(Wl);return o.createElement(Vl,{isSilent:n,type:s||"primary",actionFn:c,close:(...e)=>{null==t||t.apply(void 0,e),null==l||l(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:`${i}-btn`},a)},Zl={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var Yl=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Zl}))};const Kl=o.forwardRef(Yl),Jl=o.createContext(null);var ec=[];var tc="rc-util-locker-".concat(Date.now()),nc=0;function rc(e){var t=!!e,n=Q(o.useState(function(){return nc+=1,"".concat(tc,"_").concat(nc)}),1)[0];Ve(function(){if(t){var e=(o=document.body,"undefined"!=typeof document&&o&&o instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";ie("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(e){console.error(e),r=l,o=c}}document.body.appendChild(n);var h=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),oe(t),{width:h,height:f}}(o):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;ie("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else oe(n);var o;return function(){oe(n)}},[t,n])}var oc=!1,ic=function(e){return!1!==e&&(X()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},ac=o.forwardRef(function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer,a=(e.debug,e.autoDestroy),l=void 0===a||a,c=e.children,u=Q(o.useState(n),2),d=u[0],h=u[1],f=d||n;o.useEffect(function(){(l||n)&&h(n)},[n,l]);var p=Q(o.useState(function(){return ic(i)}),2),m=p[0],g=p[1];o.useEffect(function(){var e=ic(i);g(null!=e?e:null)});var v=function(e){var t=Q(o.useState(function(){return X()?document.createElement("div"):null}),1)[0],n=o.useRef(!1),r=o.useContext(Jl),i=Q(o.useState(ec),2),a=i[0],s=i[1],l=r||(n.current?void 0:function(e){s(function(t){return[e].concat(R(t))})});function c(){t.parentElement||document.body.appendChild(t),n.current=!0}function u(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return Ve(function(){return e?r?r(c):c():u(),u},[e]),Ve(function(){a.length&&(a.forEach(function(e){return e()}),s(ec))},[a]),[t,l]}(f&&!m),b=Q(v,2),y=b[0],x=b[1],O=null!=m?m:y;rc(r&&n&&X()&&(O===y||O===document.body));var w=null;c&&Wr(c)&&t&&(w=c.ref);var S=Vr(w,t);if(!f||!X()||void 0===m)return null;var E=!1===O||oc,_=c;return t&&(_=o.cloneElement(c,{ref:S})),o.createElement(Jl.Provider,{value:x},E?_:(0,s.createPortal)(_,O))});const sc=ac;var lc=o.createContext({}),cc=0,uc=W({},i).useId;const dc=uc?function(e){var t=uc();return e||t}:function(e){var t=Q(o.useState("ssr-id"),2),n=t[0],r=t[1];return o.useEffect(function(){var e=cc;cc+=1,r("rc_unique_".concat(e))},[]),e||n};var hc={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=hc.F1&&t<=hc.F12)return!1;switch(t){case hc.ALT:case hc.CAPS_LOCK:case hc.CONTEXT_MENU:case hc.CTRL:case hc.DOWN:case hc.END:case hc.ESC:case hc.HOME:case hc.INSERT:case hc.LEFT:case hc.MAC_FF_META:case hc.META:case hc.NUMLOCK:case hc.NUM_CENTER:case hc.PAGE_DOWN:case hc.PAGE_UP:case hc.PAUSE:case hc.PRINT_SCREEN:case hc.RIGHT:case hc.SHIFT:case hc.UP:case hc.WIN_KEY:case hc.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=hc.ZERO&&e<=hc.NINE)return!0;if(e>=hc.NUM_ZERO&&e<=hc.NUM_MULTIPLY)return!0;if(e>=hc.A&&e<=hc.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case hc.SPACE:case hc.QUESTION_MARK:case hc.NUM_PLUS:case hc.NUM_MINUS:case hc.NUM_PERIOD:case hc.NUM_DIVISION:case hc.SEMICOLON:case hc.DASH:case hc.EQUALS:case hc.COMMA:case hc.PERIOD:case hc.SLASH:case hc.APOSTROPHE:case hc.SINGLE_QUOTE:case hc.OPEN_SQUARE_BRACKET:case hc.BACKSLASH:case hc.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const fc=hc;var pc="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function mc(e,t){return 0===e.indexOf(t)}function gc(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:W({},n);var r={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||mc(n,"aria-"))||t.data&&mc(n,"data-")||t.attr&&pc.includes(n))&&(r[n]=e[n])}),r}function vc(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function bc(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}const yc=o.memo(function(e){return e.children},function(e,t){return!t.shouldUpdate});var xc={width:0,height:0,overflow:"hidden",outline:"none"},Oc={outline:"none"},wc=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.title,s=e.ariaId,l=e.footer,c=e.closable,u=e.closeIcon,d=e.onClose,h=e.children,f=e.bodyStyle,p=e.bodyProps,m=e.modalRender,g=e.onMouseDown,v=e.onMouseUp,b=e.holderRef,y=e.visible,x=e.forceRender,O=e.width,w=e.height,S=e.classNames,E=e.styles,_=o.useContext(lc).panel,C=Vr(b,_),k=(0,o.useRef)(),M=(0,o.useRef)();o.useImperativeHandle(t,function(){return{focus:function(){var e;null===(e=k.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===M.current?k.current.focus({preventScroll:!0}):e||t!==k.current||M.current.focus({preventScroll:!0})}}});var T={};void 0!==O&&(T.width=O),void 0!==w&&(T.height=w);var P=l?o.createElement("div",{className:$r()("".concat(n,"-footer"),null==S?void 0:S.footer),style:W({},null==E?void 0:E.footer)},l):null,R=a?o.createElement("div",{className:$r()("".concat(n,"-header"),null==S?void 0:S.header),style:W({},null==E?void 0:E.header)},o.createElement("div",{className:"".concat(n,"-title"),id:s},a)):null,A=(0,o.useMemo)(function(){return"object"===j(c)&&null!==c?c:c?{closeIcon:null!=u?u:o.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[c,u,n]),$=gc(A,!0),N="object"===j(c)&&c.disabled,I=c?o.createElement("button",et({type:"button",onClick:d,"aria-label":"Close"},$,{className:"".concat(n,"-close"),disabled:N}),A.closeIcon):null,D=o.createElement("div",{className:$r()("".concat(n,"-content"),null==S?void 0:S.content),style:null==E?void 0:E.content},I,R,o.createElement("div",et({className:$r()("".concat(n,"-body"),null==S?void 0:S.body),style:W(W({},f),null==E?void 0:E.body)},p),h),P);return o.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?s:null,"aria-modal":"true",ref:C,style:W(W({},i),T),className:$r()(n,r),onMouseDown:g,onMouseUp:v},o.createElement("div",{ref:k,tabIndex:0,style:Oc},o.createElement(yc,{shouldUpdate:y||x},m?m(D):D)),o.createElement("div",{tabIndex:0,ref:M,style:xc}))});const Sc=wc;var Ec=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,a=e.className,s=e.visible,l=e.forceRender,c=e.destroyOnClose,u=e.motionName,d=e.ariaId,h=e.onVisibleChanged,f=e.mousePosition,p=(0,o.useRef)(),m=Q(o.useState(),2),g=m[0],v=m[1],b={};function y(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=bc(o),n.top+=bc(o,!0),n}(p.current);v(f&&(f.x||f.y)?"".concat(f.x-e.left,"px ").concat(f.y-e.top,"px"):"")}return g&&(b.transformOrigin=g),o.createElement(ai,{visible:s,onVisibleChanged:h,onAppearPrepare:y,onEnterPrepare:y,forceRender:l,motionName:u,removeOnLeave:c,ref:p},function(s,l){var c=s.className,u=s.style;return o.createElement(Sc,et({},e,{ref:t,title:r,ariaId:d,prefixCls:n,holderRef:l,style:W(W(W({},u),i),b),className:$r()(a,c)}))})});Ec.displayName="Content";const _c=Ec,Cc=function(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,a=e.motionName,s=e.className;return o.createElement(ai,{key:"mask",visible:r,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},function(e,r){var a=e.className,l=e.style;return o.createElement("div",et({ref:r,style:W(W({},l),n),className:$r()("".concat(t,"-mask"),a,s)},i))})},kc=function(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,i=e.visible,a=void 0!==i&&i,s=e.keyboard,l=void 0===s||s,c=e.focusTriggerAfterClose,u=void 0===c||c,d=e.wrapStyle,h=e.wrapClassName,f=e.wrapProps,p=e.onClose,m=e.afterOpenChange,g=e.afterClose,v=e.transitionName,b=e.animation,y=e.closable,x=void 0===y||y,O=e.mask,w=void 0===O||O,S=e.maskTransitionName,E=e.maskAnimation,_=e.maskClosable,C=void 0===_||_,k=e.maskStyle,M=e.maskProps,T=e.rootClassName,P=e.classNames,R=e.styles,A=(0,o.useRef)(),$=(0,o.useRef)(),N=(0,o.useRef)(),I=Q(o.useState(a),2),D=I[0],L=I[1],z=dc();function j(e){null==p||p(e)}var B=(0,o.useRef)(!1),F=(0,o.useRef)(),U=null;C&&(U=function(e){B.current?B.current=!1:$.current===e.target&&j(e)}),(0,o.useEffect)(function(){a&&(L(!0),q($.current,document.activeElement)||(A.current=document.activeElement))},[a]),(0,o.useEffect)(function(){return function(){clearTimeout(F.current)}},[]);var H=W(W(W({zIndex:r},d),null==R?void 0:R.wrapper),{},{display:D?null:"none"});return o.createElement("div",et({className:$r()("".concat(n,"-root"),T)},gc(e,{data:!0})),o.createElement(Cc,{prefixCls:n,visible:w&&a,motionName:vc(n,S,E),style:W(W({zIndex:r},k),null==R?void 0:R.mask),maskProps:M,className:null==P?void 0:P.mask}),o.createElement("div",et({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===fc.ESC)return e.stopPropagation(),void j(e);a&&e.keyCode===fc.TAB&&N.current.changeActive(!e.shiftKey)},className:$r()("".concat(n,"-wrap"),h,null==P?void 0:P.wrapper),ref:$,onClick:U,style:H},f),o.createElement(_c,et({},e,{onMouseDown:function(){clearTimeout(F.current),B.current=!0},onMouseUp:function(){F.current=setTimeout(function(){B.current=!1})},ref:N,closable:x,ariaId:z,prefixCls:n,visible:a&&D,onClose:j,onVisibleChanged:function(e){if(e)q($.current,document.activeElement)||null===(t=N.current)||void 0===t||t.focus();else{if(L(!1),w&&A.current&&u){try{A.current.focus({preventScroll:!0})}catch(e){}A.current=null}D&&(null==g||g())}var t;null==m||m(e)},motionName:vc(n,v,b)}))))};var Mc=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,i=e.destroyOnClose,a=void 0!==i&&i,s=e.afterClose,l=e.panelRef,c=Q(o.useState(t),2),u=c[0],d=c[1],h=o.useMemo(function(){return{panel:l}},[l]);return o.useEffect(function(){t&&d(!0)},[t]),r||!a||u?o.createElement(lc.Provider,{value:h},o.createElement(sc,{open:t||r||u,autoDestroy:!1,getContainer:n,autoLock:t||u},o.createElement(kc,et({},e,{destroyOnClose:a,afterClose:function(){null==s||s(),d(!1)}})))):null};Mc.displayName="Dialog";const Tc=Mc;var Pc="RC_FORM_INTERNAL_HOOKS",Rc=function(){fe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const Ac=o.createContext({getFieldValue:Rc,getFieldsValue:Rc,getFieldError:Rc,getFieldWarning:Rc,getFieldsError:Rc,isFieldsTouched:Rc,isFieldTouched:Rc,isFieldValidating:Rc,isFieldsValidating:Rc,resetFields:Rc,setFields:Rc,setFieldValue:Rc,setFieldsValue:Rc,validateFields:Rc,submit:Rc,getInternalHooks:function(){return Rc(),{dispatch:Rc,initEntityValue:Rc,registerField:Rc,useSubscribe:Rc,setInitialValues:Rc,destroyForm:Rc,setCallbacks:Rc,registerWatch:Rc,getFields:Rc,setValidateMessages:Rc,setPreserve:Rc,getInitialValue:Rc}}}),$c=o.createContext(null);function Nc(e){return null==e?[]:Array.isArray(e)?e:[e]}function Ic(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Dc=Ic();function Lc(e){var t="function"==typeof Map?new Map:void 0;return Lc=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(no())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&Jr(o,n.prototype),o}(e,arguments,to(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Jr(n,e)},Lc(e)}var zc=/%[sdj%]/g;function jc(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(zc,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(e){return"[Circular]"}default:return e}}):e}function Fc(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function Uc(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}([])}"undefined"!=typeof process&&process.env;var Hc=function(e){eo(n,e);var t=oo(n);function n(e,r){var o;return me(this,n),F(ro(o=t.call(this,"Async Validation Error")),"errors",void 0),F(ro(o),"fields",void 0),o.errors=e,o.fields=r,o}return ve(n)}(Lc(Error));function Qc(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Vc(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===j(r)&&"object"===j(e[n])?e[n]=W(W({},e[n]),r):e[n]=r}return e}var Wc="enum";const Gc=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!Fc(t,i||e.type)||r.push(Bc(o.messages.required,e.fullField))};var Xc,qc=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Zc=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Yc={integer:function(e){return Yc.number(e)&&parseInt(e,10)===e},float:function(e){return Yc.number(e)&&!Yc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===j(e)&&!Yc.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(qc)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(Xc)return Xc;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:".concat(o.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(i,"$)")),s=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(i,"$")),c=function(e){return e&&e.exact?a:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(i).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")};var u=c.v4().source,d=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return Xc=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(Zc)}};const Kc=Gc,Jc=function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Bc(o.messages.whitespace,e.fullField))},eu=function(e,t,n,r,o){if(e.required&&void 0===t)Gc(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Yc[i](t)||r.push(Bc(o.messages.types[i],e.fullField,e.type)):i&&j(t)!==e.type&&r.push(Bc(o.messages.types[i],e.fullField,e.type))}},tu=function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,c=null,u="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(Bc(o.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(Bc(o.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(Bc(o.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(Bc(o.messages[c].range,e.fullField,e.min,e.max))},nu=function(e,t,n,r,o){e[Wc]=Array.isArray(e[Wc])?e[Wc]:[],-1===e[Wc].indexOf(t)&&r.push(Bc(o.messages[Wc],e.fullField,e[Wc].join(", ")))},ru=function(e,t,n,r,o){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Bc(o.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(Bc(o.messages.pattern.mismatch,e.fullField,t,e.pattern))))},ou=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t,i)&&!e.required)return n();Kc(e,t,r,a,o,i),Fc(t,i)||eu(e,t,r,a,o)}n(a)},iu={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t,"string")&&!e.required)return n();Kc(e,t,r,i,o,"string"),Fc(t,"string")||(eu(e,t,r,i,o),tu(e,t,r,i,o),ru(e,t,r,i,o),!0===e.whitespace&&Jc(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&eu(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&(eu(e,t,r,i,o),tu(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&eu(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),Fc(t)||eu(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&(eu(e,t,r,i,o),tu(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&(eu(e,t,r,i,o),tu(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Kc(e,t,r,i,o,"array"),null!=t&&(eu(e,t,r,i,o),tu(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&eu(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o),void 0!==t&&nu(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t,"string")&&!e.required)return n();Kc(e,t,r,i,o),Fc(t,"string")||ru(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t,"date")&&!e.required)return n();var a;Kc(e,t,r,i,o),Fc(t,"date")||(a=t instanceof Date?t:new Date(t),eu(e,a,r,i,o),a&&tu(e,a.getTime(),r,i,o))}n(i)},url:ou,hex:ou,email:ou,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":j(t);Kc(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fc(t)&&!e.required)return n();Kc(e,t,r,i,o)}n(i)}};var au=function(){function e(t){me(this,e),F(this,"rules",null),F(this,"_messages",Dc),this.define(t)}return ve(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==j(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})}},{key:"messages",value:function(e){return e&&(this._messages=Vc(Ic(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"==typeof o&&(i=o,o={}),!this.rules||0===Object.keys(this.rules).length)return i&&i(null,r),Promise.resolve(r);if(o.messages){var a=this.messages();a===Dc&&(a=Ic()),Vc(a,o.messages),o.messages=a}else o.messages=this.messages();var s={};(o.keys||Object.keys(this.rules)).forEach(function(e){var o=n.rules[e],i=r[e];o.forEach(function(o){var a=o;"function"==typeof a.transform&&(r===t&&(r=W({},r)),null!=(i=r[e]=a.transform(i))&&(a.type=a.type||(Array.isArray(i)?"array":j(i)))),(a="function"==typeof a?{validator:a}:W({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=n.getType(a),s[e]=s[e]||[],s[e].push({rule:a,value:i,source:r,field:e}))})});var l={};return function(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,R(e[n]||[]))}),t}(e);Uc(a,n,function(e){return r(e),e.length?i(new Hc(e,jc(e))):t(o)})});return i.catch(function(e){return e}),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise(function(t,i){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?i(new Hc(u,jc(u))):t(o)};s.length||(r(u),t(o)),s.forEach(function(t){var r=e[t];-1!==a.indexOf(t)?Uc(r,n,d):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,R(e||[])),++o===i&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,d)})});return d.catch(function(e){return e}),d}(s,o,function(t,n){var i,a=t.rule,s=!("object"!==a.type&&"array"!==a.type||"object"!==j(a.fields)&&"object"!==j(a.defaultField));function c(e,t){return W(W({},t),{},{fullField:"".concat(a.fullField,".").concat(e),fullFields:a.fullFields?[].concat(R(a.fullFields),[e]):[e]})}function u(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(i)?i:[i];!o.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var d=u.map(Qc(a,r));if(o.first&&d.length)return l[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(Qc(a,r)):o.error&&(d=[o.error(a,Bc(o.messages.required,a.field))]),n(d);var h={};a.defaultField&&Object.keys(t.value).map(function(e){h[e]=a.defaultField}),h=W(W({},h),t.rule.fields);var f={};Object.keys(h).forEach(function(e){var t=h[e],n=Array.isArray(t)?t:[t];f[e]=n.map(c.bind(null,e))});var p=new e(f);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,function(e){var t=[];d&&d.length&&t.push.apply(t,R(d)),e&&e.length&&t.push.apply(t,R(e)),n(t.length?t:null)})}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)i=a.asyncValidator(a,t.value,u,t.source,o);else if(a.validator){try{i=a.validator(a,t.value,u,t.source,o)}catch(e){var d,h;null===(d=(h=console).error)||void 0===d||d.call(h,e),o.suppressValidatorError||setTimeout(function(){throw e},0),u(e.message)}!0===i?u():!1===i?u("function"==typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):i instanceof Array?u(i):i instanceof Error&&u(i.message)}i&&i.then&&i.then(function(){return u()},function(e){return u(e)})},function(e){!function(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,R(e)):t.push(e)}for(var a=0;a<e.length;a++)o(e[a]);t.length?(n=jc(t),i(t,n)):i(null,r)}(e)},r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!iu.hasOwnProperty(e.type))throw new Error(Bc("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?iu.required:iu[this.getType(e)]||void 0}}]),e}();F(au,"register",function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");iu[e]=t}),F(au,"warning",function(){}),F(au,"messages",Dc),F(au,"validators",iu);var su="'${name}' is not a valid ${type}",lu={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:su,method:su,array:su,object:su,number:su,date:su,boolean:su,integer:su,float:su,regexp:su,email:su,url:su,hex:su},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},cu=au;function uu(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var du="CODE_LOGIC_ERROR";function hu(e,t,n,r,o){return fu.apply(this,arguments)}function fu(){return fu=Wi(Qi().mark(function e(t,n,r,i,a){var s,l,c,u,d,h,f,p,m;return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=W({},r)).ruleIndex,cu.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(du)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new cu(F({},t,[s])),d=un(lu,i.validateMessages),u.messages(d),h=[],e.prev=10,e.next=13,Promise.resolve(u.validate(F({},t,n),W({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(h=e.t0.errors.map(function(e,t){var n=e.message,r=n===du?d.default:n;return o.isValidElement(r)?o.cloneElement(r,{key:"error_".concat(t)}):r}));case 18:if(h.length||!c){e.next=23;break}return e.next=21,Promise.all(n.map(function(e,n){return hu("".concat(t,".").concat(n),e,c,i,a)}));case 21:return f=e.sent,e.abrupt("return",f.reduce(function(e,t){return[].concat(R(e),R(t))},[]));case 23:return p=W(W({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),m=h.map(function(e){return"string"==typeof e?uu(e,p):e}),e.abrupt("return",m);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),fu.apply(this,arguments)}function pu(e,t,n,r,o,i){var a,s=e.join("."),l=n.map(function(e,t){var n=e.validator,r=W(W({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){fe(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)})});o=i&&"function"==typeof i.then&&"function"==typeof i.catch,fe(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n==!!o?r-i:n?1:-1});if(!0===o)a=new Promise(function(){var e=Wi(Qi().mark(function e(n,o){var a,c,u;return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return c=l[a],e.next=5,hu(s,t,c,r,i);case 5:if(!(u=e.sent).length){e.next=9;break}return o([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map(function(e){return hu(s,t,e,r,i).then(function(t){return{errors:t,rule:e}})});a=(o?function(e){return gu.apply(this,arguments)}(c):function(e){return mu.apply(this,arguments)}(c)).then(function(e){return Promise.reject(e)})}return a.catch(function(e){return e}),a}function mu(){return(mu=Wi(Qi().mark(function e(t){return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,R(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gu(){return(gu=Wi(Qi().mark(function e(t){var n;return Qi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vu(e){return Nc(e)}function bu(e,t){var n={};return t.forEach(function(t){var r=on(e,t);n=sn(n,t,r)}),n}function yu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return xu(t,e,n)})}function xu(e,t){return!(!e||!t)&&!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t})}function Ou(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===j(t.target)&&e in t.target?t.target[e]:t}function wu(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat(R(e.slice(0,n)),[o],R(e.slice(n,t)),R(e.slice(t+1,r))):i<0?[].concat(R(e.slice(0,t)),R(e.slice(t+1,n+1)),[o],R(e.slice(n+1,r))):e}var Su=["name"],Eu=[];function _u(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var Cu=function(e){eo(n,e);var t=oo(n);function n(e){var r;return me(this,n),F(ro(r=t.call(this,e)),"state",{resetCount:0}),F(ro(r),"cancelRegisterFunc",null),F(ro(r),"mounted",!1),F(ro(r),"touched",!1),F(ro(r),"dirty",!1),F(ro(r),"validatePromise",void 0),F(ro(r),"prevValidating",void 0),F(ro(r),"errors",Eu),F(ro(r),"warnings",Eu),F(ro(r),"cancelRegister",function(){var e=r.props,t=e.preserve,n=e.isListField,o=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,vu(o)),r.cancelRegisterFunc=null}),F(ro(r),"getNamePath",function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(R(void 0===n?[]:n),R(t)):[]}),F(ro(r),"getRules",function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map(function(e){return"function"==typeof e?e(o):e})}),F(ro(r),"refresh",function(){r.mounted&&r.setState(function(e){return{resetCount:e.resetCount+1}})}),F(ro(r),"metaCache",null),F(ro(r),"triggerMetaEvent",function(e){var t=r.props.onMetaChange;if(t){var n=W(W({},r.getMeta()),{},{destroy:e});pe(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null}),F(ro(r),"onStoreChange",function(e,t,n){var o=r.props,i=o.shouldUpdate,a=o.dependencies,s=void 0===a?[]:a,l=o.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),h=r.getValue(c),f=t&&yu(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||pe(d,h)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Eu,r.warnings=Eu,r.triggerMetaEvent()),n.type){case"reset":if(!t||f)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Eu,r.warnings=Eu,r.triggerMetaEvent(),null==l||l(),void r.refresh();break;case"remove":if(i&&_u(i,e,c,d,h,n))return void r.reRender();break;case"setField":var p=n.data;if(f)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Eu),"warnings"in p&&(r.warnings=p.warnings||Eu),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&yu(t,u,!0))return void r.reRender();if(i&&!u.length&&_u(i,e,c,d,h,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(vu).some(function(e){return yu(n.relatedFields,e)}))return void r.reRender();break;default:if(f||(!s.length||u.length||i)&&_u(i,e,c,d,h,n))return void r.reRender()}!0===i&&r.reRender()}),F(ro(r),"validateRules",function(e){var t=r.getNamePath(),n=r.getValue(),o=e||{},i=o.triggerName,a=o.validateOnly,s=void 0!==a&&a,l=Promise.resolve().then(Wi(Qi().mark(function o(){var a,s,c,u,d,h,f;return Qi().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r.mounted){o.next=2;break}return o.abrupt("return",[]);case 2:if(a=r.props,s=a.validateFirst,c=void 0!==s&&s,u=a.messageVariables,d=a.validateDebounce,h=r.getRules(),i&&(h=h.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||Nc(t).includes(i)})),!d||!i){o.next=10;break}return o.next=8,new Promise(function(e){setTimeout(e,d)});case 8:if(r.validatePromise===l){o.next=10;break}return o.abrupt("return",[]);case 10:return(f=pu(t,n,h,e,c,u)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?Eu:r;t?o.push.apply(o,R(i)):n.push.apply(n,R(i))}),r.errors=n,r.warnings=o,r.triggerMetaEvent(),r.reRender()}}),o.abrupt("return",f);case 13:case"end":return o.stop()}},o)})));return s||(r.validatePromise=l,r.dirty=!0,r.errors=Eu,r.warnings=Eu,r.triggerMetaEvent(),r.reRender()),l}),F(ro(r),"isFieldValidating",function(){return!!r.validatePromise}),F(ro(r),"isFieldTouched",function(){return r.touched}),F(ro(r),"isFieldDirty",function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Pc).getInitialValue)(r.getNamePath())}),F(ro(r),"getErrors",function(){return r.errors}),F(ro(r),"getWarnings",function(){return r.warnings}),F(ro(r),"isListField",function(){return r.props.isListField}),F(ro(r),"isList",function(){return r.props.isList}),F(ro(r),"isPreserve",function(){return r.props.preserve}),F(ro(r),"getMeta",function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}}),F(ro(r),"getOnlyChild",function(e){if("function"==typeof e){var t=r.getMeta();return W(W({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=_s(e);return 1===n.length&&o.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}}),F(ro(r),"getValue",function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return on(e||t(!0),n)}),F(ro(r),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,o=t.trigger,i=t.validateTrigger,a=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==i?i:u.validateTrigger,h=r.getNamePath(),f=u.getInternalHooks,p=u.getFieldsValue,m=f(Pc).dispatch,g=r.getValue(),v=c||function(e){return F({},l,e)},b=e[o],y=void 0!==n?v(g):{},x=W(W({},e),y);return x[o]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=a?a.apply(void 0,n):Ou.apply(void 0,[l].concat(n)),s&&(e=s(e,g,p(!0))),e!==g&&m({type:"updateValue",namePath:h,value:e}),b&&b.apply(void 0,n)},Nc(d||[]).forEach(function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&m({type:"validateField",namePath:h,triggerName:e})}}),x}),e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(Pc).initEntityValue)(ro(r)),r}return ve(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Pc).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:o.isValidElement(i)?e=o.cloneElement(i,this.getControlled(i.props)):(fe(!i,"`children` of Field is not validate ReactElement."),e=i),o.createElement(o.Fragment,{key:t},e)}}]),n}(o.Component);F(Cu,"contextType",Ac),F(Cu,"defaultProps",{trigger:"onChange",valuePropName:"value"});const ku=function(e){var t,n=e.name,r=qr(e,Su),i=o.useContext(Ac),a=o.useContext($c),s=void 0!==n?vu(n):void 0,l=null!==(t=r.isListField)&&void 0!==t?t:!!a,c="keep";return l||(c="_".concat((s||[]).join("_"))),o.createElement(Cu,et({key:c,name:s,isListField:l},r,{fieldContext:i}))},Mu=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,s=e.isListField,l=o.useContext(Ac),c=o.useContext($c),u=o.useRef({keys:[],id:0}).current,d=o.useMemo(function(){var e=vu(l.prefixName)||[];return[].concat(R(e),R(vu(t)))},[l.prefixName,t]),h=o.useMemo(function(){return W(W({},l),{},{prefixName:d})},[l,d]),f=o.useMemo(function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}},[d]);return"function"!=typeof r?(fe(!1,"Form.List only accepts function as children."),null):o.createElement($c.Provider,{value:f},o.createElement(Ac.Provider,{value:h},o.createElement(ku,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:a,initialValue:n,isList:!0,isListField:null!=s?s:!!c},function(e,t){var n=e.value,o=void 0===n?[]:n,i=e.onChange,a=l.getFieldValue,s=function(){return a(d||[])||[]},c={add:function(e,t){var n=s();t>=0&&t<=n.length?(u.keys=[].concat(R(u.keys.slice(0,t)),[u.id],R(u.keys.slice(t))),i([].concat(R(n.slice(0,t)),[e],R(n.slice(t))))):(u.keys=[].concat(R(u.keys),[u.id]),i([].concat(R(n),[e]))),u.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter(function(e,t){return!n.has(t)}),i(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(u.keys=wu(u.keys,e,t),i(wu(n,e,t)))}}},h=o||[];return Array.isArray(h)||(h=[]),r(h.map(function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}}),c,t)})))};var Tu="__@field_split__";function Pu(e){return e.map(function(e){return"".concat(j(e),":").concat(e)}).join(Tu)}var Ru=function(){function e(){me(this,e),F(this,"kvs",new Map)}return ve(e,[{key:"set",value:function(e,t){this.kvs.set(Pu(e),t)}},{key:"get",value:function(e){return this.kvs.get(Pu(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Pu(e))}},{key:"map",value:function(e){return R(this.kvs.entries()).map(function(t){var n=Q(t,2),r=n[0],o=n[1],i=r.split(Tu);return e({key:i.map(function(e){var t=Q(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}();const Au=Ru;var $u=["name"],Nu=ve(function e(t){var n=this;me(this,e),F(this,"formHooked",!1),F(this,"forceRootUpdate",void 0),F(this,"subscribable",!0),F(this,"store",{}),F(this,"fieldEntities",[]),F(this,"initialValues",{}),F(this,"callbacks",{}),F(this,"validateMessages",null),F(this,"preserve",null),F(this,"lastValidatePromise",null),F(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),F(this,"getInternalHooks",function(e){return e===Pc?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(fe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),F(this,"useSubscribe",function(e){n.subscribable=e}),F(this,"prevWithoutPreserves",null),F(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var r,o=un(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map(function(t){var n=t.key;o=sn(o,n,on(e,n))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),F(this,"destroyForm",function(e){if(e)n.updateStore({});else{var t=new Au;n.getFieldEntities(!0).forEach(function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)}),n.prevWithoutPreserves=t}}),F(this,"getInitialValue",function(e){var t=on(n.initialValues,e);return e.length?un(t):t}),F(this,"setCallbacks",function(e){n.callbacks=e}),F(this,"setValidateMessages",function(e){n.validateMessages=e}),F(this,"setPreserve",function(e){n.preserve=e}),F(this,"watchList",[]),F(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),F(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,r,e)})}}),F(this,"timeoutId",null),F(this,"warningUnhooked",function(){}),F(this,"updateStore",function(e){n.store=e}),F(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),F(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Au;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),F(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=vu(e);return t.get(n)||{INVALIDATE_NAME_PATH:vu(e)}})}),F(this,"getFieldsValue",function(e,t){var r,o,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,o=t):e&&"object"===j(e)&&(i=e.strict,o=e.filter),!0===r&&!o)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return a.forEach(function(e){var t,n,a,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(a=(l=e).isList)&&void 0!==a&&a.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(o){var u="getMeta"in e?e.getMeta():null;o(u)&&s.push(c)}else s.push(c)}),bu(n.store,s.map(vu))}),F(this,"getFieldValue",function(e){n.warningUnhooked();var t=vu(e);return on(n.store,t)}),F(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:vu(e[n]),errors:[],warnings:[]}})}),F(this,"getFieldError",function(e){n.warningUnhooked();var t=vu(e);return n.getFieldsError([t])[0].errors}),F(this,"getFieldWarning",function(e){n.warningUnhooked();var t=vu(e);return n.getFieldsError([t])[0].warnings}),F(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],a=t[1],s=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(vu),s=!1):(o=null,s=i):(o=i.map(vu),s=a);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!o)return s?l.every(function(e){return c(e)||e.isList()}):l.some(c);var u=new Au;o.forEach(function(e){u.set(e,[])}),l.forEach(function(e){var t=e.getNamePath();o.forEach(function(n){n.every(function(e,n){return t[n]===e})&&u.update(n,function(t){return[].concat(R(t),[e])})})});var d=function(e){return e.some(c)},h=u.map(function(e){return e.value});return s?h.every(d):h.some(d)}),F(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),F(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(vu);return t.some(function(e){var t=e.getNamePath();return yu(r,t)&&e.isFieldValidating()})}),F(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),F(this,"resetWithFieldInitialValue",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new Au,o=n.getFieldEntities(!0);o.forEach(function(e){var t=e.props.initialValue,n=e.getNamePath();if(void 0!==t){var o=r.get(n)||new Set;o.add({entity:e,value:t}),r.set(n,o)}}),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach(function(t){var n,o=r.get(t);o&&(n=e).push.apply(n,R(R(o).map(function(e){return e.entity})))})):e=o,e.forEach(function(e){if(void 0!==e.props.initialValue){var o=e.getNamePath();if(void 0!==n.getInitialValue(o))fe(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=r.get(o);if(i&&i.size>1)fe(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var a=n.getFieldValue(o);e.isListField()||t.skipExist&&void 0!==a||n.updateStore(sn(n.store,o,R(i)[0].value))}}}})}),F(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(un(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(vu);r.forEach(function(e){var t=n.getInitialValue(e);n.updateStore(sn(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)}),F(this,"setFields",function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach(function(e){var o=e.name,i=qr(e,$u),a=vu(o);r.push(a),"value"in i&&n.updateStore(sn(n.store,a,i.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}),n.notifyWatch(r)}),F(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=W(W({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r})}),F(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===on(n.store,r)&&n.updateStore(sn(n.store,r,t))}}),F(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null==t||t}),F(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(o)&&(!r||i.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every(function(e){return!xu(e.getNamePath(),t)})){var s=n.store;n.updateStore(sn(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}}),F(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}}),F(this,"notifyObservers",function(e,t,r){if(n.subscribable){var o=W(W({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,o)})}else n.forceRootUpdate()}),F(this,"triggerDependenciesUpdate",function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(R(r))}),r}),F(this,"updateValue",function(e,t){var r=vu(e),o=n.store;n.updateStore(sn(n.store,r,t)),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(o,r),a=n.callbacks.onValuesChange;a&&a(bu(n.store,[r]),n.getFieldsValue()),n.triggerOnFieldsChange([r].concat(R(i)))}),F(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var r=un(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),F(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])}),F(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],o=new Au;return n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=vu(t);o.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})}),function e(n){(o.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}})}(e),r}),F(this,"triggerOnFieldsChange",function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new Au;t.forEach(function(e){var t=e.name,n=e.errors;i.set(t,n)}),o.forEach(function(e){e.errors=i.get(e.name)||e.errors})}var a=o.filter(function(t){var n=t.name;return yu(e,n)});a.length&&r(a,o)}}),F(this,"validateFields",function(e,t){var r,o;n.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(r=e,o=t):o=e;var i=!!r,a=i?r.map(vu):[],s=[],l=String(Date.now()),c=new Set,u=o||{},d=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach(function(e){if(i||a.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!h||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!i||yu(a,t,d)){var r=e.validateRules(W({validateMessages:W(W({},lu),n.validateMessages)},o));s.push(r.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,r=[],o=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?o.push.apply(o,R(n)):r.push.apply(r,R(n))}),r.length?Promise.reject({name:t,errors:r,warnings:o}):{name:t,errors:r,warnings:o}}))}}});var f=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(o,i){e.forEach(function(e,a){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,r[a]=e,n>0||(t&&i(r),o(r))})})}):Promise.resolve([])}(s);n.lastValidatePromise=f,f.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var p=f.then(function(){return n.lastValidatePromise===f?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==f})});p.catch(function(e){return e});var m=a.filter(function(e){return c.has(e.join(l))});return n.triggerOnFieldsChange(m),p}),F(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});const Iu=function(e){var t=o.useRef(),n=Q(o.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new Nu(function(){n({})});t.current=r.getForm()}return[t.current]};var Du=o.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Lu=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,a=o.useContext(Du),s=o.useRef({});return o.createElement(Du.Provider,{value:W(W({},a),{},{validateMessages:W(W({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=W(W({},s.current),{},F({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=W({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},i)};const zu=Du;var ju=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const Bu=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,u=void 0===c?"form":c,d=e.validateMessages,h=e.validateTrigger,f=void 0===h?"onChange":h,p=e.onValuesChange,m=e.onFieldsChange,g=e.onFinish,v=e.onFinishFailed,b=e.clearOnDestroy,y=qr(e,ju),x=o.useRef(null),O=o.useContext(zu),w=Q(Iu(a),1)[0],S=w.getInternalHooks(Pc),E=S.useSubscribe,_=S.setInitialValues,C=S.setCallbacks,k=S.setValidateMessages,M=S.setPreserve,T=S.destroyForm;o.useImperativeHandle(t,function(){return W(W({},w),{},{nativeElement:x.current})}),o.useEffect(function(){return O.registerForm(n,w),function(){O.unregisterForm(n)}},[O,w,n]),k(W(W({},O.validateMessages),d)),C({onValuesChange:p,onFieldsChange:function(e){if(O.triggerFormChange(n,e),m){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];m.apply(void 0,[e].concat(r))}},onFinish:function(e){O.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:v}),M(s);var P,A=o.useRef(null);_(r,!A.current),A.current||(A.current=!0),o.useEffect(function(){return function(){return T(b)}},[]);var $="function"==typeof l;P=$?l(w.getFieldsValue(!0),w):l,E(!$);var N=o.useRef();o.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==j(e)||"object"!==j(t))return!1;var n=Object.keys(e),r=Object.keys(t);return R(new Set([].concat(n,r))).every(function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o})})(N.current||[],i||[])||w.setFields(i||[]),N.current=i},[i,w]);var I=o.useMemo(function(){return W(W({},w),{},{validateTrigger:f})},[w,f]),D=o.createElement($c.Provider,{value:null},o.createElement(Ac.Provider,{value:I},P));return!1===u?D:o.createElement(u,et({},y,{ref:x,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),D)};function Fu(e){try{return JSON.stringify(e)}catch(e){return Math.random()}}const Uu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=void 0===i?{}:i,s=function(e){return e&&!!e._init}(a)?{form:a}:a,l=s.form,c=Q((0,o.useState)(),2),u=c[0],d=c[1],h=(0,o.useMemo)(function(){return Fu(u)},[u]),f=(0,o.useRef)(h);f.current=h;var p=(0,o.useContext)(Ac),m=l||p,g=m&&m._init,v=vu(r),b=(0,o.useRef)(v);return b.current=v,(0,o.useEffect)(function(){if(g){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(Pc).registerWatch,n=function(e,t){var n=s.preserve?t:e;return"function"==typeof r?r(n):on(n,b.current)},o=t(function(e,t){var r=n(e,t),o=Fu(r);f.current!==o&&(f.current=o,d(r))}),i=n(e(),e(!0));return u!==i&&d(i),o}},[g]),u};var Hu=o.forwardRef(Bu);Hu.FormProvider=Lu,Hu.Field=ku,Hu.List=Mu,Hu.useForm=Iu,Hu.useWatch=Uu;const Qu=Hu,Vu=o.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Wu=o.createContext(null),Gu=e=>{const t=Va(e,["prefixCls"]);return o.createElement(Lu,Object.assign({},t))},Xu=o.createContext({prefixCls:""}),qu=o.createContext({}),Zu=({children:e,status:t,override:n})=>{const r=o.useContext(qu),i=o.useMemo(()=>{const e=Object.assign({},r);return n&&delete e.isFormItemInput,t&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e},[t,n,r]);return o.createElement(qu.Provider,{value:i},e)},Yu=o.createContext(void 0),Ku=e=>{const{space:t,form:n,children:r}=e;if(null==r)return null;let i=r;return n&&(i=o.createElement(Zu,{override:!0,status:!0},i)),t&&(i=o.createElement($s,null,i)),i},Ju=function(...e){const t={};return e.forEach(e=>{e&&Object.keys(e).forEach(n=>{void 0!==e[n]&&(t[n]=e[n])})}),t};function ed(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function td(e){const{closable:t,closeIcon:n}=e||{};return o.useMemo(()=>{if(!t&&(!1===t||!1===n||null===n))return!1;if(void 0===t&&void 0===n)return null;let e={closeIcon:"boolean"!=typeof n&&null!==n?n:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,n])}const nd={},rd=e=>{const[,,,,t]=mi();return t?`${e}-css-var`:""},od=e=>{const{prefixCls:t,className:n,style:r,size:i,shape:a}=e,s=$r()({[`${t}-lg`]:"large"===i,[`${t}-sm`]:"small"===i}),l=$r()({[`${t}-circle`]:"circle"===a,[`${t}-square`]:"square"===a,[`${t}-round`]:"round"===a}),c=o.useMemo(()=>"number"==typeof i?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return o.createElement("span",{className:$r()(t,s,l,n),style:Object.assign(Object.assign({},c),r)})},id=new en("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ad=e=>({height:e,lineHeight:Le(e)}),sd=e=>Object.assign({width:e},ad(e)),ld=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:id,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),cd=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},ad(e)),ud=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},sd(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},sd(o)),[`${t}${t}-sm`]:Object.assign({},sd(i))}},dd=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:a,calc:s}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},cd(t,s)),[`${r}-lg`]:Object.assign({},cd(o,s)),[`${r}-sm`]:Object.assign({},cd(i,s))}},hd=e=>Object.assign({width:e},ad(e)),fd=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:o,calc:i}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:o},hd(i(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},hd(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},pd=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},md=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},ad(e)),gd=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:a,calc:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:t,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},md(r,s))},pd(e,r,n)),{[`${n}-lg`]:Object.assign({},md(o,s))}),pd(e,o,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},md(i,s))}),pd(e,i,`${n}-sm`))},vd=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:i,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:h,marginSM:f,borderRadius:p,titleHeight:m,blockRadius:g,paragraphLiHeight:v,controlHeightXS:b,paragraphMarginTop:y}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},sd(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},sd(c)),[`${n}-sm`]:Object.assign({},sd(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:m,background:d,borderRadius:g,[`+ ${o}`]:{marginBlockStart:u}},[o]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:g,"+ li":{marginBlockStart:b}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${o} > li`]:{borderRadius:p}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:f,[`+ ${o}`]:{marginBlockStart:y}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},gd(e)),ud(e)),dd(e)),fd(e)),[`${t}${t}-block`]:{width:"100%",[i]:{width:"100%"},[a]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${r},\n        ${o} > li,\n        ${n},\n        ${i},\n        ${a},\n        ${s}\n      `]:Object.assign({},ld(e))}}},bd=hs("Skeleton",e=>{const{componentCls:t,calc:n}=e,r=is(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[vd(r)]},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),yd=(e,t)=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},xd=e=>{const{prefixCls:t,className:n,style:r,rows:i=0}=e,a=Array.from({length:i}).map((t,n)=>o.createElement("li",{key:n,style:{width:yd(n,e)}}));return o.createElement("ul",{className:$r()(t,n),style:r},a)},Od=({prefixCls:e,className:t,width:n,style:r})=>o.createElement("h3",{className:$r()(e,t),style:Object.assign({width:n},r)});function wd(e){return e&&"object"==typeof e?e:{}}const Sd=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:i,style:a,children:s,avatar:l=!1,title:c=!0,paragraph:u=!0,active:d,round:h}=e,{getPrefixCls:f,direction:p,className:m,style:g}=z("skeleton"),v=f("skeleton",t),[b,y,x]=bd(v);if(n||!("loading"in e)){const e=!!l,t=!!c,n=!!u;let s,f;if(e){const e=Object.assign(Object.assign({prefixCls:`${v}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(t,n)),wd(l));s=o.createElement("div",{className:`${v}-header`},o.createElement(od,Object.assign({},e)))}if(t||n){let r,i;if(t){const t=Object.assign(Object.assign({prefixCls:`${v}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),wd(c));r=o.createElement(Od,Object.assign({},t))}if(n){const n=Object.assign(Object.assign({prefixCls:`${v}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,t)),wd(u));i=o.createElement(xd,Object.assign({},n))}f=o.createElement("div",{className:`${v}-content`},r,i)}const O=$r()(v,{[`${v}-with-avatar`]:e,[`${v}-active`]:d,[`${v}-rtl`]:"rtl"===p,[`${v}-round`]:h},m,r,i,y,x);return b(o.createElement("div",{className:O,style:Object.assign(Object.assign({},g),a)},s,f))}return null!=s?s:null};Sd.Button=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:a=!1,size:s="default"}=e,{getPrefixCls:l}=o.useContext(I),c=l("skeleton",t),[u,d,h]=bd(c),f=Va(e,["prefixCls"]),p=$r()(c,`${c}-element`,{[`${c}-active`]:i,[`${c}-block`]:a},n,r,d,h);return u(o.createElement("div",{className:p},o.createElement(od,Object.assign({prefixCls:`${c}-button`,size:s},f))))},Sd.Avatar=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,shape:a="circle",size:s="default"}=e,{getPrefixCls:l}=o.useContext(I),c=l("skeleton",t),[u,d,h]=bd(c),f=Va(e,["prefixCls","className"]),p=$r()(c,`${c}-element`,{[`${c}-active`]:i},n,r,d,h);return u(o.createElement("div",{className:p},o.createElement(od,Object.assign({prefixCls:`${c}-avatar`,shape:a,size:s},f))))},Sd.Input=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:a,size:s="default"}=e,{getPrefixCls:l}=o.useContext(I),c=l("skeleton",t),[u,d,h]=bd(c),f=Va(e,["prefixCls"]),p=$r()(c,`${c}-element`,{[`${c}-active`]:i,[`${c}-block`]:a},n,r,d,h);return u(o.createElement("div",{className:p},o.createElement(od,Object.assign({prefixCls:`${c}-input`,size:s},f))))},Sd.Image=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:a}=e,{getPrefixCls:s}=o.useContext(I),l=s("skeleton",t),[c,u,d]=bd(l),h=$r()(l,`${l}-element`,{[`${l}-active`]:a},n,r,u,d);return c(o.createElement("div",{className:h},o.createElement("div",{className:$r()(`${l}-image`,n),style:i},o.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${l}-image-svg`},o.createElement("title",null,"Image placeholder"),o.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${l}-image-path`})))))},Sd.Node=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:a,children:s}=e,{getPrefixCls:l}=o.useContext(I),c=l("skeleton",t),[u,d,h]=bd(c),f=$r()(c,`${c}-element`,{[`${c}-active`]:a},d,n,r,h);return u(o.createElement("div",{className:f},o.createElement("div",{className:$r()(`${c}-image`,n),style:i},s)))};const Ed=Sd;function _d(){}const Cd=o.createContext({add:_d,remove:_d}),kd=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=(0,o.useContext)(Wl);return o.createElement(Hl,Object.assign({onClick:n},e),t)},Md=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=(0,o.useContext)(Wl);return o.createElement(Hl,Object.assign({},js(n),{loading:e,onClick:i},t),r)};function Td(e,t){return o.createElement("span",{className:`${e}-close-x`},t||o.createElement(Kl,{className:`${e}-close-icon`}))}const Pd=e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:i,onOk:a,onCancel:s,okButtonProps:l,cancelButtonProps:c,footer:u}=e,[d]=Qa("Modal",En()),h={confirmLoading:i,okButtonProps:l,cancelButtonProps:c,okTextLocale:t||(null==d?void 0:d.okText),cancelTextLocale:r||(null==d?void 0:d.cancelText),okType:n,onOk:a,onCancel:s},f=o.useMemo(()=>h,R(Object.values(h)));let p;return"function"==typeof u||void 0===u?(p=o.createElement(o.Fragment,null,o.createElement(kd,null),o.createElement(Md,null)),"function"==typeof u&&(p=u(p,{OkBtn:Md,CancelBtn:kd})),p=o.createElement(Gl,{value:f},p)):p=u,o.createElement(Er,{disabled:!1},p)},Rd=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Ad=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=e,i={};for(let e=o;e>=0;e--)0===e?(i[`${r}${t}-${e}`]={display:"none"},i[`${r}-push-${e}`]={insetInlineStart:"auto"},i[`${r}-pull-${e}`]={insetInlineEnd:"auto"},i[`${r}${t}-push-${e}`]={insetInlineStart:"auto"},i[`${r}${t}-pull-${e}`]={insetInlineEnd:"auto"},i[`${r}${t}-offset-${e}`]={marginInlineStart:0},i[`${r}${t}-order-${e}`]={order:0}):(i[`${r}${t}-${e}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${e/o*100}%`,maxWidth:e/o*100+"%"}],i[`${r}${t}-push-${e}`]={insetInlineStart:e/o*100+"%"},i[`${r}${t}-pull-${e}`]={insetInlineEnd:e/o*100+"%"},i[`${r}${t}-offset-${e}`]={marginInlineStart:e/o*100+"%"},i[`${r}${t}-order-${e}`]={order:e});return i[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},i})(e,t),$d=hs("Grid",e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),Nd=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),Id=hs("Grid",e=>{const t=is(e,{gridColumns:24}),n=Nd(t);return delete n.xs,[Rd(t),Ad(t,""),Ad(t,"-xs"),Object.keys(n).map(e=>((e,t,n)=>({[`@media (min-width: ${Le(t)})`]:Object.assign({},Ad(e,n))}))(t,n[e],`-${e}`)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({})),Dd=e=>({animationDuration:e,animationFillMode:"both"}),Ld=e=>({animationDuration:e,animationFillMode:"both"}),zd=(e,t,n,r,o=!1)=>{const i=o?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},Dd(r)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},Ld(r)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},jd=new en("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Bd=new en("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Fd=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,o=t?"&":"";return[zd(r,jd,Bd,e.motionDurationMid,t),{[`\n        ${o}${r}-enter,\n        ${o}${r}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${r}-leave`]:{animationTimingFunction:"linear"}}]},Ud=new en("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Hd=new en("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Qd=new en("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Vd=new en("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Wd=new en("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Gd=new en("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Xd=new en("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),qd=new en("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Zd=new en("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Yd=new en("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Kd=new en("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Jd=new en("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),eh={zoom:{inKeyframes:Ud,outKeyframes:Hd},"zoom-big":{inKeyframes:Qd,outKeyframes:Vd},"zoom-big-fast":{inKeyframes:Qd,outKeyframes:Vd},"zoom-left":{inKeyframes:Xd,outKeyframes:qd},"zoom-right":{inKeyframes:Zd,outKeyframes:Yd},"zoom-up":{inKeyframes:Wd,outKeyframes:Gd},"zoom-down":{inKeyframes:Kd,outKeyframes:Jd}},th=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=eh[t];return[zd(r,o,i,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function nh(e){return{position:e,inset:0}}const rh=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},nh("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},nh("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Fd(e)}]},oh=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${Le(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},xi(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Le(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:Le(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},wi(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Le(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},ih=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},ah=e=>{const{componentCls:t}=e,n=Nd(e);delete n.xs;const r=Object.keys(n).map(e=>({[`@media (min-width: ${Le(n[e])})`]:{width:`var(--${t.replace(".","")}-${e}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(R(r))}}},sh=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return is(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},lh=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${Le(e.paddingMD)} ${Le(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${Le(e.padding)} ${Le(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${Le(e.paddingXS)} ${Le(e.padding)}`:0,footerBorderTop:e.wireframe?`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${Le(2*e.padding)} ${Le(2*e.padding)} ${Le(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),ch=hs("Modal",e=>{const t=sh(e);return[oh(t),ih(t),rh(t),th(t,"zoom"),ah(t)]},lh,{unitless:{titleLineHeight:!0}});let uh;X()&&window.document.documentElement&&document.documentElement.addEventListener("click",e=>{uh={x:e.pageX,y:e.pageY},setTimeout(()=>{uh=null},100)},!0);const dh=e=>{const{prefixCls:t,className:n,rootClassName:r,open:i,wrapClassName:a,centered:s,getContainer:l,focusTriggerAfterClose:c=!0,style:u,visible:d,width:h=520,footer:f,classNames:p,styles:m,children:g,loading:v,confirmLoading:b,zIndex:y,mousePosition:x,onOk:O,onCancel:w,destroyOnHidden:S,destroyOnClose:E}=e,_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:C,getPrefixCls:k,direction:M,modal:T}=o.useContext(I),P=e=>{b||null==w||w(e)},R=k("modal",t),A=k(),$=rd(R),[N,D,L]=ch(R,$),z=$r()(a,{[`${R}-centered`]:null!=s?s:null==T?void 0:T.centered,[`${R}-wrap-rtl`]:"rtl"===M}),j=null===f||v?null:o.createElement(Pd,Object.assign({},e,{onOk:e=>{null==O||O(e)},onCancel:P})),[B,F,U,H]=function(e,t,n=nd){const r=td(e),i=td(t),[a]=Qa("global",xn.global),s="boolean"!=typeof r&&!!(null==r?void 0:r.disabled),l=o.useMemo(()=>Object.assign({closeIcon:o.createElement(Kl,null)},n),[n]),c=o.useMemo(()=>!1!==r&&(r?Ju(l,i,r):!1!==i&&(i?Ju(l,i):!!l.closable&&l)),[r,i,l]);return o.useMemo(()=>{if(!1===c)return[!1,null,s,{}];const{closeIconRender:e}=l,{closeIcon:t}=c;let n=t;const r=gc(c,!0);return null!=n&&(e&&(n=e(t)),n=o.isValidElement(n)?o.cloneElement(n,Object.assign({"aria-label":a.close},r)):o.createElement("span",Object.assign({"aria-label":a.close},r),n)),[!0,n,s,r]},[c,l])}(ed(e),ed(T),{closable:!0,closeIcon:o.createElement(Kl,{className:`${R}-close-icon`}),closeIconRender:e=>Td(R,e)}),Q=function(e){const t=o.useContext(Cd),n=o.useRef(null);return ao(r=>{if(r){const o=e?r.querySelector(e):r;t.add(o),n.current=o}else t.remove(n.current)})}(`.${R}-content`),[V,W]=La("Modal",y),[G,X]=o.useMemo(()=>h&&"object"==typeof h?[void 0,h]:[h,void 0],[h]),q=o.useMemo(()=>{const e={};return X&&Object.keys(X).forEach(t=>{const n=X[t];void 0!==n&&(e[`--${R}-${t}-width`]="number"==typeof n?`${n}px`:n)}),e},[X]);return N(o.createElement(Ku,{form:!0,space:!0},o.createElement($a.Provider,{value:W},o.createElement(Tc,Object.assign({width:G},_,{zIndex:V,getContainer:void 0===l?C:l,prefixCls:R,rootClassName:$r()(D,r,L,$),footer:j,visible:null!=i?i:d,mousePosition:null!=x?x:uh,onClose:P,closable:B?Object.assign({disabled:U,closeIcon:F},H):B,closeIcon:F,focusTriggerAfterClose:c,transitionName:Ua(A,"zoom",e.transitionName),maskTransitionName:Ua(A,"fade",e.maskTransitionName),className:$r()(D,n,null==T?void 0:T.className),style:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.style),u),q),classNames:Object.assign(Object.assign(Object.assign({},null==T?void 0:T.classNames),p),{wrapper:$r()(z,null==p?void 0:p.wrapper)}),styles:Object.assign(Object.assign({},null==T?void 0:T.styles),m),panelRef:Q,destroyOnClose:null!=S?S:E}),v?o.createElement(Ed,{active:!0,title:!1,paragraph:{rows:4},className:`${R}-body-skeleton`}):g))))},hh=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:o,fontSize:i,lineHeight:a,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`&${t} ${t}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(s).sub(o).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Le(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Le(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:e.colorText,fontSize:i,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},fh=ps(["Modal","confirm"],e=>{const t=sh(e);return[hh(t)]},lh,{order:-1e3});function ph(e){const{prefixCls:t,icon:n,okText:r,cancelText:i,confirmPrefixCls:a,type:s,okCancel:l,footer:c,locale:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let h=n;if(!n&&null!==n)switch(s){case"info":h=o.createElement(Aa,null);break;case"success":h=o.createElement(Sa,null);break;case"error":h=o.createElement(Ca,null);break;default:h=o.createElement(Ta,null)}const f=null!=l?l:"confirm"===s,p=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[m]=Qa("Modal"),g=u||m,v=r||(f?null==g?void 0:g.okText:null==g?void 0:g.justOkText),b=i||(null==g?void 0:g.cancelText),y=Object.assign({autoFocusButton:p,cancelTextLocale:b,okTextLocale:v,mergedOkCancel:f},d),x=o.useMemo(()=>y,R(Object.values(y))),O=o.createElement(o.Fragment,null,o.createElement(Xl,null),o.createElement(ql,null)),w=void 0!==e.title&&null!==e.title,S=`${a}-body`;return o.createElement("div",{className:`${a}-body-wrapper`},o.createElement("div",{className:$r()(S,{[`${S}-has-title`]:w})},h,o.createElement("div",{className:`${a}-paragraph`},w&&o.createElement("span",{className:`${a}-title`},e.title),o.createElement("div",{className:`${a}-content`},e.content))),void 0===c||"function"==typeof c?o.createElement(Gl,{value:x},o.createElement("div",{className:`${a}-btns`},"function"==typeof c?c(O,{OkBtn:ql,CancelBtn:Xl}):O)):c,o.createElement(fh,{prefixCls:t}))}const mh=e=>{const{close:t,zIndex:n,maskStyle:r,direction:i,prefixCls:a,wrapClassName:s,rootPrefixCls:l,bodyStyle:c,closable:u=!1,onConfirm:d,styles:h}=e,f=`${a}-confirm`,p=e.width||416,m=e.style||{},g=void 0===e.mask||e.mask,v=void 0!==e.maskClosable&&e.maskClosable,b=$r()(f,`${f}-${e.type}`,{[`${f}-rtl`]:"rtl"===i},e.className),[,y]=mi(),x=o.useMemo(()=>void 0!==n?n:y.zIndexPopupBase+1e3,[n,y]);return o.createElement(dh,Object.assign({},e,{className:b,wrapClassName:$r()({[`${f}-centered`]:!!e.centered},s),onCancel:()=>{null==t||t({triggerCancel:!0}),null==d||d(!1)},title:"",footer:null,transitionName:Ua(l||"","zoom",e.transitionName),maskTransitionName:Ua(l||"","fade",e.maskTransitionName),mask:g,maskClosable:v,style:m,styles:Object.assign({body:c,mask:r},h),width:p,zIndex:x,closable:u}),o.createElement(ph,Object.assign({},e,{confirmPrefixCls:f})))},gh=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return o.createElement(Ii,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},o.createElement(mh,Object.assign({},e)))},vh=[];let bh="";function yh(){return bh}const xh=e=>{var t,n;const{prefixCls:r,getContainer:i,direction:a}=e,s=En(),l=(0,o.useContext)(I),c=yh()||l.getPrefixCls(),u=r||`${c}-modal`;let d=i;return!1===d&&(d=void 0),o.createElement(gh,Object.assign({},e,{rootPrefixCls:c,prefixCls:u,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!=a?a:l.direction,locale:null!==(n=null===(t=l.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:s,getContainer:d}))};function Oh(e){const t=Ai(),n=document.createDocumentFragment();let r,i,a=Object.assign(Object.assign({},e),{close:c,open:!0});function s(...t){var n,r;t.some(e=>null==e?void 0:e.triggerCancel)&&(null===(n=e.onCancel)||void 0===n||(r=n).call.apply(r,[e,()=>{}].concat(R(t.slice(1)))));for(let e=0;e<vh.length;e++)if(vh[e]===c){vh.splice(e,1);break}i()}function l(e){clearTimeout(r),r=setTimeout(()=>{const r=t.getPrefixCls(void 0,yh()),a=t.getIconPrefixCls(),s=t.getTheme(),l=o.createElement(xh,Object.assign({},e)),c=ia();i=c(o.createElement(Ii,{prefixCls:r,iconPrefixCls:a,theme:s},t.holderRender?t.holderRender(l):l),n)})}function c(...t){a=Object.assign(Object.assign({},a),{open:!1,afterClose:()=>{"function"==typeof e.afterClose&&e.afterClose(),s.apply(this,t)}}),a.visible&&delete a.visible,l(a)}return l(a),vh.push(c),{destroy:c,update:function(e){a="function"==typeof e?e(a):Object.assign(Object.assign({},a),e),l(a)}}}function wh(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Sh(e){return Object.assign(Object.assign({},e),{type:"info"})}function Eh(e){return Object.assign(Object.assign({},e),{type:"success"})}function _h(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ch(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function kh(e){return t=>o.createElement(Ii,{theme:{token:{motion:!1,zIndexPopupBase:0}}},o.createElement(e,Object.assign({},t)))}const Mh=(e,t,n,r,i)=>kh(a=>{const{prefixCls:s,style:l}=a,c=o.useRef(null),[u,d]=o.useState(0),[h,f]=o.useState(0),[p,m]=co(!1,{value:a.open}),{getPrefixCls:g}=o.useContext(I),v=g(r||"select",s);o.useEffect(()=>{if(m(!0),"undefined"!=typeof ResizeObserver){const e=new ResizeObserver(e=>{const t=e[0].target;d(t.offsetHeight+8),f(t.offsetWidth)}),t=setInterval(()=>{var n;const r=i?`.${i(v)}`:`.${v}-dropdown`,o=null===(n=c.current)||void 0===n?void 0:n.querySelector(r);o&&(clearInterval(t),e.observe(o))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let b=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},l),{margin:0}),open:p,visible:p,getPopupContainer:()=>c.current});n&&(b=n(b)),t&&Object.assign(b,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const y={paddingBottom:u,position:"relative",minWidth:h};return o.createElement("div",{ref:c,style:y},o.createElement(e,Object.assign({},b)))});const Th=kh(e=>{const{prefixCls:t,className:n,closeIcon:r,closable:i,type:a,title:s,children:l,footer:c}=e,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:d}=o.useContext(I),h=d(),f=t||d("modal"),p=rd(h),[m,g,v]=ch(f,p),b=`${f}-confirm`;let y={};return y=a?{closable:null!=i&&i,title:"",footer:"",children:o.createElement(ph,Object.assign({},e,{prefixCls:f,confirmPrefixCls:b,rootPrefixCls:h,content:l}))}:{closable:null==i||i,title:s,footer:null!==c&&o.createElement(Pd,Object.assign({},e)),children:l},m(o.createElement(Sc,Object.assign({prefixCls:f,className:$r()(g,`${f}-pure-panel`,a&&b,a&&`${b}-${a}`,n,v,p)},u,{closeIcon:Td(f,r),closable:i},y)))});const Ph=(e,t)=>{var n,{afterClose:r,config:i}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["afterClose","config"]);const[s,l]=o.useState(!0),[c,u]=o.useState(i),{direction:d,getPrefixCls:h}=o.useContext(I),f=h("modal"),p=h(),m=(...e)=>{var t,n;l(!1),e.some(e=>null==e?void 0:e.triggerCancel)&&(null===(t=c.onCancel)||void 0===t||(n=t).call.apply(n,[c,()=>{}].concat(R(e.slice(1)))))};o.useImperativeHandle(t,()=>({destroy:m,update:e=>{u(t=>{const n="function"==typeof e?e(t):e;return Object.assign(Object.assign({},t),n)})}}));const g=null!==(n=c.okCancel)&&void 0!==n?n:"confirm"===c.type,[v]=Qa("Modal",xn.Modal);return o.createElement(gh,Object.assign({prefixCls:f,rootPrefixCls:p},c,{close:m,open:s,afterClose:()=>{var e;r(),null===(e=c.afterClose)||void 0===e||e.call(c)},okText:c.okText||(g?null==v?void 0:v.okText:null==v?void 0:v.justOkText),direction:c.direction||d,cancelText:c.cancelText||(null==v?void 0:v.cancelText)},a))},Rh=o.forwardRef(Ph);let Ah=0;const $h=o.memo(o.forwardRef((e,t)=>{const[n,r]=function(){const[e,t]=o.useState([]);return[e,o.useCallback(e=>(t(t=>[].concat(R(t),[e])),()=>{t(t=>t.filter(t=>t!==e))}),[])]}();return o.useImperativeHandle(t,()=>({patchElement:r}),[]),o.createElement(o.Fragment,null,n)}));function Nh(e){return Oh(wh(e))}const Ih=dh;Ih.useModal=function(){const e=o.useRef(null),[t,n]=o.useState([]);o.useEffect(()=>{t.length&&(R(t).forEach(e=>{e()}),n([]))},[t]);const r=o.useCallback(t=>function(r){var i;Ah+=1;const a=o.createRef();let s;const l=new Promise(e=>{s=e});let c,u=!1;const d=o.createElement(Rh,{key:`modal-${Ah}`,config:t(r),ref:a,afterClose:()=>{null==c||c()},isSilent:()=>u,onConfirm:e=>{s(e)}});c=null===(i=e.current)||void 0===i?void 0:i.patchElement(d),c&&vh.push(c);const h={destroy:()=>{function e(){var e;null===(e=a.current)||void 0===e||e.destroy()}a.current?e():n(t=>[].concat(R(t),[e]))},update:e=>{function t(){var t;null===(t=a.current)||void 0===t||t.update(e)}a.current?t():n(e=>[].concat(R(e),[t]))},then:e=>(u=!0,l.then(e))};return h},[]);return[o.useMemo(()=>({info:r(Sh),success:r(Eh),error:r(_h),warning:r(wh),confirm:r(Ch)}),[]),o.createElement($h,{key:"modal-holder",ref:e})]},Ih.info=function(e){return Oh(Sh(e))},Ih.success=function(e){return Oh(Eh(e))},Ih.error=function(e){return Oh(_h(e))},Ih.warning=Nh,Ih.warn=Nh,Ih.confirm=function(e){return Oh(Ch(e))},Ih.destroyAll=function(){for(;vh.length;){const e=vh.pop();e&&e()}},Ih.config=function({rootPrefixCls:e}){bh=e},Ih._InternalPanelDoNotUseOrYouWillBeFired=Th;const Dh=Ih;var Lh=o.createContext(null),zh=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),jh="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Bh="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Fh="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Bh):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},Uh=["top","right","bottom","left","width","height","size","weight"],Hh="undefined"!=typeof MutationObserver,Qh=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function o(){t&&(t=!1,e()),n&&a()}function i(){Fh(o)}function a(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(i,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){jh&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Hh?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){jh&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Uh.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Vh=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Wh=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Bh},Gh=Kh(0,0,0,0);function Xh(e){return parseFloat(e)||0}function qh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+Xh(e["border-"+n+"-width"])},0)}var Zh="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Wh(e).SVGGraphicsElement}:function(e){return e instanceof Wh(e).SVGElement&&"function"==typeof e.getBBox};function Yh(e){return jh?Zh(e)?function(e){var t=e.getBBox();return Kh(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Gh;var r=Wh(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Xh(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=Xh(r.width),l=Xh(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=qh(r,"left","right")+i),Math.round(l+a)!==n&&(l-=qh(r,"top","bottom")+a)),!function(e){return e===Wh(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Kh(o.left,o.top,s,l)}(e):Gh}function Kh(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Jh=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Kh(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Yh(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ef=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return Vh(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);Vh(this,{target:e,contentRect:n})},tf=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new zh,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Wh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Jh(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Wh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new ef(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),nf="undefined"!=typeof WeakMap?new WeakMap:new zh,rf=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Qh.getInstance(),r=new tf(t,n,this);nf.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){rf.prototype[e]=function(){var t;return(t=nf.get(this))[e].apply(t,arguments)}});const of=void 0!==Bh.ResizeObserver?Bh.ResizeObserver:rf;var af=new Map,sf=new of(function(e){e.forEach(function(e){var t,n=e.target;null===(t=af.get(n))||void 0===t||t.forEach(function(e){return e(n)})})}),lf=function(e){eo(n,e);var t=oo(n);function n(){return me(this,n),t.apply(this,arguments)}return ve(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function cf(e,t){var n=e.children,r=e.disabled,i=o.useRef(null),a=o.useRef(null),s=o.useContext(Lh),l="function"==typeof n,c=l?n(i):n,u=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&o.isValidElement(c)&&Wr(c),h=d?Xr(c):null,f=Vr(h,i),p=function(){var e;return Dr(i.current)||(i.current&&"object"===j(i.current)?Dr(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||Dr(a.current)};o.useImperativeHandle(t,function(){return p()});var m=o.useRef(e);m.current=e;var g=o.useCallback(function(e){var t=m.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(i),h=Math.floor(a);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var f={width:d,height:h,offsetWidth:l,offsetHeight:c};u.current=f;var p=l===Math.round(i)?i:l,g=c===Math.round(a)?a:c,v=W(W({},f),{},{offsetWidth:p,offsetHeight:g});null==s||s(v,e,r),n&&Promise.resolve().then(function(){n(v,e)})}},[]);return o.useEffect(function(){var e,t,n=p();return n&&!r&&(e=n,t=g,af.has(e)||(af.set(e,new Set),sf.observe(e)),af.get(e).add(t)),function(){return function(e,t){af.has(e)&&(af.get(e).delete(t),af.get(e).size||(sf.unobserve(e),af.delete(e)))}(n,g)}},[i.current,r]),o.createElement(lf,{ref:a},d?o.cloneElement(c,{ref:f}):c)}const uf=o.forwardRef(cf);function df(e,t){var n=e.children;return("function"==typeof n?[n]:_s(n)).map(function(n,r){var i=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return o.createElement(uf,et({},e,{key:i,ref:0===r?t:void 0}),n)})}var hf=o.forwardRef(df);hf.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),i=o.useRef([]),a=o.useContext(Lh),s=o.useCallback(function(e,t,o){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then(function(){s===r.current&&(null==n||n(i.current),i.current=[])}),null==a||a(e,t,o)},[n,a]);return o.createElement(Lh.Provider,{value:s},t)};const ff=hf;var pf=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],mf=void 0;function gf(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,a=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,h=e.style,f=e.children,p=e.display,m=e.order,g=e.component,v=void 0===g?"div":g,b=qr(e,pf),y=s&&!p;function x(e){c(u,e)}o.useEffect(function(){return function(){x(null)}},[]);var O,w=a&&i!==mf?a(i,{index:m}):f;r||(O={opacity:y?0:1,height:y?0:mf,overflowY:y?"hidden":mf,order:s?m:mf,pointerEvents:y?"none":mf,position:y?"absolute":mf});var S={};y&&(S["aria-hidden"]=!0);var E=o.createElement(v,et({className:$r()(!r&&n,d),style:W(W({},O),h)},S,b,{ref:t}),w);return s&&(E=o.createElement(ff,{onResize:function(e){x(e.offsetWidth)},disabled:l},E)),E}var vf=o.forwardRef(gf);vf.displayName="Item";const bf=vf;function yf(e,t){var n=Q(o.useState(t),2),r=n[0],i=n[1];return[r,ao(function(t){e(function(){i(t)})})]}var xf=o.createContext(null),Of=["component"],wf=["className"],Sf=["className"],Ef=function(e,t){var n=o.useContext(xf);if(!n){var r=e.component,i=void 0===r?"div":r,a=qr(e,Of);return o.createElement(i,et({},a,{ref:t}))}var s=n.className,l=qr(n,wf),c=e.className,u=qr(e,Sf);return o.createElement(xf.Provider,{value:null},o.createElement(bf,et({ref:t,className:$r()(s,c)},l,u)))},_f=o.forwardRef(Ef);_f.displayName="RawItem";const Cf=_f;var kf=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Mf="responsive",Tf="invalidate";function Pf(e){return"+ ".concat(e.length," ...")}function Rf(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-overflow":r,a=e.data,l=void 0===a?[]:a,c=e.renderItem,u=e.renderRawItem,d=e.itemKey,h=e.itemWidth,f=void 0===h?10:h,p=e.ssr,m=e.style,g=e.className,v=e.maxCount,b=e.renderRest,y=e.renderRawRest,x=e.suffix,O=e.component,w=void 0===O?"div":O,S=e.itemComponent,E=e.onVisibleChange,_=qr(e,kf),C="full"===p,k=(n=o.useRef(null),function(e){n.current||(n.current=[],function(e){if("undefined"==typeof MessageChannel)Ho(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}(function(){(0,s.unstable_batchedUpdates)(function(){n.current.forEach(function(e){e()}),n.current=null})})),n.current.push(e)}),M=Q(yf(k,null),2),T=M[0],P=M[1],R=T||0,A=Q(yf(k,new Map),2),$=A[0],N=A[1],I=Q(yf(k,0),2),D=I[0],L=I[1],z=Q(yf(k,0),2),j=z[0],B=z[1],F=Q(yf(k,0),2),U=F[0],H=F[1],V=Q((0,o.useState)(null),2),G=V[0],X=V[1],q=Q((0,o.useState)(null),2),Z=q[0],Y=q[1],K=o.useMemo(function(){return null===Z&&C?Number.MAX_SAFE_INTEGER:Z||0},[Z,T]),J=Q((0,o.useState)(!1),2),ee=J[0],te=J[1],ne="".concat(i,"-item"),re=Math.max(D,j),oe=v===Mf,ie=l.length&&oe,ae=v===Tf,se=ie||"number"==typeof v&&l.length>v,le=(0,o.useMemo)(function(){var e=l;return ie?e=null===T&&C?l:l.slice(0,Math.min(l.length,R/f)):"number"==typeof v&&(e=l.slice(0,v)),e},[l,f,T,v,ie]),ce=(0,o.useMemo)(function(){return ie?l.slice(K+1):l.slice(le.length)},[l,le,ie,K]),ue=(0,o.useCallback)(function(e,t){var n;return"function"==typeof d?d(e):null!==(n=d&&(null==e?void 0:e[d]))&&void 0!==n?n:t},[d]),de=(0,o.useCallback)(c||function(e){return e},[c]);function he(e,t,n){(Z!==e||void 0!==t&&t!==G)&&(Y(e),n||(te(e<l.length-1),null==E||E(e)),void 0!==t&&X(t))}function fe(e,t){N(function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r})}function pe(e){return $.get(ue(le[e],e))}Ve(function(){if(R&&"number"==typeof re&&le){var e=U,t=le.length,n=t-1;if(!t)return void he(0,null);for(var r=0;r<t;r+=1){var o=pe(r);if(C&&(o=o||0),void 0===o){he(r-1,void 0,!0);break}if(e+=o,0===n&&e<=R||r===n-1&&e+pe(n)<=R){he(n,null);break}if(e+re>R){he(r-1,e-o-U+j);break}}x&&pe(0)+U>R&&X(null)}},[R,$,j,U,ue,le]);var me=ee&&!!ce.length,ge={};null!==G&&ie&&(ge={position:"absolute",left:G,top:0});var ve={prefixCls:ne,responsive:ie,component:S,invalidate:ae},be=u?function(e,t){var n=ue(e,t);return o.createElement(xf.Provider,{key:n,value:W(W({},ve),{},{order:t,item:e,itemKey:n,registerSize:fe,display:t<=K})},u(e,t))}:function(e,t){var n=ue(e,t);return o.createElement(bf,et({},ve,{order:t,key:n,item:e,renderItem:de,itemKey:n,registerSize:fe,display:t<=K}))},ye={order:me?K:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){B(t),L(j)},display:me},xe=b||Pf,Oe=y?o.createElement(xf.Provider,{value:W(W({},ve),ye)},y(ce)):o.createElement(bf,et({},ve,ye),"function"==typeof xe?xe(ce):xe),we=o.createElement(w,et({className:$r()(!ae&&i,g),style:m,ref:t},_),le.map(be),se?Oe:null,x&&o.createElement(bf,et({},ve,{responsive:oe,responsiveDisabled:!ie,order:K,className:"".concat(ne,"-suffix"),registerSize:function(e,t){H(t)},display:!0,style:ge}),x));return oe?o.createElement(ff,{onResize:function(e,t){P(t.clientWidth)},disabled:!ie},we):we}var Af=o.forwardRef(Rf);Af.displayName="Overflow",Af.Item=Cf,Af.RESPONSIVE=Mf,Af.INVALIDATE=Tf;const $f=Af;var Nf=o.createContext(null);function If(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Df(e){return If(o.useContext(Nf),e)}var Lf=["children","locked"],zf=o.createContext(null);function jf(e){var t=e.children,n=e.locked,r=qr(e,Lf),i=o.useContext(zf),a=ae(function(){return e=r,t=W({},i),Object.keys(e).forEach(function(n){var r=e[n];void 0!==r&&(t[n]=r)}),t;var e,t},[i,r],function(e,t){return!(n||e[0]===t[0]&&pe(e[1],t[1],!0))});return o.createElement(zf.Provider,{value:a},t)}var Bf=[],Ff=o.createContext(null);function Uf(){return o.useContext(Ff)}var Hf=o.createContext(Bf);function Qf(e){var t=o.useContext(Hf);return o.useMemo(function(){return void 0!==e?[].concat(R(t),[e]):t},[t,e])}var Vf=o.createContext(null);const Wf=o.createContext({});function Gf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Wa(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),i=Number(o),a=null;return o&&!Number.isNaN(i)?a=i:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}var Xf=fc.LEFT,qf=fc.RIGHT,Zf=fc.UP,Yf=fc.DOWN,Kf=fc.ENTER,Jf=fc.ESC,ep=fc.HOME,tp=fc.END,np=[Zf,Yf,Xf,qf];function rp(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=R(e.querySelectorAll("*")).filter(function(e){return Gf(e,t)});return Gf(e,t)&&n.unshift(e),n}(e,!0).filter(function(e){return t.has(e)})}function op(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=rp(e,t),i=o.length,a=o.findIndex(function(e){return n===e});return r<0?-1===a?a=i-1:a-=1:r>0&&(a+=1),o[a=(a+i)%i]}var ip=function(e,t){var n=new Set,r=new Map,o=new Map;return e.forEach(function(e){var i=document.querySelector("[data-menu-id='".concat(If(t,e),"']"));i&&(n.add(i),o.set(i,e),r.set(e,i))}),{elements:n,key2element:r,element2key:o}};var ap="__RC_UTIL_PATH_SPLIT__",sp=function(e){return e.join(ap)},lp="rc-menu-more";function cp(e){var t=o.useRef(e);t.current=e;var n=o.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return e?n:void 0}var up=Math.random().toFixed(5).toString().slice(2),dp=0;function hp(e,t,n,r){var i=o.useContext(zf),a=i.activeKey,s=i.onActive,l=i.onInactive,c={active:a===e};return t||(c.onMouseEnter=function(t){null==n||n({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null==r||r({key:e,domEvent:t}),l(e)}),c}function fp(e){var t=o.useContext(zf),n=t.mode,r=t.rtl,i=t.inlineIndent;return"inline"!==n?null:r?{paddingRight:e*i}:{paddingLeft:e*i}}function pp(e){var t,n=e.icon,r=e.props,i=e.children;return null===n||!1===n?null:("function"==typeof n?t=o.createElement(n,W({},r)):"boolean"!=typeof n&&(t=n),t||i||null)}var mp=["item"];function gp(e){var t=e.item,n=qr(e,mp);return Object.defineProperty(n,"item",{get:function(){return fe(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var vp=["title","attribute","elementRef"],bp=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],yp=["active"],xp=function(e){eo(n,e);var t=oo(n);function n(){return me(this,n),t.apply(this,arguments)}return ve(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=Va(qr(e,vp),["eventKey","popupClassName","popupOffset","onTitleClick"]);return fe(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),o.createElement($f.Item,et({},n,{title:"string"==typeof t?t:void 0},i,{ref:r}))}}]),n}(o.Component),Op=o.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.eventKey,a=(e.warnKey,e.disabled),s=e.itemIcon,l=e.children,c=e.role,u=e.onMouseEnter,d=e.onMouseLeave,h=e.onClick,f=e.onKeyDown,p=e.onFocus,m=qr(e,bp),g=Df(i),v=o.useContext(zf),b=v.prefixCls,y=v.onItemClick,x=v.disabled,O=v.overflowDisabled,w=v.itemIcon,S=v.selectedKeys,E=v.onActive,_=o.useContext(Wf)._internalRenderMenuItem,C="".concat(b,"-item"),k=o.useRef(),M=o.useRef(),T=x||a,P=Vr(t,M),A=Qf(i),$=function(e){return{key:i,keyPath:R(A).reverse(),item:k.current,domEvent:e}},N=s||w,I=hp(i,T,u,d),D=I.active,L=qr(I,yp),z=S.includes(i),j=fp(A.length),B={};"option"===e.role&&(B["aria-selected"]=z);var U=o.createElement(xp,et({ref:k,elementRef:P,role:null===c?"none":c||"menuitem",tabIndex:a?null:-1,"data-menu-id":O&&g?null:g},Va(m,["extra"]),L,B,{component:"li","aria-disabled":a,style:W(W({},j),n),className:$r()(C,F(F(F({},"".concat(C,"-active"),D),"".concat(C,"-selected"),z),"".concat(C,"-disabled"),T),r),onClick:function(e){if(!T){var t=$(e);null==h||h(gp(t)),y(t)}},onKeyDown:function(e){if(null==f||f(e),e.which===fc.ENTER){var t=$(e);null==h||h(gp(t)),y(t)}},onFocus:function(e){E(i),null==p||p(e)}}),l,o.createElement(pp,{props:W(W({},e),{},{isSelected:z}),icon:N}));return _&&(U=_(U,e,{selected:z})),U});function wp(e,t){var n=e.eventKey,r=Uf(),i=Qf(n);return o.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:o.createElement(Op,et({},e,{ref:t}))}const Sp=o.forwardRef(wp);var Ep=["className","children"],_p=function(e,t){var n=e.className,r=e.children,i=qr(e,Ep),a=o.useContext(zf),s=a.prefixCls,l=a.mode,c=a.rtl;return o.createElement("ul",et({className:$r()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},i,{"data-menu-list":!0,ref:t}),r)},Cp=o.forwardRef(_p);Cp.displayName="SubMenuList";const kp=Cp;function Mp(e,t){return _s(e).map(function(e,n){if(o.isValidElement(e)){var r,i,a=e.key,s=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:a;null==s&&(s="tmp_key-".concat([].concat(R(t),[n]).join("-")));var l={key:s,eventKey:s};return o.cloneElement(e,l)}return e})}const Tp=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))};function Pp(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,a=r||{},s=a.className,l=a.content,c=i.x,u=void 0===c?0:c,d=i.y,h=void 0===d?0:d,f=o.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],g=n.points[1],v=m[0],b=m[1],y=g[0],x=g[1];v!==y&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=h,b!==x&&["l","r"].includes(b)?"l"===b?p.left=0:p.right=0:p.left=u}return o.createElement("div",{ref:f,className:$r()("".concat(t,"-arrow"),s),style:p},l)}function Rp(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,a=e.motion;return i?o.createElement(ai,et({},a,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return o.createElement("div",{style:{zIndex:r},className:$r()("".concat(t,"-mask"),n)})}):null}var Ap=o.memo(function(e){return e.children},function(e,t){return t.cache});const $p=Ap;var Np=o.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,a=e.style,s=e.target,l=e.onVisibleChanged,c=e.open,u=e.keepDom,d=e.fresh,h=e.onClick,f=e.mask,p=e.arrow,m=e.arrowPos,g=e.align,v=e.motion,b=e.maskMotion,y=e.forceRender,x=e.getPopupContainer,O=e.autoDestroy,w=e.portal,S=e.zIndex,E=e.onMouseEnter,_=e.onMouseLeave,C=e.onPointerEnter,k=e.onPointerDownCapture,M=e.ready,T=e.offsetX,P=e.offsetY,R=e.offsetR,A=e.offsetB,$=e.onAlign,N=e.onPrepare,I=e.stretch,D=e.targetWidth,L=e.targetHeight,z="function"==typeof n?n():n,j=c||u,B=(null==x?void 0:x.length)>0,F=Q(o.useState(!x||!B),2),U=F[0],H=F[1];if(Ve(function(){!U&&B&&s&&H(!0)},[U,B,s]),!U)return null;var V="auto",G={left:"-1000vw",top:"-1000vh",right:V,bottom:V};if(M||!c){var X,q=g.points,Z=g.dynamicInset||(null===(X=g._experimental)||void 0===X?void 0:X.dynamicInset),Y=Z&&"r"===q[0][1],K=Z&&"b"===q[0][0];Y?(G.right=R,G.left=V):(G.left=T,G.right=V),K?(G.bottom=A,G.top=V):(G.top=P,G.bottom=V)}var J={};return I&&(I.includes("height")&&L?J.height=L:I.includes("minHeight")&&L&&(J.minHeight=L),I.includes("width")&&D?J.width=D:I.includes("minWidth")&&D&&(J.minWidth=D)),c||(J.pointerEvents="none"),o.createElement(w,{open:y||j,getContainer:x&&function(){return x(s)},autoDestroy:O},o.createElement(Rp,{prefixCls:i,open:c,zIndex:S,mask:f,motion:b}),o.createElement(ff,{onResize:$,disabled:!c},function(e){return o.createElement(ai,et({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(i,"-hidden")},v,{onAppearPrepare:N,onEnterPrepare:N,visible:c,onVisibleChanged:function(e){var t;null==v||null===(t=v.onVisibleChanged)||void 0===t||t.call(v,e),l(e)}}),function(n,s){var l=n.className,u=n.style,f=$r()(i,l,r);return o.createElement("div",{ref:Qr(e,t,s),className:f,style:W(W(W(W({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},G),J),u),{},{boxSizing:"border-box",zIndex:S},a),onMouseEnter:E,onMouseLeave:_,onPointerEnter:C,onClick:h,onPointerDownCapture:k},p&&o.createElement(Pp,{prefixCls:i,arrow:p,arrowPos:m,align:g}),o.createElement($p,{cache:!c&&!d},z))})}))});const Ip=Np;var Dp=o.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=Wr(n),a=o.useCallback(function(e){Hr(t,r?r(e):e)},[r]),s=Vr(a,Xr(n));return i?o.cloneElement(n,{ref:s}):n});const Lp=Dp,zp=o.createContext(null);function jp(e){return e?Array.isArray(e)?e:[e]:[]}function Bp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Fp(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Up(e){return e.ownerDocument.defaultView}function Hp(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Up(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function Qp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Vp(e){return Qp(parseFloat(e),0)}function Wp(e,t){var n=W({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Up(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,h=e.offsetWidth,f=e.clientWidth,p=Vp(i),m=Vp(a),g=Vp(s),v=Vp(l),b=Qp(Math.round(c.width/h*1e3)/1e3),y=Qp(Math.round(c.height/u*1e3)/1e3),x=(h-f-g-v)*b,O=(u-d-p-m)*y,w=p*y,S=m*y,E=g*b,_=v*b,C=0,k=0;if("clip"===r){var M=Vp(o);C=M*b,k=M*y}var T=c.x+E-C,P=c.y+w-k,R=T+c.width+2*C-E-_-x,A=P+c.height+2*k-w-S-O;n.left=Math.max(n.left,T),n.top=Math.max(n.top,P),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,A)}}),n}function Gp(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Xp(e,t){var n=Q(t||[],2),r=n[0],o=n[1];return[Gp(e.width,r),Gp(e.height,o)]}function qp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Zp(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function Yp(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var Kp=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Jp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc,t=o.forwardRef(function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,a=t.children,s=t.action,l=void 0===s?"hover":s,c=t.showAction,u=t.hideAction,d=t.popupVisible,h=t.defaultPopupVisible,f=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,m=t.mouseEnterDelay,g=t.mouseLeaveDelay,v=void 0===g?.1:g,b=t.focusDelay,y=t.blurDelay,x=t.mask,O=t.maskClosable,w=void 0===O||O,S=t.getPopupContainer,E=t.forceRender,_=t.autoDestroy,C=t.destroyPopupOnHide,k=t.popup,M=t.popupClassName,T=t.popupStyle,P=t.popupPlacement,A=t.builtinPlacements,$=void 0===A?{}:A,N=t.popupAlign,I=t.zIndex,D=t.stretch,L=t.getPopupClassNameFromAlign,z=t.fresh,j=t.alignPoint,B=t.onPopupClick,F=t.onPopupAlign,U=t.arrow,H=t.popupMotion,V=t.maskMotion,G=t.popupTransitionName,X=t.popupAnimation,q=t.maskTransitionName,Z=t.maskAnimation,Y=t.className,K=t.getTriggerDOMNode,J=qr(t,Kp),ee=_||C||!1,te=Q(o.useState(!1),2),ne=te[0],re=te[1];Ve(function(){re(Tp())},[]);var oe=o.useRef({}),ie=o.useContext(zp),ae=o.useMemo(function(){return{registerSubPopup:function(e,t){oe.current[e]=t,null==ie||ie.registerSubPopup(e,t)}}},[ie]),se=dc(),le=Q(o.useState(null),2),ce=le[0],ue=le[1],de=o.useRef(null),he=ao(function(e){de.current=e,Nr(e)&&ce!==e&&ue(e),null==ie||ie.registerSubPopup(se,e)}),fe=Q(o.useState(null),2),pe=fe[0],me=fe[1],ge=o.useRef(null),ve=ao(function(e){Nr(e)&&pe!==e&&(me(e),ge.current=e)}),be=o.Children.only(a),ye=(null==be?void 0:be.props)||{},xe={},Oe=ao(function(e){var t,n,r=pe;return(null==r?void 0:r.contains(e))||(null===(t=la(r))||void 0===t?void 0:t.host)===e||e===r||(null==ce?void 0:ce.contains(e))||(null===(n=la(ce))||void 0===n?void 0:n.host)===e||e===ce||Object.values(oe.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),we=Fp(i,H,X,G),Se=Fp(i,V,Z,q),Ee=Q(o.useState(h||!1),2),_e=Ee[0],Ce=Ee[1],ke=null!=d?d:_e,Me=ao(function(e){void 0===d&&Ce(e)});Ve(function(){Ce(d||!1)},[d]);var Te=o.useRef(ke);Te.current=ke;var Pe=o.useRef([]);Pe.current=[];var Re=ao(function(e){var t;Me(e),(null!==(t=Pe.current[Pe.current.length-1])&&void 0!==t?t:ke)!==e&&(Pe.current.push(e),null==f||f(e))}),Ae=o.useRef(),$e=function(){clearTimeout(Ae.current)},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;$e(),0===t?Re(e):Ae.current=setTimeout(function(){Re(e)},1e3*t)};o.useEffect(function(){return $e},[]);var Ie=Q(o.useState(!1),2),De=Ie[0],Le=Ie[1];Ve(function(e){e&&!ke||Le(!0)},[ke]);var ze=Q(o.useState(null),2),je=ze[0],Be=ze[1],Fe=Q(o.useState(null),2),Ue=Fe[0],He=Fe[1],Qe=function(e){He([e.clientX,e.clientY])},We=function(e,t,n,r,i,a,s){var l=Q(o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),2),c=l[0],u=l[1],d=o.useRef(0),h=o.useMemo(function(){return t?Hp(t):[]},[t]),f=o.useRef({});e||(f.current={});var p=ao(function(){if(t&&n&&e){var o,l,c,d,p,m=t,g=m.ownerDocument,v=Up(m),b=v.getComputedStyle(m).position,y=m.style.left,x=m.style.top,O=m.style.right,w=m.style.bottom,S=m.style.overflow,E=W(W({},i[r]),a),_=g.createElement("div");if(null===(o=m.parentElement)||void 0===o||o.appendChild(_),_.style.left="".concat(m.offsetLeft,"px"),_.style.top="".concat(m.offsetTop,"px"),_.style.position=b,_.style.height="".concat(m.offsetHeight,"px"),_.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var C,k,M=n.getBoundingClientRect();M.x=null!==(C=M.x)&&void 0!==C?C:M.left,M.y=null!==(k=M.y)&&void 0!==k?k:M.top,p={x:M.x,y:M.y,width:M.width,height:M.height}}var T=m.getBoundingClientRect(),P=v.getComputedStyle(m),R=P.height,A=P.width;T.x=null!==(l=T.x)&&void 0!==l?l:T.left,T.y=null!==(c=T.y)&&void 0!==c?c:T.top;var $=g.documentElement,N=$.clientWidth,I=$.clientHeight,D=$.scrollWidth,L=$.scrollHeight,z=$.scrollTop,j=$.scrollLeft,B=T.height,F=T.width,U=p.height,H=p.width,V={left:0,top:0,right:N,bottom:I},G={left:-j,top:-z,right:D-j,bottom:L-z},X=E.htmlRegion,q="visible",Z="visibleFirst";"scroll"!==X&&X!==Z&&(X=q);var Y=X===Z,K=Wp(G,h),J=Wp(V,h),ee=X===q?J:K,te=Y?J:ee;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var ne=m.getBoundingClientRect();m.style.left=y,m.style.top=x,m.style.right=O,m.style.bottom=w,m.style.overflow=S,null===(d=m.parentElement)||void 0===d||d.removeChild(_);var re=Qp(Math.round(F/parseFloat(A)*1e3)/1e3),oe=Qp(Math.round(B/parseFloat(R)*1e3)/1e3);if(0===re||0===oe||Nr(n)&&!Wa(n))return;var ie=E.offset,ae=E.targetOffset,se=Q(Xp(T,ie),2),le=se[0],ce=se[1],ue=Q(Xp(p,ae),2),de=ue[0],he=ue[1];p.x-=de,p.y-=he;var fe=Q(E.points||[],2),pe=fe[0],me=qp(fe[1]),ge=qp(pe),ve=Zp(p,me),be=Zp(T,ge),ye=W({},E),xe=ve.x-be.x+le,Oe=ve.y-be.y+ce;function pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=T.x+e,o=T.y+t,i=r+F,a=o+B,s=Math.max(r,n.left),l=Math.max(o,n.top),c=Math.min(i,n.right),u=Math.min(a,n.bottom);return Math.max(0,(c-s)*(u-l))}var we,Se,Ee,_e,Ce=pt(xe,Oe),ke=pt(xe,Oe,J),Me=Zp(p,["t","l"]),Te=Zp(T,["t","l"]),Pe=Zp(p,["b","r"]),Re=Zp(T,["b","r"]),Ae=E.overflow||{},$e=Ae.adjustX,Ne=Ae.adjustY,Ie=Ae.shiftX,De=Ae.shiftY,Le=function(e){return"boolean"==typeof e?e:e>=0};function mt(){we=T.y+Oe,Se=we+B,Ee=T.x+xe,_e=Ee+F}mt();var ze=Le(Ne),je=ge[0]===me[0];if(ze&&"t"===ge[0]&&(Se>te.bottom||f.current.bt)){var Be=Oe;je?Be-=B-U:Be=Me.y-Re.y-ce;var Fe=pt(xe,Be),Ue=pt(xe,Be,J);Fe>Ce||Fe===Ce&&(!Y||Ue>=ke)?(f.current.bt=!0,Oe=Be,ce=-ce,ye.points=[Yp(ge,0),Yp(me,0)]):f.current.bt=!1}if(ze&&"b"===ge[0]&&(we<te.top||f.current.tb)){var He=Oe;je?He+=B-U:He=Pe.y-Te.y-ce;var Qe=pt(xe,He),Ve=pt(xe,He,J);Qe>Ce||Qe===Ce&&(!Y||Ve>=ke)?(f.current.tb=!0,Oe=He,ce=-ce,ye.points=[Yp(ge,0),Yp(me,0)]):f.current.tb=!1}var We=Le($e),Ge=ge[1]===me[1];if(We&&"l"===ge[1]&&(_e>te.right||f.current.rl)){var Xe=xe;Ge?Xe-=F-H:Xe=Me.x-Re.x-le;var qe=pt(Xe,Oe),Ze=pt(Xe,Oe,J);qe>Ce||qe===Ce&&(!Y||Ze>=ke)?(f.current.rl=!0,xe=Xe,le=-le,ye.points=[Yp(ge,1),Yp(me,1)]):f.current.rl=!1}if(We&&"r"===ge[1]&&(Ee<te.left||f.current.lr)){var Ye=xe;Ge?Ye+=F-H:Ye=Pe.x-Te.x-le;var Ke=pt(Ye,Oe),Je=pt(Ye,Oe,J);Ke>Ce||Ke===Ce&&(!Y||Je>=ke)?(f.current.lr=!0,xe=Ye,le=-le,ye.points=[Yp(ge,1),Yp(me,1)]):f.current.lr=!1}mt();var et=!0===Ie?0:Ie;"number"==typeof et&&(Ee<J.left&&(xe-=Ee-J.left-le,p.x+H<J.left+et&&(xe+=p.x-J.left+H-et)),_e>J.right&&(xe-=_e-J.right-le,p.x>J.right-et&&(xe+=p.x-J.right+et)));var tt=!0===De?0:De;"number"==typeof tt&&(we<J.top&&(Oe-=we-J.top-ce,p.y+U<J.top+tt&&(Oe+=p.y-J.top+U-tt)),Se>J.bottom&&(Oe-=Se-J.bottom-ce,p.y>J.bottom-tt&&(Oe+=p.y-J.bottom+tt)));var nt=T.x+xe,rt=nt+F,ot=T.y+Oe,it=ot+B,at=p.x,st=at+H,lt=p.y,ct=lt+U,ut=(Math.max(nt,at)+Math.min(rt,st))/2-nt,dt=(Math.max(ot,lt)+Math.min(it,ct))/2-ot;null==s||s(t,ye);var ht=ne.right-T.x-(xe+T.width),ft=ne.bottom-T.y-(Oe+T.height);1===re&&(xe=Math.round(xe),ht=Math.round(ht)),1===oe&&(Oe=Math.round(Oe),ft=Math.round(ft)),u({ready:!0,offsetX:xe/re,offsetY:Oe/oe,offsetR:ht/re,offsetB:ft/oe,arrowX:ut/re,arrowY:dt/oe,scaleX:re,scaleY:oe,align:ye})}}),m=function(){u(function(e){return W(W({},e),{},{ready:!1})})};return Ve(m,[r]),Ve(function(){e||m()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then(function(){d.current===e&&p()})}]}(ke,ce,j&&null!==Ue?Ue:pe,P,$,N,F),Ge=Q(We,11),Xe=Ge[0],qe=Ge[1],Ze=Ge[2],Ye=Ge[3],Ke=Ge[4],Je=Ge[5],et=Ge[6],tt=Ge[7],nt=Ge[8],rt=Ge[9],ot=Ge[10],it=function(e,t,n,r){return o.useMemo(function(){var o=jp(null!=n?n:t),i=jp(null!=r?r:t),a=new Set(o),s=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]},[e,t,n,r])}(ne,l,c,u),at=Q(it,2),st=at[0],lt=at[1],ct=st.has("click"),ut=lt.has("click")||lt.has("contextMenu"),dt=ao(function(){De||ot()});!function(e,t,n,r){Ve(function(){if(e&&t&&n){var o=n,i=Hp(t),a=Hp(o),s=Up(o),l=new Set([s].concat(R(i),R(a)));function c(){r(),Te.current&&j&&ut&&Ne(!1)}return l.forEach(function(e){e.addEventListener("scroll",c,{passive:!0})}),s.addEventListener("resize",c,{passive:!0}),r(),function(){l.forEach(function(e){e.removeEventListener("scroll",c),s.removeEventListener("resize",c)})}}},[e,t,n])}(ke,pe,ce,dt),Ve(function(){dt()},[Ue,P]),Ve(function(){!ke||null!=$&&$[P]||dt()},[JSON.stringify(N)]);var ht=o.useMemo(function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var s,l=i[a];if(Bp(null===(s=e[l])||void 0===s?void 0:s.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}($,i,rt,j);return $r()(e,null==L?void 0:L(rt))},[rt,L,$,i,j]);o.useImperativeHandle(n,function(){return{nativeElement:ge.current,popupElement:de.current,forceAlign:dt}});var ft=Q(o.useState(0),2),pt=ft[0],mt=ft[1],gt=Q(o.useState(0),2),vt=gt[0],bt=gt[1],yt=function(){if(D&&pe){var e=pe.getBoundingClientRect();mt(e.width),bt(e.height)}};function xt(e,t,n,r){xe[e]=function(o){var i;null==r||r(o),Ne(t,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];null===(i=ye[e])||void 0===i||i.call.apply(i,[ye,o].concat(s))}}Ve(function(){je&&(ot(),je(),Be(null))},[je]),(ct||ut)&&(xe.onClick=function(e){var t;Te.current&&ut?Ne(!1):!Te.current&&ct&&(Qe(e),Ne(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=ye.onClick)||void 0===t||t.call.apply(t,[ye,e].concat(r))});var Ot,wt,St=function(e,t,n,r,i,a,s,l){var c=o.useRef(e);c.current=e;var u=o.useRef(!1);return o.useEffect(function(){if(t&&r&&(!i||a)){var e=function(){u.current=!1},o=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||l(!1)},d=Up(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",o,!0),d.addEventListener("contextmenu",o,!0);var h=la(n);return h&&(h.addEventListener("mousedown",o,!0),h.addEventListener("contextmenu",o,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",o,!0),d.removeEventListener("contextmenu",o,!0),h&&(h.removeEventListener("mousedown",o,!0),h.removeEventListener("contextmenu",o,!0))}}},[t,n,r,i,a]),function(){u.current=!0}}(ke,ut,pe,ce,x,w,Oe,Ne),Et=st.has("hover"),_t=lt.has("hover");Et&&(xt("onMouseEnter",!0,m,function(e){Qe(e)}),xt("onPointerEnter",!0,m,function(e){Qe(e)}),Ot=function(e){(ke||De)&&null!=ce&&ce.contains(e.target)&&Ne(!0,m)},j&&(xe.onMouseMove=function(e){var t;null===(t=ye.onMouseMove)||void 0===t||t.call(ye,e)})),_t&&(xt("onMouseLeave",!1,v),xt("onPointerLeave",!1,v),wt=function(){Ne(!1,v)}),st.has("focus")&&xt("onFocus",!0,b),lt.has("focus")&&xt("onBlur",!1,y),st.has("contextMenu")&&(xe.onContextMenu=function(e){var t;Te.current&&lt.has("contextMenu")?Ne(!1):(Qe(e),Ne(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=ye.onContextMenu)||void 0===t||t.call.apply(t,[ye,e].concat(r))}),Y&&(xe.className=$r()(ye.className,Y));var Ct=W(W({},ye),xe),kt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){J[e]&&(kt[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=Ct[e])||void 0===t||t.call.apply(t,[Ct].concat(r)),J[e].apply(J,r)})});var Mt=o.cloneElement(be,W(W({},Ct),kt)),Tt={x:Je,y:et},Pt=U?W({},!0!==U?U:{}):null;return o.createElement(o.Fragment,null,o.createElement(ff,{disabled:!ke,ref:ve,onResize:function(){yt(),dt()}},o.createElement(Lp,{getTriggerDOMNode:K},Mt)),o.createElement(zp.Provider,{value:ae},o.createElement(Ip,{portal:e,ref:he,prefixCls:i,popup:k,className:$r()(M,ht),style:T,target:pe,onMouseEnter:Ot,onMouseLeave:wt,onPointerEnter:Ot,zIndex:I,open:ke,keepDom:De,fresh:z,onClick:B,onPointerDownCapture:St,mask:x,motion:we,maskMotion:Se,onVisibleChanged:function(e){Le(!1),ot(),null==p||p(e)},onPrepare:function(){return new Promise(function(e){yt(),Be(function(){return e})})},forceRender:E,autoDestroy:ee,getPopupContainer:S,align:rt,arrow:Pt,arrowPos:Tt,ready:Xe,offsetX:qe,offsetY:Ze,offsetR:Ye,offsetB:Ke,onAlign:dt,stretch:D,targetWidth:pt/tt,targetHeight:vt/nt})))});return t}(sc);var em={adjustX:1,adjustY:1},tm={topLeft:{points:["bl","tl"],overflow:em},topRight:{points:["br","tr"],overflow:em},bottomLeft:{points:["tl","bl"],overflow:em},bottomRight:{points:["tr","br"],overflow:em},leftTop:{points:["tr","tl"],overflow:em},leftBottom:{points:["br","bl"],overflow:em},rightTop:{points:["tl","tr"],overflow:em},rightBottom:{points:["bl","br"],overflow:em}},nm={topLeft:{points:["bl","tl"],overflow:em},topRight:{points:["br","tr"],overflow:em},bottomLeft:{points:["tl","bl"],overflow:em},bottomRight:{points:["tr","br"],overflow:em},rightTop:{points:["tr","tl"],overflow:em},rightBottom:{points:["br","bl"],overflow:em},leftTop:{points:["tl","tr"],overflow:em},leftBottom:{points:["bl","br"],overflow:em}};function rm(e,t,n){return t||(n?n[e]||n.other:void 0)}var om={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function im(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,a=e.popupStyle,s=e.popupClassName,l=e.popupOffset,c=e.disabled,u=e.mode,d=e.onVisibleChange,h=o.useContext(zf),f=h.getPopupContainer,p=h.rtl,m=h.subMenuOpenDelay,g=h.subMenuCloseDelay,v=h.builtinPlacements,b=h.triggerSubMenuAction,y=h.forceSubMenuRender,x=h.rootClassName,O=h.motion,w=h.defaultMotions,S=Q(o.useState(!1),2),E=S[0],_=S[1],C=W(W({},p?nm:tm),v),k=om[u],M=rm(u,O,w),T=o.useRef(M);"inline"!==u&&(T.current=M);var P=W(W({},T.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),R=o.useRef();return o.useEffect(function(){return R.current=Ho(function(){_(n)}),function(){Ho.cancel(R.current)}},[n]),o.createElement(Jp,{prefixCls:t,popupClassName:$r()("".concat(t,"-popup"),F({},"".concat(t,"-rtl"),p),s,x),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:C,popupPlacement:k,popupVisible:E,popup:i,popupStyle:a,popupAlign:l&&{offset:l},action:c?[]:[b],mouseEnterDelay:m,mouseLeaveDelay:g,onPopupVisibleChange:d,forceRender:y,popupMotion:P,fresh:!0},r)}function am(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,a="inline",s=o.useContext(zf),l=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,h=s.mode,f=o.useRef(!1);f.current=h===a;var p=Q(o.useState(!f.current),2),m=p[0],g=p[1],v=!!f.current&&n;o.useEffect(function(){f.current&&g(!1)},[h]);var b=W({},rm(a,u,d));r.length>1&&(b.motionAppear=!1);var y=b.onVisibleChanged;return b.onVisibleChanged=function(e){return f.current||e||g(!0),null==y?void 0:y(e)},m?null:o.createElement(jf,{mode:a,locked:!f.current},o.createElement(ai,et({visible:v},b,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),function(e){var n=e.className,r=e.style;return o.createElement(kp,{id:t,className:n,style:r},i)}))}var sm=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],lm=["active"],cm=o.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.title,a=e.eventKey,s=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,u=e.itemIcon,d=e.expandIcon,h=e.popupClassName,f=e.popupOffset,p=e.popupStyle,m=e.onClick,g=e.onMouseEnter,v=e.onMouseLeave,b=e.onTitleClick,y=e.onTitleMouseEnter,x=e.onTitleMouseLeave,O=qr(e,sm),w=Df(a),S=o.useContext(zf),E=S.prefixCls,_=S.mode,C=S.openKeys,k=S.disabled,M=S.overflowDisabled,T=S.activeKey,P=S.selectedKeys,R=S.itemIcon,A=S.expandIcon,$=S.onItemClick,N=S.onOpenChange,I=S.onActive,D=o.useContext(Wf)._internalRenderSubMenuItem,L=o.useContext(Vf).isSubPathKey,z=Qf(),j="".concat(E,"-submenu"),B=k||s,U=o.useRef(),H=o.useRef(),V=null!=u?u:R,G=null!=d?d:A,X=C.includes(a),q=!M&&X,Z=L(P,a),Y=hp(a,B,y,x),K=Y.active,J=qr(Y,lm),ee=Q(o.useState(!1),2),te=ee[0],ne=ee[1],re=function(e){B||ne(e)},oe=o.useMemo(function(){return K||"inline"!==_&&(te||L([T],a))},[_,K,T,te,a,L]),ie=fp(z.length),ae=cp(function(e){null==m||m(gp(e)),$(e)}),se=w&&"".concat(w,"-popup"),le=o.useMemo(function(){return o.createElement(pp,{icon:"horizontal"!==_?G:void 0,props:W(W({},e),{},{isOpen:q,isSubMenu:!0})},o.createElement("i",{className:"".concat(j,"-arrow")}))},[_,G,e,q,j]),ce=o.createElement("div",et({role:"menuitem",style:ie,className:"".concat(j,"-title"),tabIndex:B?null:-1,ref:U,title:"string"==typeof i?i:null,"data-menu-id":M&&w?null:w,"aria-expanded":q,"aria-haspopup":!0,"aria-controls":se,"aria-disabled":B,onClick:function(e){B||(null==b||b({key:a,domEvent:e}),"inline"===_&&N(a,!X))},onFocus:function(){I(a)}},J),i,le),ue=o.useRef(_);if("inline"!==_&&z.length>1?ue.current="vertical":ue.current=_,!M){var de=ue.current;ce=o.createElement(im,{mode:de,prefixCls:j,visible:!l&&q&&"inline"!==_,popupClassName:h,popupOffset:f,popupStyle:p,popup:o.createElement(jf,{mode:"horizontal"===de?"vertical":de},o.createElement(kp,{id:se,ref:H},c)),disabled:B,onVisibleChange:function(e){"inline"!==_&&N(a,e)}},ce)}var he=o.createElement($f.Item,et({ref:t,role:"none"},O,{component:"li",style:n,className:$r()(j,"".concat(j,"-").concat(_),r,F(F(F(F({},"".concat(j,"-open"),q),"".concat(j,"-active"),oe),"".concat(j,"-selected"),Z),"".concat(j,"-disabled"),B)),onMouseEnter:function(e){re(!0),null==g||g({key:a,domEvent:e})},onMouseLeave:function(e){re(!1),null==v||v({key:a,domEvent:e})}}),ce,!M&&o.createElement(am,{id:se,open:q,keyPath:z},c));return D&&(he=D(he,e,{selected:Z,active:oe,open:q,disabled:B})),o.createElement(jf,{onItemClick:ae,mode:"horizontal"===_?"vertical":_,itemIcon:V,expandIcon:G},he)}),um=o.forwardRef(function(e,t){var n,r=e.eventKey,i=e.children,a=Qf(r),s=Mp(i,a),l=Uf();return o.useEffect(function(){if(l)return l.registerPath(r,a),function(){l.unregisterPath(r,a)}},[a]),n=l?s:o.createElement(cm,et({ref:t},e),s),o.createElement(Hf.Provider,{value:a},n)});const dm=um;function hm(e){var t=e.className,n=e.style,r=o.useContext(zf).prefixCls;return Uf()?null:o.createElement("li",{role:"separator",className:$r()("".concat(r,"-item-divider"),t),style:n})}var fm=["className","title","eventKey","children"],pm=o.forwardRef(function(e,t){var n=e.className,r=e.title,i=(e.eventKey,e.children),a=qr(e,fm),s=o.useContext(zf).prefixCls,l="".concat(s,"-item-group");return o.createElement("li",et({ref:t,role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:$r()(l,n)}),o.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:"string"==typeof r?r:void 0},r),o.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))});const mm=o.forwardRef(function(e,t){var n=e.eventKey,r=Mp(e.children,Qf(n));return Uf()?r:o.createElement(pm,et({ref:t},Va(e,["warnKey"])),r)});var gm=["label","children","key","type","extra"];function vm(e,t,n){var r=t.item,i=t.group,a=t.submenu,s=t.divider;return(e||[]).map(function(e,l){if(e&&"object"===j(e)){var c=e,u=c.label,d=c.children,h=c.key,f=c.type,p=c.extra,m=qr(c,gm),g=null!=h?h:"tmp-".concat(l);return d||"group"===f?"group"===f?o.createElement(i,et({key:g},m,{title:u}),vm(d,t,n)):o.createElement(a,et({key:g},m,{title:u}),vm(d,t,n)):"divider"===f?o.createElement(s,et({key:g},m)):o.createElement(r,et({key:g},m,{extra:p}),u,(!!p||0===p)&&o.createElement("span",{className:"".concat(n,"-item-extra")},p))}return null}).filter(function(e){return e})}function bm(e,t,n,r,o){var i=e,a=W({divider:hm,item:Sp,group:mm,submenu:dm},r);return t&&(i=vm(t,a,o)),Mp(i,n)}var ym=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],xm=[],Om=o.forwardRef(function(e,t){var n,r=e,i=r.prefixCls,a=void 0===i?"rc-menu":i,l=r.rootClassName,c=r.style,u=r.className,d=r.tabIndex,h=void 0===d?0:d,f=r.items,p=r.children,m=r.direction,g=r.id,v=r.mode,b=void 0===v?"vertical":v,y=r.inlineCollapsed,x=r.disabled,O=r.disabledOverflow,w=r.subMenuOpenDelay,S=void 0===w?.1:w,E=r.subMenuCloseDelay,_=void 0===E?.1:E,C=r.forceSubMenuRender,k=r.defaultOpenKeys,M=r.openKeys,T=r.activeKey,P=r.defaultActiveFirst,A=r.selectable,$=void 0===A||A,N=r.multiple,I=void 0!==N&&N,D=r.defaultSelectedKeys,L=r.selectedKeys,z=r.onSelect,j=r.onDeselect,B=r.inlineIndent,U=void 0===B?24:B,H=r.motion,V=r.defaultMotions,G=r.triggerSubMenuAction,X=void 0===G?"hover":G,q=r.builtinPlacements,Z=r.itemIcon,Y=r.expandIcon,K=r.overflowedIndicator,J=void 0===K?"...":K,ee=r.overflowedIndicatorPopupClassName,te=r.getPopupContainer,ne=r.onClick,re=r.onOpenChange,oe=r.onKeyDown,ie=(r.openAnimation,r.openTransitionName,r._internalRenderMenuItem),ae=r._internalRenderSubMenuItem,se=r._internalComponents,le=qr(r,ym),ce=Q(o.useMemo(function(){return[bm(p,f,xm,se,a),bm(p,f,xm,{},a)]},[p,f,se]),2),ue=ce[0],de=ce[1],he=Q(o.useState(!1),2),fe=he[0],me=he[1],ge=o.useRef(),ve=function(e){var t=Q(co(e,{value:e}),2),n=t[0],r=t[1];return o.useEffect(function(){dp+=1;var e="".concat(up,"-").concat(dp);r("rc-menu-uuid-".concat(e))},[]),n}(g),be="rtl"===m,ye=co(k,{value:M,postState:function(e){return e||xm}}),xe=Q(ye,2),Oe=xe[0],we=xe[1],Se=function(e){function t(){we(e),null==re||re(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,s.flushSync)(t):t()},Ee=Q(o.useState(Oe),2),_e=Ee[0],Ce=Ee[1],ke=o.useRef(!1),Me=Q(o.useMemo(function(){return"inline"!==b&&"vertical"!==b||!y?[b,!1]:["vertical",y]},[b,y]),2),Te=Me[0],Pe=Me[1],Re="inline"===Te,Ae=Q(o.useState(Te),2),$e=Ae[0],Ne=Ae[1],Ie=Q(o.useState(Pe),2),De=Ie[0],Le=Ie[1];o.useEffect(function(){Ne(Te),Le(Pe),ke.current&&(Re?we(_e):Se(xm))},[Te,Pe]);var ze=Q(o.useState(0),2),je=ze[0],Be=ze[1],Fe=je>=ue.length-1||"horizontal"!==$e||O;o.useEffect(function(){Re&&Ce(Oe)},[Oe]),o.useEffect(function(){return ke.current=!0,function(){ke.current=!1}},[]);var Ue=function(){var e=Q(o.useState({}),2)[1],t=(0,o.useRef)(new Map),n=(0,o.useRef)(new Map),r=Q(o.useState([]),2),i=r[0],a=r[1],s=(0,o.useRef)(0),l=(0,o.useRef)(!1),c=(0,o.useCallback)(function(r,o){var i=sp(o);n.current.set(i,r),t.current.set(r,i),s.current+=1;var a,c=s.current;a=function(){c===s.current&&(l.current||e({}))},Promise.resolve().then(a)},[]),u=(0,o.useCallback)(function(e,r){var o=sp(r);n.current.delete(o),t.current.delete(e)},[]),d=(0,o.useCallback)(function(e){a(e)},[]),h=(0,o.useCallback)(function(e,n){var r=(t.current.get(e)||"").split(ap);return n&&i.includes(r[0])&&r.unshift(lp),r},[i]),f=(0,o.useCallback)(function(e,t){return e.filter(function(e){return void 0!==e}).some(function(e){return h(e,!0).includes(t)})},[h]),p=(0,o.useCallback)(function(e){var r="".concat(t.current.get(e)).concat(ap),o=new Set;return R(n.current.keys()).forEach(function(e){e.startsWith(r)&&o.add(n.current.get(e))}),o},[]);return o.useEffect(function(){return function(){l.current=!0}},[]),{registerPath:c,unregisterPath:u,refreshOverflowKeys:d,isSubPathKey:f,getKeyPath:h,getKeys:function(){var e=R(t.current.keys());return i.length&&e.push(lp),e},getSubPathKeys:p}}(),He=Ue.registerPath,Qe=Ue.unregisterPath,Ve=Ue.refreshOverflowKeys,We=Ue.isSubPathKey,Ge=Ue.getKeyPath,Xe=Ue.getKeys,qe=Ue.getSubPathKeys,Ze=o.useMemo(function(){return{registerPath:He,unregisterPath:Qe}},[He,Qe]),Ye=o.useMemo(function(){return{isSubPathKey:We}},[We]);o.useEffect(function(){Ve(Fe?xm:ue.slice(je+1).map(function(e){return e.key}))},[je,Fe]);var Ke=Q(co(T||P&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:T}),2),Je=Ke[0],tt=Ke[1],nt=cp(function(e){tt(e)}),rt=cp(function(){tt(void 0)});(0,o.useImperativeHandle)(t,function(){return{list:ge.current,focus:function(e){var t,n,r=Xe(),o=ip(r,ve),i=o.elements,a=o.key2element,s=o.element2key,l=rp(ge.current,i),c=null!=Je?Je:l[0]?s.get(l[0]):null===(t=ue.find(function(e){return!e.props.disabled}))||void 0===t?void 0:t.key,u=a.get(c);c&&u&&(null==u||null===(n=u.focus)||void 0===n||n.call(u,e))}}});var ot=co(D||[],{value:L,postState:function(e){return Array.isArray(e)?e:null==e?xm:[e]}}),it=Q(ot,2),at=it[0],st=it[1],lt=cp(function(e){null==ne||ne(gp(e)),function(e){if($){var t,n=e.key,r=at.includes(n);t=I?r?at.filter(function(e){return e!==n}):[].concat(R(at),[n]):[n],st(t);var o=W(W({},e),{},{selectedKeys:t});r?null==j||j(o):null==z||z(o)}!I&&Oe.length&&"inline"!==$e&&Se(xm)}(e)}),ct=cp(function(e,t){var n=Oe.filter(function(t){return t!==e});if(t)n.push(e);else if("inline"!==$e){var r=qe(e);n=n.filter(function(e){return!r.has(e)})}pe(Oe,n,!0)||Se(n,!0)}),ut=function(e,t,n,r,i,a,s,l,c,u){var d=o.useRef(),h=o.useRef();h.current=t;var f=function(){Ho.cancel(d.current)};return o.useEffect(function(){return function(){f()}},[]),function(o){var p=o.which;if([].concat(np,[Kf,Jf,ep,tp]).includes(p)){var m=a(),g=ip(m,r),v=g,b=v.elements,y=v.key2element,x=v.element2key,O=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(y.get(t),b),w=x.get(O),S=function(e,t,n,r){var o,i="prev",a="next",s="children",l="parent";if("inline"===e&&r===Kf)return{inlineTrigger:!0};var c=F(F({},Zf,i),Yf,a),u=F(F(F(F({},Xf,n?a:i),qf,n?i:a),Yf,s),Kf,s),d=F(F(F(F(F(F({},Zf,i),Yf,a),Kf,s),Jf,l),Xf,n?s:l),qf,n?l:s);switch(null===(o={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d}["".concat(e).concat(t?"":"Sub")])||void 0===o?void 0:o[r]){case i:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(e,1===s(w,!0).length,n,p);if(!S&&p!==ep&&p!==tp)return;(np.includes(p)||[ep,tp].includes(p))&&o.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");null!=n&&n.getAttribute("href")&&(t=n);var r=x.get(e);l(r),f(),d.current=Ho(function(){h.current===r&&t.focus()})}};if([ep,tp].includes(p)||S.sibling||!O){var _,C,k=rp(_=O&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(O):i.current,b);C=p===ep?k[0]:p===tp?k[k.length-1]:op(_,b,O,S.offset),E(C)}else if(S.inlineTrigger)c(w);else if(S.offset>0)c(w,!0),f(),d.current=Ho(function(){g=ip(m,r);var e=O.getAttribute("aria-controls"),t=op(document.getElementById(e),g.elements);E(t)},5);else if(S.offset<0){var M=s(w,!0),T=M[M.length-2],P=y.get(T);c(T,!1),E(P)}}null==u||u(o)}}($e,Je,be,ve,ge,Xe,Ge,tt,function(e,t){var n=null!=t?t:!Oe.includes(e);ct(e,n)},oe);o.useEffect(function(){me(!0)},[]);var dt=o.useMemo(function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}},[ie,ae]),ht="horizontal"!==$e||O?ue:ue.map(function(e,t){return o.createElement(jf,{key:e.key,overflowDisabled:t>je},e)}),ft=o.createElement($f,et({id:g,ref:ge,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:Sp,className:$r()(a,"".concat(a,"-root"),"".concat(a,"-").concat($e),u,F(F({},"".concat(a,"-inline-collapsed"),De),"".concat(a,"-rtl"),be),l),dir:m,style:c,role:"menu",tabIndex:h,data:ht,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return o.createElement(dm,{eventKey:lp,title:J,disabled:Fe,internalPopupClose:0===t,popupClassName:ee},n)},maxCount:"horizontal"!==$e||O?$f.INVALIDATE:$f.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Be(e)},onKeyDown:ut},le));return o.createElement(Wf.Provider,{value:dt},o.createElement(Nf.Provider,{value:ve},o.createElement(jf,{prefixCls:a,rootClassName:l,mode:$e,openKeys:Oe,rtl:be,disabled:x,motion:fe?H:null,defaultMotions:fe?V:null,activeKey:Je,onActive:nt,onInactive:rt,selectedKeys:at,inlineIndent:U,subMenuOpenDelay:S,subMenuCloseDelay:_,forceSubMenuRender:C,builtinPlacements:q,triggerSubMenuAction:X,getPopupContainer:te,itemIcon:Z,expandIcon:Y,onItemClick:lt,onOpenChange:ct},o.createElement(Vf.Provider,{value:Ye},ft),o.createElement("div",{style:{display:"none"},"aria-hidden":!0},o.createElement(Ff.Provider,{value:Ze},de)))))}),wm=Om;wm.Item=Sp,wm.SubMenu=dm,wm.ItemGroup=mm,wm.Divider=hm;const Sm=wm,Em=o.createContext({}),_m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var Cm=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:_m}))};const km=o.forwardRef(Cm),Mm=(0,o.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});const Tm=e=>{const{prefixCls:t,className:n,dashed:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","dashed"]),{getPrefixCls:a}=o.useContext(I),s=a("menu",t),l=$r()({[`${s}-item-divider-dashed`]:!!r},n);return o.createElement(hm,Object.assign({className:l},i))};function Pm(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,a=e.bodyClassName,s=e.className,l=e.style;return o.createElement("div",{className:$r()("".concat(n,"-content"),s),style:l},o.createElement("div",{className:$r()("".concat(n,"-inner"),a),id:r,role:"tooltip",style:i},"function"==typeof t?t():t))}var Rm={shiftX:64,adjustY:1},Am={adjustX:1,shiftY:!0},$m=[0,0],Nm={left:{points:["cr","cl"],overflow:Am,offset:[-4,0],targetOffset:$m},right:{points:["cl","cr"],overflow:Am,offset:[4,0],targetOffset:$m},top:{points:["bc","tc"],overflow:Rm,offset:[0,-4],targetOffset:$m},bottom:{points:["tc","bc"],overflow:Rm,offset:[0,4],targetOffset:$m},topLeft:{points:["bl","tl"],overflow:Rm,offset:[0,-4],targetOffset:$m},leftTop:{points:["tr","tl"],overflow:Am,offset:[-4,0],targetOffset:$m},topRight:{points:["br","tr"],overflow:Rm,offset:[0,-4],targetOffset:$m},rightTop:{points:["tl","tr"],overflow:Am,offset:[4,0],targetOffset:$m},bottomRight:{points:["tr","br"],overflow:Rm,offset:[0,4],targetOffset:$m},rightBottom:{points:["bl","br"],overflow:Am,offset:[4,0],targetOffset:$m},bottomLeft:{points:["tl","bl"],overflow:Rm,offset:[0,4],targetOffset:$m},leftBottom:{points:["br","bl"],overflow:Am,offset:[-4,0],targetOffset:$m}},Im=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Dm=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,a=e.mouseEnterDelay,s=void 0===a?0:a,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,f=e.children,p=e.onVisibleChange,m=e.afterVisibleChange,g=e.transitionName,v=e.animation,b=e.motion,y=e.placement,x=void 0===y?"right":y,O=e.align,w=void 0===O?{}:O,S=e.destroyTooltipOnHide,E=void 0!==S&&S,_=e.defaultVisible,C=e.getTooltipContainer,k=e.overlayInnerStyle,M=(e.arrowContent,e.overlay),T=e.id,P=e.showArrow,R=void 0===P||P,A=e.classNames,$=e.styles,N=qr(e,Im),I=dc(T),D=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,function(){return D.current});var L,z,j=W({},N);return"visible"in e&&(j.popupVisible=e.visible),o.createElement(Jp,et({popupClassName:$r()(n,null==A?void 0:A.root),prefixCls:h,popup:function(){return o.createElement(Pm,{key:"content",prefixCls:h,id:I,bodyClassName:null==A?void 0:A.body,overlayInnerStyle:W(W({},k),null==$?void 0:$.body)},M)},action:i,builtinPlacements:Nm,popupPlacement:x,ref:D,popupAlign:w,getPopupContainer:C,onPopupVisibleChange:p,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:v,popupMotion:b,defaultPopupVisible:_,autoDestroy:E,mouseLeaveDelay:c,popupStyle:W(W({},u),null==$?void 0:$.root),mouseEnterDelay:s,arrow:R},j),(z=W(W({},(null==(L=o.Children.only(f))?void 0:L.props)||{}),{},{"aria-describedby":M?I:null}),o.cloneElement(f,z)))};const Lm=(0,o.forwardRef)(Dm);function zm(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,o=t/2,i=o,a=1*r/Math.sqrt(2),s=o-r*(1-1/Math.sqrt(2)),l=o-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*o-l,d=c,h=2*o-a,f=s,p=2*o-0,m=i,g=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:g,arrowPath:`path('M 0 ${i} A ${r} ${r} 0 0 0 ${a} ${s} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${h} ${f} A ${r} ${r} 0 0 0 ${p} ${m} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*o-v}px 100%, ${v}px 100%)`}}const jm=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:o,arrowPath:i,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Le(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function Bm(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function Fm(e,t){return e?t:{}}function Um(e,t,n){const{componentCls:r,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:a}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},jm(e,t,o)),{"&:before":{background:t}})]},Fm(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Le(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Fm(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Le(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),Fm(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:i},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:i}})),Fm(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:i},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:i}}))}}const Hm={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Qm={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Vm=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Wm(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:o,borderRadius:i,visibleFirst:a}=e,s=t/2,l={};return Object.keys(Hm).forEach(e=>{const c=r&&Qm[e]||Hm[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,Vm.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-s-o;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+o;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-o;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+o}const d=Bm({contentRadius:i,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=2*-d.arrowOffsetHorizontal+s;break;case"leftBottom":case"rightBottom":u.offset[1]=2*d.arrowOffsetHorizontal-s}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const o=r&&"object"==typeof r?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=2*t.arrowOffsetHorizontal+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=2*t.arrowOffsetVertical+n,i.shiftX=!0,i.adjustX=!0}const a=Object.assign(Object.assign({},i),o);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(e,d,t,n),a&&(u.htmlRegion="visibleFirst")}),l}function Gm(e,t){return Ds.reduce((n,r)=>{const o=e[`${r}1`],i=e[`${r}3`],a=e[`${r}6`],s=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:o,lightBorderColor:i,darkColor:a,textColor:s}))},{})}const Xm=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:o,tooltipBg:i,tooltipBorderRadius:a,zIndexPopup:s,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:h,sizePopupArrow:f}=e,p=t(a).add(f).add(h).equal(),m=t(a).mul(2).add(f).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${n}-inner`]:{minWidth:m,minHeight:l,padding:`${Le(e.calc(u).div(2).equal())} ${Le(d)}`,color:o,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(a,8)}},[`${n}-content`]:{position:"relative"}}),Gm(e,(e,{darkColor:t})=>({[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{"--antd-arrow-background-color":t}}}))),{"&-rtl":{direction:"rtl"}})},Um(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},qm=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Bm({contentRadius:e.borderRadius,limitVerticalRadius:!0})),zm(is(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Zm=(e,t=!0)=>{const n=hs("Tooltip",e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,o=is(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[Xm(o),th(e,"zoom-big-fast")]},qm,{resetStyle:!1,injectStyle:t});return n(e)},Ym=Ds.map(e=>`${e}-inverse`);function Km(e,t){const n=function(e,t=!0){return t?[].concat(R(Ym),R(Ds)).includes(e):Ds.includes(e)}(t),r=$r()({[`${e}-${t}`]:t&&n}),o={},i={};return t&&!n&&(o.background=t,i["--antd-arrow-background-color"]=t),{className:r,overlayStyle:o,arrowStyle:i}}const Jm=o.forwardRef((e,t)=>{var n,r;const{prefixCls:i,openClassName:a,getTooltipContainer:s,color:l,overlayInnerStyle:c,children:u,afterOpenChange:d,afterVisibleChange:h,destroyTooltipOnHide:f,destroyOnHidden:p,arrow:m=!0,title:g,overlay:v,builtinPlacements:b,arrowPointAtCenter:y=!1,autoAdjustOverflow:x=!0,motion:O,getPopupContainer:w,placement:S="top",mouseEnterDelay:E=.1,mouseLeaveDelay:_=.1,overlayStyle:C,rootClassName:k,overlayClassName:M,styles:T,classNames:P}=e,R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),A=!!m,[,$]=mi(),{getPopupContainer:N,getPrefixCls:I,direction:D,className:L,style:j,classNames:B,styles:F}=z("tooltip"),U=fn(),H=o.useRef(null),Q=()=>{var e;null===(e=H.current)||void 0===e||e.forceAlign()};o.useImperativeHandle(t,()=>{var e,t;return{forceAlign:Q,forcePopupAlign:()=>{U.deprecated(!1,"forcePopupAlign","forceAlign"),Q()},nativeElement:null===(e=H.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=H.current)||void 0===t?void 0:t.popupElement}});const[V,W]=co(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),G=!g&&!v&&0!==g,X=o.useMemo(()=>{var e,t;let n=y;return"object"==typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:y),b||Wm({arrowPointAtCenter:n,autoAdjustOverflow:x,arrowWidth:A?$.sizePopupArrow:0,borderRadius:$.borderRadius,offset:$.marginXXS,visibleFirst:!0})},[y,m,b,$]),q=o.useMemo(()=>0===g?g:v||g||"",[v,g]),Z=o.createElement(Ku,{space:!0},"function"==typeof q?q():q),Y=I("tooltip",i),K=I(),J=e["data-popover-inject"];let ee=V;"open"in e||"visible"in e||!G||(ee=!1);const te=o.isValidElement(u)&&!Ga(u)?u:o.createElement("span",null,u),ne=te.props,re=ne.className&&"string"!=typeof ne.className?ne.className:$r()(ne.className,a||`${Y}-open`),[oe,ie,ae]=Zm(Y,!J),se=Km(Y,l),le=se.arrowStyle,ce=$r()(M,{[`${Y}-rtl`]:"rtl"===D},se.className,k,ie,ae,L,B.root,null==P?void 0:P.root),ue=$r()(B.body,null==P?void 0:P.body),[de,he]=La("Tooltip",R.zIndex),fe=o.createElement(Lm,Object.assign({},R,{zIndex:de,showArrow:A,placement:S,mouseEnterDelay:E,mouseLeaveDelay:_,prefixCls:Y,classNames:{root:ce,body:ue},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},le),F.root),j),C),null==T?void 0:T.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},F.body),c),null==T?void 0:T.body),se.overlayStyle)},getTooltipContainer:w||s||N,ref:H,builtinPlacements:X,overlay:Z,visible:ee,onVisibleChange:t=>{var n,r;W(!G&&t),G||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!=d?d:h,arrowContent:o.createElement("span",{className:`${Y}-arrow-content`}),motion:{motionName:Ua(K,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:null!=p?p:!!f}),ee?Xa(te,{className:re}):te);return oe(o.createElement($a.Provider,{value:he},fe))}),eg=Jm;eg._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:a,overlayInnerStyle:s}=e,{getPrefixCls:l}=o.useContext(I),c=l("tooltip",t),[u,d,h]=Zm(c),f=Km(c,a),p=f.arrowStyle,m=Object.assign(Object.assign({},s),f.overlayStyle),g=$r()(d,h,c,`${c}-pure`,`${c}-placement-${r}`,n,f.className);return u(o.createElement("div",{className:g,style:p},o.createElement("div",{className:`${c}-arrow`}),o.createElement(Pm,Object.assign({},e,{className:d,prefixCls:c,overlayInnerStyle:m}),i)))};const tg=eg,ng=e=>{var t;const{className:n,children:r,icon:i,title:a,danger:s,extra:l}=e,{prefixCls:c,firstLevel:u,direction:d,disableMenuItemTitleTooltip:h,inlineCollapsed:f}=o.useContext(Mm),{siderCollapsed:p}=o.useContext(Em);let m=a;void 0===a?m=u?r:"":!1===a&&(m="");const g={title:m};p||f||(g.title=null,g.open=!1);const v=_s(r).length;let b=o.createElement(Sp,Object.assign({},Va(e,["title","icon","danger"]),{className:$r()({[`${c}-item-danger`]:s,[`${c}-item-only-child`]:1===(i?v+1:v)},n),title:"string"==typeof a?a:void 0}),Xa(i,{className:$r()(o.isValidElement(i)?null===(t=i.props)||void 0===t?void 0:t.className:void 0,`${c}-item-icon`)}),(e=>{const t=null==r?void 0:r[0],n=o.createElement("span",{className:$r()(`${c}-title-content`,{[`${c}-title-content-with-extra`]:!!l||0===l})},r);return(!i||o.isValidElement(r)&&"span"===r.type)&&r&&e&&u&&"string"==typeof t?o.createElement("div",{className:`${c}-inline-collapsed-noicon`},t.charAt(0)):n})(f));return h||(b=o.createElement(tg,Object.assign({},g,{placement:"rtl"===d?"left":"right",classNames:{root:`${c}-inline-collapsed-tooltip`}}),b)),b};const rg=o.createContext(null),og=o.forwardRef((e,t)=>{const{children:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["children"]),i=o.useContext(rg),a=o.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=function(e){return Gr(e)&&Wr(e)}(n),l=Vr(t,s?Xr(n):null);return o.createElement(rg.Provider,{value:a},o.createElement(Ku,{space:!0},s?o.cloneElement(n,{ref:l}):n))}),ig=rg,ag=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),sg=new en("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),lg=new en("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),cg=new en("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),ug=new en("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),dg=new en("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),hg=new en("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),fg=new en("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),pg=new en("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),mg={"slide-up":{inKeyframes:sg,outKeyframes:lg},"slide-down":{inKeyframes:cg,outKeyframes:ug},"slide-left":{inKeyframes:dg,outKeyframes:hg},"slide-right":{inKeyframes:fg,outKeyframes:pg}},gg=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=mg[t];return[zd(r,o,i,e.motionDurationMid),{[`\n      ${r}-enter,\n      ${r}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},vg=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:o,lineWidth:i,lineType:a,itemPaddingInline:s}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Le(i)} ${a} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${t}-item:hover,\n        > ${t}-item-active,\n        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},bg=({componentCls:e,menuArrowOffset:t,calc:n})=>({[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,\n    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Le(n(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Le(t)})`}}}}),yg=e=>Object.assign({},Oi(e)),xg=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:o,subMenuItemSelectedColor:i,groupTitleColor:a,itemBg:s,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:h,motionDurationSlow:f,motionEaseInOut:p,motionEaseOut:m,itemPaddingInline:g,motionDurationMid:v,itemHoverColor:b,lineType:y,colorSplit:x,itemDisabledColor:O,dangerItemColor:w,dangerItemHoverColor:S,dangerItemSelectedColor:E,dangerItemActiveBg:_,dangerItemSelectedBg:C,popupBg:k,itemHoverBg:M,itemActiveBg:T,menuSubMenuBg:P,horizontalItemSelectedColor:R,horizontalItemSelectedBg:A,horizontalItemBorderRadius:$,horizontalItemHoverBg:N}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:s,[`&${n}-root:focus-visible`]:Object.assign({},yg(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:a}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:i},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},yg(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${O} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:b}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:M},"&:active":{backgroundColor:T}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:M},"&:active":{backgroundColor:T}}},[`${n}-item-danger`]:{color:w,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:S}},[`&${n}-item:active`]:{background:_}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:o,[`&${n}-item-danger`]:{color:E},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:C}},[`&${n}-submenu > ${n}`]:{backgroundColor:P},[`&${n}-popup > ${n}`]:{backgroundColor:k},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:k},[`&${n}-horizontal`]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:h,marginTop:e.calc(h).mul(-1).equal(),marginBottom:0,borderRadius:$,"&::after":{position:"absolute",insetInline:g,bottom:0,borderBottom:`${Le(u)} solid transparent`,transition:`border-color ${f} ${p}`,content:'""'},"&:hover, &-active, &-open":{background:N,"&::after":{borderBottomWidth:u,borderBottomColor:R}},"&-selected":{color:R,backgroundColor:A,"&:hover":{backgroundColor:A},"&::after":{borderBottomWidth:u,borderBottomColor:R}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Le(h)} ${y} ${x}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:l},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Le(d)} solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${v} ${m}`,`opacity ${v} ${m}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:E}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${v} ${p}`,`opacity ${v} ${p}`].join(",")}}}}}},Og=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:o,menuArrowSize:i,marginXS:a,itemMarginBlock:s,itemWidth:l,itemPaddingInline:c}=e,u=e.calc(i).add(o).add(a).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:Le(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:l},[`> ${t}-item,\n            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:Le(n)},[`${t}-item-group-list ${t}-submenu-title,\n            ${t}-submenu-title`]:{paddingInlineEnd:u}}},wg=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:o,dropdownWidth:i,controlHeightLG:a,motionEaseOut:s,paddingXL:l,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:h,paddingXS:f,boxShadowSecondary:p,collapsedWidth:m,collapsedIconSize:g}=e,v={height:r,lineHeight:Le(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Og(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Og(e)),{boxShadow:p})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:i,maxHeight:`calc(100vh - ${Le(e.calc(a).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${d} ${s}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:v,[`& ${t}-item-group-title`]:{paddingInlineStart:l}},[`${t}-item`]:v}},{[`${t}-inline-collapsed`]:{width:m,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,\n          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Le(e.calc(g).div(2).equal())} - ${Le(c)})`,textOverflow:"clip",[`\n            ${t}-submenu-arrow,\n            ${t}-submenu-expand-icon\n          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:g,lineHeight:Le(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:o}},[`${t}-item-group-title`]:Object.assign(Object.assign({},yi),{paddingInline:f})}}]},Sg=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:i,iconCls:a,iconSize:s,iconMarginInlineEnd:l}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${o}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${i}`,`margin ${n} ${o}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${o}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Eg=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:o,menuArrowSize:i,menuArrowOffset:a}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(i).mul(.6).equal(),height:e.calc(i).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Le(e.calc(a).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Le(a)})`}}}}},_g=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:o,motionDurationMid:i,motionEaseInOut:a,paddingXS:s,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:h,subMenuItemBorderRadius:f,menuArrowSize:p,menuArrowOffset:m,lineType:g,groupTitleLineHeight:v,groupTitleFontSize:b}=e;return[{"":{[n]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Le(s)} ${Le(l)}`,fontSize:b,lineHeight:v,transition:`all ${o}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${o} ${a}`,`background ${o} ${a}`,`padding ${i} ${a}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${o} ${a}`,`padding ${o} ${a}`].join(",")},[`${n}-title-content`]:{transition:`color ${o}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:g,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Sg(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Le(e.calc(r).mul(2).equal())} ${Le(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:h,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:h},Sg(e)),Eg(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:f},[`${n}-submenu-title::after`]:{transition:`transform ${o} ${a}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Eg(e)),{[`&-inline-collapsed ${n}-submenu-arrow,\n        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Le(m)})`},"&::after":{transform:`rotate(45deg) translateX(${Le(e.calc(m).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Le(e.calc(p).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Le(e.calc(m).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Le(m)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},Cg=e=>{var t,n,r;const{colorPrimary:o,colorError:i,colorTextDisabled:a,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:h,lineWidth:f,lineWidthBold:p,controlItemBgActive:m,colorBgTextHover:g,controlHeightLG:v,lineHeight:b,colorBgElevated:y,marginXXS:x,padding:O,fontSize:w,controlHeightSM:S,fontSizeLG:E,colorTextLightSolid:_,colorErrorHover:C}=e,k=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,M=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:f,T=null!==(r=e.itemMarginInline)&&void 0!==r?r:e.marginXXS,P=new Rn(_).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:o,itemSelectedColor:o,subMenuItemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:u,itemBg:u,colorItemBgHover:g,itemHoverBg:g,colorItemBgActive:h,itemActiveBg:m,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:m,itemSelectedBg:m,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:k,colorActiveBarHeight:p,activeBarHeight:p,colorActiveBarBorderSize:f,activeBarBorderWidth:M,colorItemTextDisabled:a,itemDisabledColor:a,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:T,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:b,collapsedWidth:2*v,popupBg:y,itemMarginBlock:x,itemPaddingInline:O,horizontalLineHeight:1.15*v+"px",iconSize:w,iconMarginInlineEnd:S-w,collapsedIconSize:E,groupTitleFontSize:w,darkItemDisabledColor:new Rn(_).setA(.25).toRgbString(),darkItemColor:P,darkDangerItemColor:i,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:_,darkItemSelectedBg:o,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:P,darkItemHoverColor:_,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:_,darkDangerItemActiveBg:i,itemWidth:k?`calc(100% + ${M}px)`:`calc(100% - ${2*T}px)`}},kg=(e,t=e,n=!0)=>{const r=hs("Menu",e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:r,darkItemColor:o,darkDangerItemColor:i,darkItemBg:a,darkSubMenuItemBg:s,darkItemSelectedColor:l,darkItemSelectedBg:c,darkDangerItemSelectedBg:u,darkItemHoverBg:d,darkGroupTitleColor:h,darkItemHoverColor:f,darkItemDisabledColor:p,darkDangerItemHoverColor:m,darkDangerItemSelectedColor:g,darkDangerItemActiveBg:v,popupBg:b,darkPopupBg:y}=e,x=e.calc(r).div(7).mul(5).equal(),O=is(e,{menuArrowSize:x,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(x).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:b}),w=is(O,{itemColor:o,itemHoverColor:f,groupTitleColor:h,itemSelectedColor:l,subMenuItemSelectedColor:l,itemBg:a,popupBg:y,subMenuItemBg:s,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:d,itemDisabledColor:p,dangerItemColor:i,dangerItemHoverColor:m,dangerItemSelectedColor:g,dangerItemActiveBg:v,dangerItemSelectedBg:u,menuSubMenuBg:s,horizontalItemSelectedColor:l,horizontalItemSelectedBg:c});return[_g(O),vg(O),wg(O),xg(O,"light"),xg(w,"dark"),bg(O),ag(O),gg(O,"slide-up"),gg(O,"slide-down"),th(O,"zoom-big")]},Cg,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}});return r(e,t)},Mg=e=>{var t;const{popupClassName:n,icon:r,title:i,theme:a}=e,s=o.useContext(Mm),{prefixCls:l,inlineCollapsed:c,theme:u}=s,d=Qf();let h;if(r){const e=o.isValidElement(i)&&"span"===i.type;h=o.createElement(o.Fragment,null,Xa(r,{className:$r()(o.isValidElement(r)?null===(t=r.props)||void 0===t?void 0:t.className:void 0,`${l}-item-icon`)}),e?i:o.createElement("span",{className:`${l}-title-content`},i))}else h=c&&!d.length&&i&&"string"==typeof i?o.createElement("div",{className:`${l}-inline-collapsed-noicon`},i.charAt(0)):o.createElement("span",{className:`${l}-title-content`},i);const f=o.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[p]=La("Menu");return o.createElement(Mm.Provider,{value:f},o.createElement(dm,Object.assign({},Va(e,["icon"]),{title:h,popupClassName:$r()(l,n,`${l}-${a||u}`),popupStyle:Object.assign({zIndex:p},e.popupStyle)})))};function Tg(e){return null===e||!1===e}const Pg={item:ng,submenu:Mg,divider:Tm},Rg=(0,o.forwardRef)((e,t)=>{var n;const r=o.useContext(ig),i=r||{},{getPrefixCls:a,getPopupContainer:s,direction:l,menu:c}=o.useContext(I),u=a(),{prefixCls:d,className:h,style:f,theme:p="light",expandIcon:m,_internalDisableMenuItemTitleTooltip:g,inlineCollapsed:v,siderCollapsed:b,rootClassName:y,mode:x,selectable:O,onClick:w,overflowedIndicatorPopupClassName:S}=e,E=Va(function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(n=i.validator)||void 0===n||n.call(i,{mode:x});const _=ao((...e)=>{var t;null==w||w.apply(void 0,e),null===(t=i.onClick)||void 0===t||t.call(i)}),C=i.mode||x,k=null!=O?O:i.selectable,M=null!=v?v:b,T={horizontal:{motionName:`${u}-slide-up`},inline:Ha(u),other:{motionName:`${u}-zoom-big`}},P=a("menu",d||i.prefixCls),R=rd(P),[A,$,N]=kg(P,R,!r),D=$r()(`${P}-${p}`,null==c?void 0:c.className,h),L=o.useMemo(()=>{var e,t;if("function"==typeof m||Tg(m))return m||null;if("function"==typeof i.expandIcon||Tg(i.expandIcon))return i.expandIcon||null;if("function"==typeof(null==c?void 0:c.expandIcon)||Tg(null==c?void 0:c.expandIcon))return(null==c?void 0:c.expandIcon)||null;const n=null!==(e=null!=m?m:null==i?void 0:i.expandIcon)&&void 0!==e?e:null==c?void 0:c.expandIcon;return Xa(n,{className:$r()(`${P}-submenu-expand-icon`,o.isValidElement(n)?null===(t=n.props)||void 0===t?void 0:t.className:void 0)})},[m,null==i?void 0:i.expandIcon,null==c?void 0:c.expandIcon,P]),z=o.useMemo(()=>({prefixCls:P,inlineCollapsed:M||!1,direction:l,firstLevel:!0,theme:p,mode:C,disableMenuItemTitleTooltip:g}),[P,M,l,g,p]);return A(o.createElement(ig.Provider,{value:null},o.createElement(Mm.Provider,{value:z},o.createElement(Sm,Object.assign({getPopupContainer:s,overflowedIndicator:o.createElement(km,null),overflowedIndicatorPopupClassName:$r()(P,`${P}-${p}`,S),mode:C,selectable:k,onClick:_},E,{inlineCollapsed:M,style:Object.assign(Object.assign({},null==c?void 0:c.style),f),className:D,prefixCls:P,direction:l,defaultMotions:T,expandIcon:L,ref:t,rootClassName:$r()(y,$,i.rootClassName,N,R),_internalComponents:Pg})))))}),Ag=Rg,$g=(0,o.forwardRef)((e,t)=>{const n=(0,o.useRef)(null),r=o.useContext(Em);return(0,o.useImperativeHandle)(t,()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}})),o.createElement(Ag,Object.assign({ref:n},e,r))});$g.Item=ng,$g.SubMenu=Mg,$g.Divider=Tm,$g.ItemGroup=mm;const Ng=$g;var Ig=n(5072),Dg=n.n(Ig),Lg=n(7825),zg=n.n(Lg),jg=n(7659),Bg=n.n(jg),Fg=n(5056),Ug=n.n(Fg),Hg=n(540),Qg=n.n(Hg),Vg=n(1113),Wg=n.n(Vg),Gg=n(9359),Xg={};Xg.styleTagTransform=Wg(),Xg.setAttributes=Ug(),Xg.insert=Bg().bind(null,"head"),Xg.domAPI=zg(),Xg.insertStyleElement=Qg(),Dg()(Gg.A,Xg),Gg.A&&Gg.A.locals&&Gg.A.locals;var qg=n(1965),Zg=n(888);const Yg=o.createContext({});var Kg=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.className,a=e.duration,s=void 0===a?4.5:a,l=e.showProgress,c=e.pauseOnHover,u=void 0===c||c,d=e.eventKey,h=e.content,f=e.closable,p=e.closeIcon,m=void 0===p?"x":p,g=e.props,v=e.onClick,b=e.onNoticeClose,y=e.times,x=e.hovering,O=Q(o.useState(!1),2),w=O[0],S=O[1],E=Q(o.useState(0),2),_=E[0],C=E[1],k=Q(o.useState(0),2),M=k[0],T=k[1],P=x||w,R=s>0&&l,A=function(){b(d)};o.useEffect(function(){if(!P&&s>0){var e=Date.now()-M,t=setTimeout(function(){A()},1e3*s-M);return function(){u&&clearTimeout(t),T(Date.now()-e)}}},[s,P,y]),o.useEffect(function(){if(!P&&R&&(u||0===M)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var r=e+M-t,o=Math.min(r/(1e3*s),1);C(100*o),o<1&&n()})}(),function(){u&&cancelAnimationFrame(e)}}},[s,M,P,R,y]);var $=o.useMemo(function(){return"object"===j(f)&&null!==f?f:f?{closeIcon:m}:{}},[f,m]),N=gc($,!0),I=100-(!_||_<0?0:_>100?100:_),D="".concat(n,"-notice");return o.createElement("div",et({},g,{ref:t,className:$r()(D,i,F({},"".concat(D,"-closable"),f)),style:r,onMouseEnter:function(e){var t;S(!0),null==g||null===(t=g.onMouseEnter)||void 0===t||t.call(g,e)},onMouseLeave:function(e){var t;S(!1),null==g||null===(t=g.onMouseLeave)||void 0===t||t.call(g,e)},onClick:v}),o.createElement("div",{className:"".concat(D,"-content")},h),f&&o.createElement("a",et({tabIndex:0,className:"".concat(D,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==fc.ENTER||A()},"aria-label":"Close"},N,{onClick:function(e){e.preventDefault(),e.stopPropagation(),A()}}),$.closeIcon),R&&o.createElement("progress",{className:"".concat(D,"-progress"),max:"100",value:I},I+"%"))});const Jg=Kg;var ev=o.createContext({});const tv=function(e){var t=e.children,n=e.classNames;return o.createElement(ev.Provider,{value:{classNames:n}},t)};var nv=["className","style","classNames","styles"];const rv=function(e){var t,n,r,i,a,s=e.configList,l=e.placement,c=e.prefixCls,u=e.className,d=e.style,h=e.motion,f=e.onAllNoticeRemoved,p=e.onNoticeClose,m=e.stack,g=(0,o.useContext)(ev).classNames,v=(0,o.useRef)({}),b=Q((0,o.useState)(null),2),y=b[0],x=b[1],O=Q((0,o.useState)([]),2),w=O[0],S=O[1],E=s.map(function(e){return{config:e,key:String(e.key)}}),_=Q((a={offset:8,threshold:3,gap:16},(t=m)&&"object"===j(t)&&(a.offset=null!==(n=t.offset)&&void 0!==n?n:8,a.threshold=null!==(r=t.threshold)&&void 0!==r?r:3,a.gap=null!==(i=t.gap)&&void 0!==i?i:16),[!!t,a]),2),C=_[0],k=_[1],M=k.offset,T=k.threshold,P=k.gap,A=C&&(w.length>0||E.length<=T),$="function"==typeof h?h(l):h;return(0,o.useEffect)(function(){C&&w.length>1&&S(function(e){return e.filter(function(e){return E.some(function(t){var n=t.key;return e===n})})})},[w,E,C]),(0,o.useEffect)(function(){var e,t;C&&v.current[null===(e=E[E.length-1])||void 0===e?void 0:e.key]&&x(v.current[null===(t=E[E.length-1])||void 0===t?void 0:t.key])},[E,C]),o.createElement(ii,et({key:l,className:$r()(c,"".concat(c,"-").concat(l),null==g?void 0:g.list,u,F(F({},"".concat(c,"-stack"),!!C),"".concat(c,"-stack-expanded"),A)),style:d,keys:E,motionAppear:!0},$,{onAllRemoved:function(){f(l)}}),function(e,t){var n=e.config,r=e.className,i=e.style,a=e.index,s=n,u=s.key,d=s.times,h=String(u),f=n,m=f.className,b=f.style,x=f.classNames,O=f.styles,_=qr(f,nv),k=E.findIndex(function(e){return e.key===h}),T={};if(C){var $=E.length-1-(k>-1?k:a-1),N="top"===l||"bottom"===l?"-50%":"0";if($>0){var I,D,L;T.height=A?null===(I=v.current[h])||void 0===I?void 0:I.offsetHeight:null==y?void 0:y.offsetHeight;for(var z=0,j=0;j<$;j++){var B;z+=(null===(B=v.current[E[E.length-1-j].key])||void 0===B?void 0:B.offsetHeight)+P}var F=(A?z:$*M)*(l.startsWith("top")?1:-1),U=!A&&null!=y&&y.offsetWidth&&null!==(D=v.current[h])&&void 0!==D&&D.offsetWidth?((null==y?void 0:y.offsetWidth)-2*M*($<3?$:3))/(null===(L=v.current[h])||void 0===L?void 0:L.offsetWidth):1;T.transform="translate3d(".concat(N,", ").concat(F,"px, 0) scaleX(").concat(U,")")}else T.transform="translate3d(".concat(N,", 0, 0)")}return o.createElement("div",{ref:t,className:$r()("".concat(c,"-notice-wrapper"),r,null==x?void 0:x.wrapper),style:W(W(W({},i),T),null==O?void 0:O.wrapper),onMouseEnter:function(){return S(function(e){return e.includes(h)?e:[].concat(R(e),[h])})},onMouseLeave:function(){return S(function(e){return e.filter(function(e){return e!==h})})}},o.createElement(Jg,et({},_,{ref:function(e){k>-1?v.current[h]=e:delete v.current[h]},prefixCls:c,classNames:x,styles:O,className:$r()(m,null==g?void 0:g.notice),style:b,times:d,key:u,eventKey:u,onNoticeClose:p,hovering:C&&w.length>0})))})};var ov=o.forwardRef(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-notification":n,i=e.container,a=e.motion,l=e.maxCount,c=e.className,u=e.style,d=e.onAllRemoved,h=e.stack,f=e.renderNotifications,p=Q(o.useState([]),2),m=p[0],g=p[1],v=function(e){var t,n=m.find(function(t){return t.key===e});null==n||null===(t=n.onClose)||void 0===t||t.call(n),g(function(t){return t.filter(function(t){return t.key!==e})})};o.useImperativeHandle(t,function(){return{open:function(e){g(function(t){var n,r=R(t),o=r.findIndex(function(t){return t.key===e.key}),i=W({},e);return o>=0?(i.times=((null===(n=t[o])||void 0===n?void 0:n.times)||0)+1,r[o]=i):(i.times=0,r.push(i)),l>0&&r.length>l&&(r=r.slice(-l)),r})},close:function(e){v(e)},destroy:function(){g([])}}});var b=Q(o.useState({}),2),y=b[0],x=b[1];o.useEffect(function(){var e={};m.forEach(function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))}),Object.keys(y).forEach(function(t){e[t]=e[t]||[]}),x(e)},[m]);var O=function(e){x(function(t){var n=W({},t);return(n[e]||[]).length||delete n[e],n})},w=o.useRef(!1);if(o.useEffect(function(){Object.keys(y).length>0?w.current=!0:w.current&&(null==d||d(),w.current=!1)},[y]),!i)return null;var S=Object.keys(y);return(0,s.createPortal)(o.createElement(o.Fragment,null,S.map(function(e){var t=y[e],n=o.createElement(rv,{key:e,configList:t,placement:e,prefixCls:r,className:null==c?void 0:c(e),style:null==u?void 0:u(e),motion:a,onNoticeClose:v,onAllNoticeRemoved:O,stack:h});return f?f(n,{prefixCls:r,key:e}):n})),i)});const iv=ov;var av=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],sv=function(){return document.body},lv=0;const cv=e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:o,colorSuccess:i,colorError:a,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:h,paddingXS:f,borderRadiusLG:p,zIndexPopup:m,contentPadding:g,contentBg:v}=e,b=`${t}-notice`,y=new en("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:f,transform:"translateY(0)",opacity:1}}),x=new en("MessageMoveOut",{"0%":{maxHeight:e.height,padding:f,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),O={padding:f,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:h,fontSize:c},[`${b}-content`]:{display:"inline-block",padding:g,background:v,borderRadius:p,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:i},[`${t}-error > ${n}`]:{color:a},[`${t}-warning > ${n}`]:{color:s},[`${t}-info > ${n},\n      ${t}-loading > ${n}`]:{color:l}};return[{[t]:Object.assign(Object.assign({},xi(e)),{color:o,position:"fixed",top:h,width:"100%",pointerEvents:"none",zIndex:m,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:y,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:x,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${b}-wrapper`]:Object.assign({},O)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},O),{padding:0,textAlign:"start"})}]},uv=hs("Message",e=>{const t=is(e,{height:150});return[cv(t)]},e=>({zIndexPopup:e.zIndexPopupBase+1e3+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));const dv={info:o.createElement(Aa,null),success:o.createElement(Sa,null),error:o.createElement(Ca,null),warning:o.createElement(Ta,null),loading:o.createElement(Qs,null)},hv=({prefixCls:e,type:t,icon:n,children:r})=>o.createElement("div",{className:$r()(`${e}-custom-content`,`${e}-${t}`)},n||dv[t],o.createElement("span",null,r));function fv(e){let t;const n=new Promise(n=>{t=e(()=>{n(!0)})}),r=()=>{null==t||t()};return r.then=(e,t)=>n.then(e,t),r.promise=n,r}const pv=3,mv=({children:e,prefixCls:t})=>{const n=rd(t),[r,i,a]=uv(t,n);return r(o.createElement(tv,{classNames:{list:$r()(i,a,n)}},e))},gv=(e,{prefixCls:t,key:n})=>o.createElement(mv,{prefixCls:t,key:n},e),vv=o.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:a,duration:s=pv,rtl:l,transitionName:c,onAllRemoved:u}=e,{getPrefixCls:d,getPopupContainer:h,message:f,direction:p}=o.useContext(I),m=r||d("message"),g=o.createElement("span",{className:`${m}-close-x`},o.createElement(Kl,{className:`${m}-close-icon`})),[v,b]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?sv:t,r=e.motion,i=e.prefixCls,a=e.maxCount,s=e.className,l=e.style,c=e.onAllRemoved,u=e.stack,d=e.renderNotifications,h=qr(e,av),f=Q(o.useState(),2),p=f[0],m=f[1],g=o.useRef(),v=o.createElement(iv,{container:p,ref:g,prefixCls:i,motion:r,maxCount:a,className:s,style:l,onAllRemoved:c,stack:u,renderNotifications:d}),b=Q(o.useState([]),2),y=b[0],x=b[1],O=ao(function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var r=t[n];void 0!==r&&(e[n]=r)})}),e}(h,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(lv),lv+=1),x(function(e){return[].concat(R(e),[{type:"open",config:t}])})}),w=o.useMemo(function(){return{open:O,close:function(e){x(function(t){return[].concat(R(t),[{type:"close",key:e}])})},destroy:function(){x(function(e){return[].concat(R(e),[{type:"destroy"}])})}}},[]);return o.useEffect(function(){m(n())}),o.useEffect(function(){var e,t;g.current&&y.length&&(y.forEach(function(e){switch(e.type){case"open":g.current.open(e.config);break;case"close":g.current.close(e.key);break;case"destroy":g.current.destroy()}}),x(function(n){return e===n&&t||(e=n,t=n.filter(function(e){return!y.includes(e)})),t}))},[y]),[w,v]}({prefixCls:m,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}),className:()=>$r()({[`${m}-rtl`]:null!=l?l:"rtl"===p}),motion:()=>function(e,t){return{motionName:null!=t?t:`${e}-move-up`}}(m,c),closable:!1,closeIcon:g,duration:s,getContainer:()=>(null==i?void 0:i())||(null==h?void 0:h())||document.body,maxCount:a,onAllRemoved:u,renderNotifications:gv});return o.useImperativeHandle(t,()=>Object.assign(Object.assign({},v),{prefixCls:m,message:f})),b});let bv=0;function yv(e){const t=o.useRef(null),n=(fn(),o.useMemo(()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:r,prefixCls:i,message:a}=t.current,s=`${i}-notice`,{content:l,icon:c,type:u,key:d,className:h,style:f,onClose:p}=n,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["content","icon","type","key","className","style","onClose"]);let g=d;return null==g&&(bv+=1,g=`antd-message-${bv}`),fv(t=>(r(Object.assign(Object.assign({},m),{key:g,content:o.createElement(hv,{prefixCls:i,type:u,icon:c},l),placement:"top",className:$r()(u&&`${s}-${u}`,h,null==a?void 0:a.className),style:Object.assign(Object.assign({},null==a?void 0:a.style),f),onClose:()=>{null==p||p(),t()}})),()=>{e(g)}))},r={open:n,destroy:n=>{var r;void 0!==n?e(n):null===(r=t.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach(e=>{r[e]=(t,r,o)=>{let i,a,s;i=t&&"object"==typeof t&&"content"in t?t:{content:t},"function"==typeof r?s=r:(a=r,s=o);const l=Object.assign(Object.assign({onClose:s,duration:a},i),{type:e});return n(l)}}),r},[]));return[n,o.createElement(vv,Object.assign({key:"message-holder"},e,{ref:t}))]}let xv=null,Ov=e=>e(),wv=[],Sv={};function Ev(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:o}=Sv,i=(null==e?void 0:e())||document.body;return{getContainer:()=>i,duration:t,rtl:n,maxCount:r,top:o}}const _v=o.forwardRef((e,t)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:i}=(0,o.useContext)(I),a=Sv.prefixCls||i("message"),s=(0,o.useContext)(Yg),[l,c]=yv(Object.assign(Object.assign(Object.assign({},n),{prefixCls:a}),s.message));return o.useImperativeHandle(t,()=>{const e=Object.assign({},l);return Object.keys(e).forEach(t=>{e[t]=(...e)=>(r(),l[t].apply(l,e))}),{instance:e,sync:r}}),c}),Cv=o.forwardRef((e,t)=>{const[n,r]=o.useState(Ev),i=()=>{r(Ev)};o.useEffect(i,[]);const a=Ai(),s=a.getRootPrefixCls(),l=a.getIconPrefixCls(),c=a.getTheme(),u=o.createElement(_v,{ref:t,sync:i,messageConfig:n});return o.createElement(Ii,{prefixCls:s,iconPrefixCls:l,theme:c},a.holderRender?a.holderRender(u):u)});function kv(){if(!xv){const e=document.createDocumentFragment(),t={fragment:e};return xv=t,void Ov(()=>{ia()(o.createElement(Cv,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,kv())})}}),e)})}xv.instance&&(wv.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":Ov(()=>{const t=xv.instance.open(Object.assign(Object.assign({},Sv),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":Ov(()=>{null==xv||xv.instance.destroy(e.key)});break;default:Ov(()=>{var n;const r=(n=xv.instance)[t].apply(n,R(e.args));null==r||r.then(e.resolve),e.setCloseFn(r)})}}),wv=[])}const Mv={open:function(e){const t=fv(t=>{let n;const r={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return wv.push(r),()=>{n?Ov(()=>{n()}):r.skipped=!0}});return kv(),t},destroy:e=>{wv.push({type:"destroy",key:e}),kv()},config:function(e){Sv=Object.assign(Object.assign({},Sv),e),Ov(()=>{var e;null===(e=null==xv?void 0:xv.sync)||void 0===e||e.call(xv)})},useMessage:function(e){return yv(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{const{prefixCls:t,className:n,type:r,icon:i,content:a}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=o.useContext(I),c=t||l("message"),u=rd(c),[d,h,f]=uv(c,u);return d(o.createElement(Jg,Object.assign({},s,{prefixCls:c,className:$r()(n,h,`${c}-notice-pure-panel`,f,u),eventKey:"pure",duration:null,content:o.createElement(hv,{prefixCls:c,type:r,icon:i},a)})))}},Tv=Mv;["success","info","warning","error","loading"].forEach(e=>{Tv[e]=(...t)=>function(e,t){Ai();const n=fv(n=>{let r;const o={type:e,args:t,resolve:n,setCloseFn:e=>{r=e}};return wv.push(o),()=>{r?Ov(()=>{r()}):o.skipped=!0}});return kv(),n}(e,t)});const Pv=Tv;function Rv(e){return is(e,{inputAffixPadding:e.paddingXXS})}const Av=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:o,controlHeightSM:i,controlHeightLG:a,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:f,colorPrimary:p,controlOutlineWidth:m,controlOutline:g,colorErrorOutline:v,colorWarningOutline:b,colorBgContainer:y,inputFontSize:x,inputFontSizeLG:O,inputFontSizeSM:w}=e,S=x||n,E=w||S,_=O||s,C=Math.round((t-S*r)/2*10)/10-o,k=Math.round((i-E*r)/2*10)/10-o,M=Math.ceil((a-_*l)/2*10)/10-o;return{paddingBlock:Math.max(C,0),paddingBlockSM:Math.max(k,0),paddingBlockLG:Math.max(M,0),paddingInline:c-o,paddingInlineSM:u-o,paddingInlineLG:d-o,addonBg:h,activeBorderColor:p,hoverBorderColor:f,activeShadow:`0 0 0 ${m}px ${g}`,errorActiveShadow:`0 0 0 ${m}px ${v}`,warningActiveShadow:`0 0 0 ${m}px ${b}`,hoverBg:y,activeBg:y,inputFontSize:S,inputFontSizeLG:_,inputFontSizeSM:E}},$v=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),Nv=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},$v(is(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),Iv=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),Dv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Iv(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),Lv=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Iv(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Nv(e))}),Dv(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Dv(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),zv=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),jv=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},zv(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),zv(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},Nv(e))}})}),Bv=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},Fv=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null!==(n=null==t?void 0:t.inputColor)&&void 0!==n?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},Uv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Fv(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),Hv=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fv(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},Nv(e))}),Uv(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),Uv(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),Qv=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),Vv=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},Qv(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),Qv(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),Wv=(e,t)=>({background:e.colorBgContainer,borderWidth:`${Le(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.borderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),Gv=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},Wv(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),Xv=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Wv(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Gv(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),Gv(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),qv=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Zv=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:o}=e;return{padding:`${Le(t)} ${Le(o)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},Yv=e=>({padding:`${Le(e.paddingBlockSM)} ${Le(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),Kv=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Le(e.paddingBlock)} ${Le(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},qv(e.colorTextPlaceholder)),{"&-lg":Object.assign({},Zv(e)),"&-sm":Object.assign({},Yv(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Jv=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},Zv(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},Yv(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Le(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Le(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${Le(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Le(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`\n        & > ${t}-affix-wrapper,\n        & > ${t}-number-affix-wrapper,\n        & > ${n}-picker-range\n      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},eb=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:o}=e,i=o(n).sub(o(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),Kv(e)),Lv(e)),Hv(e)),Bv(e)),Xv(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:i,paddingBottom:i}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},tb=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Le(e.inputAffixPadding)}`}}}},nb=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:o,colorIcon:i,colorIconHover:a,iconCls:s}=e,l=`${t}-affix-wrapper`,c=`${t}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},Kv(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),tb(e)),{[`${s}${t}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:a}}}),[`${t}-underlined`]:{borderRadius:0},[c]:{[`${s}${t}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},rb=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},xi(e)),Jv(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},jv(e)),Vv(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},ob=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${r}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},ib=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},ab=hs(["Input","Shared"],e=>{const t=is(e,Rv(e));return[eb(t),nb(t)]},Av,{resetFont:!1}),sb=hs(["Input","Component"],e=>{const t=is(e,Rv(e));return[rb(t),ob(t),ib(t),Il(t)]},Av,{resetFont:!1});function lb(e,t,n){var r=t.cloneNode(!0),o=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},o}function cb(e,t,n,r){if(n){var o=t;"click"!==t.type?"file"===e.type||void 0===r?n(o):n(o=lb(t,e,r)):n(o=lb(t,e,""))}}function ub(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var db=o.forwardRef(function(e,t){var n,r,i,a=e.inputElement,s=e.children,l=e.prefixCls,c=e.prefix,u=e.suffix,d=e.addonBefore,h=e.addonAfter,f=e.className,p=e.style,m=e.disabled,g=e.readOnly,v=e.focused,b=e.triggerFocus,y=e.allowClear,x=e.value,O=e.handleReset,w=e.hidden,S=e.classes,E=e.classNames,_=e.dataAttrs,C=e.styles,k=e.components,M=e.onClear,T=null!=s?s:a,P=(null==k?void 0:k.affixWrapper)||"span",R=(null==k?void 0:k.groupWrapper)||"span",A=(null==k?void 0:k.wrapper)||"span",$=(null==k?void 0:k.groupAddon)||"span",N=(0,o.useRef)(null),I=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),D=(0,o.cloneElement)(T,{value:x,className:$r()(null===(n=T.props)||void 0===n?void 0:n.className,!I&&(null==E?void 0:E.variant))||null}),L=(0,o.useRef)(null);if(o.useImperativeHandle(t,function(){return{nativeElement:L.current||N.current}}),I){var z=null;if(y){var B=!m&&!g&&x,U="".concat(l,"-clear-icon"),H="object"===j(y)&&null!=y&&y.clearIcon?y.clearIcon:"✖";z=o.createElement("button",{type:"button",tabIndex:-1,onClick:function(e){null==O||O(e),null==M||M()},onMouseDown:function(e){return e.preventDefault()},className:$r()(U,F(F({},"".concat(U,"-hidden"),!B),"".concat(U,"-has-suffix"),!!u))},H)}var Q="".concat(l,"-affix-wrapper"),V=$r()(Q,F(F(F(F(F({},"".concat(l,"-disabled"),m),"".concat(Q,"-disabled"),m),"".concat(Q,"-focused"),v),"".concat(Q,"-readonly"),g),"".concat(Q,"-input-with-clear-btn"),u&&y&&x),null==S?void 0:S.affixWrapper,null==E?void 0:E.affixWrapper,null==E?void 0:E.variant),G=(u||y)&&o.createElement("span",{className:$r()("".concat(l,"-suffix"),null==E?void 0:E.suffix),style:null==C?void 0:C.suffix},z,u);D=o.createElement(P,et({className:V,style:null==C?void 0:C.affixWrapper,onClick:function(e){var t;null!==(t=N.current)&&void 0!==t&&t.contains(e.target)&&(null==b||b())}},null==_?void 0:_.affixWrapper,{ref:N}),c&&o.createElement("span",{className:$r()("".concat(l,"-prefix"),null==E?void 0:E.prefix),style:null==C?void 0:C.prefix},c),D,G)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var X="".concat(l,"-group"),q="".concat(X,"-addon"),Z="".concat(X,"-wrapper"),Y=$r()("".concat(l,"-wrapper"),X,null==S?void 0:S.wrapper,null==E?void 0:E.wrapper),K=$r()(Z,F({},"".concat(Z,"-disabled"),m),null==S?void 0:S.group,null==E?void 0:E.groupWrapper);D=o.createElement(R,{className:K,ref:L},o.createElement(A,{className:Y},d&&o.createElement($,{className:q},d),D,h&&o.createElement($,{className:q},h)))}return o.cloneElement(D,{className:$r()(null===(r=D.props)||void 0===r?void 0:r.className,f)||null,style:W(W({},null===(i=D.props)||void 0===i?void 0:i.style),p),hidden:w})});const hb=db;var fb=["show"];function pb(e,t){return o.useMemo(function(){var n={};t&&(n.show="object"===j(t)&&t.formatter?t.formatter:!!t);var r=n=W(W({},n),e),o=r.show,i=qr(r,fb);return W(W({},i),{},{show:!!o,showFormatter:"function"==typeof o?o:void 0,strategy:i.strategy||function(e){return e.length}})},[e,t])}var mb=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],gb=(0,o.forwardRef)(function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,a=e.onBlur,s=e.onPressEnter,l=e.onKeyDown,c=e.onKeyUp,u=e.prefixCls,d=void 0===u?"rc-input":u,h=e.disabled,f=e.htmlSize,p=e.className,m=e.maxLength,g=e.suffix,v=e.showCount,b=e.count,y=e.type,x=void 0===y?"text":y,O=e.classes,w=e.classNames,S=e.styles,E=e.onCompositionStart,_=e.onCompositionEnd,C=qr(e,mb),k=Q((0,o.useState)(!1),2),M=k[0],T=k[1],P=(0,o.useRef)(!1),A=(0,o.useRef)(!1),$=(0,o.useRef)(null),N=(0,o.useRef)(null),I=function(e){$.current&&ub($.current,e)},D=Q(co(e.defaultValue,{value:e.value}),2),L=D[0],z=D[1],j=null==L?"":String(L),B=Q((0,o.useState)(null),2),U=B[0],H=B[1],V=pb(b,v),G=V.max||m,X=V.strategy(j),q=!!G&&X>G;(0,o.useImperativeHandle)(t,function(){var e;return{focus:I,blur:function(){var e;null===(e=$.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=$.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=$.current)||void 0===e||e.select()},input:$.current,nativeElement:(null===(e=N.current)||void 0===e?void 0:e.nativeElement)||$.current}}),(0,o.useEffect)(function(){A.current&&(A.current=!1),T(function(e){return(!e||!h)&&e})},[h]);var Z=function(e,t,n){var o,i,a=t;if(!P.current&&V.exceedFormatter&&V.max&&V.strategy(t)>V.max)t!==(a=V.exceedFormatter(t,{max:V.max}))&&H([(null===(o=$.current)||void 0===o?void 0:o.selectionStart)||0,(null===(i=$.current)||void 0===i?void 0:i.selectionEnd)||0]);else if("compositionEnd"===n.source)return;z(a),$.current&&cb($.current,e,r,a)};(0,o.useEffect)(function(){var e;U&&(null===(e=$.current)||void 0===e||e.setSelectionRange.apply(e,R(U)))},[U]);var Y,K=q&&"".concat(d,"-out-of-range");return o.createElement(hb,et({},C,{prefixCls:d,className:$r()(p,K),handleReset:function(e){z(""),I(),$.current&&cb($.current,e,r)},value:j,focused:M,triggerFocus:I,suffix:function(){var e=Number(G)>0;if(g||V.show){var t=V.showFormatter?V.showFormatter({value:j,count:X,maxLength:G}):"".concat(X).concat(e?" / ".concat(G):"");return o.createElement(o.Fragment,null,V.show&&o.createElement("span",{className:$r()("".concat(d,"-show-count-suffix"),F({},"".concat(d,"-show-count-has-suffix"),!!g),null==w?void 0:w.count),style:W({},null==S?void 0:S.count)},t),g)}return null}(),disabled:h,classes:O,classNames:w,styles:S,ref:N}),(Y=Va(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]),o.createElement("input",et({autoComplete:n},Y,{onChange:function(e){Z(e,e.target.value,{source:"change"})},onFocus:function(e){T(!0),null==i||i(e)},onBlur:function(e){A.current&&(A.current=!1),T(!1),null==a||a(e)},onKeyDown:function(e){s&&"Enter"===e.key&&!A.current&&(A.current=!0,s(e)),null==l||l(e)},onKeyUp:function(e){"Enter"===e.key&&(A.current=!1),null==c||c(e)},className:$r()(d,F({},"".concat(d,"-disabled"),h),null==w?void 0:w.input),style:null==S?void 0:S.input,ref:$,size:f,type:x,onCompositionStart:function(e){P.current=!0,null==E||E(e)},onCompositionEnd:function(e){P.current=!1,Z(e,e.currentTarget.value,{source:"compositionEnd"}),null==_||_(e)}}))))});const vb=gb,bb=e=>{let t;return"object"==typeof e&&(null==e?void 0:e.clearIcon)?t=e:e&&(t={clearIcon:o.createElement(Ca,null)}),t};function yb(e,t,n){return $r()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}const xb=(e,t)=>t||e,Ob=(e,t,n=void 0)=>{var r,i;const{variant:a,[e]:s}=o.useContext(I),l=o.useContext(Yu),c=null==s?void 0:s.variant;let u;return u=void 0!==t?t:!1===n?"borderless":null!==(i=null!==(r=null!=l?l:c)&&void 0!==r?r:a)&&void 0!==i?i:"outlined",[u,N.includes(u)]};function wb(e,t){const n=(0,o.useRef)([]),r=()=>{n.current.push(setTimeout(()=>{var t,n,r,o;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(o=e.current)||void 0===o||o.input.removeAttribute("value"))}))};return(0,o.useEffect)(()=>(t&&r(),()=>n.current.forEach(e=>{e&&clearTimeout(e)})),[]),r}const Sb=(0,o.forwardRef)((e,t)=>{const{prefixCls:n,bordered:r=!0,status:i,size:a,disabled:s,onBlur:l,onFocus:c,suffix:u,allowClear:d,addonAfter:h,addonBefore:f,className:p,style:m,styles:g,rootClassName:v,onChange:b,classNames:y,variant:x}=e,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:w,direction:S,allowClear:E,autoComplete:_,className:C,style:k,classNames:M,styles:T}=z("input"),P=w("input",n),R=(0,o.useRef)(null),A=rd(P),[$,N,I]=ab(P,v),[D]=sb(P,A),{compactSize:L,compactItemClassnames:j}=As(P,S),B=Es(e=>{var t;return null!==(t=null!=a?a:L)&&void 0!==t?t:e}),F=o.useContext(_r),U=null!=s?s:F,{status:H,hasFeedback:Q,feedbackIcon:V}=(0,o.useContext)(qu),W=xb(H,i),G=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!Q;(0,o.useRef)(G);const X=wb(R,!0),q=(Q||u)&&o.createElement(o.Fragment,null,u,Q&&V),Z=bb(null!=d?d:E),[Y,K]=Ob("input",x,r);return $(D(o.createElement(vb,Object.assign({ref:Qr(t,R),prefixCls:P,autoComplete:_},O,{disabled:U,onBlur:e=>{X(),null==l||l(e)},onFocus:e=>{X(),null==c||c(e)},style:Object.assign(Object.assign({},k),m),styles:Object.assign(Object.assign({},T),g),suffix:q,allowClear:Z,className:$r()(p,v,I,A,j,C),onChange:e=>{X(),null==b||b(e)},addonBefore:f&&o.createElement(Ku,{form:!0,space:!0},f),addonAfter:h&&o.createElement(Ku,{form:!0,space:!0},h),classNames:Object.assign(Object.assign(Object.assign({},y),M),{input:$r()({[`${P}-sm`]:"small"===B,[`${P}-lg`]:"large"===B,[`${P}-rtl`]:"rtl"===S},null==y?void 0:y.input,M.input,N),variant:$r()({[`${P}-${Y}`]:K},yb(P,W)),affixWrapper:$r()({[`${P}-affix-wrapper-sm`]:"small"===B,[`${P}-affix-wrapper-lg`]:"large"===B,[`${P}-affix-wrapper-rtl`]:"rtl"===S},N),wrapper:$r()({[`${P}-group-rtl`]:"rtl"===S},N),groupWrapper:$r()({[`${P}-group-wrapper-sm`]:"small"===B,[`${P}-group-wrapper-lg`]:"large"===B,[`${P}-group-wrapper-rtl`]:"rtl"===S,[`${P}-group-wrapper-${Y}`]:K},yb(`${P}-group-wrapper`,W,Q),N)})}))))}),Eb=Sb,_b=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},Cb=hs(["Input","OTP"],e=>{const t=is(e,Rv(e));return[_b(t)]},Av);const kb=o.forwardRef((e,t)=>{const{className:n,value:r,onChange:i,onActiveChange:a,index:s,mask:l}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:u}=o.useContext(I),d=u("otp"),h="string"==typeof l?l:r,f=o.useRef(null);o.useImperativeHandle(t,()=>f.current);const p=()=>{Ho(()=>{var e;const t=null===(e=f.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()})};return o.createElement("span",{className:`${d}-input-wrapper`,role:"presentation"},l&&""!==r&&void 0!==r&&o.createElement("span",{className:`${d}-mask-icon`,"aria-hidden":"true"},h),o.createElement(Eb,Object.assign({"aria-label":`OTP Input ${s+1}`,type:!0===l?"password":"text"},c,{ref:f,value:r,onInput:e=>{i(s,e.target.value)},onFocus:p,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:r}=e;"ArrowLeft"===t?a(s-1):"ArrowRight"===t?a(s+1):"z"===t&&(n||r)&&e.preventDefault(),p()},onKeyUp:e=>{"Backspace"!==e.key||r||a(s-1),p()},onMouseDown:p,onMouseUp:p,className:$r()(n,{[`${d}-mask-input`]:l})})))}),Mb=kb;function Tb(e){return(e||"").split("")}const Pb=e=>{const{index:t,prefixCls:n,separator:r}=e,i="function"==typeof r?r(t):r;return i?o.createElement("span",{className:`${n}-separator`},i):null},Rb=o.forwardRef((e,t)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:a,value:s,onChange:l,formatter:c,separator:u,variant:d,disabled:h,status:f,autoFocus:p,mask:m,type:g,onInput:v,inputMode:b}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:x,direction:O}=o.useContext(I),w=x("otp",n),S=gc(y,{aria:!0,data:!0,attr:!0}),[E,_,C]=Cb(w),k=Es(e=>null!=i?i:e),M=o.useContext(qu),T=xb(M.status,f),P=o.useMemo(()=>Object.assign(Object.assign({},M),{status:T,hasFeedback:!1,feedbackIcon:null}),[M,T]),A=o.useRef(null),$=o.useRef({});o.useImperativeHandle(t,()=>({focus:()=>{var e;null===(e=$.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<r;t+=1)null===(e=$.current[t])||void 0===e||e.blur()},nativeElement:A.current}));const N=e=>c?c(e):e,[D,L]=o.useState(()=>Tb(N(a||"")));o.useEffect(()=>{void 0!==s&&L(Tb(s))},[s]);const z=ao(e=>{L(e),v&&v(e),l&&e.length===r&&e.every(e=>e)&&e.some((e,t)=>D[t]!==e)&&l(e.join(""))}),j=ao((e,t)=>{let n=R(D);for(let t=0;t<e;t+=1)n[t]||(n[t]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(Tb(t)),n=n.slice(0,r);for(let e=n.length-1;e>=0&&!n[e];e-=1)n.pop();const o=N(n.map(e=>e||" ").join(""));return n=Tb(o).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),B=(e,t)=>{var n;const o=j(e,t),i=Math.min(e+t.length,r-1);i!==e&&void 0!==o[e]&&(null===(n=$.current[i])||void 0===n||n.focus()),z(o)},F=e=>{var t;null===(t=$.current[e])||void 0===t||t.focus()},U={variant:d,disabled:h,status:T,mask:m,type:g,inputMode:b};return E(o.createElement("div",Object.assign({},S,{ref:A,className:$r()(w,{[`${w}-sm`]:"small"===k,[`${w}-lg`]:"large"===k,[`${w}-rtl`]:"rtl"===O},C,_),role:"group"}),o.createElement(qu.Provider,{value:P},Array.from({length:r}).map((e,t)=>{const n=`otp-${t}`,i=D[t]||"";return o.createElement(o.Fragment,{key:n},o.createElement(Mb,Object.assign({ref:e=>{$.current[t]=e},index:t,size:k,htmlSize:1,className:`${w}-input`,onChange:B,value:i,onActiveChange:F,autoFocus:0===t&&p},U)),t<r-1&&o.createElement(Pb,{separator:u,index:t,prefixCls:w}))}))))}),Ab=Rb,$b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var Nb=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:$b}))};const Ib=o.forwardRef(Nb),Db={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Lb=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Db}))};const zb=o.forwardRef(Lb);const jb=e=>e?o.createElement(zb,null):o.createElement(Ib,null),Bb={click:"onClick",hover:"onMouseOver"},Fb=o.forwardRef((e,t)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:a=jb}=e,s=o.useContext(_r),l=null!=n?n:s,c="object"==typeof i&&void 0!==i.visible,[u,d]=(0,o.useState)(()=>!!c&&i.visible),h=(0,o.useRef)(null);o.useEffect(()=>{c&&d(i.visible)},[c,i]);const f=wb(h),p=()=>{var e;if(l)return;u&&f();const t=!u;d(t),"object"==typeof i&&(null===(e=i.onVisibleChange)||void 0===e||e.call(i,t))},{className:m,prefixCls:g,inputPrefixCls:v,size:b}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:x}=o.useContext(I),O=x("input",v),w=x("input-password",g),S=i&&(e=>{const t=Bb[r]||"",n=a(u),i={[t]:p,className:`${e}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return o.cloneElement(o.isValidElement(n)?n:o.createElement("span",null,n),i)})(w),E=$r()(w,m,{[`${w}-${b}`]:!!b}),_=Object.assign(Object.assign({},Va(y,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:E,prefixCls:O,suffix:S});return b&&(_.size=b),o.createElement(Eb,Object.assign({ref:Qr(t,h)},_))}),Ub=Fb,Hb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var Qb=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Hb}))};const Vb=o.forwardRef(Qb);const Wb=o.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:a,suffix:s,enterButton:l=!1,addonAfter:c,loading:u,disabled:d,onSearch:h,onChange:f,onCompositionStart:p,onCompositionEnd:m,variant:g,onPressEnter:v}=e,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:y,direction:x}=o.useContext(I),O=o.useRef(!1),w=y("input-search",n),S=y("input",r),{compactSize:E}=As(w,x),_=Es(e=>{var t;return null!==(t=null!=a?a:E)&&void 0!==t?t:e}),C=o.useRef(null),k=e=>{var t;document.activeElement===(null===(t=C.current)||void 0===t?void 0:t.input)&&e.preventDefault()},M=e=>{var t,n;h&&h(null===(n=null===(t=C.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},T="boolean"==typeof l?o.createElement(Vb,null):null,P=`${w}-button`;let R;const A=l||{},$=A.type&&!0===A.type.__ANT_BUTTON;R=$||"button"===A.type?Xa(A,Object.assign({onMouseDown:k,onClick:e=>{var t,n;null===(n=null===(t=null==A?void 0:A.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),M(e)},key:"enterButton"},$?{className:P,size:_}:{})):o.createElement(Hl,{className:P,color:l?"primary":"default",size:_,disabled:d,key:"enterButton",onMouseDown:k,onClick:M,loading:u,icon:T,variant:"borderless"===g||"filled"===g||"underlined"===g?"text":l?"solid":void 0},l),c&&(R=[R,Xa(c,{key:"addonAfter"})]);const N=$r()(w,{[`${w}-rtl`]:"rtl"===x,[`${w}-${_}`]:!!_,[`${w}-with-button`]:!!l},i),D=Object.assign(Object.assign({},b),{className:N,prefixCls:S,type:"search",size:_,variant:g,onPressEnter:e=>{O.current||u||(null==v||v(e),M(e))},onCompositionStart:e=>{O.current=!0,null==p||p(e)},onCompositionEnd:e=>{O.current=!1,null==m||m(e)},addonAfter:R,suffix:s,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&h&&h(e.target.value,e,{source:"clear"}),null==f||f(e)},disabled:d});return o.createElement(Eb,Object.assign({ref:Qr(C,t)},D))}),Gb=Wb;var Xb,qb=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Zb={};var Yb=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Kb=o.forwardRef(function(e,t){var n=e,r=n.prefixCls,i=n.defaultValue,a=n.value,s=n.autoSize,l=n.onResize,c=n.className,u=n.style,d=n.disabled,h=n.onChange,f=(n.onInternalAutoSize,qr(n,Yb)),p=Q(co(i,{value:a,postState:function(e){return null!=e?e:""}}),2),m=p[0],g=p[1],v=o.useRef();o.useImperativeHandle(t,function(){return{textArea:v.current}});var b=Q(o.useMemo(function(){return s&&"object"===j(s)?[s.minRows,s.maxRows]:[]},[s]),2),y=b[0],x=b[1],O=!!s,w=Q(o.useState(2),2),S=w[0],E=w[1],_=Q(o.useState(),2),C=_[0],k=_[1],M=function(){E(0)};Ve(function(){O&&M()},[a,y,x,O]),Ve(function(){if(0===S)E(1);else if(1===S){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xb||((Xb=document.createElement("textarea")).setAttribute("tab-index","-1"),Xb.setAttribute("aria-hidden","true"),Xb.setAttribute("name","hiddenTextarea"),document.body.appendChild(Xb)),e.getAttribute("wrap")?Xb.setAttribute("wrap",e.getAttribute("wrap")):Xb.removeAttribute("wrap");var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Zb[n])return Zb[n];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:qb.map(function(e){return"".concat(e,":").concat(r.getPropertyValue(e))}).join(";"),paddingSize:i,borderSize:a,boxSizing:o};return t&&n&&(Zb[n]=s),s}(e,t),i=o.paddingSize,a=o.borderSize,s=o.boxSizing,l=o.sizingStyle;Xb.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),Xb.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,h=Xb.scrollHeight;if("border-box"===s?h+=a:"content-box"===s&&(h-=i),null!==n||null!==r){Xb.value=" ";var f=Xb.scrollHeight-i;null!==n&&(u=f*n,"border-box"===s&&(u=u+i+a),h=Math.max(u,h)),null!==r&&(d=f*r,"border-box"===s&&(d=d+i+a),c=h>d?"":"hidden",h=Math.min(d,h))}var p={height:h,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}(v.current,!1,y,x);E(2),k(e)}else!function(){try{if(document.activeElement===v.current){var e=v.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;v.current.setSelectionRange(t,n),v.current.scrollTop=r}}catch(e){}}()},[S]);var T=o.useRef(),P=function(){Ho.cancel(T.current)};o.useEffect(function(){return P},[]);var R=O?C:null,A=W(W({},u),R);return 0!==S&&1!==S||(A.overflowY="hidden",A.overflowX="hidden"),o.createElement(ff,{onResize:function(e){2===S&&(null==l||l(e),s&&(P(),T.current=Ho(function(){M()})))},disabled:!(s||l)},o.createElement("textarea",et({},f,{ref:v,style:A,className:$r()(r,c,F({},"".concat(r,"-disabled"),d)),disabled:d,value:m,onChange:function(e){g(e.target.value),null==h||h(e)}})))});const Jb=Kb;var ey=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],ty=o.forwardRef(function(e,t){var n,r=e.defaultValue,i=e.value,a=e.onFocus,s=e.onBlur,l=e.onChange,c=e.allowClear,u=e.maxLength,d=e.onCompositionStart,h=e.onCompositionEnd,f=e.suffix,p=e.prefixCls,m=void 0===p?"rc-textarea":p,g=e.showCount,v=e.count,b=e.className,y=e.style,x=e.disabled,O=e.hidden,w=e.classNames,S=e.styles,E=e.onResize,_=e.onClear,C=e.onPressEnter,k=e.readOnly,M=e.autoSize,T=e.onKeyDown,P=qr(e,ey),A=Q(co(r,{value:i,defaultValue:r}),2),$=A[0],N=A[1],I=null==$?"":String($),D=Q(o.useState(!1),2),L=D[0],z=D[1],j=o.useRef(!1),B=Q(o.useState(null),2),U=B[0],H=B[1],V=(0,o.useRef)(null),G=(0,o.useRef)(null),X=function(){var e;return null===(e=G.current)||void 0===e?void 0:e.textArea},q=function(){X().focus()};(0,o.useImperativeHandle)(t,function(){var e;return{resizableTextArea:G.current,focus:q,blur:function(){X().blur()},nativeElement:(null===(e=V.current)||void 0===e?void 0:e.nativeElement)||X()}}),(0,o.useEffect)(function(){z(function(e){return!x&&e})},[x]);var Z=Q(o.useState(null),2),Y=Z[0],K=Z[1];o.useEffect(function(){var e;Y&&(e=X()).setSelectionRange.apply(e,R(Y))},[Y]);var J,ee=pb(v,g),te=null!==(n=ee.max)&&void 0!==n?n:u,ne=Number(te)>0,re=ee.strategy(I),oe=!!te&&re>te,ie=function(e,t){var n=t;!j.current&&ee.exceedFormatter&&ee.max&&ee.strategy(t)>ee.max&&t!==(n=ee.exceedFormatter(t,{max:ee.max}))&&K([X().selectionStart||0,X().selectionEnd||0]),N(n),cb(e.currentTarget,e,l,n)},ae=f;ee.show&&(J=ee.showFormatter?ee.showFormatter({value:I,count:re,maxLength:te}):"".concat(re).concat(ne?" / ".concat(te):""),ae=o.createElement(o.Fragment,null,ae,o.createElement("span",{className:$r()("".concat(m,"-data-count"),null==w?void 0:w.count),style:null==S?void 0:S.count},J)));var se=!M&&!g&&!c;return o.createElement(hb,{ref:V,value:I,allowClear:c,handleReset:function(e){N(""),q(),cb(X(),e,l)},suffix:ae,prefixCls:m,classNames:W(W({},w),{},{affixWrapper:$r()(null==w?void 0:w.affixWrapper,F(F({},"".concat(m,"-show-count"),g),"".concat(m,"-textarea-allow-clear"),c))}),disabled:x,focused:L,className:$r()(b,oe&&"".concat(m,"-out-of-range")),style:W(W({},y),U&&!se?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"==typeof J?J:void 0}},hidden:O,readOnly:k,onClear:_},o.createElement(Jb,et({},P,{autoSize:M,maxLength:u,onKeyDown:function(e){"Enter"===e.key&&C&&C(e),null==T||T(e)},onChange:function(e){ie(e,e.target.value)},onFocus:function(e){z(!0),null==a||a(e)},onBlur:function(e){z(!1),null==s||s(e)},onCompositionStart:function(e){j.current=!0,null==d||d(e)},onCompositionEnd:function(e){j.current=!1,ie(e,e.currentTarget.value),null==h||h(e)},className:$r()(null==w?void 0:w.textarea),style:W(W({},null==S?void 0:S.textarea),{},{resize:null==y?void 0:y.resize}),disabled:x,prefixCls:m,onResize:function(e){var t;null==E||E(e),null!==(t=X())&&void 0!==t&&t.style.height&&H(!0)},ref:G,readOnly:k})))});const ny=ty,ry=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${r}-has-feedback ${t}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-rtl`]:{[`${t}-suffix`]:{[`${t}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},oy=hs(["Input","TextArea"],e=>{const t=is(e,Rv(e));return[ry(t)]},Av,{resetFont:!1});const iy=(0,o.forwardRef)((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,size:a,disabled:s,status:l,allowClear:c,classNames:u,rootClassName:d,className:h,style:f,styles:p,variant:m,showCount:g,onMouseDown:v,onResize:b}=e,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:x,direction:O,allowClear:w,autoComplete:S,className:E,style:_,classNames:C,styles:k}=z("textArea"),M=o.useContext(_r),T=null!=s?s:M,{status:P,hasFeedback:R,feedbackIcon:A}=o.useContext(qu),$=xb(P,l),N=o.useRef(null);o.useImperativeHandle(t,()=>{var e;return{resizableTextArea:null===(e=N.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;ub(null===(n=null===(t=N.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.blur()}}});const I=x("input",r),D=rd(I),[L,j,B]=ab(I,d),[F]=oy(I,D),{compactSize:U,compactItemClassnames:H}=As(I,O),Q=Es(e=>{var t;return null!==(t=null!=a?a:U)&&void 0!==t?t:e}),[V,W]=Ob("textArea",m,i),G=bb(null!=c?c:w),[X,q]=o.useState(!1),[Z,Y]=o.useState(!1);return L(F(o.createElement(ny,Object.assign({autoComplete:S},y,{style:Object.assign(Object.assign({},_),f),styles:Object.assign(Object.assign({},k),p),disabled:T,allowClear:G,className:$r()(B,D,h,d,H,E,Z&&`${I}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},u),C),{textarea:$r()({[`${I}-sm`]:"small"===Q,[`${I}-lg`]:"large"===Q},j,null==u?void 0:u.textarea,C.textarea,X&&`${I}-mouse-active`),variant:$r()({[`${I}-${V}`]:W},yb(I,$)),affixWrapper:$r()(`${I}-textarea-affix-wrapper`,{[`${I}-affix-wrapper-rtl`]:"rtl"===O,[`${I}-affix-wrapper-sm`]:"small"===Q,[`${I}-affix-wrapper-lg`]:"large"===Q,[`${I}-textarea-show-count`]:g||(null===(n=e.count)||void 0===n?void 0:n.show)},j)}),prefixCls:I,suffix:R&&o.createElement("span",{className:`${I}-textarea-suffix`},A),showCount:g,ref:N,onResize:e=>{var t,n;if(null==b||b(e),X&&"function"==typeof getComputedStyle){const e=null===(n=null===(t=N.current)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.querySelector("textarea");e&&"both"===getComputedStyle(e).resize&&Y(!0)}},onMouseDown:e=>{q(!0),null==v||v(e);const t=()=>{q(!1),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)}}))))}),ay=iy,sy=Eb;sy.Group=e=>{const{getPrefixCls:t,direction:n}=(0,o.useContext)(I),{prefixCls:r,className:i}=e,a=t("input-group",r),s=t("input"),[l,c,u]=sb(s),d=$r()(a,u,{[`${a}-lg`]:"large"===e.size,[`${a}-sm`]:"small"===e.size,[`${a}-compact`]:e.compact,[`${a}-rtl`]:"rtl"===n},c,i),h=(0,o.useContext)(qu),f=(0,o.useMemo)(()=>Object.assign(Object.assign({},h),{isFormItemInput:!1}),[h]);return l(o.createElement("span",{className:d,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(qu.Provider,{value:f},e.children)))},sy.Search=Gb,sy.TextArea=ay,sy.Password=Ub,sy.OTP=Ab;const ly=sy,cy=["xxl","xl","lg","md","sm","xs"],uy=()=>{const[,e]=mi(),t=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(cy).reverse();return n.forEach((e,r)=>{const o=e.toUpperCase(),i=`screen${o}Min`,a=`screen${o}`;if(!(t[i]<=t[a]))throw new Error(`${i}<=${a} fails : !(${t[i]}<=${t[a]})`);if(r<n.length-1){const e=`screen${o}Max`;if(!(t[a]<=t[e]))throw new Error(`${a}<=${e} fails : !(${t[a]}<=${t[e]})`);const i=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[i]))throw new Error(`${e}<=${i} fails : !(${t[e]}<=${t[i]})`)}}),e})(e));return o.useMemo(()=>{const e=new Map;let n=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:t=>(r=t,e.forEach(e=>e(r)),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(r),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.entries(t).forEach(([e,t])=>{const n=({matches:t})=>{this.dispatch(Object.assign(Object.assign({},r),{[e]:t}))},o=window.matchMedia(t);((e,t)=>{void 0!==(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):void 0!==(null==e?void 0:e.addListener)&&e.addListener(t)})(o,n),this.matchHandlers[t]={mql:o,listener:n},n(o)})},unregister(){Object.values(t).forEach(e=>{const t=this.matchHandlers[e];((e,t)=>{void 0!==(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):void 0!==(null==e?void 0:e.removeListener)&&e.removeListener(t)})(null==t?void 0:t.mql,null==t?void 0:t.listener)}),e.clear()}}},[e])},dy=()=>{const[,e]=mi(),[t]=Qa("Empty"),n=new Rn(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return o.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},o.createElement("title",null,(null==t?void 0:t.description)||"Empty"),o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(24 31.67)"},o.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),o.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),o.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),o.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),o.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),o.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),o.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},o.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),o.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},hy=()=>{const[,e]=mi(),[t]=Qa("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:a}=e,{borderColor:s,shadowColor:l,contentColor:c}=(0,o.useMemo)(()=>({borderColor:new Rn(n).onBackground(a).toHexString(),shadowColor:new Rn(r).onBackground(a).toHexString(),contentColor:new Rn(i).onBackground(a).toHexString()}),[n,r,i,a]);return o.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},o.createElement("title",null,(null==t?void 0:t.description)||"Empty"),o.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},o.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),o.createElement("g",{fillRule:"nonzero",stroke:s},o.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),o.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},fy=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:a}=e;return{[t]:{marginInline:r,fontSize:i,lineHeight:a,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},py=hs("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,o=is(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[fy(o)]});const my=o.createElement(dy,null),gy=o.createElement(hy,null),vy=e=>{const{className:t,rootClassName:n,prefixCls:r,image:i=my,description:a,children:s,imageStyle:l,style:c,classNames:u,styles:d}=e,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:f,direction:p,className:m,style:g,classNames:v,styles:b}=z("empty"),y=f("empty",r),[x,O,w]=py(y),[S]=Qa("Empty"),E=void 0!==a?a:null==S?void 0:S.description,_="string"==typeof E?E:"empty";let C=null;return C="string"==typeof i?o.createElement("img",{alt:_,src:i}):i,x(o.createElement("div",Object.assign({className:$r()(O,w,y,m,{[`${y}-normal`]:i===gy,[`${y}-rtl`]:"rtl"===p},t,n,v.root,null==u?void 0:u.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},b.root),g),null==d?void 0:d.root),c)},h),o.createElement("div",{className:$r()(`${y}-image`,v.image,null==u?void 0:u.image),style:Object.assign(Object.assign(Object.assign({},l),b.image),null==d?void 0:d.image)},C),E&&o.createElement("div",{className:$r()(`${y}-description`,v.description,null==u?void 0:u.description),style:Object.assign(Object.assign({},b.description),null==d?void 0:d.description)},E),s&&o.createElement("div",{className:$r()(`${y}-footer`,v.footer,null==u?void 0:u.footer),style:Object.assign(Object.assign({},b.footer),null==d?void 0:d.footer)},s)))};vy.PRESENTED_IMAGE_DEFAULT=my,vy.PRESENTED_IMAGE_SIMPLE=gy;const by=vy,yy=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,o.useContext)(I),r=n("empty");switch(t){case"Table":case"List":return o.createElement(by,{image:by.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return o.createElement(by,{image:by.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return o.createElement(by,null)}},xy=function(e=!0,t={}){const n=(0,o.useRef)(t),r=function(){const[,e]=o.useReducer(e=>e+1,0);return e}(),i=uy();return Ve(()=>{const t=i.subscribe(t=>{n.current=t,e&&r()});return()=>i.unsubscribe(t)},[]),n.current},Oy=(0,o.createContext)({});function wy(e,t){const[n,r]=o.useState("string"==typeof e?e:"");return o.useEffect(()=>{(()=>{if("string"==typeof e&&r(e),"object"==typeof e)for(let n=0;n<cy.length;n++){const o=cy[n];if(!t||!t[o])continue;const i=e[o];if(void 0!==i)return void r(i)}})()},[JSON.stringify(e),t]),n}const Sy=o.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:a,style:s,children:l,gutter:c=0,wrap:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:h,direction:f}=o.useContext(I),p=xy(!0,null),m=wy(i,p),g=wy(r,p),v=h("row",n),[b,y,x]=$d(v),O=function(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],o=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((e,t)=>{if("object"==typeof e&&null!==e)for(let r=0;r<cy.length;r++){const i=cy[r];if(o[i]&&void 0!==e[i]){n[t]=e[i];break}}else n[t]=e}),n}(c,p),w=$r()(v,{[`${v}-no-wrap`]:!1===u,[`${v}-${g}`]:g,[`${v}-${m}`]:m,[`${v}-rtl`]:"rtl"===f},a,y,x),S={},E=null!=O[0]&&O[0]>0?O[0]/-2:void 0;E&&(S.marginLeft=E,S.marginRight=E);const[_,C]=O;S.rowGap=C;const k=o.useMemo(()=>({gutter:[_,C],wrap:u}),[_,C,u]);return b(o.createElement(Oy.Provider,{value:k},o.createElement("div",Object.assign({},d,{className:w,style:Object.assign(Object.assign({},S),s),ref:t}),l)))}),Ey=Sy,_y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};var Cy=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:_y}))};const ky=o.forwardRef(Cy),My={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var Ty=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:My}))};const Py=o.forwardRef(Ty),Ry={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var Ay=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Ry}))};const $y=o.forwardRef(Ay),Ny={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var Iy=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Ny}))};const Dy=o.forwardRef(Iy),Ly={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};var zy=[10,20,50,100];const jy=function(e){var t=e.pageSizeOptions,n=void 0===t?zy:t,r=e.locale,i=e.changeSize,a=e.pageSize,s=e.goButton,l=e.quickGo,c=e.rootPrefixCls,u=e.disabled,d=e.buildOptionText,h=e.showSizeChanger,f=e.sizeChangerRender,p=Q(o.useState(""),2),m=p[0],g=p[1],v=function(){return!m||Number.isNaN(m)?void 0:Number(m)},b="function"==typeof d?d:function(e){return"".concat(e," ").concat(r.items_per_page)},y=function(e){""!==m&&(e.keyCode!==fc.ENTER&&"click"!==e.type||(g(""),null==l||l(v())))},x="".concat(c,"-options");if(!h&&!l)return null;var O=null,w=null,S=null;return h&&f&&(O=f({disabled:u,size:a,onSizeChange:function(e){null==i||i(Number(e))},"aria-label":r.page_size,className:"".concat(x,"-size-changer"),options:(n.some(function(e){return e.toString()===a.toString()})?n:n.concat([a]).sort(function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))})).map(function(e){return{label:b(e),value:e}})})),l&&(s&&(S="boolean"==typeof s?o.createElement("button",{type:"button",onClick:y,onKeyUp:y,disabled:u,className:"".concat(x,"-quick-jumper-button")},r.jump_to_confirm):o.createElement("span",{onClick:y,onKeyUp:y},s)),w=o.createElement("div",{className:"".concat(x,"-quick-jumper")},r.jump_to,o.createElement("input",{disabled:u,type:"text",value:m,onChange:function(e){g(e.target.value)},onKeyUp:y,onBlur:function(e){s||""===m||(g(""),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(c,"-item"))>=0)||null==l||l(v()))},"aria-label":r.page}),r.page,S)),o.createElement("li",{className:x},O,w)},By=function(e){var t=e.rootPrefixCls,n=e.page,r=e.active,i=e.className,a=e.showTitle,s=e.onClick,l=e.onKeyPress,c=e.itemRender,u="".concat(t,"-item"),d=$r()(u,"".concat(u,"-").concat(n),F(F({},"".concat(u,"-active"),r),"".concat(u,"-disabled"),!n),i),h=c(n,"page",o.createElement("a",{rel:"nofollow"},n));return h?o.createElement("li",{title:a?String(n):null,className:d,onClick:function(){s(n)},onKeyDown:function(e){l(e,s,n)},tabIndex:0},h):null};var Fy=function(e,t,n){return n};function Uy(){}function Hy(e){var t=Number(e);return"number"==typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Qy(e,t,n){var r=void 0===e?t:e;return Math.floor((n-1)/r)+1}const Vy=function(e){var t=e.prefixCls,n=void 0===t?"rc-pagination":t,r=e.selectPrefixCls,i=void 0===r?"rc-select":r,a=e.className,s=e.current,l=e.defaultCurrent,c=void 0===l?1:l,u=e.total,d=void 0===u?0:u,h=e.pageSize,f=e.defaultPageSize,p=void 0===f?10:f,m=e.onChange,g=void 0===m?Uy:m,v=e.hideOnSinglePage,b=e.align,y=e.showPrevNextJumpers,x=void 0===y||y,O=e.showQuickJumper,w=e.showLessItems,S=e.showTitle,E=void 0===S||S,_=e.onShowSizeChange,C=void 0===_?Uy:_,k=e.locale,M=void 0===k?Ly:k,T=e.style,P=e.totalBoundaryShowSizeChanger,R=void 0===P?50:P,A=e.disabled,$=e.simple,N=e.showTotal,I=e.showSizeChanger,D=void 0===I?d>R:I,L=e.sizeChangerRender,z=e.pageSizeOptions,B=e.itemRender,U=void 0===B?Fy:B,H=e.jumpPrevIcon,V=e.jumpNextIcon,G=e.prevIcon,X=e.nextIcon,q=o.useRef(null),Z=Q(co(10,{value:h,defaultValue:p}),2),Y=Z[0],K=Z[1],J=Q(co(1,{value:s,defaultValue:c,postState:function(e){return Math.max(1,Math.min(e,Qy(void 0,Y,d)))}}),2),ee=J[0],te=J[1],ne=Q(o.useState(ee),2),re=ne[0],oe=ne[1];(0,o.useEffect)(function(){oe(ee)},[ee]);var ie=Math.max(1,ee-(w?3:5)),ae=Math.min(Qy(void 0,Y,d),ee+(w?3:5));function se(t,r){var i=t||o.createElement("button",{type:"button","aria-label":r,className:"".concat(n,"-item-link")});return"function"==typeof t&&(i=o.createElement(t,W({},e))),i}function le(e){var t=e.target.value,n=Qy(void 0,Y,d);return""===t?t:Number.isNaN(Number(t))?re:t>=n?n:Number(t)}var ce=d>Y&&O;function ue(e){var t=le(e);switch(t!==re&&oe(t),e.keyCode){case fc.ENTER:de(t);break;case fc.UP:de(t-1);break;case fc.DOWN:de(t+1)}}function de(e){if(function(e){return Hy(e)&&e!==ee&&Hy(d)&&d>0}(e)&&!A){var t=Qy(void 0,Y,d),n=e;return e>t?n=t:e<1&&(n=1),n!==re&&oe(n),te(n),null==g||g(n,Y),n}return ee}var he=ee>1,fe=ee<Qy(void 0,Y,d);function pe(){he&&de(ee-1)}function me(){fe&&de(ee+1)}function ge(){de(ie)}function ve(){de(ae)}function be(e,t){if("Enter"===e.key||e.charCode===fc.ENTER||e.keyCode===fc.ENTER){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}}function ye(e){"click"!==e.type&&e.keyCode!==fc.ENTER||de(re)}var xe=null,Oe=gc(e,{aria:!0,data:!0}),we=N&&o.createElement("li",{className:"".concat(n,"-total-text")},N(d,[0===d?0:(ee-1)*Y+1,ee*Y>d?d:ee*Y])),Se=null,Ee=Qy(void 0,Y,d);if(v&&d<=Y)return null;var _e=[],Ce={rootPrefixCls:n,onClick:de,onKeyPress:be,showTitle:E,itemRender:U,page:-1},ke=ee-1>0?ee-1:0,Me=ee+1<Ee?ee+1:Ee,Te=O&&O.goButton,Pe="object"===j($)?$.readOnly:!$,Re=Te,Ae=null;$&&(Te&&(Re="boolean"==typeof Te?o.createElement("button",{type:"button",onClick:ye,onKeyUp:ye},M.jump_to_confirm):o.createElement("span",{onClick:ye,onKeyUp:ye},Te),Re=o.createElement("li",{title:E?"".concat(M.jump_to).concat(ee,"/").concat(Ee):null,className:"".concat(n,"-simple-pager")},Re)),Ae=o.createElement("li",{title:E?"".concat(ee,"/").concat(Ee):null,className:"".concat(n,"-simple-pager")},Pe?re:o.createElement("input",{type:"text","aria-label":M.jump_to,value:re,disabled:A,onKeyDown:function(e){e.keyCode!==fc.UP&&e.keyCode!==fc.DOWN||e.preventDefault()},onKeyUp:ue,onChange:ue,onBlur:function(e){de(le(e))},size:3}),o.createElement("span",{className:"".concat(n,"-slash")},"/"),Ee));var $e=w?1:2;if(Ee<=3+2*$e){Ee||_e.push(o.createElement(By,et({},Ce,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var Ne=1;Ne<=Ee;Ne+=1)_e.push(o.createElement(By,et({},Ce,{key:Ne,page:Ne,active:ee===Ne})))}else{var Ie=w?M.prev_3:M.prev_5,De=w?M.next_3:M.next_5,Le=U(ie,"jump-prev",se(H,"prev page")),ze=U(ae,"jump-next",se(V,"next page"));x&&(xe=Le?o.createElement("li",{title:E?Ie:null,key:"prev",onClick:ge,tabIndex:0,onKeyDown:function(e){be(e,ge)},className:$r()("".concat(n,"-jump-prev"),F({},"".concat(n,"-jump-prev-custom-icon"),!!H))},Le):null,Se=ze?o.createElement("li",{title:E?De:null,key:"next",onClick:ve,tabIndex:0,onKeyDown:function(e){be(e,ve)},className:$r()("".concat(n,"-jump-next"),F({},"".concat(n,"-jump-next-custom-icon"),!!V))},ze):null);var je=Math.max(1,ee-$e),Be=Math.min(ee+$e,Ee);ee-1<=$e&&(Be=1+2*$e),Ee-ee<=$e&&(je=Ee-2*$e);for(var Fe=je;Fe<=Be;Fe+=1)_e.push(o.createElement(By,et({},Ce,{key:Fe,page:Fe,active:ee===Fe})));if(ee-1>=2*$e&&3!==ee&&(_e[0]=o.cloneElement(_e[0],{className:$r()("".concat(n,"-item-after-jump-prev"),_e[0].props.className)}),_e.unshift(xe)),Ee-ee>=2*$e&&ee!==Ee-2){var Ue=_e[_e.length-1];_e[_e.length-1]=o.cloneElement(Ue,{className:$r()("".concat(n,"-item-before-jump-next"),Ue.props.className)}),_e.push(Se)}1!==je&&_e.unshift(o.createElement(By,et({},Ce,{key:1,page:1}))),Be!==Ee&&_e.push(o.createElement(By,et({},Ce,{key:Ee,page:Ee})))}var He=function(e){var t=U(e,"prev",se(G,"prev page"));return o.isValidElement(t)?o.cloneElement(t,{disabled:!he}):t}(ke);if(He){var Qe=!he||!Ee;He=o.createElement("li",{title:E?M.prev_page:null,onClick:pe,tabIndex:Qe?null:0,onKeyDown:function(e){be(e,pe)},className:$r()("".concat(n,"-prev"),F({},"".concat(n,"-disabled"),Qe)),"aria-disabled":Qe},He)}var Ve,We,Ge=function(e){var t=U(e,"next",se(X,"next page"));return o.isValidElement(t)?o.cloneElement(t,{disabled:!fe}):t}(Me);Ge&&($?(Ve=!fe,We=he?0:null):We=(Ve=!fe||!Ee)?null:0,Ge=o.createElement("li",{title:E?M.next_page:null,onClick:me,tabIndex:We,onKeyDown:function(e){be(e,me)},className:$r()("".concat(n,"-next"),F({},"".concat(n,"-disabled"),Ve)),"aria-disabled":Ve},Ge));var Xe=$r()(n,a,F(F(F(F(F({},"".concat(n,"-start"),"start"===b),"".concat(n,"-center"),"center"===b),"".concat(n,"-end"),"end"===b),"".concat(n,"-simple"),$),"".concat(n,"-disabled"),A));return o.createElement("ul",et({className:Xe,style:T,ref:q},Oe),we,He,$?Ae:_e,Ge,o.createElement(jy,{locale:M,rootPrefixCls:n,disabled:A,selectPrefixCls:i,changeSize:function(e){var t=Qy(e,Y,d),n=ee>t&&0!==t?t:ee;K(e),oe(n),null==C||C(ee,e),te(n),null==g||g(n,e)},pageSize:Y,pageSizeOptions:z,quickGo:ce?de:null,goButton:Re,showSizeChanger:D,sizeChangerRender:L}))},Wy=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,i=e.children,a=e.onMouseDown,s=e.onClick,l="function"==typeof n?n(r):n;return o.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null==a||a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==l?l:o.createElement("span",{className:$r()(t.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},i))};var Gy=o.createContext(null);function Xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=o.useRef(null),n=o.useRef(null);return o.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}]}var qy=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],Zy=function(e,t){var n=e.prefixCls,r=e.id,i=e.inputElement,a=e.autoFocus,s=e.autoComplete,l=e.editable,c=e.activeDescendantId,u=e.value,d=e.open,h=e.attrs,f=qr(e,qy),p=i||o.createElement("input",null),m=p,g=m.ref,v=m.props;return p.props,o.cloneElement(p,W(W(W({type:"search"},function(e,t,n){var r=W(W({},e),n?t:{});return Object.keys(t).forEach(function(n){var o=t[n];"function"==typeof o&&(r[n]=function(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return o.apply(void 0,i),null===(t=e[n])||void 0===t?void 0:t.call.apply(t,[e].concat(i))})}),r}(f,v,!0)),{},{id:r,ref:Qr(t,g),autoComplete:s||"off",autoFocus:a,className:$r()("".concat(n,"-selection-search-input"),null==v?void 0:v.className),role:"combobox","aria-expanded":d||!1,"aria-haspopup":"listbox","aria-owns":"".concat(r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(r,"_list"),"aria-activedescendant":d?c:void 0},h),{},{value:l?u:"",readOnly:!l,unselectable:l?null:"on",style:W(W({},v.style),{},{opacity:l?null:0})}))};const Yy=o.forwardRef(Zy);function Ky(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Jy="undefined"!=typeof window&&window.document&&window.document.documentElement;function ex(e){return["string","number"].includes(j(e))}function tx(e){var t=void 0;return e&&(ex(e.title)?t=e.title.toString():ex(e.label)&&(t=e.label.toString())),t}function nx(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var rx=function(e){e.preventDefault(),e.stopPropagation()};const ox=function(e){var t,n,r=e.id,i=e.prefixCls,a=e.values,s=e.open,l=e.searchValue,c=e.autoClearSearchValue,u=e.inputRef,d=e.placeholder,h=e.disabled,f=e.mode,p=e.showSearch,m=e.autoFocus,g=e.autoComplete,v=e.activeDescendantId,b=e.tabIndex,y=e.removeIcon,x=e.maxTagCount,O=e.maxTagTextLength,w=e.maxTagPlaceholder,S=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,E=e.tagRender,_=e.onToggleOpen,C=e.onRemove,k=e.onInputChange,M=e.onInputPaste,T=e.onInputKeyDown,P=e.onInputMouseDown,R=e.onInputCompositionStart,A=e.onInputCompositionEnd,$=e.onInputBlur,N=o.useRef(null),I=Q((0,o.useState)(0),2),D=I[0],L=I[1],z=Q((0,o.useState)(!1),2),j=z[0],B=z[1],U="".concat(i,"-selection"),H=s||"multiple"===f&&!1===c||"tags"===f?l:"",V="tags"===f||"multiple"===f&&!1===c||p&&(s||j);t=function(){L(N.current.scrollWidth)},n=[H],Jy?o.useLayoutEffect(t,n):o.useEffect(t,n);var W=function(e,t,n,r,i){return o.createElement("span",{title:tx(e),className:$r()("".concat(U,"-item"),F({},"".concat(U,"-item-disabled"),n))},o.createElement("span",{className:"".concat(U,"-item-content")},t),r&&o.createElement(Wy,{className:"".concat(U,"-item-remove"),onMouseDown:rx,onClick:i,customizeIcon:y},"×"))},G=function(e,t,n,r,i,a){return o.createElement("span",{onMouseDown:function(e){rx(e),_(!s)}},E({label:t,value:e,disabled:n,closable:r,onClose:i,isMaxTag:!!a}))},X=o.createElement("div",{className:"".concat(U,"-search"),style:{width:D},onFocus:function(){B(!0)},onBlur:function(){B(!1)}},o.createElement(Yy,{ref:u,open:s,prefixCls:i,id:r,inputElement:null,disabled:h,autoFocus:m,autoComplete:g,editable:V,activeDescendantId:v,value:H,onKeyDown:T,onMouseDown:P,onChange:k,onPaste:M,onCompositionStart:R,onCompositionEnd:A,onBlur:$,tabIndex:b,attrs:gc(e,!0)}),o.createElement("span",{ref:N,className:"".concat(U,"-search-mirror"),"aria-hidden":!0},H," ")),q=o.createElement($f,{prefixCls:"".concat(U,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!h&&!t,i=n;if("number"==typeof O&&("string"==typeof n||"number"==typeof n)){var a=String(i);a.length>O&&(i="".concat(a.slice(0,O),"..."))}var s=function(t){t&&t.stopPropagation(),C(e)};return"function"==typeof E?G(r,i,t,o,s):W(e,i,t,o,s)},renderRest:function(e){if(!a.length)return null;var t="function"==typeof S?S(e):S;return"function"==typeof E?G(void 0,t,!1,!1,void 0,!0):W({title:t},t,!1)},suffix:X,itemKey:nx,maxCount:x});return o.createElement("span",{className:"".concat(U,"-wrap")},q,!a.length&&!H&&o.createElement("span",{className:"".concat(U,"-placeholder")},d))},ix=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,h=e.values,f=e.placeholder,p=e.tabIndex,m=e.showSearch,g=e.searchValue,v=e.activeValue,b=e.maxLength,y=e.onInputKeyDown,x=e.onInputMouseDown,O=e.onInputChange,w=e.onInputPaste,S=e.onInputCompositionStart,E=e.onInputCompositionEnd,_=e.onInputBlur,C=e.title,k=Q(o.useState(!1),2),M=k[0],T=k[1],P="combobox"===u,R=P||m,A=h[0],$=g||"";P&&v&&!M&&($=v),o.useEffect(function(){P&&T(!1)},[P,v]);var N=!("combobox"!==u&&!d&&!m||!$),I=void 0===C?tx(A):C,D=o.useMemo(function(){return A?null:o.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:N?{visibility:"hidden"}:void 0},f)},[A,N,f,n]);return o.createElement("span",{className:"".concat(n,"-selection-wrap")},o.createElement("span",{className:"".concat(n,"-selection-search")},o.createElement(Yy,{ref:i,prefixCls:n,id:r,open:d,inputElement:t,disabled:a,autoFocus:s,autoComplete:l,editable:R,activeDescendantId:c,value:$,onKeyDown:y,onMouseDown:x,onChange:function(e){T(!0),O(e)},onPaste:w,onCompositionStart:S,onCompositionEnd:E,onBlur:_,tabIndex:p,attrs:gc(e,!0),maxLength:P?b:void 0})),!P&&A?o.createElement("span",{className:"".concat(n,"-selection-item"),title:I,style:N?{visibility:"hidden"}:void 0},A.label):null,D)};var ax=function(e,t){var n=(0,o.useRef)(null),r=(0,o.useRef)(!1),i=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,h=e.autoClearSearchValue,f=e.onSearch,p=e.onSearchSubmit,m=e.onToggleOpen,g=e.onInputKeyDown,v=e.onInputBlur,b=e.domRef;o.useImperativeHandle(t,function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}});var y=Q(Xy(0),2),x=y[0],O=y[1],w=(0,o.useRef)(null),S=function(e){!1!==f(e,!0,r.current)&&m(!0)},E={inputRef:n,onInputKeyDown:function(e){var t,o=e.which,i=n.current instanceof HTMLTextAreaElement;i||!a||o!==fc.UP&&o!==fc.DOWN||e.preventDefault(),g&&g(e),o!==fc.ENTER||"tags"!==s||r.current||a||null==p||p(e.target.value),i&&!a&&~[fc.UP,fc.DOWN,fc.LEFT,fc.RIGHT].indexOf(o)||(t=o)&&![fc.ESC,fc.SHIFT,fc.BACKSPACE,fc.TAB,fc.WIN_KEY,fc.ALT,fc.META,fc.WIN_KEY_RIGHT,fc.CTRL,fc.SEMICOLON,fc.EQUALS,fc.CAPS_LOCK,fc.CONTEXT_MENU,fc.F1,fc.F2,fc.F3,fc.F4,fc.F5,fc.F6,fc.F7,fc.F8,fc.F9,fc.F10,fc.F11,fc.F12].includes(t)&&m(!0)},onInputMouseDown:function(){O(!0)},onInputChange:function(e){var t=e.target.value;if(c&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,S(t)},onInputPaste:function(e){var t=e.clipboardData,n=null==t?void 0:t.getData("text");w.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==s&&S(e.target.value)},onInputBlur:v},_="multiple"===s||"tags"===s?o.createElement(ox,et({},e,E)):o.createElement(ix,et({},e,E));return o.createElement("div",{ref:b,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){n.current.focus()}):n.current.focus())},onMouseDown:function(e){var t=x();e.target===n.current||t||"combobox"===s&&u||e.preventDefault(),("combobox"===s||l&&t)&&a||(a&&!1!==h&&f("",!0,!1),m())}},d&&o.createElement("div",{className:"".concat(i,"-prefix")},d),_)};const sx=o.forwardRef(ax);var lx=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],cx=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,a=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,h=void 0===d?"ltr":d,f=e.placement,p=e.builtinPlacements,m=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,b=e.getPopupContainer,y=e.empty,x=e.getTriggerDOMNode,O=e.onPopupVisibleChange,w=e.onPopupMouseEnter,S=qr(e,lx),E="".concat(n,"-dropdown"),_=a;g&&(_=g(a));var C=o.useMemo(function(){return p||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(m)},[p,m]),k=s?"".concat(E,"-").concat(s):l,M="number"==typeof m,T=o.useMemo(function(){return M?null:!1===m?"minWidth":"width"},[m,M]),P=c;M&&(P=W(W({},P),{},{width:m}));var R=o.useRef(null);return o.useImperativeHandle(t,function(){return{getPopupElement:function(){var e;return null===(e=R.current)||void 0===e?void 0:e.popupElement}}}),o.createElement(Jp,et({},S,{showAction:O?["click"]:[],hideAction:O?["click"]:[],popupPlacement:f||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:C,prefixCls:E,popupTransitionName:k,popup:o.createElement("div",{onMouseEnter:w},_),ref:R,stretch:T,popupAlign:v,popupVisible:r,getPopupContainer:b,popupClassName:$r()(u,F({},"".concat(E,"-empty"),y)),popupStyle:P,getTriggerDOMNode:x,onPopupVisibleChange:O}),i)};const ux=o.forwardRef(cx);function dx(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function hx(e){return void 0!==e&&!Number.isNaN(e)}function fx(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function px(e){var t=W({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return fe(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const mx=o.createContext(null);function gx(e){var t=e.visible,n=e.values;return t?o.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map(function(e){var t=e.label,n=e.value;return["number","string"].includes(j(t))?t:n}).join(", ")),n.length>50?", ...":null):null}var vx=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],bx=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],yx=function(e){return"tags"===e||"multiple"===e},xx=o.forwardRef(function(e,t){var n,r=e.id,i=e.prefixCls,a=e.className,s=e.showSearch,l=e.tagRender,c=e.direction,u=e.omitDomProps,d=e.displayValues,h=e.onDisplayValuesChange,f=e.emptyOptions,p=e.notFoundContent,m=void 0===p?"Not Found":p,g=e.onClear,v=e.mode,b=e.disabled,y=e.loading,x=e.getInputElement,O=e.getRawInputElement,w=e.open,S=e.defaultOpen,E=e.onDropdownVisibleChange,_=e.activeValue,C=e.onActiveValueChange,k=e.activeDescendantId,M=e.searchValue,T=e.autoClearSearchValue,P=e.onSearch,A=e.onSearchSplit,$=e.tokenSeparators,N=e.allowClear,I=e.prefix,D=e.suffixIcon,L=e.clearIcon,z=e.OptionList,B=e.animation,U=e.transitionName,H=e.dropdownStyle,V=e.dropdownClassName,G=e.dropdownMatchSelectWidth,X=e.dropdownRender,q=e.dropdownAlign,Z=e.placement,Y=e.builtinPlacements,K=e.getPopupContainer,J=e.showAction,ee=void 0===J?[]:J,te=e.onFocus,ne=e.onBlur,re=e.onKeyUp,oe=e.onKeyDown,ie=e.onMouseDown,ae=qr(e,vx),se=yx(v),le=(void 0!==s?s:se)||"combobox"===v,ce=W({},ae);bx.forEach(function(e){delete ce[e]}),null==u||u.forEach(function(e){delete ce[e]});var ue=Q(o.useState(!1),2),de=ue[0],he=ue[1];o.useEffect(function(){he(Tp())},[]);var fe=o.useRef(null),pe=o.useRef(null),me=o.useRef(null),ge=o.useRef(null),ve=o.useRef(null),be=o.useRef(!1),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Q(o.useState(!1),2),n=t[0],r=t[1],i=o.useRef(null),a=function(){window.clearTimeout(i.current)};return o.useEffect(function(){return a},[]),[n,function(t,n){a(),i.current=window.setTimeout(function(){r(t),n&&n()},e)},a]}(),xe=Q(ye,3),Oe=xe[0],we=xe[1],Se=xe[2];o.useImperativeHandle(t,function(){var e,t;return{focus:null===(e=ge.current)||void 0===e?void 0:e.focus,blur:null===(t=ge.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ve.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:fe.current||pe.current}});var Ee=o.useMemo(function(){var e;if("combobox"!==v)return M;var t=null===(e=d[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""},[M,v,d]),_e="combobox"===v&&"function"==typeof x&&x()||null,Ce="function"==typeof O&&O(),ke=Vr(pe,null==Ce||null===(n=Ce.props)||void 0===n?void 0:n.ref),Me=Q(o.useState(!1),2),Te=Me[0],Pe=Me[1];Ve(function(){Pe(!0)},[]);var Re=Q(co(!1,{defaultValue:S,value:w}),2),Ae=Re[0],$e=Re[1],Ne=!!Te&&Ae,Ie=!m&&f;(b||Ie&&Ne&&"combobox"===v)&&(Ne=!1);var De=!Ie&&Ne,Le=o.useCallback(function(e){var t=void 0!==e?e:!Ne;b||($e(t),Ne!==t&&(null==E||E(t)))},[b,Ne,$e,E]),ze=o.useMemo(function(){return($||[]).some(function(e){return["\n","\r\n"].includes(e)})},[$]),je=o.useContext(mx)||{},Be=je.maxCount,Fe=je.rawValues,Ue=function(e,t,n){if(!(se&&hx(Be)&&(null==Fe?void 0:Fe.size)>=Be)){var r=!0,o=e;null==C||C(null);var i=function(e,t,n){if(!t||!t.length)return null;var r=!1,o=function e(t,n){var o=rn(n),i=o[0],a=o.slice(1);if(!i)return[t];var s=t.split(i);return r=r||s.length>1,s.reduce(function(t,n){return[].concat(R(t),R(e(n,a)))},[]).filter(Boolean)}(e,t);return r?void 0!==n?o.slice(0,n):o:null}(e,$,hx(Be)?Be-Fe.size:void 0),a=n?null:i;return"combobox"!==v&&a&&(o="",null==A||A(a),Le(!1),r=!1),P&&Ee!==o&&P(o,{source:t?"typing":"effect"}),r}};o.useEffect(function(){Ne||se||"combobox"===v||Ue("",!1,!1)},[Ne]),o.useEffect(function(){Ae&&b&&$e(!1),b&&!be.current&&we(!1)},[b]);var He=Q(Xy(),2),Qe=He[0],We=He[1],Ge=o.useRef(!1),Xe=o.useRef(!1),qe=[];o.useEffect(function(){return function(){qe.forEach(function(e){return clearTimeout(e)}),qe.splice(0,qe.length)}},[]);var Ze,Ye=Q(o.useState({}),2)[1];Ce&&(Ze=function(e){Le(e)}),function(e,t,n,r){var i=o.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},o.useEffect(function(){function e(e){var t,n;if(null===(t=i.current)||void 0===t||!t.customizedTrigger){var r=e.target;r.shadowRoot&&e.composed&&(r=e.composedPath()[0]||r),i.current.open&&[fe.current,null===(n=me.current)||void 0===n?void 0:n.getPopupElement()].filter(function(e){return e}).every(function(e){return!e.contains(r)&&e!==r})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}},[])}(0,De,Le,!!Ce);var Ke,Je=o.useMemo(function(){return W(W({},e),{},{notFoundContent:m,open:Ne,triggerOpen:De,id:r,showSearch:le,multiple:se,toggleOpen:Le})},[e,m,De,Ne,r,le,se,Le]),tt=!!D||y;tt&&(Ke=o.createElement(Wy,{className:$r()("".concat(i,"-arrow"),F({},"".concat(i,"-arrow-loading"),y)),customizeIcon:D,customizeIconProps:{loading:y,searchValue:Ee,open:Ne,focused:Oe,showSearch:le}}));var nt,rt=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=o.useMemo(function(){return"object"===j(r)?r.clearIcon:i||void 0},[r,i]);return{allowClear:o.useMemo(function(){return!(a||!r||!n.length&&!s||"combobox"===l&&""===s)},[r,a,n.length,s,l]),clearIcon:o.createElement(Wy,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"×")}}(i,function(){var e;null==g||g(),null===(e=ge.current)||void 0===e||e.focus(),h([],{type:"clear",values:d}),Ue("",!1,!1)},d,N,L,b,Ee,v),ot=rt.allowClear,it=rt.clearIcon,at=o.createElement(z,{ref:ve}),st=$r()(i,a,F(F(F(F(F(F(F(F(F(F({},"".concat(i,"-focused"),Oe),"".concat(i,"-multiple"),se),"".concat(i,"-single"),!se),"".concat(i,"-allow-clear"),N),"".concat(i,"-show-arrow"),tt),"".concat(i,"-disabled"),b),"".concat(i,"-loading"),y),"".concat(i,"-open"),Ne),"".concat(i,"-customize-input"),_e),"".concat(i,"-show-search"),le)),lt=o.createElement(ux,{ref:me,disabled:b,prefixCls:i,visible:De,popupElement:at,animation:B,transitionName:U,dropdownStyle:H,dropdownClassName:V,direction:c,dropdownMatchSelectWidth:G,dropdownRender:X,dropdownAlign:q,placement:Z,builtinPlacements:Y,getPopupContainer:K,empty:f,getTriggerDOMNode:function(e){return pe.current||e},onPopupVisibleChange:Ze,onPopupMouseEnter:function(){Ye({})}},Ce?o.cloneElement(Ce,{ref:ke}):o.createElement(sx,et({},e,{domRef:pe,prefixCls:i,inputElement:_e,ref:ge,id:r,prefix:I,showSearch:le,autoClearSearchValue:T,mode:v,activeDescendantId:k,tagRender:l,values:d,open:Ne,onToggleOpen:Le,activeValue:_,searchValue:Ee,onSearch:Ue,onSearchSubmit:function(e){e&&e.trim()&&P(e,{source:"submit"})},onRemove:function(e){var t=d.filter(function(t){return t!==e});h(t,{type:"remove",values:[e]})},tokenWithEnter:ze,onInputBlur:function(){Ge.current=!1}})));return nt=Ce?lt:o.createElement("div",et({className:st},ce,{ref:fe,onMouseDown:function(e){var t,n=e.target,r=null===(t=me.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout(function(){var e,t=qe.indexOf(o);-1!==t&&qe.splice(t,1),Se(),de||r.contains(document.activeElement)||null===(e=ge.current)||void 0===e||e.focus()});qe.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];null==ie||ie.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Qe(),r=e.key,o="Enter"===r;if(o&&("combobox"!==v&&e.preventDefault(),Ne||Le(!0)),We(!!Ee),"Backspace"===r&&!n&&se&&!Ee&&d.length){for(var i=R(d),a=null,s=i.length-1;s>=0;s-=1){var l=i[s];if(!l.disabled){i.splice(s,1),a=l;break}}a&&h(i,{type:"remove",values:[a]})}for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];!Ne||o&&Ge.current||(o&&(Ge.current=!0),null===(t=ve.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(u))),null==oe||oe.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Ne&&(null===(o=ve.current)||void 0===o||o.onKeyUp.apply(o,[e].concat(n))),"Enter"===e.key&&(Ge.current=!1),null==re||re.apply(void 0,[e].concat(n))},onFocus:function(){we(!0),b||(te&&!Xe.current&&te.apply(void 0,arguments),ee.includes("focus")&&Le(!0)),Xe.current=!0},onBlur:function(){be.current=!0,we(!1,function(){Xe.current=!1,be.current=!1,Le(!1)}),b||(Ee&&("tags"===v?P(Ee,{source:"submit"}):"multiple"===v&&P("",{source:"blur"})),ne&&ne.apply(void 0,arguments))}}),o.createElement(gx,{visible:Oe&&!Ne,values:d}),lt,Ke,ot&&it),o.createElement(Gy.Provider,{value:Je},nt)});const Ox=xx;var wx=function(){return null};wx.isSelectOptGroup=!0;const Sx=wx;var Ex=function(){return null};Ex.isSelectOption=!0;const _x=Ex;var Cx=o.forwardRef(function(e,t){var n=e.height,r=e.offsetY,i=e.offsetX,a=e.children,s=e.prefixCls,l=e.onInnerResize,c=e.innerProps,u=e.rtl,d=e.extra,h={},f={display:"flex",flexDirection:"column"};return void 0!==r&&(h={height:n,position:"relative",overflow:"hidden"},f=W(W({},f),{},F(F(F(F(F({transform:"translateY(".concat(r,"px)")},u?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:h},o.createElement(ff,{onResize:function(e){e.offsetHeight&&l&&l()}},o.createElement("div",et({style:f,className:$r()(F({},"".concat(s,"-holder-inner"),s)),ref:t},c),a,d)))});Cx.displayName="Filler";const kx=Cx;function Mx(e){var t=e.children,n=e.setRef,r=o.useCallback(function(e){n(e)},[]);return o.cloneElement(t,{ref:r})}const Tx="object"===("undefined"==typeof navigator?"undefined":j(navigator))&&/Firefox/i.test(navigator.userAgent),Px=function(e,t,n,r){var i=(0,o.useRef)(!1),a=(0,o.useRef)(null),s=(0,o.useRef)({top:e,bottom:t,left:n,right:r});return s.current.top=e,s.current.bottom=t,s.current.left=n,s.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&s.current.left||t>0&&s.current.right:t<0&&s.current.top||t>0&&s.current.bottom;return n&&r?(clearTimeout(a.current),i.current=!1):r&&!i.current||(clearTimeout(a.current),i.current=!0,a.current=setTimeout(function(){i.current=!1},50)),!i.current&&r}};const Rx=function(){function e(){me(this,e),F(this,"maps",void 0),F(this,"id",0),F(this,"diffRecords",new Map),this.maps=Object.create(null)}return ve(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function Ax(e){var t=parseFloat(e);return isNaN(t)?0:t}var $x=14/15;function Nx(e){return Math.floor(Math.pow(e,.5))}function Ix(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var Dx=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,a=e.scrollRange,s=e.onStartMove,l=e.onStopMove,c=e.onScroll,u=e.horizontal,d=e.spinSize,h=e.containerSize,f=e.style,p=e.thumbStyle,m=e.showScrollBar,g=Q(o.useState(!1),2),v=g[0],b=g[1],y=Q(o.useState(null),2),x=y[0],O=y[1],w=Q(o.useState(null),2),S=w[0],E=w[1],_=!r,C=o.useRef(),k=o.useRef(),M=Q(o.useState(m),2),T=M[0],P=M[1],R=o.useRef(),A=function(){!0!==m&&!1!==m&&(clearTimeout(R.current),P(!0),R.current=setTimeout(function(){P(!1)},3e3))},$=a-h||0,N=h-d||0,I=o.useMemo(function(){return 0===i||0===$?0:i/$*N},[i,$,N]),D=o.useRef({top:I,dragging:v,pageY:x,startTop:S});D.current={top:I,dragging:v,pageY:x,startTop:S};var L=function(e){b(!0),O(Ix(e,u)),E(D.current.top),s(),e.stopPropagation(),e.preventDefault()};o.useEffect(function(){var e=function(e){e.preventDefault()},t=C.current,n=k.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",L,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",L)}},[]);var z=o.useRef();z.current=$;var j=o.useRef();j.current=N,o.useEffect(function(){if(v){var e,t=function(t){var n=D.current,r=n.dragging,o=n.pageY,i=n.startTop;Ho.cancel(e);var a=C.current.getBoundingClientRect(),s=h/(u?a.width:a.height);if(r){var l=(Ix(t,u)-o)*s,d=i;!_&&u?d-=l:d+=l;var f=z.current,p=j.current,m=p?d/p:0,g=Math.ceil(m*f);g=Math.max(g,0),g=Math.min(g,f),e=Ho(function(){c(g,u)})}},n=function(){b(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Ho.cancel(e)}}},[v]),o.useEffect(function(){return A(),function(){clearTimeout(R.current)}},[i]),o.useImperativeHandle(t,function(){return{delayHidden:A}});var B="".concat(n,"-scrollbar"),U={position:"absolute",visibility:T?null:"hidden"},H={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return u?(Object.assign(U,{height:8,left:0,right:0,bottom:0}),Object.assign(H,F({height:"100%",width:d},_?"left":"right",I))):(Object.assign(U,F({width:8,top:0,bottom:0},_?"right":"left",0)),Object.assign(H,{width:"100%",height:d,top:I})),o.createElement("div",{ref:C,className:$r()(B,F(F(F({},"".concat(B,"-horizontal"),u),"".concat(B,"-vertical"),!u),"".concat(B,"-visible"),T)),style:W(W({},U),f),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:A},o.createElement("div",{ref:k,className:$r()("".concat(B,"-thumb"),F({},"".concat(B,"-thumb-moving"),v)),style:W(W({},H),p),onMouseDown:L}))});const Lx=Dx;function zx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var jx=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Bx=[],Fx={overflowY:"auto",overflowAnchor:"none"};function Ux(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,l=e.itemHeight,c=e.fullHeight,u=void 0===c||c,d=e.style,h=e.data,f=e.children,p=e.itemKey,m=e.virtual,g=e.direction,v=e.scrollWidth,b=e.component,y=void 0===b?"div":b,x=e.onScroll,O=e.onVirtualScroll,w=e.onVisibleChange,S=e.innerProps,E=e.extraRender,_=e.styles,C=e.showScrollBar,k=void 0===C?"optional":C,M=qr(e,jx),T=o.useCallback(function(e){return"function"==typeof p?p(e):null==e?void 0:e[p]},[p]),P=function(e){var t=Q(o.useState(0),2),n=t[0],r=t[1],i=(0,o.useRef)(new Map),a=(0,o.useRef)(new Rx),s=(0,o.useRef)(0);function l(){s.current+=1}function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l();var t=function(){var e=!1;i.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,s=o.marginBottom,l=r+Ax(i)+Ax(s);a.current.get(n)!==l&&(a.current.set(n,l),e=!0)}}),e&&r(function(e){return e+1})};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then(function(){n===s.current&&t()})}}return(0,o.useEffect)(function(){return l},[]),[function(t,n){var r=e(t);i.current.get(r);n?(i.current.set(r,n),c()):i.current.delete(r)},c,a.current,n]}(T),R=Q(P,4),A=R[0],$=R[1],N=R[2],I=R[3],D=!(!1===m||!a||!l),L=o.useMemo(function(){return Object.values(N.maps).reduce(function(e,t){return e+t},0)},[N.id,N.maps]),z=D&&h&&(Math.max(l*h.length,L)>a||!!v),B="rtl"===g,U=$r()(r,F({},"".concat(r,"-rtl"),B),i),H=h||Bx,V=(0,o.useRef)(),G=(0,o.useRef)(),X=(0,o.useRef)(),q=Q((0,o.useState)(0),2),Z=q[0],Y=q[1],K=Q((0,o.useState)(0),2),J=K[0],ee=K[1],te=Q((0,o.useState)(!1),2),ne=te[0],re=te[1],oe=function(){re(!0)},ie=function(){re(!1)},ae={getKey:T};function se(e){Y(function(t){var n=function(e){var t=e;return Number.isNaN(Ee.current)||(t=Math.min(t,Ee.current)),t=Math.max(t,0)}("function"==typeof e?e(t):e);return V.current.scrollTop=n,n})}var le=(0,o.useRef)({start:0,end:H.length}),ce=(0,o.useRef)(),ue=Q(function(e,t,n){var r=Q(o.useState(e),2),i=r[0],a=r[1],s=Q(o.useState(null),2),l=s[0],c=s[1];return o.useEffect(function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(i-a),d=0;d<o.length;d+=1){var h=l(r[d]);if(h!==l(o[d])){c=d,u=u||h!==l(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}(i||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),c(e[r.index])),a(e)},[e]),[l]}(H,T),1)[0];ce.current=ue;var de=o.useMemo(function(){if(!D)return{scrollHeight:void 0,start:0,end:H.length-1,offset:void 0};var e;if(!z)return{scrollHeight:(null===(e=G.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:H.length-1,offset:void 0};for(var t,n,r,o=0,i=H.length,s=0;s<i;s+=1){var c=H[s],u=T(c),d=N.get(u),h=o+(void 0===d?l:d);h>=Z&&void 0===t&&(t=s,n=o),h>Z+a&&void 0===r&&(r=s),o=h}return void 0===t&&(t=0,n=0,r=Math.ceil(a/l)),void 0===r&&(r=H.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,H.length-1),offset:n}},[z,D,Z,H,I,a]),he=de.scrollHeight,fe=de.start,pe=de.end,me=de.offset;le.current.start=fe,le.current.end=pe,o.useLayoutEffect(function(){var e=N.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=H[fe];if(r&&void 0===n&&T(r)===t){var o=N.get(t)-l;se(function(e){return e+o})}}N.resetRecord()},[he]);var ge=Q(o.useState({width:0,height:a}),2),ve=ge[0],be=ge[1],ye=(0,o.useRef)(),xe=(0,o.useRef)(),Oe=o.useMemo(function(){return zx(ve.width,v)},[ve.width,v]),we=o.useMemo(function(){return zx(ve.height,he)},[ve.height,he]),Se=he-a,Ee=(0,o.useRef)(Se);Ee.current=Se;var _e=Z<=0,Ce=Z>=Se,ke=J<=0,Me=J>=v,Te=Px(_e,Ce,ke,Me),Pe=function(){return{x:B?-J:J,y:Z}},Re=(0,o.useRef)(Pe()),Ae=ao(function(e){if(O){var t=W(W({},Pe()),e);Re.current.x===t.x&&Re.current.y===t.y||(O(t),Re.current=t)}});function $e(e,t){var n=e;t?((0,s.flushSync)(function(){ee(n)}),Ae()):se(n)}var Ne=function(e){var t=e,n=v?v-ve.width:0;return t=Math.max(t,0),Math.min(t,n)},Ie=ao(function(e,t){t?((0,s.flushSync)(function(){ee(function(t){return Ne(t+(B?-e:e))})}),Ae()):se(function(t){return t+e})}),De=Q(function(e,t,n,r,i,a,s){var l=(0,o.useRef)(0),c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(!1),h=Px(t,n,r,i),f=(0,o.useRef)(null),p=(0,o.useRef)(null);return[function(t){if(e){Ho.cancel(p.current),p.current=Ho(function(){f.current=null},2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,i=n,m=r;("sx"===f.current||!f.current&&o&&r&&!n)&&(i=r,m=0,f.current="sx");var g=Math.abs(i),v=Math.abs(m);null===f.current&&(f.current=a&&g>v?"x":"y"),"y"===f.current?function(e,t){if(Ho.cancel(c.current),!h(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,l.current+=t,u.current=t,Tx||n.preventDefault(),c.current=Ho(function(){var e=d.current?10:1;s(l.current*e,!1),l.current=0}))}}(t,m):function(e,t){s(t,!0),Tx||e.preventDefault()}(t,i)}},function(t){e&&(d.current=t.detail===u.current)}]}(D,_e,Ce,ke,Me,!!v,Ie),2),Le=De[0],ze=De[1];!function(e,t,n){var r,i=(0,o.useRef)(!1),a=(0,o.useRef)(0),s=(0,o.useRef)(0),l=(0,o.useRef)(null),c=(0,o.useRef)(null),u=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),o=a.current-t,l=s.current-r,u=Math.abs(o)>Math.abs(l);u?a.current=t:s.current=r;var d=n(u,u?o:l,!1,e);d&&e.preventDefault(),clearInterval(c.current),d&&(c.current=setInterval(function(){u?o*=$x:l*=$x;var e=Math.floor(u?o:l);(!n(u,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)},16))}},d=function(){i.current=!1,r()},h=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",u,{passive:!1}),l.current.addEventListener("touchend",d,{passive:!0}))};r=function(){l.current&&(l.current.removeEventListener("touchmove",u),l.current.removeEventListener("touchend",d))},Ve(function(){return e&&t.current.addEventListener("touchstart",h,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",h),r(),clearInterval(c.current)}},[e])}(D,V,function(e,t,n,r){var o=r;return!(Te(e,t,n)||o&&o._virtualHandled||(o&&(o._virtualHandled=!0),Le({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),0))}),function(e,t){o.useEffect(function(){var n=t.current;if(e&&n){var r,o,i=!1,a=function(){Ho.cancel(r)},s=function e(){a(),r=Ho(function(){var t;t=o,se(function(e){return e+t}),e()})},l=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,i=!0)}},c=function(){i=!1,a()},u=function(e){if(i){var t=Ix(e,!1),r=n.getBoundingClientRect(),l=r.top,c=r.bottom;t<=l?(o=-Nx(l-t),s()):t>=c?(o=Nx(t-c),s()):a()}};return n.addEventListener("mousedown",l),n.ownerDocument.addEventListener("mouseup",c),n.ownerDocument.addEventListener("mousemove",u),function(){n.removeEventListener("mousedown",l),n.ownerDocument.removeEventListener("mouseup",c),n.ownerDocument.removeEventListener("mousemove",u),a()}}},[e])}(z,V),Ve(function(){function e(e){var t=_e&&e.detail<0,n=Ce&&e.detail>0;!D||t||n||e.preventDefault()}var t=V.current;return t.addEventListener("wheel",Le,{passive:!1}),t.addEventListener("DOMMouseScroll",ze,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Le),t.removeEventListener("DOMMouseScroll",ze),t.removeEventListener("MozMousePixelScroll",e)}},[D,_e,Ce]),Ve(function(){if(v){var e=Ne(J);ee(e),Ae({x:e})}},[ve.width,v]);var je=function(){var e,t;null===(e=ye.current)||void 0===e||e.delayHidden(),null===(t=xe.current)||void 0===t||t.delayHidden()},Be=function(e,t,n,r,i,a,s,l){var c=o.useRef(),u=Q(o.useState(null),2),d=u[0],h=u[1];return Ve(function(){if(d&&d.times<10){if(!e.current)return void h(function(e){return W({},e)});a();var o=d.targetAlign,l=d.originAlign,c=d.index,u=d.offset,f=e.current.clientHeight,p=!1,m=o,g=null;if(f){for(var v=o||l,b=0,y=0,x=0,O=Math.min(t.length-1,c),w=0;w<=O;w+=1){var S=i(t[w]);y=b;var E=n.get(S);b=x=y+(void 0===E?r:E)}for(var _="top"===v?u:f-u,C=O;C>=0;C-=1){var k=i(t[C]),M=n.get(k);if(void 0===M){p=!0;break}if((_-=M)<=0)break}switch(v){case"top":g=y-u;break;case"bottom":g=x-f+u;break;default:var T=e.current.scrollTop;y<T?m="top":x>T+f&&(m="bottom")}null!==g&&s(g),g!==d.lastTop&&(p=!0)}p&&h(W(W({},d),{},{times:d.times+1,targetAlign:m,lastTop:g}))}},[d,e.current]),function(e){if(null!=e){if(Ho.cancel(c.current),"number"==typeof e)s(e);else if(e&&"object"===j(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex(function(t){return i(t)===e.key});var o=e.offset;h({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else l()}}(V,H,N,l,T,function(){return $(!0)},se,je);o.useImperativeHandle(t,function(){return{nativeElement:X.current,getScrollInfo:Pe,scrollTo:function(e){var t;(t=e)&&"object"===j(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ee(Ne(e.left)),Be(e.top)):Be(e)}}}),Ve(function(){if(w){var e=H.slice(fe,pe+1);w(e,H)}},[fe,pe,H]);var Fe=function(e,t,n,r){var i=Q(o.useMemo(function(){return[new Map,[]]},[e,n.id,r]),2),a=i[0],s=i[1];return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,l=a.get(o),c=a.get(i);if(void 0===l||void 0===c)for(var u=e.length,d=s.length;d<u;d+=1){var h,f=e[d],p=t(f);a.set(p,d);var m=null!==(h=n.get(p))&&void 0!==h?h:r;if(s[d]=(s[d-1]||0)+m,p===o&&(l=d),p===i&&(c=d),void 0!==l&&void 0!==c)break}return{top:s[l-1]||0,bottom:s[c]}}}(H,T,N,l),Ue=null==E?void 0:E({start:fe,end:pe,virtual:z,offsetX:J,offsetY:me,rtl:B,getSize:Fe}),He=function(e,t,n,r,i,a,s,l){var c=l.getKey;return e.slice(t,n+1).map(function(e,n){var l=s(e,t+n,{style:{width:r},offsetX:i}),u=c(e);return o.createElement(Mx,{key:u,setRef:function(t){return a(e,t)}},l)})}(H,fe,pe,v,J,A,f,ae),Qe=null;a&&(Qe=W(F({},u?"height":"maxHeight",a),Fx),D&&(Qe.overflowY="hidden",v&&(Qe.overflowX="hidden"),ne&&(Qe.pointerEvents="none")));var We={};return B&&(We.dir="rtl"),o.createElement("div",et({ref:X,style:W(W({},d),{},{position:"relative"}),className:U},We,M),o.createElement(ff,{onResize:function(e){be({width:e.offsetWidth,height:e.offsetHeight})}},o.createElement(y,{className:"".concat(r,"-holder"),style:Qe,ref:V,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Z&&se(t),null==x||x(e),Ae()},onMouseEnter:je},o.createElement(kx,{prefixCls:r,height:he,offsetX:J,offsetY:me,scrollWidth:v,onInnerResize:$,ref:G,innerProps:S,rtl:B,extra:Ue},He))),z&&he>a&&o.createElement(Lx,{ref:ye,prefixCls:r,scrollOffset:Z,scrollRange:he,rtl:B,onScroll:$e,onStartMove:oe,onStopMove:ie,spinSize:we,containerSize:ve.height,style:null==_?void 0:_.verticalScrollBar,thumbStyle:null==_?void 0:_.verticalScrollBarThumb,showScrollBar:k}),z&&v>ve.width&&o.createElement(Lx,{ref:xe,prefixCls:r,scrollOffset:J,scrollRange:v,rtl:B,onScroll:$e,onStartMove:oe,onStopMove:ie,spinSize:Oe,containerSize:ve.width,horizontal:!0,style:null==_?void 0:_.horizontalScrollBar,thumbStyle:null==_?void 0:_.horizontalScrollBarThumb,showScrollBar:k}))}var Hx=o.forwardRef(Ux);Hx.displayName="List";const Qx=Hx;var Vx=["disabled","title","children","style","className"];function Wx(e){return"string"==typeof e||"number"==typeof e}var Gx=function(e,t){var n=o.useContext(Gy),r=n.prefixCls,i=n.id,a=n.open,s=n.multiple,l=n.mode,c=n.searchValue,u=n.toggleOpen,d=n.notFoundContent,h=n.onPopupScroll,f=o.useContext(mx),p=f.maxCount,m=f.flattenOptions,g=f.onActiveValue,v=f.defaultActiveFirstOption,b=f.onSelect,y=f.menuItemSelectedIcon,x=f.rawValues,O=f.fieldNames,w=f.virtual,S=f.direction,E=f.listHeight,_=f.listItemHeight,C=f.optionRender,k="".concat(r,"-item"),M=ae(function(){return m},[a,m],function(e,t){return t[0]&&e[1]!==t[1]}),T=o.useRef(null),P=o.useMemo(function(){return s&&hx(p)&&(null==x?void 0:x.size)>=p},[s,p,null==x?void 0:x.size]),A=function(e){e.preventDefault()},$=function(e){var t;null===(t=T.current)||void 0===t||t.scrollTo("number"==typeof e?{index:e}:e)},N=o.useCallback(function(e){return"combobox"!==l&&x.has(e)},[l,R(x).toString(),x.size]),I=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=M.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=M[o]||{},a=i.group,s=i.data;if(!a&&(null==s||!s.disabled)&&(N(s.value)||!P))return o}return-1},D=Q(o.useState(function(){return I(0)}),2),L=D[0],z=D[1],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e);var n={source:t?"keyboard":"mouse"},r=M[e];r?g(r.value,e,n):g(null,-1,n)};(0,o.useEffect)(function(){j(!1!==v?I(0):-1)},[M.length,c]);var B=o.useCallback(function(e){return"combobox"===l?String(e).toLowerCase()===c.toLowerCase():x.has(e)},[l,c,R(x).toString(),x.size]);(0,o.useEffect)(function(){var e,t=setTimeout(function(){if(!s&&a&&1===x.size){var e=Array.from(x)[0],t=M.findIndex(function(t){var n=t.data;return c?String(n.value).startsWith(c):n.value===e});-1!==t&&(j(t),$(t))}});return a&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0)),function(){return clearTimeout(t)}},[a,c]);var U=function(e){void 0!==e&&b(e,{selected:!x.has(e)}),s||u(!1)};if(o.useImperativeHandle(t,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case fc.N:case fc.P:case fc.UP:case fc.DOWN:var r=0;if(t===fc.UP?r=-1:t===fc.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===fc.N?r=1:t===fc.P&&(r=-1)),0!==r){var o=I(L+r,r);$(o),j(o,!0)}break;case fc.TAB:case fc.ENTER:var i,s=M[L];!s||null!=s&&null!==(i=s.data)&&void 0!==i&&i.disabled||P?U(void 0):U(s.value),a&&e.preventDefault();break;case fc.ESC:u(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){$(e)}}}),0===M.length)return o.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(k,"-empty"),onMouseDown:A},d);var H=Object.keys(O).map(function(e){return O[e]}),V=function(e){return e.label};function W(e,t){return{role:e.group?"presentation":"option",id:"".concat(i,"_list_").concat(t)}}var G=function(e){var t=M[e];if(!t)return null;var n=t.data||{},r=n.value,i=t.group,a=gc(n,!0),s=V(t);return t?o.createElement("div",et({"aria-label":"string"!=typeof s||i?null:s},a,{key:e},W(t,e),{"aria-selected":B(r)}),r):null},X={role:"listbox",id:"".concat(i,"_list")};return o.createElement(o.Fragment,null,w&&o.createElement("div",et({},X,{style:{height:0,width:0,overflow:"hidden"}}),G(L-1),G(L),G(L+1)),o.createElement(Qx,{itemKey:"key",ref:T,data:M,height:E,itemHeight:_,fullHeight:!1,onMouseDown:A,onScroll:h,virtual:w,direction:S,innerProps:w?null:X},function(e,t){var n=e.group,r=e.groupOption,i=e.data,a=e.label,s=e.value,l=i.key;if(n){var c,u=null!==(c=i.title)&&void 0!==c?c:Wx(a)?a.toString():void 0;return o.createElement("div",{className:$r()(k,"".concat(k,"-group"),i.className),title:u},void 0!==a?a:l)}var d=i.disabled,h=i.title,f=(i.children,i.style),p=i.className,m=Va(qr(i,Vx),H),g=N(s),v=d||!g&&P,b="".concat(k,"-option"),x=$r()(k,b,p,F(F(F(F({},"".concat(b,"-grouped"),r),"".concat(b,"-active"),L===t&&!v),"".concat(b,"-disabled"),v),"".concat(b,"-selected"),g)),O=V(e),S=!y||"function"==typeof y||g,E="number"==typeof O?O:O||s,_=Wx(E)?E.toString():void 0;return void 0!==h&&(_=h),o.createElement("div",et({},gc(m),w?{}:W(e,t),{"aria-selected":B(s),className:x,title:_,onMouseMove:function(){L===t||v||j(t)},onClick:function(){v||U(s)},style:f}),o.createElement("div",{className:"".concat(b,"-content")},"function"==typeof C?C(e,{index:t}):E),o.isValidElement(y)||g,S&&o.createElement(Wy,{className:"".concat(k,"-option-state"),customizeIcon:y,customizeIconProps:{value:s,disabled:v,isSelected:g}},g?"✓":null))}))};const Xx=o.forwardRef(Gx);function qx(e,t){return Ky(e).join("").toUpperCase().includes(t)}var Zx=0,Yx=X();var Kx=["children","value"],Jx=["children"];function eO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _s(e).map(function(e,n){if(!o.isValidElement(e)||!e.type)return null;var r=e,i=r.type.isSelectOptGroup,a=r.key,s=r.props,l=s.children,c=qr(s,Jx);return t||!i?function(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value;return W({key:n,value:void 0!==i?i:n,children:o},qr(r,Kx))}(e):W(W({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},c),{},{options:eO(l)})}).filter(function(e){return e})}const tO=function(e,t,n,r,i){return o.useMemo(function(){var o=e;!e&&(o=eO(t));var a=new Map,s=new Map,l=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||o?(a.set(u[n.value],u),l(s,u,n.label),l(s,u,r),l(s,u,i)):e(u[n.options],!0)}}(o),{options:o,valueOptions:a,labelOptions:s}},[e,t,n,r,i])};function nO(e){var t=o.useRef();t.current=e;var n=o.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var rO=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],oO=["inputValue"],iO=o.forwardRef(function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,a=void 0===i?"rc-select":i,s=e.backfill,l=e.fieldNames,c=e.inputValue,u=e.searchValue,d=e.onSearch,h=e.autoClearSearchValue,f=void 0===h||h,p=e.onSelect,m=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,b=e.filterOption,y=e.filterSort,x=e.optionFilterProp,O=e.optionLabelProp,w=e.options,S=e.optionRender,E=e.children,_=e.defaultActiveFirstOption,C=e.menuItemSelectedIcon,k=e.virtual,M=e.direction,T=e.listHeight,P=void 0===T?200:T,A=e.listItemHeight,$=void 0===A?20:A,N=e.labelRender,I=e.value,D=e.defaultValue,L=e.labelInValue,z=e.onChange,B=e.maxCount,U=qr(e,rO),H=function(e){var t=Q(o.useState(),2),n=t[0],r=t[1];return o.useEffect(function(){var e;r("rc_select_".concat((Yx?(e=Zx,Zx+=1):e="TEST_OR_SSR",e)))},[]),e||n}(n),V=yx(r),G=!(w||!E),X=o.useMemo(function(){return(void 0!==b||"combobox"!==r)&&b},[b,r]),q=o.useMemo(function(){return fx(l,G)},[JSON.stringify(l),G]),Z=Q(co("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),Y=Z[0],K=Z[1],J=tO(w,E,q,x,O),ee=J.valueOptions,te=J.labelOptions,ne=J.options,re=o.useCallback(function(e){return Ky(e).map(function(e){var t,n,r,o,i,a;!function(e){return!e||"object"!==j(e)}(e)?(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r):t=e;var s,l=ee.get(t);return l&&(void 0===n&&(n=null==l?void 0:l[O||q.label]),void 0===r&&(r=null!==(s=null==l?void 0:l.key)&&void 0!==s?s:t),o=null==l?void 0:l.disabled,i=null==l?void 0:l.title),{label:n,value:t,key:r,disabled:o,title:i}})},[q,O,ee]),oe=Q(co(D,{value:I}),2),ie=oe[0],ae=oe[1],se=o.useMemo(function(){var e,t=re(V&&null===ie?[]:ie);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t},[ie,re,r,V]),le=function(e,t){var n=o.useRef({values:new Map,options:new Map});return[o.useMemo(function(){var r=n.current,o=r.values,i=r.options,a=e.map(function(e){var t;return void 0===e.label?W(W({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e}),s=new Map,l=new Map;return a.forEach(function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||i.get(e.value))}),n.current.values=s,n.current.options=l,a},[e,t]),o.useCallback(function(e){return t.get(e)||n.current.options.get(e)},[t])]}(se,ee),ce=Q(le,2),ue=ce[0],de=ce[1],he=o.useMemo(function(){if(!r&&1===ue.length){var e=ue[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ue.map(function(e){var t;return W(W({},e),{},{label:null!==(t="function"==typeof N?N(e):e.label)&&void 0!==t?t:e.value})})},[r,ue,N]),fe=o.useMemo(function(){return new Set(ue.map(function(e){return e.value}))},[ue]);o.useEffect(function(){if("combobox"===r){var e,t=null===(e=ue[0])||void 0===e?void 0:e.value;K(function(e){return null!=e}(t)?String(t):"")}},[ue]);var pe=nO(function(e,t){var n=null!=t?t:e;return F(F({},q.value,e),q.label,n)}),me=function(e,t,n,r,i){return o.useMemo(function(){if(!n||!1===r)return e;var o=t.options,a=t.label,s=t.value,l=[],c="function"==typeof r,u=n.toUpperCase(),d=c?r:function(e,t){return i?qx(t[i],u):t[o]?qx(t["children"!==a?a:"label"],u):qx(t[s],u)},h=c?function(e){return px(e)}:function(e){return e};return e.forEach(function(e){if(e[o])if(d(n,h(e)))l.push(e);else{var t=e[o].filter(function(e){return d(n,h(e))});t.length&&l.push(W(W({},e),{},F({},o,t)))}else d(n,h(e))&&l.push(e)}),l},[e,r,i,n,t])}(o.useMemo(function(){if("tags"!==r)return ne;var e=R(ne);return R(ue).sort(function(e,t){return e.value<t.value?-1:1}).forEach(function(t){var n=t.value;(function(e){return ee.has(e)})(n)||e.push(pe(n,t.label))}),e},[pe,ne,ee,ue,r]),q,Y,X,x),ge=o.useMemo(function(){return"tags"!==r||!Y||me.some(function(e){return e[x||"value"]===Y})||me.some(function(e){return e[q.value]===Y})?me:[pe(Y)].concat(R(me))},[pe,x,r,me,Y,q]),ve=function e(t){return R(t).sort(function(e,t){return y(e,t,{searchValue:Y})}).map(function(t){return Array.isArray(t.options)?W(W({},t),{},{options:t.options.length>0?e(t.options):t.options}):t})},be=o.useMemo(function(){return y?ve(ge):ge},[ge,y,Y]),ye=o.useMemo(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=fx(n,!1),a=i.label,s=i.value,l=i.options,c=i.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach(function(t){if(n||!(l in t)){var i=t[s];o.push({key:dx(t,o.length),groupOption:n,data:t,label:t[a],value:i})}else{var u=t[c];void 0===u&&r&&(u=t.label),o.push({key:dx(t,o.length),group:!0,data:t,label:u}),e(t[l],!0)}})}(e,!1),o}(be,{fieldNames:q,childrenAsData:G})},[be,q,G]),xe=function(e){var t=re(e);if(ae(t),z&&(t.length!==ue.length||t.some(function(e,t){var n;return(null===(n=ue[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)}))){var n=L?t:t.map(function(e){return e.value}),r=t.map(function(e){return px(de(e.value))});z(V?n:n[0],V?r:r[0])}},Oe=Q(o.useState(null),2),we=Oe[0],Se=Oe[1],Ee=Q(o.useState(0),2),_e=Ee[0],Ce=Ee[1],ke=void 0!==_?_:"combobox"!==r,Me=o.useCallback(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===n?"keyboard":n;Ce(t),s&&"combobox"===r&&null!==e&&"keyboard"===o&&Se(String(e))},[s,r]),Te=function(e,t,n){var r=function(){var t,n=de(e);return[L?{label:null==n?void 0:n[q.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,px(n)]};if(t&&p){var o=Q(r(),2),i=o[0],a=o[1];p(i,a)}else if(!t&&m&&"clear"!==n){var s=Q(r(),2),l=s[0],c=s[1];m(l,c)}},Pe=nO(function(e,t){var n,o=!V||t.selected;n=o?V?[].concat(R(ue),[e]):[e]:ue.filter(function(t){return t.value!==e}),xe(n),Te(e,o),"combobox"===r?Se(""):yx&&!f||(K(""),Se(""))}),Re=o.useMemo(function(){var e=!1!==k&&!1!==v;return W(W({},J),{},{flattenOptions:ye,onActiveValue:Me,defaultActiveFirstOption:ke,onSelect:Pe,menuItemSelectedIcon:C,rawValues:fe,fieldNames:q,virtual:e,direction:M,listHeight:P,listItemHeight:$,childrenAsData:G,maxCount:B,optionRender:S})},[B,J,ye,Me,ke,Pe,C,fe,q,k,v,M,P,$,G,S]);return o.createElement(mx.Provider,{value:Re},o.createElement(Ox,et({},U,{id:H,prefixCls:a,ref:t,omitDomProps:oO,mode:r,displayValues:he,onDisplayValuesChange:function(e,t){xe(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach(function(e){Te(e.value,!1,n)})},direction:M,searchValue:Y,onSearch:function(e,t){if(K(e),Se(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&xe(e),null==d||d(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat(R(fe),[n])));xe(o),Te(n,!0),K("")}}},autoClearSearchValue:f,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map(function(e){var t=te.get(e);return null==t?void 0:t.value}).filter(function(e){return void 0!==e}));var n=Array.from(new Set([].concat(R(fe),R(t))));xe(n),n.forEach(function(e){Te(e,!0)})},dropdownMatchSelectWidth:v,OptionList:Xx,emptyOptions:!ye.length,activeValue:we,activeDescendantId:"".concat(H,"_list_").concat(_e)})))}),aO=iO;aO.Option=_x,aO.OptGroup=Sx;const sO=aO,lO=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},cO=new en("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),uO=new en("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),dO=new en("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),hO=new en("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),fO=new en("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pO=new en("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),mO={"move-up":{inKeyframes:new en("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new en("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:cO,outKeyframes:uO},"move-left":{inKeyframes:dO,outKeyframes:hO},"move-right":{inKeyframes:fO,outKeyframes:pO}},gO=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:o,outKeyframes:i}=mO[t];return[zd(r,o,i,e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},vO=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:o}=e;return{position:"relative",display:"block",minHeight:t,padding:o,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},bO=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,o=`&${t}-slide-up-enter${t}-slide-up-enter-active`,i=`&${t}-slide-up-appear${t}-slide-up-appear-active`,a=`&${t}-slide-up-leave${t}-slide-up-leave-active`,s=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},xi(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n          ${o}${s}bottomLeft,\n          ${i}${s}bottomLeft\n        `]:{animationName:sg},[`\n          ${o}${s}topLeft,\n          ${i}${s}topLeft,\n          ${o}${s}topRight,\n          ${i}${s}topRight\n        `]:{animationName:cg},[`${a}${s}bottomLeft`]:{animationName:lg},[`\n          ${a}${s}topLeft,\n          ${a}${s}topRight\n        `]:{animationName:ug},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},vO(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},yi),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},vO(e)),{color:e.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},gg(e,"slide-up"),gg(e,"slide-down"),gO(e,"move-up"),gO(e,"move-down")]},yO=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:o,paddingXS:i,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=e,d=`${t}-selection-overflow`;return{[d]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${o}, line-height ${o}, height ${o}`,marginInlineEnd:e.calc(u).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:e.calc(i).div(2).equal(),[`${t}-disabled&`]:{color:a,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},xO=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,o=`${n}-selection-overflow`,i=e.multipleSelectItemHeight,a=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()})(e),s=t?`${n}-${t}`:"",l=(e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:o}=e,i=e.max(e.calc(n).sub(r).equal(),0);return{basePadding:i,containerPadding:e.max(e.calc(i).sub(o).equal(),0),itemHeight:Le(t),itemLineHeight:Le(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}})(e);return{[`${n}-multiple${s}`]:Object.assign(Object.assign({},yO(e)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Le(r)} 0`,lineHeight:Le(i),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:Le(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Le(i),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${o}-item + ${o}-item,\n        ${n}-prefix + ${n}-selection-wrap\n      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${o}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:e.fontFamily,lineHeight:Le(i),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function OO(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",o={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[xO(e,t),o]}const wO=e=>{const{componentCls:t}=e,n=is(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=is(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[OO(e),OO(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},OO(r,"lg")]};function SO(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=e,i=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),a=t?`${n}-${t}`:"";return{[`${n}-single${a}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},xi(e,!0)),{display:"flex",borderRadius:o,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Le(i)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{display:"block",padding:0,lineHeight:Le(i),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-search,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Le(r)}`,[`${n}-selection-search-input`]:{height:i,fontSize:e.fontSize},"&:after":{lineHeight:Le(i)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Le(r)}`,"&:after":{display:"none"}}}}}}}function EO(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[SO(e),SO(is(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${Le(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},SO(is(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const _O=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:o}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Le(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${Le(o)} ${t.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:t.color}}}},CO=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},_O(e,t))}),kO=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},_O(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),CO(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),CO(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),MO=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${Le(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},TO=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},MO(e,t))}),PO=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},MO(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),TO(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),TO(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),RO=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),AO=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Le(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${n}-prefix`]:{color:t.color}}}},$O=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},AO(e,t))}),NO=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},AO(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),$O(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),$O(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),IO=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},kO(e)),PO(e)),RO(e)),NO(e))}),DO=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},LO=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},zO=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=e,i={[`${n}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},xi(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},DO(e)),LO(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},yi),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},yi),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[o]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:e.colorIcon}},"@media(hover:none)":i,"&:hover":i}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}}}},jO=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},zO(e),EO(e),wO(e),bO(e),{[`${t}-rtl`]:{direction:"rtl"}},Il(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},BO=hs("Select",(e,{rootPrefixCls:t})=>{const n=is(e,{rootPrefixCls:t,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[jO(n),IO(n)]},e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:o,controlHeightSM:i,controlHeightLG:a,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:h,controlItemBgHover:f,colorBgContainer:p,colorFillSecondary:m,colorBgContainerDisabled:g,colorTextDisabled:v,colorPrimaryHover:b,colorPrimary:y,controlOutline:x}=e,O=2*s,w=2*r,S=Math.min(o-O,o-w),E=Math.min(i-O,i-w),_=Math.min(a-O,a-w);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:h,optionActiveBg:f,optionPadding:`${(o-t*n)/2}px ${l}px`,optionFontSize:t,optionLineHeight:n,optionHeight:o,selectorBg:p,clearBg:p,singleItemHeightLG:a,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:S,multipleItemHeightSM:E,multipleItemHeightLG:_,multipleSelectorBgDisabled:g,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize),hoverBorderColor:b,activeBorderColor:y,activeOutlineColor:x,selectAffixPadding:s}},{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),FO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var UO=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:FO}))};const HO=o.forwardRef(UO),QO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var VO=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:QO}))};const WO=o.forwardRef(VO);const GO="SECRET_COMBOBOX_MODE_DO_NOT_USE",XO=(e,t)=>{var n,r,i,a,s;const{prefixCls:l,bordered:c,className:u,rootClassName:d,getPopupContainer:h,popupClassName:f,dropdownClassName:p,listHeight:m=256,placement:g,listItemHeight:v,size:b,disabled:y,notFoundContent:x,status:O,builtinPlacements:w,dropdownMatchSelectWidth:S,popupMatchSelectWidth:E,direction:_,style:C,allowClear:k,variant:M,dropdownStyle:T,transitionName:P,tagRender:R,maxCount:A,prefix:$,dropdownRender:N,popupRender:D,onDropdownVisibleChange:L,onOpenChange:j,styles:B,classNames:F}=e,U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:H,getPrefixCls:Q,renderEmpty:V,direction:W,virtual:G,popupMatchSelectWidth:X,popupOverflow:q}=o.useContext(I),{showSearch:Z,style:Y,styles:K,className:J,classNames:ee}=z("select"),[,te]=mi(),ne=null!=v?v:null==te?void 0:te.controlHeight,re=Q("select",l),oe=Q(),ie=null!=_?_:W,{compactSize:ae,compactItemClassnames:se}=As(re,ie),[le,ce]=Ob("select",M,c),ue=rd(re),[de,he,fe]=BO(re,ue),pe=o.useMemo(()=>{const{mode:t}=e;if("combobox"!==t)return t===GO?"combobox":t},[e.mode]),me="multiple"===pe||"tags"===pe,ge=function(e,t){return void 0!==t?t:null!==e}(e.suffixIcon,e.showArrow),ve=null!==(n=null!=E?E:S)&&void 0!==n?n:X,be=(null===(r=null==B?void 0:B.popup)||void 0===r?void 0:r.root)||(null===(i=K.popup)||void 0===i?void 0:i.root)||T,ye=D||N,xe=j||L,{status:Oe,hasFeedback:we,isFormItemInput:Se,feedbackIcon:Ee}=o.useContext(qu),_e=xb(Oe,O);let Ce;Ce=void 0!==x?x:"combobox"===pe?null:(null==V?void 0:V("Select"))||o.createElement(yy,{componentName:"Select"});const{suffixIcon:ke,itemIcon:Me,removeIcon:Te,clearIcon:Pe}=function({suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:r,loading:i,multiple:a,hasFeedback:s,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:h}){const f=null!=t?t:o.createElement(Ca,null),p=t=>null!==e||s||d?o.createElement(o.Fragment,null,!1!==c&&t,s&&u):null;let m=null;if(void 0!==e)m=p(e);else if(i)m=p(o.createElement(Qs,{spin:!0}));else{const e=`${l}-suffix`;m=({open:t,showSearch:n})=>p(t&&n?o.createElement(Vb,{className:e}):o.createElement(WO,{className:e}))}let g=null;g=void 0!==n?n:a?o.createElement(HO,null):null;let v=null;return v=void 0!==r?r:o.createElement(Kl,null),{clearIcon:f,suffixIcon:m,itemIcon:g,removeIcon:v}}(Object.assign(Object.assign({},U),{multiple:me,hasFeedback:we,feedbackIcon:Ee,showSuffixIcon:ge,prefixCls:re,componentName:"Select"})),Re=!0===k?{clearIcon:Pe}:k,Ae=Va(U,["suffixIcon","itemIcon"]),$e=$r()((null===(a=null==F?void 0:F.popup)||void 0===a?void 0:a.root)||(null===(s=null==ee?void 0:ee.popup)||void 0===s?void 0:s.root)||f||p,{[`${re}-dropdown-${ie}`]:"rtl"===ie},d,ee.root,null==F?void 0:F.root,fe,ue,he),Ne=Es(e=>{var t;return null!==(t=null!=b?b:ae)&&void 0!==t?t:e}),Ie=o.useContext(_r),De=null!=y?y:Ie,Le=$r()({[`${re}-lg`]:"large"===Ne,[`${re}-sm`]:"small"===Ne,[`${re}-rtl`]:"rtl"===ie,[`${re}-${le}`]:ce,[`${re}-in-form-item`]:Se},yb(re,_e,we),se,J,u,ee.root,null==F?void 0:F.root,d,fe,ue,he),ze=o.useMemo(()=>void 0!==g?g:"rtl"===ie?"bottomRight":"bottomLeft",[g,ie]),[je]=La("SelectLike",null==be?void 0:be.zIndex);return de(o.createElement(sO,Object.assign({ref:t,virtual:G,showSearch:Z},Ae,{style:Object.assign(Object.assign(Object.assign(Object.assign({},K.root),null==B?void 0:B.root),Y),C),dropdownMatchSelectWidth:ve,transitionName:Ua(oe,"slide-up",P),builtinPlacements:lO(w,q),listHeight:m,listItemHeight:ne,mode:pe,prefixCls:re,placement:ze,direction:ie,prefix:$,suffixIcon:ke,menuItemSelectedIcon:Me,removeIcon:Te,allowClear:Re,notFoundContent:Ce,className:Le,getPopupContainer:h||H,dropdownClassName:$e,disabled:De,dropdownStyle:Object.assign(Object.assign({},be),{zIndex:je}),maxCount:me?A:void 0,tagRender:me?R:void 0,dropdownRender:ye,onDropdownVisibleChange:xe})))},qO=o.forwardRef(XO),ZO=Mh(qO,"dropdownAlign");qO.SECRET_COMBOBOX_MODE_DO_NOT_USE=GO,qO.Option=_x,qO.OptGroup=Sx,qO._InternalPanelDoNotUseOrYouWillBeFired=ZO;const YO=qO,KO=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},JO=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Le(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`\n    &${t}-mini ${t}-prev ${t}-item-link,\n    &${t}-mini ${t}-next ${t}-item-link\n    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM),input:Object.assign(Object.assign({},Yv(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},ew=e=>{const{componentCls:t}=e;return{[`\n    &${t}-simple ${t}-prev,\n    &${t}-simple ${t}-next\n    `]:{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${Le(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${Le(e.inputOutlineOffset)} 0 ${Le(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},tw=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`\n    ${t}-prev,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{marginInlineEnd:e.marginXS},[`\n    ${t}-prev,\n    ${t}-next,\n    ${t}-jump-prev,\n    ${t}-jump-next\n    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:Le(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Le(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},Kv(e)),Iv(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},Nv(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},nw=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Le(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${Le(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Le(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},rw=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Le(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),nw(e)),tw(e)),ew(e)),JO(e)),KO(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},ow=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},wi(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},Oi(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},Oi(e))}}}},iw=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},Av(e)),aw=e=>is(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},Rv(e)),sw=hs("Pagination",e=>{const t=aw(e);return[rw(t),ow(t)]},iw),lw=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},cw=ps(["Pagination","bordered"],e=>{const t=aw(e);return[lw(t)]},iw);function uw(e){return(0,o.useMemo)(()=>"boolean"==typeof e?[e,{}]:e&&"object"==typeof e?[!0,e]:[void 0,void 0],[e])}const dw=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:a,style:s,size:l,locale:c,responsive:u,showSizeChanger:d,selectComponentClass:h,pageSizeOptions:f}=e,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:m}=xy(u),[,g]=mi(),{getPrefixCls:v,direction:b,showSizeChanger:y,className:x,style:O}=z("pagination"),w=v("pagination",n),[S,E,_]=sw(w),C=Es(l),k="small"===C||!(!m||C||!u),[M]=Qa("Pagination",mn),T=Object.assign(Object.assign({},M),c),[P,R]=uw(d),[A,$]=uw(y),N=null!=P?P:A,I=null!=R?R:$,D=h||YO,L=o.useMemo(()=>f?f.map(e=>Number(e)):void 0,[f]),j=o.useMemo(()=>{const e=o.createElement("span",{className:`${w}-item-ellipsis`},"•••");return{prevIcon:o.createElement("button",{className:`${w}-item-link`,type:"button",tabIndex:-1},"rtl"===b?o.createElement(Dy,null):o.createElement($y,null)),nextIcon:o.createElement("button",{className:`${w}-item-link`,type:"button",tabIndex:-1},"rtl"===b?o.createElement($y,null):o.createElement(Dy,null)),jumpPrevIcon:o.createElement("a",{className:`${w}-item-link`},o.createElement("div",{className:`${w}-item-container`},"rtl"===b?o.createElement(Py,{className:`${w}-item-link-icon`}):o.createElement(ky,{className:`${w}-item-link-icon`}),e)),jumpNextIcon:o.createElement("a",{className:`${w}-item-link`},o.createElement("div",{className:`${w}-item-container`},"rtl"===b?o.createElement(ky,{className:`${w}-item-link-icon`}):o.createElement(Py,{className:`${w}-item-link-icon`}),e))}},[b,w]),B=v("select",r),F=$r()({[`${w}-${t}`]:!!t,[`${w}-mini`]:k,[`${w}-rtl`]:"rtl"===b,[`${w}-bordered`]:g.wireframe},x,i,a,E,_),U=Object.assign(Object.assign({},O),s);return S(o.createElement(o.Fragment,null,g.wireframe&&o.createElement(cw,{prefixCls:w}),o.createElement(Vy,Object.assign({},j,p,{style:U,prefixCls:w,selectPrefixCls:B,className:F,locale:T,pageSizeOptions:L,showSizeChanger:N,sizeChangerRender:e=>{var t;const{disabled:n,size:r,onSizeChange:i,"aria-label":a,className:s,options:l}=e,{className:c,onChange:u}=I||{},d=null===(t=l.find(e=>String(e.value)===String(r)))||void 0===t?void 0:t.value;return o.createElement(D,Object.assign({disabled:n,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:e=>e.parentNode,"aria-label":a,options:l},I,{value:d,onChange:(e,t)=>{null==i||i(e),null==u||u(e,t)},size:k?"small":"middle",className:$r()(s,c)}))}}))))};const hw=80*Math.PI,fw=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return o.createElement("circle",{className:$r()(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:40,cx:50,cy:50,strokeWidth:20,style:n})},pw=({percent:e,prefixCls:t})=>{const n=`${t}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[a,s]=o.useState(!1);Ve(()=>{0!==e&&s(!0)},[0!==e]);const l=Math.max(Math.min(e,100),0);if(!a)return null;const c={strokeDashoffset:""+hw/4,strokeDasharray:`${hw*l/100} ${hw*(100-l)/100}`};return o.createElement("span",{className:$r()(r,`${n}-progress`,l<=0&&i)},o.createElement("svg",{viewBox:"0 0 100 100",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},o.createElement(fw,{dotClassName:n,hasCircleCls:!0}),o.createElement(fw,{dotClassName:n,style:c})))};function mw(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,i=`${r}-holder`,a=`${i}-hidden`;return o.createElement(o.Fragment,null,o.createElement("span",{className:$r()(i,n>0&&a)},o.createElement("span",{className:$r()(r,`${t}-dot-spin`)},[1,2,3,4].map(e=>o.createElement("i",{className:`${t}-dot-item`,key:e})))),o.createElement(pw,{prefixCls:t,percent:n}))}function gw(e){var t;const{prefixCls:n,indicator:r,percent:i}=e,a=`${n}-dot`;return r&&o.isValidElement(r)?Xa(r,{className:$r()(null===(t=r.props)||void 0===t?void 0:t.className,a),percent:i}):o.createElement(mw,{prefixCls:n,percent:i})}const vw=new en("antSpinMove",{to:{opacity:1}}),bw=new en("antRotate",{to:{transform:"rotate(405deg)"}}),yw=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},xi(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:vw,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:bw,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>`${t} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},xw=hs("Spin",e=>{const t=is(e,{spinDotDefault:e.colorTextDescription});return[yw(t)]},e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}}),Ow=[[30,.05],[70,.03],[96,.01]];let ww;const Sw=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:i=0,className:a,rootClassName:s,size:l="default",tip:c,wrapperClassName:u,style:d,children:h,fullscreen:f=!1,indicator:p,percent:m}=e,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:v,direction:b,className:y,style:x,indicator:O}=z("spin"),w=v("spin",n),[S,E,_]=xw(w),[C,k]=o.useState(()=>r&&!function(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}(r,i)),M=function(e,t){const[n,r]=o.useState(0),i=o.useRef(null),a="auto"===t;return o.useEffect(()=>(a&&e&&(r(0),i.current=setInterval(()=>{r(e=>{const t=100-e;for(let n=0;n<Ow.length;n+=1){const[r,o]=Ow[n];if(e<=r)return e+t*o}return e})},200)),()=>{clearInterval(i.current)}),[a,e]),a?n:t}(C,m);o.useEffect(()=>{if(r){const e=function(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,o=n||{},i=o.noTrailing,a=void 0!==i&&i,s=o.noLeading,l=void 0!==s&&s,c=o.debounceMode,u=void 0===c?void 0:c,d=!1,h=0;function f(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=this,c=Date.now()-h;function p(){h=Date.now(),t.apply(s,o)}function m(){r=void 0}d||(l||!u||r||p(),f(),void 0===u&&c>e?l?(h=Date.now(),a||(r=setTimeout(u?m:p,e))):p():!0!==a&&(r=setTimeout(u?m:p,void 0===u?e-c:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;f(),d=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}(i,()=>{k(!0)});return e(),()=>{var t;null===(t=null==e?void 0:e.cancel)||void 0===t||t.call(e)}}k(!1)},[i,r]);const T=o.useMemo(()=>void 0!==h&&!f,[h,f]),P=$r()(w,y,{[`${w}-sm`]:"small"===l,[`${w}-lg`]:"large"===l,[`${w}-spinning`]:C,[`${w}-show-text`]:!!c,[`${w}-rtl`]:"rtl"===b},a,!f&&s,E,_),R=$r()(`${w}-container`,{[`${w}-blur`]:C}),A=null!==(t=null!=p?p:O)&&void 0!==t?t:ww,$=Object.assign(Object.assign({},x),d),N=o.createElement("div",Object.assign({},g,{style:$,className:P,"aria-live":"polite","aria-busy":C}),o.createElement(gw,{prefixCls:w,indicator:A,percent:M}),c&&(T||f)?o.createElement("div",{className:`${w}-text`},c):null);return S(T?o.createElement("div",Object.assign({},g,{className:$r()(`${w}-nested-loading`,u,E,_)}),C&&o.createElement("div",{key:"loading"},N),o.createElement("div",{className:R,key:"container"},h)):f?o.createElement("div",{className:$r()(`${w}-fullscreen`,{[`${w}-fullscreen-show`]:C},s,E,_)},N):N)};Sw.setDefaultIndicator=e=>{ww=e};const Ew=Sw,_w=o.createContext({});_w.Consumer;function Cw(e){return"number"==typeof e?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const kw=["xs","sm","md","lg","xl","xxl"],Mw=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=o.useContext(I),{gutter:i,wrap:a}=o.useContext(Oy),{prefixCls:s,span:l,order:c,offset:u,push:d,pull:h,className:f,children:p,flex:m,style:g}=e,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),b=n("col",s),[y,x,O]=Id(b),w={};let S={};kw.forEach(t=>{let n={};const o=e[t];"number"==typeof o?n.span=o:"object"==typeof o&&(n=o||{}),delete v[t],S=Object.assign(Object.assign({},S),{[`${b}-${t}-${n.span}`]:void 0!==n.span,[`${b}-${t}-order-${n.order}`]:n.order||0===n.order,[`${b}-${t}-offset-${n.offset}`]:n.offset||0===n.offset,[`${b}-${t}-push-${n.push}`]:n.push||0===n.push,[`${b}-${t}-pull-${n.pull}`]:n.pull||0===n.pull,[`${b}-rtl`]:"rtl"===r}),n.flex&&(S[`${b}-${t}-flex`]=!0,w[`--${b}-${t}-flex`]=Cw(n.flex))});const E=$r()(b,{[`${b}-${l}`]:void 0!==l,[`${b}-order-${c}`]:c,[`${b}-offset-${u}`]:u,[`${b}-push-${d}`]:d,[`${b}-pull-${h}`]:h},f,S,x,O),_={};if(i&&i[0]>0){const e=i[0]/2;_.paddingLeft=e,_.paddingRight=e}return m&&(_.flex=Cw(m),!1!==a||_.minWidth||(_.minWidth=0)),y(o.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},_),g),w),className:E,ref:t}),p))}),Tw=Mw;var Pw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Rw=o.forwardRef((e,t)=>{const{prefixCls:n,children:r,actions:i,extra:a,styles:s,className:l,classNames:c,colStyle:u}=e,d=Pw(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:h,itemLayout:f}=(0,o.useContext)(_w),{getPrefixCls:p,list:m}=(0,o.useContext)(I),g=e=>{var t,n;return $r()(null===(n=null===(t=null==m?void 0:m.item)||void 0===t?void 0:t.classNames)||void 0===n?void 0:n[e],null==c?void 0:c[e])},v=e=>{var t,n;return Object.assign(Object.assign({},null===(n=null===(t=null==m?void 0:m.item)||void 0===t?void 0:t.styles)||void 0===n?void 0:n[e]),null==s?void 0:s[e])},b=p("list",n),y=i&&i.length>0&&o.createElement("ul",{className:$r()(`${b}-item-action`,g("actions")),key:"actions",style:v("actions")},i.map((e,t)=>o.createElement("li",{key:`${b}-item-action-${t}`},e,t!==i.length-1&&o.createElement("em",{className:`${b}-item-action-split`})))),x=h?"div":"li",O=o.createElement(x,Object.assign({},d,h?{}:{ref:t},{className:$r()(`${b}-item`,{[`${b}-item-no-flex`]:!("vertical"===f?a:!(()=>{let e=!1;return o.Children.forEach(r,t=>{"string"==typeof t&&(e=!0)}),e&&o.Children.count(r)>1})())},l)}),"vertical"===f&&a?[o.createElement("div",{className:`${b}-item-main`,key:"content"},r,y),o.createElement("div",{className:$r()(`${b}-item-extra`,g("extra")),key:"extra",style:v("extra")},a)]:[r,y,Xa(a,{key:"extra"})]);return h?o.createElement(Tw,{ref:t,flex:1,style:u},O):O}),Aw=Rw;Aw.Meta=e=>{var{prefixCls:t,className:n,avatar:r,title:i,description:a}=e,s=Pw(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:l}=(0,o.useContext)(I),c=l("list",t),u=$r()(`${c}-item-meta`,n),d=o.createElement("div",{className:`${c}-item-meta-content`},i&&o.createElement("h4",{className:`${c}-item-meta-title`},i),a&&o.createElement("div",{className:`${c}-item-meta-description`},a));return o.createElement("div",Object.assign({},s,{className:u}),r&&o.createElement("div",{className:`${c}-item-meta-avatar`},r),(i||a)&&d)};const $w=Aw,Nw=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:o,itemPaddingSM:i,itemPaddingLG:a,marginLG:s,borderRadiusLG:l}=e;return{[t]:{border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Le(o)} ${Le(s)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:i}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}}}},Iw=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:o,marginSM:i,margin:a}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${Le(a)}`}}}}}},Dw=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:o,paddingSM:i,marginLG:a,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:u,itemPaddingLG:d,paddingXS:h,margin:f,colorText:p,colorTextDescription:m,motionDurationSlow:g,lineWidth:v,headerBg:b,footerBg:y,emptyTextPadding:x,metaMarginBottom:O,avatarMarginRight:w,titleMarginBottom:S,descriptionFontSize:E}=e;return{[t]:Object.assign(Object.assign({},xi(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:b},[`${t}-footer`]:{background:y},[`${t}-header, ${t}-footer`]:{paddingBlock:i},[`${t}-pagination`]:{marginBlockStart:a,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:p,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:w},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:p},[`${t}-item-meta-title`]:{margin:`0 0 ${Le(e.marginXXS)} 0`,color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:p,transition:`all ${g}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:m,fontSize:E,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Le(h)}`,color:m,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:v,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${Le(s)} 0`,color:m,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:x,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:f,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:a},[`${t}-item-meta`]:{marginBlockEnd:O,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:S,color:p,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${Le(s)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:u},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Lw=hs("List",e=>{const t=is(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Dw(t),Nw(t),Iw(t)]},e=>({contentWidth:220,itemPadding:`${Le(e.paddingContentVertical)} 0`,itemPaddingSM:`${Le(e.paddingContentVerticalSM)} ${Le(e.paddingContentHorizontal)}`,itemPaddingLG:`${Le(e.paddingContentVerticalLG)} ${Le(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));function zw(e,t){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:a=!0,className:s,rootClassName:l,style:c,children:u,itemLayout:d,loadMore:h,grid:f,dataSource:p=[],size:m,header:g,footer:v,loading:b=!1,rowKey:y,renderItem:x,locale:O}=e,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),S=n&&"object"==typeof n?n:{},[E,_]=o.useState(S.defaultCurrent||1),[C,k]=o.useState(S.defaultPageSize||10),{getPrefixCls:M,direction:T,className:P,style:A}=z("list"),{renderEmpty:$}=o.useContext(I),N=e=>(t,r)=>{var o;_(t),k(r),n&&(null===(o=null==n?void 0:n[e])||void 0===o||o.call(n,t,r))},D=N("onChange"),L=N("onShowSizeChange"),j=(e,t)=>{if(!x)return null;let n;return n="function"==typeof y?y(e):y?e[y]:e.key,n||(n=`list-item-${t}`),o.createElement(o.Fragment,{key:n},x(e,t))},B=!!(h||n||v),F=M("list",r),[U,H,Q]=Lw(F);let V=b;"boolean"==typeof V&&(V={spinning:V});const W=!!(null==V?void 0:V.spinning);let G="";switch(Es(m)){case"large":G="lg";break;case"small":G="sm"}const X=$r()(F,{[`${F}-vertical`]:"vertical"===d,[`${F}-${G}`]:G,[`${F}-split`]:a,[`${F}-bordered`]:i,[`${F}-loading`]:W,[`${F}-grid`]:!!f,[`${F}-something-after-last-item`]:B,[`${F}-rtl`]:"rtl"===T},P,s,l,H,Q),q=Ju({current:1,total:0,position:"bottom"},{total:p.length,current:E,pageSize:C},n||{}),Z=Math.ceil(q.total/q.pageSize);q.current=Math.min(q.current,Z);const Y=n&&o.createElement("div",{className:$r()(`${F}-pagination`)},o.createElement(dw,Object.assign({align:"end"},q,{onChange:D,onShowSizeChange:L})));let K=R(p);n&&p.length>(q.current-1)*q.pageSize&&(K=R(p).splice((q.current-1)*q.pageSize,q.pageSize));const J=Object.keys(f||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),ee=xy(J),te=o.useMemo(()=>{for(let e=0;e<cy.length;e+=1){const t=cy[e];if(ee[t])return t}},[ee]),ne=o.useMemo(()=>{if(!f)return;const e=te&&f[te]?f[te]:f.column;return e?{width:100/e+"%",maxWidth:100/e+"%"}:void 0},[JSON.stringify(f),te]);let re=W&&o.createElement("div",{style:{minHeight:53}});if(K.length>0){const e=K.map(j);re=f?o.createElement(Ey,{gutter:f.gutter},o.Children.map(e,e=>o.createElement("div",{key:null==e?void 0:e.key,style:ne},e))):o.createElement("ul",{className:`${F}-items`},e)}else u||W||(re=o.createElement("div",{className:`${F}-empty-text`},(null==O?void 0:O.emptyText)||(null==$?void 0:$("List"))||o.createElement(yy,{componentName:"List"})));const oe=q.position,ie=o.useMemo(()=>({grid:f,itemLayout:d}),[JSON.stringify(f),d]);return U(o.createElement(_w.Provider,{value:ie},o.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},A),c),className:X},w),("top"===oe||"both"===oe)&&Y,g&&o.createElement("div",{className:`${F}-header`},g),o.createElement(Ew,Object.assign({},V),re,u),v&&o.createElement("div",{className:`${F}-footer`},v),h||("bottom"===oe||"both"===oe)&&Y)))}const jw=o.forwardRef(zw);jw.Item=$w;const Bw=jw;var Fw=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Uw=(0,o.forwardRef)(function(e,t){var n=e.prefixCls,r=void 0===n?"rc-checkbox":n,i=e.className,a=e.style,s=e.checked,l=e.disabled,c=e.defaultChecked,u=void 0!==c&&c,d=e.type,h=void 0===d?"checkbox":d,f=e.title,p=e.onChange,m=qr(e,Fw),g=(0,o.useRef)(null),v=(0,o.useRef)(null),b=Q(co(u,{value:s}),2),y=b[0],x=b[1];(0,o.useImperativeHandle)(t,function(){return{focus:function(e){var t;null===(t=g.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=g.current)||void 0===e||e.blur()},input:g.current,nativeElement:v.current}});var O=$r()(r,i,F(F({},"".concat(r,"-checked"),y),"".concat(r,"-disabled"),l));return o.createElement("span",{className:O,title:f,style:a,ref:v},o.createElement("input",et({},m,{className:"".concat(r,"-input"),ref:g,onChange:function(t){l||("checked"in e||x(t.target.checked),null==p||p({target:W(W({},e),{},{type:h,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:l,checked:!!y,type:h})),o.createElement("span",{className:"".concat(r,"-inner")}))});const Hw=Uw,Qw=o.createContext(null),Vw=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},xi(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},xi(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},xi(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},Oi(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Le(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Ww(e,t){const n=is(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Vw(n)]}const Gw=hs("Checkbox",(e,{prefixCls:t})=>[Ww(t,e)]);const Xw=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:a,children:s,indeterminate:l=!1,style:c,onMouseEnter:u,onMouseLeave:d,skipGroup:h=!1,disabled:f}=e,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:m,direction:g,checkbox:v}=o.useContext(I),b=o.useContext(Qw),{isFormItemInput:y}=o.useContext(qu),x=o.useContext(_r),O=null!==(n=(null==b?void 0:b.disabled)||f)&&void 0!==n?n:x,w=o.useRef(p.value),S=o.useRef(null),E=Qr(t,S);o.useEffect(()=>{null==b||b.registerValue(p.value)},[]),o.useEffect(()=>{if(!h)return p.value!==w.current&&(null==b||b.cancelValue(w.current),null==b||b.registerValue(p.value),w.current=p.value),()=>null==b?void 0:b.cancelValue(p.value)},[p.value]),o.useEffect(()=>{var e;(null===(e=S.current)||void 0===e?void 0:e.input)&&(S.current.input.indeterminate=l)},[l]);const _=m("checkbox",r),C=rd(_),[k,M,T]=Gw(_,C),P=Object.assign({},p);b&&!h&&(P.onChange=(...e)=>{p.onChange&&p.onChange.apply(p,e),b.toggleOption&&b.toggleOption({label:s,value:p.value})},P.name=b.name,P.checked=b.value.includes(p.value));const R=$r()(`${_}-wrapper`,{[`${_}-rtl`]:"rtl"===g,[`${_}-wrapper-checked`]:P.checked,[`${_}-wrapper-disabled`]:O,[`${_}-wrapper-in-form-item`]:y},null==v?void 0:v.className,i,a,T,C,M),A=$r()({[`${_}-indeterminate`]:l},vs,M),[$,N]=function(e){const t=o.useRef(null),n=()=>{Ho.cancel(t.current),t.current=null};return[()=>{n(),t.current=Ho(()=>{t.current=null})},r=>{t.current&&(r.stopPropagation(),n()),null==e||e(r)}]}(P.onClick);return k(o.createElement(Ss,{component:"Checkbox",disabled:O},o.createElement("label",{className:R,style:Object.assign(Object.assign({},null==v?void 0:v.style),c),onMouseEnter:u,onMouseLeave:d,onClick:$},o.createElement(Hw,Object.assign({},P,{onClick:N,prefixCls:_,className:A,disabled:O,ref:E})),null!=s&&o.createElement("span",{className:`${_}-label`},s))))},qw=o.forwardRef(Xw);const Zw=o.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:a,className:s,rootClassName:l,style:c,onChange:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:f}=o.useContext(I),[p,m]=o.useState(d.value||n||[]),[g,v]=o.useState([]);o.useEffect(()=>{"value"in d&&m(d.value||[])},[d.value]);const b=o.useMemo(()=>i.map(e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e),[i]),y=e=>{v(t=>t.filter(t=>t!==e))},x=e=>{v(t=>[].concat(R(t),[e]))},O=e=>{const t=p.indexOf(e.value),n=R(p);-1===t?n.push(e.value):n.splice(t,1),"value"in d||m(n),null==u||u(n.filter(e=>g.includes(e)).sort((e,t)=>b.findIndex(t=>t.value===e)-b.findIndex(e=>e.value===t)))},w=h("checkbox",a),S=`${w}-group`,E=rd(w),[_,C,k]=Gw(w,E),M=Va(d,["value","disabled"]),T=i.length?b.map(e=>o.createElement(qw,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:d.disabled,value:e.value,checked:p.includes(e.value),onChange:e.onChange,className:$r()(`${S}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):r,P=o.useMemo(()=>({toggleOption:O,value:p,disabled:d.disabled,name:d.name,registerValue:x,cancelValue:y}),[O,p,d.disabled,d.name,x,y]),A=$r()(S,{[`${S}-rtl`]:"rtl"===f},s,l,k,E,C);return _(o.createElement("div",Object.assign({className:A,style:c},M,{ref:t}),o.createElement(Qw.Provider,{value:P},T)))}),Yw=Zw,Kw=qw;Kw.Group=Yw,Kw.__ANT_CHECKBOX=!0;const Jw=Kw,eS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};var tS=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:eS}))};const nS=o.forwardRef(tS),rS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var oS=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:rS}))};const iS=o.forwardRef(oS),aS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"};var sS=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:aS}))};const lS=o.forwardRef(sS),cS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var uS=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:cS}))};const dS=o.forwardRef(uS);var hS=n(4367),fS={};fS.styleTagTransform=Wg(),fS.setAttributes=Ug(),fS.insert=Bg().bind(null,"head"),fS.domAPI=zg(),fS.insertStyleElement=Qg(),Dg()(hS.A,fS),hS.A&&hS.A.locals&&hS.A.locals;var pS=n(7196);function mS(e){return function(e){if(Array.isArray(e))return gS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vS(e){return vS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vS(e)}function bS(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return yS(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(yS(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,yS(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,yS(d,"constructor",c),yS(c,"constructor",l),l.displayName="GeneratorFunction",yS(c,o,"GeneratorFunction"),yS(d),yS(d,o,"Generator"),yS(d,r,function(){return this}),yS(d,"toString",function(){return"[object Generator]"}),(bS=function(){return{w:i,m:h}})()}function yS(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}yS=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){yS(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},yS(e,t,n,r)}function xS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function OS(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){xS(i,r,o,a,s,"next",e)}function s(e){xS(i,r,o,a,s,"throw",e)}a(void 0)})}}function wS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SS(r.key),r)}}function SS(e){var t=function(e){if("object"!=vS(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vS(t)?t:t+""}var ES=function(){return function(e,t){return t&&wS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this._lastEchoProc=null,this._lastGetTopicProc=null},[{key:"initialize",value:(s=OS(bS().m(function e(){return bS().w(function(e){for(;;)switch(e.n){case 0:if(!this.initialized){e.n=1;break}return e.a(2);case 1:this.initialized=!0;case 2:return e.a(2)}},e,this)})),function(){return s.apply(this,arguments)})},{key:"start",value:function(){var e=OS(bS().m(function e(){return bS().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initialize();case 1:return e.a(2)}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:(a=OS(bS().m(function e(){return bS().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return a.apply(this,arguments)})},{key:"getTopicList",value:(i=OS(bS().m(function e(){var t,n,r;return bS().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,pS.A.execute("ros2",["topic","list"],{onStdout:function(e){return(0,qg.log)("获取话题列表: ".concat(e),qg.LOG_TYPES.INFO)},onStderr:function(e){return(0,qg.log)("获取话题列表错误: ".concat(e),qg.LOG_TYPES.ERROR)}});case 1:if((t=e.v)&&"object"===vS(t)&&t.stdout){e.n=2;break}return(0,qg.log)("获取失败: ${result.stderr}",qg.LOG_TYPES.ERROR),e.a(2,[]);case 2:return n="string"==typeof t.stdout?t.stdout:String(t.stdout),e.a(2,n.split("\n").map(function(e){return e.trim()}).filter(function(e){return e}));case 3:return e.p=3,r=e.v,(0,qg.log)("获取话题列表失败: ".concat(r.message),qg.LOG_TYPES.ERROR),e.a(2,[])}},e,null,[[0,3]])})),function(){return i.apply(this,arguments)})},{key:"getTopicInfo",value:(o=OS(bS().m(function e(t){var n,r;return bS().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,pS.A.execute("ros2",["topic","info",t],{onStdout:function(e){return(0,qg.log)("获取话题信息: ".concat(e),qg.LOG_TYPES.INFO)},onStderr:function(e){return(0,qg.log)("获取话题信息错误: ".concat(e),qg.LOG_TYPES.ERROR)}});case 1:return n=e.v,e.a(2,n.stdout);case 2:throw e.p=2,r=e.v,(0,qg.log)("获取话题信息失败: ".concat(r.message),qg.LOG_TYPES.ERROR),r;case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return o.apply(this,arguments)})},{key:"getTopicFrameId",value:(r=OS(bS().m(function e(t){var n,r,o;return bS().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,pS.A.execute("ros2",["topic","echo",t,"--once"],{onStdout:function(e){return(0,qg.log)("获取话题数据: ".concat(e),qg.LOG_TYPES.INFO)},onStderr:function(e){return(0,qg.log)("获取话题数据错误: ".concat(e),qg.LOG_TYPES.ERROR)}});case 1:return n=e.v,r=n.stdout.match(/"frame_id":\s*"([^"]+)"/),e.a(2,r?r[1]:null);case 2:return e.p=2,o=e.v,(0,qg.log)("获取话题 frame_id 失败: ".concat(o.message),qg.LOG_TYPES.ERROR),e.a(2,null)}},e,null,[[0,2]])})),function(e){return r.apply(this,arguments)})},{key:"rosBagRecord",value:(n=OS(bS().m(function e(t,n,r,o){var i;return bS().w(function(e){for(;;)if(0===e.n)return i=["bag","record"].concat(mS(t),["--output",n]),e.a(2,new Promise(function(e,t){var n=!1,a=pS.A.execute("ros2",i,{onStdout:function(t){r&&r(t),!n&&t.includes("Recording...")&&(n=!0,a.then(function(t){return e(t.child)}))},onStderr:o,onError:t});a.catch(t)}))},e)})),function(e,t,r,o){return n.apply(this,arguments)})},{key:"stopRosBagRecord",value:function(e){if(e)try{e.kill("SIGINT"),(0,qg.log)("rosbag录制已停止",qg.LOG_TYPES.INFO)}catch(e){(0,qg.log)("停止rosbag录制失败: "+e.message,qg.LOG_TYPES.ERROR)}}},{key:"echoTopic",value:(t=OS(bS().m(function e(t){var n,r,o,i,a,s,l,c=this,u=arguments;return bS().w(function(e){for(;;)switch(e.n){case 0:if(n=u.length>1&&void 0!==u[1]&&u[1],r=u.length>2?u[2]:void 0,e.p=1,this._lastEchoProc){try{this._lastEchoProc.kill()}catch(e){}this._lastEchoProc=null}if(o=["topic","echo",t],!n){e.n=3;break}return o.push("--once"),i="",e.n=2,pS.A.execute("ros2",o,{onStdout:function(e){i+=e,r&&r(e)},onError:function(e){console.error("获取话题数据失败: ".concat(e.message))},onStderr:function(e){console.error("获取话题数据失败: ".concat(e.message))}});case 2:return(a=e.v).then(function(e){c._lastEchoProc=e.child}),e.a(2,new Promise(function(e,t){a.then(function(){return e(i)}).catch(t)}));case 3:return s=pS.A.executeFlow("ros2",o,{onStdout:r,onError:function(e){console.error("获取话题数据失败: ".concat(e.message))},onStderr:function(e){console.error("获取话题数据失败: ".concat(e.message))}}),this._lastEchoProc=s,e.a(2,s);case 4:e.n=6;break;case 5:return e.p=5,l=e.v,(0,qg.log)("获取话题数据失败: ".concat(l.message),qg.LOG_TYPES.ERROR),e.a(2,null);case 6:return e.a(2)}},e,this,[[1,5]])})),function(e){return t.apply(this,arguments)})},{key:"getTopic",value:(e=OS(bS().m(function e(t,n,r){var o,i,a,s,l=this;return bS().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,this._lastGetTopicProc){try{this._lastGetTopicProc.kill()}catch(e){}this._lastGetTopicProc=null}return o=["topic",n,t],i="",e.n=1,pS.A.execute("ros2",o,{onStdout:function(e){i+=e,r&&r(e)},onError:function(e){console.error("获取话题数据失败: ".concat(e.message))},onStderr:function(e){console.error("获取话题数据失败: ".concat(e.message))}});case 1:return(a=e.v).then(function(e){l._lastGetTopicProc=e.child}),e.a(2,new Promise(function(e,t){a.then(function(){return e(i)}).catch(t)}));case 2:return e.p=2,s=e.v,(0,qg.log)("获取话题数据失败: ".concat(s.message),qg.LOG_TYPES.ERROR),e.a(2,null)}},e,this,[[0,2]])})),function(t,n,r){return e.apply(this,arguments)})}]);var e,t,n,r,o,i,a,s}();const _S=new ES;var CS=n(6928),kS=n.n(CS),MS=n(975),TS=n.n(MS);function PS(e){return function(e){if(Array.isArray(e))return LS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||DS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RS(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return AS(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(AS(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,AS(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,AS(d,"constructor",c),AS(c,"constructor",l),l.displayName="GeneratorFunction",AS(c,o,"GeneratorFunction"),AS(d),AS(d,o,"Generator"),AS(d,r,function(){return this}),AS(d,"toString",function(){return"[object Generator]"}),(RS=function(){return{w:i,m:h}})()}function AS(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}AS=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){AS(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},AS(e,t,n,r)}function $S(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function NS(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){$S(i,r,o,a,s,"next",e)}function s(e){$S(i,r,o,a,s,"throw",e)}a(void 0)})}}function IS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||DS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DS(e,t){if(e){if("string"==typeof e)return LS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LS(e,t):void 0}}function LS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const zS=function(e){var t=e.visible,n=e.onClose,r=IS((0,o.useState)([]),2),i=r[0],a=r[1],s=IS((0,o.useState)(""),2),l=s[0],c=s[1],u=IS((0,o.useState)(null),2),d=u[0],h=u[1],f=IS((0,o.useState)(null),2),p=f[0],m=f[1],g=IS((0,o.useState)(!1),2),v=g[0],b=g[1],y=IS((0,o.useState)(!1),2),x=y[0],O=y[1],w=IS((0,o.useState)([]),2),S=w[0],E=w[1],_=IS((0,o.useState)(""),2),C=_[0],k=_[1],M=IS((0,o.useState)(!1),2),T=M[0],P=M[1],R=(0,o.useRef)(null),A=function(){var e=NS(RS().m(function e(){var t,n;return RS().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,_S.getTopicList();case 1:t=e.v,a(t),e.n=3;break;case 2:e.p=2,n=e.v,Pv.error("获取话题列表失败: ".concat(n.message));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),$=i.filter(function(e){return e.toLowerCase().includes(l.toLowerCase())});(0,o.useEffect)(function(){t&&A()},[t]);var N=function(){var e=NS(RS().m(function e(){var t,n,r;return RS().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return Pv.warning("请选择保存路径"),e.a(2);case 1:if(S.length){e.n=2;break}return Pv.warning("请至少选择一个话题"),e.a(2);case 2:return t=["bag","record"].concat(PS(S),["--output",C]),e.p=3,n=pS.A.execute("ros2",t,{onStdout:function(e){return Pv.info(e)},onStderr:function(e){return Pv.error(e)}}),e.n=4,n;case 4:R.current=e.v.child,P(!0),O(!1),Pv.success("开始录制"),(0,qg.log)("开始录制: ".concat(C),qg.LOG_TYPES.SUCCESS),e.n=6;break;case 5:e.p=5,r=e.v,Pv.error("录制启动失败: "+r.message),(0,qg.log)("录制启动失败: ".concat(r.message),qg.LOG_TYPES.ERROR);case 6:return e.a(2)}},e,null,[[3,5]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=NS(RS().m(function e(){var t,n,r,o,i,a,s,l;return RS().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,t=window.require("@electron/remote"),n=t.dialog,e.n=1,n.showOpenDialog({properties:["openDirectory"]});case 1:!(r=e.v).canceled&&r.filePaths&&r.filePaths[0]&&(o=new Date,i="".concat(o.getMonth()+1).concat(o.getDate(),"_").concat(o.getHours()).concat(o.getMinutes()).concat(o.getSeconds()),a="rosbag_".concat(i,".bag"),s=kS().join(r.filePaths[0],a),k(s)),e.n=3;break;case 2:e.p=2,l=e.v,Pv.error("选择目录失败："+l.message);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return o.createElement(Dh,{open:t,onCancel:n,width:600,footer:null,className:"ros-topic-manager-modal",maskClosable:!0,styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},title:"话题管理"},o.createElement("div",{className:"ros-topic-manager",onClick:function(){return d&&h(null)},onContextMenu:function(e){d&&e.target.classList.contains("ros-topic-manager")&&h(null)}},o.createElement("div",{className:"ros-topic-manager-toolbar"},o.createElement(Hl,{icon:o.createElement(nS,null),onClick:A,title:"刷新话题列表",className:"ros-topic-manager-toolbar-btn"}),o.createElement(Hl,{icon:T?o.createElement(iS,null):o.createElement(lS,null),onClick:function(){if(T){if(R.current)try{R.current.kill("SIGINT"),P(!1),Pv.success("录制已停止")}catch(e){Pv.error("停止录制失败")}}else O(!0)},title:T?"停止录制":"录制",className:"ros-topic-manager-toolbar-btn".concat(T?" recording":""),danger:T}),o.createElement("div",{className:"ros-topic-manager-search-wrapper".concat(v?" open":"")},o.createElement(Vb,{className:"ros-topic-manager-search-icon",onClick:function(){return b(!v)}}),v&&o.createElement(ly,{placeholder:"搜索话题...",value:l,onChange:function(e){return c(e.target.value)},className:"ros-topic-manager-search-input",onBlur:function(){return b(!1)},autoFocus:!0}))),x&&!T&&o.createElement("div",{className:"ros-topic-manager-inline-record"},o.createElement("div",{className:"ros-topic-manager-inline-record-path"},o.createElement(ly,{placeholder:"保存路径，如 /tmp/rosbag",value:C,onChange:function(e){return k(e.target.value)},className:"ros-topic-manager-record-path-input",style:{width:260}}),o.createElement(Hl,{icon:o.createElement(dS,null),onClick:I,style:{marginLeft:8}})),o.createElement("div",{className:"ros-topic-manager-inline-record-actions"},o.createElement(Hl,{type:"primary",onClick:N,style:{marginRight:12}},"确认录制"),o.createElement(Hl,{onClick:function(){O(!1),E([]),k("")}},"取消"))),o.createElement("div",{className:"ros-topic-manager-list-wrapper"},o.createElement(Bw,{className:"ros-topic-manager-list",dataSource:$,renderItem:function(e){return x&&!T?o.createElement(Bw.Item,{className:"ros-topic-manager-list-item"},o.createElement(Jw,{checked:S.includes(e),onChange:function(t){t.target.checked?E([].concat(PS(S),[e])):E(S.filter(function(t){return t!==e}))}},e)):o.createElement(Bw.Item,{onContextMenu:function(t){return function(e,t){e.preventDefault(),m(t),h({x:e.clientX,y:e.clientY})}(t,e)},className:"ros-topic-manager-list-item"},e)}})),d&&o.createElement(Ng,{style:{position:"fixed",left:d.x,top:d.y,zIndex:1e3,background:"#2d2d2d",border:"1px solid #444",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},items:[{key:"view",label:"查看",style:{color:"#fff"}},{key:"copy",label:"复制",style:{color:"#fff"}}],onClick:function(e){var t=e.key;if(p){switch(t){case"view":n=p,TS().openViewer(800,600,"show_topic",{topic:n});break;case"copy":!function(e){navigator.clipboard.writeText(e).then(function(){return Pv.success("话题名称已复制到剪贴板")},function(){return Pv.error("复制失败")})}(p)}var n;h(null)}},onContextMenu:function(e){return e.stopPropagation()}})))},jS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var BS=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:jS}))};const FS=o.forwardRef(BS),US=(0,o.createContext)(null);var HS={width:0,height:0,left:0,top:0};function QS(e,t){var n=o.useRef(e),r=Q(o.useState({}),2)[1];return[n.current,function(e){var o="function"==typeof e?e(n.current):e;o!==n.current&&t(o,n.current),n.current=o,r({})}]}var VS=Math.pow(.995,20);function WS(e){var t=Q((0,o.useState)(0),2),n=t[0],r=t[1],i=(0,o.useRef)(0),a=(0,o.useRef)();return a.current=e,Qe(function(){var e;null===(e=a.current)||void 0===e||e.call(a)},[n]),function(){i.current===n&&(i.current+=1,r(i.current))}}var GS={width:0,height:0,left:0,top:0,right:0};function XS(e){var t;return e instanceof Map?(t={},e.forEach(function(e,n){t[n]=e})):t=e,JSON.stringify(t)}function qS(e){return String(e).replace(/"/g,"TABS_DQ")}function ZS(e,t,n,r){return!(!n||r||!1===e||void 0===e&&(!1===t||null===t))}var YS=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,a=e.style;return r&&!1!==r.showAdd?o.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null==i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null});const KS=YS;var JS=o.forwardRef(function(e,t){var n,r=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var s={};return"object"!==j(a)||o.isValidElement(a)?s.right=a:s=a,"right"===r&&(n=s.right),"left"===r&&(n=s.left),n?o.createElement("div",{className:"".concat(i,"-extra-content"),ref:t},n):null});const eE=JS;var tE=fc.ESC,nE=fc.TAB;const rE=(0,o.forwardRef)(function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,a=(0,o.useMemo)(function(){return"function"==typeof n?n():n},[n]),s=Qr(t,Xr(a));return o.createElement(o.Fragment,null,r&&o.createElement("div",{className:"".concat(i,"-arrow")}),o.cloneElement(a,{ref:Wr(a)?s:void 0}))});var oE={adjustX:1,adjustY:1},iE=[0,0];const aE={topLeft:{points:["bl","tl"],overflow:oE,offset:[0,-4],targetOffset:iE},top:{points:["bc","tc"],overflow:oE,offset:[0,-4],targetOffset:iE},topRight:{points:["br","tr"],overflow:oE,offset:[0,-4],targetOffset:iE},bottomLeft:{points:["tl","bl"],overflow:oE,offset:[0,4],targetOffset:iE},bottom:{points:["tc","bc"],overflow:oE,offset:[0,4],targetOffset:iE},bottomRight:{points:["tr","br"],overflow:oE,offset:[0,4],targetOffset:iE}};var sE=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function lE(e,t){var n,r=e.arrow,i=void 0!==r&&r,a=e.prefixCls,s=void 0===a?"rc-dropdown":a,l=e.transitionName,c=e.animation,u=e.align,d=e.placement,h=void 0===d?"bottomLeft":d,f=e.placements,p=void 0===f?aE:f,m=e.getPopupContainer,g=e.showAction,v=e.hideAction,b=e.overlayClassName,y=e.overlayStyle,x=e.visible,O=e.trigger,w=void 0===O?["hover"]:O,S=e.autoFocus,E=e.overlay,_=e.children,C=e.onVisibleChange,k=qr(e,sE),M=Q(o.useState(),2),T=M[0],P=M[1],R="visible"in e?x:T,A=o.useRef(null),$=o.useRef(null),N=o.useRef(null);o.useImperativeHandle(t,function(){return A.current});var I=function(e){P(e),null==C||C(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,a=e.overlayRef,s=o.useRef(!1),l=function(){var e,o;t&&(null===(e=n.current)||void 0===e||null===(o=e.focus)||void 0===o||o.call(e),null==r||r(!1))},c=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus||(a.current.focus(),s.current=!0,0))},u=function(e){switch(e.keyCode){case tE:l();break;case nE:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};o.useEffect(function(){return t?(window.addEventListener("keydown",u),i&&Ho(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}},[t])}({visible:R,triggerRef:N,onVisibleChange:I,autoFocus:S,overlayRef:$});var D,L,z,j=function(){return o.createElement(rE,{ref:$,overlay:E,prefixCls:s,arrow:i})},B=o.cloneElement(_,{className:$r()(null===(n=_.props)||void 0===n?void 0:n.className,R&&(D=e.openClassName,void 0!==D?D:"".concat(s,"-open"))),ref:Wr(_)?Qr(N,Xr(_)):void 0}),U=v;return U||-1===w.indexOf("contextMenu")||(U=["click"]),o.createElement(Jp,et({builtinPlacements:p},k,{prefixCls:s,ref:A,popupClassName:$r()(b,F({},"".concat(s,"-show-arrow"),i)),popupStyle:y,action:w,showAction:g,hideAction:U,popupPlacement:h,popupAlign:u,popupTransitionName:l,popupAnimation:c,popupVisible:R,stretch:(L=e.minOverlayWidthMatchTrigger,z=e.alignPoint,("minOverlayWidthMatchTrigger"in e?L:!z)?"minWidth":""),popup:"function"==typeof E?j:j(),onPopupVisibleChange:I,onPopupClick:function(t){var n=e.onOverlayClick;P(!1),n&&n(t)},getPopupContainer:m}),B)}const cE=o.forwardRef(lE);var uE=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,a=e.locale,s=e.mobile,l=e.more,c=void 0===l?{}:l,u=e.style,d=e.className,h=e.editable,f=e.tabBarGutter,p=e.rtl,m=e.removeAriaLabel,g=e.onTabClick,v=e.getPopupContainer,b=e.popupClassName,y=Q((0,o.useState)(!1),2),x=y[0],O=y[1],w=Q((0,o.useState)(null),2),S=w[0],E=w[1],_=c.icon,C=void 0===_?"More":_,k="".concat(r,"-more-popup"),M="".concat(n,"-dropdown"),T=null!==S?"".concat(k,"-").concat(S):null,P=null==a?void 0:a.dropdownAriaLabel,R=o.createElement(Sm,{onClick:function(e){var t=e.key,n=e.domEvent;g(t,n),O(!1)},prefixCls:"".concat(M,"-menu"),id:k,tabIndex:-1,role:"listbox","aria-activedescendant":T,selectedKeys:[S],"aria-label":void 0!==P?P:"expanded dropdown"},i.map(function(e){var t=e.closable,n=e.disabled,i=e.closeIcon,a=e.key,s=e.label,l=ZS(t,i,h,n);return o.createElement(Sp,{key:a,id:"".concat(k,"-").concat(a),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(a),disabled:n},o.createElement("span",null,s),l&&o.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(M,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),h.onEdit("remove",{key:t,event:e})}(e,a)}},i||h.removeIcon||"×"))}));function A(e){for(var t=i.filter(function(e){return!e.disabled}),n=t.findIndex(function(e){return e.key===S})||0,r=t.length,o=0;o<r;o+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void E(a.key)}}(0,o.useEffect)(function(){var e=document.getElementById(T);e&&e.scrollIntoView&&e.scrollIntoView(!1)},[S]),(0,o.useEffect)(function(){x||E(null)},[x]);var $=F({},p?"marginRight":"marginLeft",f);i.length||($.visibility="hidden",$.order=1);var N=$r()(F({},"".concat(M,"-rtl"),p)),I=s?null:o.createElement(cE,et({prefixCls:M,overlay:R,visible:!!i.length&&x,onVisibleChange:O,overlayClassName:$r()(N,b),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:v},c),o.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:$,"aria-haspopup":"listbox","aria-controls":k,id:"".concat(r,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case fc.UP:A(-1),e.preventDefault();break;case fc.DOWN:A(1),e.preventDefault();break;case fc.ESC:O(!1);break;case fc.SPACE:case fc.ENTER:null!==S&&g(S,e)}else[fc.DOWN,fc.SPACE,fc.ENTER].includes(t)&&(O(!0),e.preventDefault())}},C));return o.createElement("div",{className:$r()("".concat(n,"-nav-operations"),d),style:u,ref:t},I,o.createElement(KS,{prefixCls:n,locale:a,editable:h}))});const dE=o.memo(uE,function(e,t){return t.tabMoving}),hE=function(e){var t=e.prefixCls,n=e.id,r=e.active,i=e.focus,a=e.tab,s=a.key,l=a.label,c=a.disabled,u=a.closeIcon,d=a.icon,h=e.closable,f=e.renderWrapper,p=e.removeAriaLabel,m=e.editable,g=e.onClick,v=e.onFocus,b=e.onBlur,y=e.onKeyDown,x=e.onMouseDown,O=e.onMouseUp,w=e.style,S=e.tabCount,E=e.currentPosition,_="".concat(t,"-tab"),C=ZS(h,u,m,c);function k(e){c||g(e)}var M=o.useMemo(function(){return d&&"string"==typeof l?o.createElement("span",null,l):l},[l,d]),T=o.useRef(null);o.useEffect(function(){i&&T.current&&T.current.focus()},[i]);var P=o.createElement("div",{key:s,"data-node-key":qS(s),className:$r()(_,F(F(F(F({},"".concat(_,"-with-remove"),C),"".concat(_,"-active"),r),"".concat(_,"-disabled"),c),"".concat(_,"-focus"),i)),style:w,onClick:k},o.createElement("div",{ref:T,role:"tab","aria-selected":r,id:n&&"".concat(n,"-tab-").concat(s),className:"".concat(_,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:r?0:-1,onClick:function(e){e.stopPropagation(),k(e)},onKeyDown:y,onMouseDown:x,onMouseUp:O,onFocus:v,onBlur:b},i&&o.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(E," of ").concat(S)),d&&o.createElement("span",{className:"".concat(_,"-icon")},d),l&&M),C&&o.createElement("button",{type:"button",role:"tab","aria-label":p||"remove",tabIndex:r?0:-1,className:"".concat(_,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),m.onEdit("remove",{key:s,event:t})}},u||m.removeIcon||"×"));return f?f(P):P};var fE=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,o=t.offsetHeight,i=void 0===o?0:o;if(e.current){var a=e.current.getBoundingClientRect(),s=a.width,l=a.height;if(Math.abs(s-r)<1)return[s,l]}return[r,i]},pE=function(e,t){return e[t?0:1]},mE=o.forwardRef(function(e,t){var n,r,i,a,s,l=e.className,c=e.style,u=e.id,d=e.animated,h=e.activeKey,f=e.rtl,p=e.extra,m=e.editable,g=e.locale,v=e.tabPosition,b=e.tabBarGutter,y=e.children,x=e.onTabClick,O=e.onTabScroll,w=e.indicator,S=o.useContext(US),E=S.prefixCls,_=S.tabs,C=(0,o.useRef)(null),k=(0,o.useRef)(null),M=(0,o.useRef)(null),T=(0,o.useRef)(null),P=(0,o.useRef)(null),A=(0,o.useRef)(null),$=(0,o.useRef)(null),N="top"===v||"bottom"===v,I=QS(0,function(e,t){N&&O&&O({direction:e>t?"left":"right"})}),D=Q(I,2),L=D[0],z=D[1],j=QS(0,function(e,t){!N&&O&&O({direction:e>t?"top":"bottom"})}),B=Q(j,2),U=B[0],H=B[1],V=Q((0,o.useState)([0,0]),2),G=V[0],X=V[1],q=Q((0,o.useState)([0,0]),2),Z=q[0],Y=q[1],K=Q((0,o.useState)([0,0]),2),J=K[0],ee=K[1],te=Q((0,o.useState)([0,0]),2),ne=te[0],re=te[1],oe=(n=new Map,r=(0,o.useRef)([]),i=Q((0,o.useState)({}),2)[1],a=(0,o.useRef)("function"==typeof n?n():n),s=WS(function(){var e=a.current;r.current.forEach(function(t){e=t(e)}),r.current=[],a.current=e,i({})}),[a.current,function(e){r.current.push(e),s()}]),ie=Q(oe,2),ae=ie[0],se=ie[1],le=function(e,t,n){return(0,o.useMemo)(function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||HS,i=o.left+o.width,a=0;a<e.length;a+=1){var s,l=e[a].key,c=t.get(l);c||(c=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||HS);var u=r.get(l)||W({},c);u.right=i-u.left-u.width,r.set(l,u)}return r},[e.map(function(e){return e.key}).join("_"),t,n])}(_,ae,Z[0]),ce=pE(G,N),ue=pE(Z,N),de=pE(J,N),he=pE(ne,N),fe=Math.floor(ce)<Math.floor(ue+de),pe=fe?ce-he:ce-de,me="".concat(E,"-nav-operations-hidden"),ge=0,ve=0;function be(e){return e<ge?ge:e>ve?ve:e}N&&f?(ge=0,ve=Math.max(0,ue-pe)):(ge=Math.min(0,pe-ue),ve=0);var ye=(0,o.useRef)(null),xe=Q((0,o.useState)(),2),Oe=xe[0],we=xe[1];function Se(){we(Date.now())}function Ee(){ye.current&&clearTimeout(ye.current)}!function(e,t){var n=Q((0,o.useState)(),2),r=n[0],i=n[1],a=Q((0,o.useState)(0),2),s=a[0],l=a[1],c=Q((0,o.useState)(0),2),u=c[0],d=c[1],h=Q((0,o.useState)(),2),f=h[0],p=h[1],m=(0,o.useRef)(),g=(0,o.useRef)(),v=(0,o.useRef)(null);v.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;i({x:n,y:r}),window.clearInterval(m.current)},onTouchMove:function(e){if(r){var n=e.touches[0],o=n.screenX,a=n.screenY;i({x:o,y:a});var c=o-r.x,u=a-r.y;t(c,u);var h=Date.now();l(h),d(h-s),p({x:c,y:u})}},onTouchEnd:function(){if(r&&(i(null),p(null),f)){var e=f.x/u,n=f.y/u,o=Math.abs(e),a=Math.abs(n);if(Math.max(o,a)<.1)return;var s=e,l=n;m.current=window.setInterval(function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(m.current):t(20*(s*=VS),20*(l*=VS))},20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),a=Math.abs(r);i===a?o="x"===g.current?n:r:i>a?(o=n,g.current="x"):(o=r,g.current="y"),t(-o,-o)&&e.preventDefault()}},o.useEffect(function(){function t(e){v.current.onTouchMove(e)}function n(e){v.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),e.current.addEventListener("touchstart",function(e){v.current.onTouchStart(e)},{passive:!0}),e.current.addEventListener("wheel",function(e){v.current.onWheel(e)},{passive:!1}),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}},[])}(T,function(e,t){function n(e,t){e(function(e){return be(e+t)})}return!!fe&&(N?n(z,e):n(H,t),Ee(),Se(),!0)}),(0,o.useEffect)(function(){return Ee(),Oe&&(ye.current=setTimeout(function(){we(0)},100)),Ee},[Oe]);var _e=function(e,t,n,r,i,a,s){var l,c,u,d=s.tabs,h=s.tabPosition,f=s.rtl;return["top","bottom"].includes(h)?(l="width",c=f?"right":"left",u=Math.abs(n)):(l="height",c="top",u=-n),(0,o.useMemo)(function(){if(!d.length)return[0,0];for(var n=d.length,r=n,o=0;o<n;o+=1){var i=e.get(d[o].key)||GS;if(Math.floor(i[c]+i[l])>Math.floor(u+t)){r=o-1;break}}for(var a=0,s=n-1;s>=0;s-=1)if((e.get(d[s].key)||GS)[c]<u){a=s+1;break}return a>=r?[0,0]:[a,r]},[e,t,r,i,a,u,h,d.map(function(e){return e.key}).join("_"),f])}(le,pe,N?L:U,ue,de,he,W(W({},e),{},{tabs:_})),Ce=Q(_e,2),ke=Ce[0],Me=Ce[1],Te=ao(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=le.get(e)||{width:0,height:0,left:0,right:0,top:0};if(N){var n=L;f?t.right<L?n=t.right:t.right+t.width>L+pe&&(n=t.right+t.width-pe):t.left<-L?n=-t.left:t.left+t.width>-L+pe&&(n=-(t.left+t.width-pe)),H(0),z(be(n))}else{var r=U;t.top<-U?r=-t.top:t.top+t.height>-U+pe&&(r=-(t.top+t.height-pe)),z(0),H(be(r))}}),Pe=Q((0,o.useState)(),2),Re=Pe[0],Ae=Pe[1],$e=Q((0,o.useState)(!1),2),Ne=$e[0],Ie=$e[1],De=_.filter(function(e){return!e.disabled}).map(function(e){return e.key}),Le=function(e){var t=De.indexOf(Re||h),n=De.length,r=De[(t+e+n)%n];Ae(r)},ze=function(e){var t=e.code,n=f&&N,r=De[0],o=De[De.length-1];switch(t){case"ArrowLeft":N&&Le(n?1:-1);break;case"ArrowRight":N&&Le(n?-1:1);break;case"ArrowUp":e.preventDefault(),N||Le(-1);break;case"ArrowDown":e.preventDefault(),N||Le(1);break;case"Home":e.preventDefault(),Ae(r);break;case"End":e.preventDefault(),Ae(o);break;case"Enter":case"Space":e.preventDefault(),x(null!=Re?Re:h,e);break;case"Backspace":case"Delete":var i=De.indexOf(Re),a=_.find(function(e){return e.key===Re});ZS(null==a?void 0:a.closable,null==a?void 0:a.closeIcon,m,null==a?void 0:a.disabled)&&(e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:Re,event:e}),i===De.length-1?Le(-1):Le(1))}},je={};N?je[f?"marginRight":"marginLeft"]=b:je.marginTop=b;var Be=_.map(function(e,t){var n=e.key;return o.createElement(hE,{id:u,prefixCls:E,key:n,tab:e,style:0===t?void 0:je,closable:e.closable,editable:m,active:n===h,focus:n===Re,renderWrapper:y,removeAriaLabel:null==g?void 0:g.removeAriaLabel,tabCount:De.length,currentPosition:t+1,onClick:function(e){x(n,e)},onKeyDown:ze,onFocus:function(){Ne||Ae(n),Te(n),Se(),T.current&&(f||(T.current.scrollLeft=0),T.current.scrollTop=0)},onBlur:function(){Ae(void 0)},onMouseDown:function(){Ie(!0)},onMouseUp:function(){Ie(!1)}})}),Fe=function(){return se(function(){var e,t=new Map,n=null===(e=P.current)||void 0===e?void 0:e.getBoundingClientRect();return _.forEach(function(e){var r,o=e.key,i=null===(r=P.current)||void 0===r?void 0:r.querySelector('[data-node-key="'.concat(qS(o),'"]'));if(i){var a=function(e,t){var n=e.offsetWidth,r=e.offsetHeight,o=e.offsetTop,i=e.offsetLeft,a=e.getBoundingClientRect(),s=a.width,l=a.height,c=a.left,u=a.top;return Math.abs(s-n)<1?[s,l,c-t.left,u-t.top]:[n,r,i,o]}(i,n),s=Q(a,4),l=s[0],c=s[1],u=s[2],d=s[3];t.set(o,{width:l,height:c,left:u,top:d})}}),t})};(0,o.useEffect)(function(){Fe()},[_.map(function(e){return e.key}).join("_")]);var Ue=WS(function(){var e=fE(C),t=fE(k),n=fE(M);X([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=fE($);ee(r);var o=fE(A);re(o);var i=fE(P);Y([i[0]-r[0],i[1]-r[1]]),Fe()}),He=_.slice(0,ke),Qe=_.slice(Me+1),Ve=[].concat(R(He),R(Qe)),We=le.get(h),Ge=function(e){var t=e.activeTabOffset,n=e.horizontal,r=e.rtl,i=e.indicator,a=void 0===i?{}:i,s=a.size,l=a.align,c=void 0===l?"center":l,u=Q((0,o.useState)(),2),d=u[0],h=u[1],f=(0,o.useRef)(),p=o.useCallback(function(e){return"function"==typeof s?s(e):"number"==typeof s?s:e},[s]);function m(){Ho.cancel(f.current)}return(0,o.useEffect)(function(){var e={};if(t)if(n){e.width=p(t.width);var o=r?"right":"left";"start"===c&&(e[o]=t[o]),"center"===c&&(e[o]=t[o]+t.width/2,e.transform=r?"translateX(50%)":"translateX(-50%)"),"end"===c&&(e[o]=t[o]+t.width,e.transform="translateX(-100%)")}else e.height=p(t.height),"start"===c&&(e.top=t.top),"center"===c&&(e.top=t.top+t.height/2,e.transform="translateY(-50%)"),"end"===c&&(e.top=t.top+t.height,e.transform="translateY(-100%)");return m(),f.current=Ho(function(){var t=d&&e&&Object.keys(e).every(function(t){var n=e[t],r=d[t];return"number"==typeof n&&"number"==typeof r?Math.round(n)===Math.round(r):n===r});t||h(e)}),m},[JSON.stringify(t),n,r,c,p]),{style:d}}({activeTabOffset:We,horizontal:N,indicator:w,rtl:f}).style;(0,o.useEffect)(function(){Te()},[h,ge,ve,XS(We),XS(le),N]),(0,o.useEffect)(function(){Ue()},[f]);var Xe,qe,Ze,Ye,Ke=!!Ve.length,Je="".concat(E,"-nav-wrap");return N?f?(qe=L>0,Xe=L!==ve):(Xe=L<0,qe=L!==ge):(Ze=U<0,Ye=U!==ge),o.createElement(ff,{onResize:Ue},o.createElement("div",{ref:Vr(t,C),role:"tablist","aria-orientation":N?"horizontal":"vertical",className:$r()("".concat(E,"-nav"),l),style:c,onKeyDown:function(){Se()}},o.createElement(eE,{ref:k,position:"left",extra:p,prefixCls:E}),o.createElement(ff,{onResize:Ue},o.createElement("div",{className:$r()(Je,F(F(F(F({},"".concat(Je,"-ping-left"),Xe),"".concat(Je,"-ping-right"),qe),"".concat(Je,"-ping-top"),Ze),"".concat(Je,"-ping-bottom"),Ye)),ref:T},o.createElement(ff,{onResize:Ue},o.createElement("div",{ref:P,className:"".concat(E,"-nav-list"),style:{transform:"translate(".concat(L,"px, ").concat(U,"px)"),transition:Oe?"none":void 0}},Be,o.createElement(KS,{ref:$,prefixCls:E,locale:g,editable:m,style:W(W({},0===Be.length?void 0:je),{},{visibility:Ke?"hidden":null})}),o.createElement("div",{className:$r()("".concat(E,"-ink-bar"),F({},"".concat(E,"-ink-bar-animated"),d.inkBar)),style:Ge}))))),o.createElement(dE,et({},e,{removeAriaLabel:null==g?void 0:g.removeAriaLabel,ref:A,prefixCls:E,tabs:Ve,className:!Ke&&me,tabMoving:!!Oe})),o.createElement(eE,{ref:M,position:"right",extra:p,prefixCls:E})))});const gE=mE;var vE=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.id,s=e.active,l=e.tabKey,c=e.children;return o.createElement("div",{id:a&&"".concat(a,"-panel-").concat(l),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(l),"aria-hidden":!s,style:i,className:$r()(n,s&&"".concat(n,"-active"),r),ref:t},c)});const bE=vE;var yE=["renderTabBar"],xE=["label","key"];const OE=function(e){var t=e.renderTabBar,n=qr(e,yE),r=o.useContext(US).tabs;return t?t(W(W({},n),{},{panes:r.map(function(e){var t=e.label,n=e.key,r=qr(e,xE);return o.createElement(bE,et({tab:t,key:n,tabKey:n},r))})}),gE):o.createElement(gE,n)};var wE=["key","forceRender","style","className","destroyInactiveTabPane"];const SE=function(e){var t=e.id,n=e.activeKey,r=e.animated,i=e.tabPosition,a=e.destroyInactiveTabPane,s=o.useContext(US),l=s.prefixCls,c=s.tabs,u=r.tabPane,d="".concat(l,"-tabpane");return o.createElement("div",{className:$r()("".concat(l,"-content-holder"))},o.createElement("div",{className:$r()("".concat(l,"-content"),"".concat(l,"-content-").concat(i),F({},"".concat(l,"-content-animated"),u))},c.map(function(e){var i=e.key,s=e.forceRender,l=e.style,c=e.className,h=e.destroyInactiveTabPane,f=qr(e,wE),p=i===n;return o.createElement(ai,et({key:i,visible:p,forceRender:s,removeOnLeave:!(!a&&!h),leavedClassName:"".concat(d,"-hidden")},r.tabPaneMotion),function(e,n){var r=e.style,a=e.className;return o.createElement(bE,et({},f,{prefixCls:d,id:t,tabKey:i,animated:u,active:p,style:W(W({},l),r),className:$r()(c,a),ref:n}))})})))};var EE=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],_E=0,CE=o.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,i=void 0===r?"rc-tabs":r,a=e.className,s=e.items,l=e.direction,c=e.activeKey,u=e.defaultActiveKey,d=e.editable,h=e.animated,f=e.tabPosition,p=void 0===f?"top":f,m=e.tabBarGutter,g=e.tabBarStyle,v=e.tabBarExtraContent,b=e.locale,y=e.more,x=e.destroyInactiveTabPane,O=e.renderTabBar,w=e.onChange,S=e.onTabClick,E=e.onTabScroll,_=e.getPopupContainer,C=e.popupClassName,k=e.indicator,M=qr(e,EE),T=o.useMemo(function(){return(s||[]).filter(function(e){return e&&"object"===j(e)&&"key"in e})},[s]),P="rtl"===l,R=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:W({inkBar:!0},"object"===j(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(h),A=Q((0,o.useState)(!1),2),$=A[0],N=A[1];(0,o.useEffect)(function(){N(Tp())},[]);var I=Q(co(function(){var e;return null===(e=T[0])||void 0===e?void 0:e.key},{value:c,defaultValue:u}),2),D=I[0],L=I[1],z=Q((0,o.useState)(function(){return T.findIndex(function(e){return e.key===D})}),2),B=z[0],U=z[1];(0,o.useEffect)(function(){var e,t=T.findIndex(function(e){return e.key===D});-1===t&&(t=Math.max(0,Math.min(B,T.length-1)),L(null===(e=T[t])||void 0===e?void 0:e.key)),U(t)},[T.map(function(e){return e.key}).join("_"),D,B]);var H=Q(co(null,{value:n}),2),V=H[0],G=H[1];(0,o.useEffect)(function(){n||(G("rc-tabs-".concat(_E)),_E+=1)},[]);var X={id:V,activeKey:D,animated:R,tabPosition:p,rtl:P,mobile:$},q=W(W({},X),{},{editable:d,locale:b,more:y,tabBarGutter:m,onTabClick:function(e,t){null==S||S(e,t);var n=e!==D;L(e),n&&(null==w||w(e))},onTabScroll:E,extra:v,style:g,panes:null,getPopupContainer:_,popupClassName:C,indicator:k});return o.createElement(US.Provider,{value:{tabs:T,prefixCls:i}},o.createElement("div",et({ref:t,id:n,className:$r()(i,"".concat(i,"-").concat(p),F(F(F({},"".concat(i,"-mobile"),$),"".concat(i,"-editable"),d),"".concat(i,"-rtl"),P),a)},M),o.createElement(OE,et({},q,{renderTabBar:O})),o.createElement(SE,et({destroyInactiveTabPane:x},X,{animated:R}))))});const kE=CE,ME={motionAppear:!1,motionEnter:!0,motionLeave:!0};const TE=function(e,t){if(e)return e.map(e=>{var t;const n=null!==(t=e.destroyOnHidden)&&void 0!==t?t:e.destroyInactiveTabPane;return Object.assign(Object.assign({},e),{destroyInactiveTabPane:n})});const n=_s(t).map(e=>{if(o.isValidElement(e)){const{key:t,props:n}=e,r=n||{},{tab:o}=r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["tab"]);return Object.assign(Object.assign({key:String(t)},i),{label:o})}return null});return function(e){return e.filter(e=>e)}(n)},PE=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[gg(e,"slide-up"),gg(e,"slide-down")]]},RE=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:o,colorBorderSecondary:i,itemSelectedColor:a}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${Le(e.lineWidth)} ${e.lineType} ${i}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:a,background:e.colorBgContainer},[`${t}-tab-focus:has(${t}-tab-btn:focus-visible)`]:Oi(e,-3),[`& ${t}-tab${t}-tab-focus ${t}-tab-btn:focus-visible`]:{outline:"none"},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:Le(o)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:Le(o)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Le(e.borderRadiusLG)} 0 0 ${Le(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},AE=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},xi(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${Le(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},yi),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${Le(e.paddingXXS)} ${Le(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},$E=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:o,verticalItemPadding:i,verticalItemMargin:a,calc:s}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:o,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:s(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:i,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:a},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:Le(s(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:s(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},NE=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:o,cardHeightLG:i,horizontalItemPaddingSM:a,horizontalItemPaddingLG:s}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:s,fontSize:e.titleFontSizeLG,lineHeight:e.lineHeightLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n},[`${t}-nav-add`]:{minWidth:o,minHeight:o}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${Le(e.borderRadius)} ${Le(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${Le(e.borderRadius)} ${Le(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Le(e.borderRadius)} ${Le(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Le(e.borderRadius)} 0 0 ${Le(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r},[`${t}-nav-add`]:{minWidth:i,minHeight:i}}}}}},IE=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:o,tabsHorizontalItemMargin:i,horizontalItemPadding:a,itemSelectedColor:s,itemColor:l}=e,c=`${t}-tab`;return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:a,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${c}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},wi(e)),"&:hover":{color:r},[`&${c}-active ${c}-btn`]:{color:s,textShadow:e.tabsActiveTextShadow},[`&${c}-focus ${c}-btn:focus-visible`]:Oi(e),[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${c}-disabled ${c}-btn, &${c}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${c}-remove ${o}`]:{margin:0},[`${o}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${c} + ${c}`]:{margin:{_skip_check_:!0,value:i}}}},DE=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:o,calc:i}=e,a=`${t}-rtl`;return{[a]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Le(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:Le(e.marginXS)},marginLeft:{_skip_check_:!0,value:Le(i(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:o},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},LE=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:o,itemHoverColor:i,itemActiveColor:a,colorBorderSecondary:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:o},background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} ${s}`,borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:i},"&:active, &:focus:not(:focus-visible)":{color:a}},wi(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),IE(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},wi(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},zE=hs("Tabs",e=>{const t=is(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Le(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${Le(e.horizontalItemGutter)}`});return[NE(t),DE(t),$E(t),AE(t),RE(t),LE(t),PE(t)]},e=>{const{cardHeight:t,cardHeightSM:n,cardHeightLG:r,controlHeight:o,controlHeightLG:i}=e,a=t||i,s=n||o,l=r||i+8;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:a,cardHeightSM:s,cardHeightLG:l,cardPadding:`${(a-e.fontHeight)/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${(s-e.fontHeight)/2-e.lineWidth}px ${e.paddingXS}px`,cardPaddingLG:`${(l-e.fontHeightLG)/2-e.lineWidth}px ${e.padding}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}});const jE=e=>{var t,n,r,i,a,s,l,c,u,d,h;const{type:f,className:p,rootClassName:m,size:g,onEdit:v,hideAdd:b,centered:y,addIcon:x,removeIcon:O,moreIcon:w,more:S,popupClassName:E,children:_,items:C,animated:k,style:M,indicatorSize:T,indicator:P,destroyInactiveTabPane:R,destroyOnHidden:A}=e,$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:N}=$,{direction:D,tabs:L,getPrefixCls:z,getPopupContainer:j}=o.useContext(I),B=z("tabs",N),F=rd(B),[U,H,Q]=zE(B,F);let V;"editable-card"===f&&(V={onEdit:(e,{key:t,event:n})=>{null==v||v("add"===e?n:t,e)},removeIcon:null!==(t=null!=O?O:null==L?void 0:L.removeIcon)&&void 0!==t?t:o.createElement(Kl,null),addIcon:(null!=x?x:null==L?void 0:L.addIcon)||o.createElement(FS,null),showAdd:!0!==b});const W=z(),G=Es(g),X=TE(C,_),q=function(e,t={inkBar:!0,tabPane:!1}){let n;return n=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"==typeof t?t:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},ME),{motionName:Ua(e,"switch")})),n}(B,k),Z=Object.assign(Object.assign({},null==L?void 0:L.style),M),Y={align:null!==(n=null==P?void 0:P.align)&&void 0!==n?n:null===(r=null==L?void 0:L.indicator)||void 0===r?void 0:r.align,size:null!==(l=null!==(a=null!==(i=null==P?void 0:P.size)&&void 0!==i?i:T)&&void 0!==a?a:null===(s=null==L?void 0:L.indicator)||void 0===s?void 0:s.size)&&void 0!==l?l:null==L?void 0:L.indicatorSize};return U(o.createElement(kE,Object.assign({direction:D,getPopupContainer:j},$,{items:X,className:$r()({[`${B}-${G}`]:G,[`${B}-card`]:["card","editable-card"].includes(f),[`${B}-editable-card`]:"editable-card"===f,[`${B}-centered`]:y},null==L?void 0:L.className,p,m,H,Q,F),popupClassName:$r()(E,H,Q,F),style:Z,editable:V,more:Object.assign({icon:null!==(h=null!==(d=null!==(u=null===(c=null==L?void 0:L.more)||void 0===c?void 0:c.icon)&&void 0!==u?u:null==L?void 0:L.moreIcon)&&void 0!==d?d:w)&&void 0!==h?h:o.createElement(km,null),transitionName:`${W}-slide-up`},S),prefixCls:B,animated:q,indicator:Y,destroyInactiveTabPane:null!=A?A:R})))};jE.TabPane=()=>null;const BE=jE;const FE=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","hoverable"]);const{getPrefixCls:a}=o.useContext(I),s=a("card",t),l=$r()(`${s}-grid`,n,{[`${s}-grid-hoverable`]:r});return o.createElement("div",Object.assign({},i,{className:l}))},UE=e=>{const{antCls:t,componentCls:n,headerHeight:r,headerPadding:o,tabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${Le(o)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},yi),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},HE=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${Le(o)} 0 0 0 ${n},\n      0 ${Le(o)} 0 0 ${n},\n      ${Le(o)} ${Le(o)} 0 0 ${n},\n      ${Le(o)} 0 0 0 ${n} inset,\n      0 ${Le(o)} 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},QE=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:o,colorBorderSecondary:i,actionsBg:a}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:a,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorIcon,lineHeight:Le(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:o,lineHeight:Le(e.calc(o).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${Le(e.lineWidth)} ${e.lineType} ${i}`}}})},VE=e=>Object.assign(Object.assign({margin:`${Le(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},yi),"&-description":{color:e.colorTextDescription}}),WE=e=>{const{componentCls:t,colorFillAlter:n,headerPadding:r,bodyPadding:o}=e;return{[`${t}-head`]:{padding:`0 ${Le(r)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${Le(e.padding)} ${Le(o)}`}}},GE=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},XE=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:o,boxShadowTertiary:i,bodyPadding:a,extraColor:s}=e;return{[t]:Object.assign(Object.assign({},xi(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:i},[`${t}-head`]:UE(e),[`${t}-extra`]:{marginInlineStart:"auto",color:s,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:a,borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`${t}-grid`]:HE(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:QE(e),[`${t}-meta`]:VE(e)}),[`${t}-bordered`]:{border:`${Le(e.lineWidth)} ${e.lineType} ${o}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:WE(e),[`${t}-loading`]:GE(e),[`${t}-rtl`]:{direction:"rtl"}}},qE=e=>{const{componentCls:t,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:o,headerFontSizeSM:i}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:o,padding:`0 ${Le(r)}`,fontSize:i,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},ZE=hs("Card",e=>{const t=is(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[XE(t),qE(t)]},e=>{var t,n;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:null!==(t=e.bodyPadding)&&void 0!==t?t:e.paddingLG,headerPadding:null!==(n=e.headerPadding)&&void 0!==n?n:e.paddingLG}});var YE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const KE=e=>{const{actionClasses:t,actions:n=[],actionStyle:r}=e;return o.createElement("ul",{className:t,style:r},n.map((e,t)=>{const r=`action-${t}`;return o.createElement("li",{style:{width:100/n.length+"%"},key:r},o.createElement("span",null,e))}))},JE=o.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:a,extra:s,headStyle:l={},bodyStyle:c={},title:u,loading:d,bordered:h,variant:f,size:p,type:m,cover:g,actions:v,tabList:b,children:y,activeTabKey:x,defaultActiveTabKey:O,tabBarExtraContent:w,hoverable:S,tabProps:E={},classNames:_,styles:C}=e,k=YE(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:M,direction:T,card:P}=o.useContext(I),[R]=Ob("card",f,h),A=e=>{var t;return $r()(null===(t=null==P?void 0:P.classNames)||void 0===t?void 0:t[e],null==_?void 0:_[e])},$=e=>{var t;return Object.assign(Object.assign({},null===(t=null==P?void 0:P.styles)||void 0===t?void 0:t[e]),null==C?void 0:C[e])},N=o.useMemo(()=>{let e=!1;return o.Children.forEach(y,t=>{(null==t?void 0:t.type)===FE&&(e=!0)}),e},[y]),D=M("card",n),[L,z,j]=ZE(D),B=o.createElement(Ed,{loading:!0,active:!0,paragraph:{rows:4},title:!1},y),F=void 0!==x,U=Object.assign(Object.assign({},E),{[F?"activeKey":"defaultActiveKey"]:F?x:O,tabBarExtraContent:w});let H;const Q=Es(p),V=Q&&"default"!==Q?Q:"large",W=b?o.createElement(BE,Object.assign({size:V},U,{className:`${D}-head-tabs`,onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:b.map(e=>{var{tab:t}=e,n=YE(e,["tab"]);return Object.assign({label:t},n)})})):null;if(u||s||W){const e=$r()(`${D}-head`,A("header")),t=$r()(`${D}-head-title`,A("title")),n=$r()(`${D}-extra`,A("extra")),r=Object.assign(Object.assign({},l),$("header"));H=o.createElement("div",{className:e,style:r},o.createElement("div",{className:`${D}-head-wrapper`},u&&o.createElement("div",{className:t,style:$("title")},u),s&&o.createElement("div",{className:n,style:$("extra")},s)),W)}const G=$r()(`${D}-cover`,A("cover")),X=g?o.createElement("div",{className:G,style:$("cover")},g):null,q=$r()(`${D}-body`,A("body")),Z=Object.assign(Object.assign({},c),$("body")),Y=o.createElement("div",{className:q,style:Z},d?B:y),K=$r()(`${D}-actions`,A("actions")),J=(null==v?void 0:v.length)?o.createElement(KE,{actionClasses:K,actionStyle:$("actions"),actions:v}):null,ee=Va(k,["onTabChange"]),te=$r()(D,null==P?void 0:P.className,{[`${D}-loading`]:d,[`${D}-bordered`]:"borderless"!==R,[`${D}-hoverable`]:S,[`${D}-contain-grid`]:N,[`${D}-contain-tabs`]:null==b?void 0:b.length,[`${D}-${Q}`]:Q,[`${D}-type-${m}`]:!!m,[`${D}-rtl`]:"rtl"===T},r,i,z,j),ne=Object.assign(Object.assign({},null==P?void 0:P.style),a);return L(o.createElement("div",Object.assign({ref:t},ee,{className:te,style:ne}),H,X,Y,J))});const e_=JE;e_.Grid=FE,e_.Meta=e=>{const{prefixCls:t,className:n,avatar:r,title:i,description:a}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:l}=o.useContext(I),c=l("card",t),u=$r()(`${c}-meta`,n),d=r?o.createElement("div",{className:`${c}-meta-avatar`},r):null,h=i?o.createElement("div",{className:`${c}-meta-title`},i):null,f=a?o.createElement("div",{className:`${c}-meta-description`},a):null,p=h||f?o.createElement("div",{className:`${c}-meta-detail`},h,f):null;return o.createElement("div",Object.assign({},s,{className:u}),d,p)};const t_=e_;function n_(e){return n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(e)}function r_(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return o_(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(o_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,o_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,o_(d,"constructor",c),o_(c,"constructor",l),l.displayName="GeneratorFunction",o_(c,o,"GeneratorFunction"),o_(d),o_(d,o,"Generator"),o_(d,r,function(){return this}),o_(d,"toString",function(){return"[object Generator]"}),(r_=function(){return{w:i,m:h}})()}function o_(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}o_=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){o_(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},o_(e,t,n,r)}function i_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function a_(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){i_(i,r,o,a,s,"next",e)}function s(e){i_(i,r,o,a,s,"throw",e)}a(void 0)})}}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(t){c_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c_(e,t,n){return(t=function(e){var t=function(e){if("object"!=n_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=n_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u_="http://localhost:3000",d_=window.require("electron").ipcRenderer,h_=function(e){return 200===e.statusCode?e.data:Promise.reject(e)},f_=function(e){return e instanceof Error?console.error("请求错误:",e.message):console.error("请求错误:",e),Promise.reject(e)},p_=function(){var e=a_(r_().m(function e(t){var n,r,o,i,a,s,l=arguments;return r_().w(function(e){for(;;)switch(e.n){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=l.length>2&&void 0!==l[2]?l[2]:{},e.p=1,t||(t=""),o=new URLSearchParams(n).toString(),"",i=t.includes("http")?"".concat(t).concat(o?"?".concat(o):""):"".concat(u_).concat(t).concat(o?"?".concat(o):""),console.log(i),e.n=2,d_.invoke("net-request",{method:"GET",url:i,headers:l_({Accept:"*/*"},r.headers)});case 2:return a=e.v,e.a(2,h_(a));case 3:return e.p=3,s=e.v,e.a(2,f_(s))}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),m_=function(){var e=a_(r_().m(function e(){var t;return r_().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,d_.invoke("stop-download");case 1:return e.a(2,{success:!0});case 2:return e.p=2,t=e.v,e.a(2,f_(t))}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),g_=function(){var e=a_(r_().m(function e(t,n,r){var o,i,a,s;return r_().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,t){e.n=1;break}throw new Error("下载地址不能为空");case 1:return o=t.includes("http")?t:"".concat(u_).concat(t),i=function(e,t){"function"==typeof r&&r(t)},d_.removeAllListeners("download-progress"),d_.on("download-progress",i),e.p=2,e.n=3,d_.invoke("download-file",{url:o,savePath:n});case 3:return a=e.v,e.a(2,a);case 4:return e.p=4,d_.removeListener("download-progress",i),e.f(4);case 5:e.n=7;break;case 6:return e.p=6,s=e.v,e.a(2,f_(s));case 7:return e.a(2)}},e,null,[[2,,4,5],[0,6]])}));return function(t,n,r){return e.apply(this,arguments)}}(),v_=n(8984),b_=n(6157),y_=n.n(b_);const x_=require("os");var O_=n.n(x_),w_=n(9896),S_=n.n(w_);function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}function __(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return C_(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(C_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,C_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,C_(d,"constructor",c),C_(c,"constructor",l),l.displayName="GeneratorFunction",C_(c,o,"GeneratorFunction"),C_(d),C_(d,o,"Generator"),C_(d,r,function(){return this}),C_(d,"toString",function(){return"[object Generator]"}),(__=function(){return{w:i,m:h}})()}function C_(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}C_=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){C_(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},C_(e,t,n,r)}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(t){T_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T_(e,t,n){return(t=$_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function R_(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){P_(i,r,o,a,s,"next",e)}function s(e){P_(i,r,o,a,s,"throw",e)}a(void 0)})}}function A_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$_(r.key),r)}}function $_(e){var t=function(e){if("object"!=E_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E_(t)?t:t+""}var N_=window.require("child_process"),I_=N_.execSync,D_=N_.spawn,L_=window.require("electron").shell,z_=n(1965),j_=z_.log,B_=z_.LOG_TYPES,F_=function(){return function(e,t){return t&&A_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.platform=(null===(t=window.systemInfo)||void 0===t?void 0:t.platform)||process.platform,this.isWindows=(null===(n=window.systemInfo)||void 0===n?void 0:n.isWindows)||"win32"===this.platform,this.isUbuntu=(null===(r=window.systemInfo)||void 0===r?void 0:r.isUbuntu)||"linux"===this.platform},[{key:"getEnvironmentList",value:(r=R_(__().m(function e(){var t,n,r,o,i,a,s=this;return __().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,(t=v_.A.get("environment.listUrl"))||(t=""),e.n=1,p_(t);case 1:if((n=e.v)||(n=this.getLocalTestData()),"string"==typeof n)try{n=JSON.parse(n)}catch(e){console.error("解析环境列表失败:",e),n=this.getLocalTestData()}return Array.isArray(n)||(n=this.getLocalTestData()),e.n=2,Promise.all(n.map(function(){var e=R_(__().m(function e(t){var n;return __().w(function(e){for(;;)switch(e.n){case 0:return console.log(t),e.n=1,s.detectEnvByCommand(t);case 1:return n=e.v,e.a(2,M_(M_({},t),{},{installed:n.installed,version:n.version||t.version}))}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.v,e.a(2,r);case 3:return e.p=3,a=e.v,console.error("获取环境列表失败:",a),o=this.getLocalTestData(),e.n=4,Promise.all(o.map(function(){var e=R_(__().m(function e(t){var n;return __().w(function(e){for(;;)switch(e.n){case 0:return console.log(t),e.n=1,s.detectEnvByCommand(t);case 1:return n=e.v,e.a(2,M_(M_({},t),{},{installed:n.installed,version:n.version||t.version}))}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return i=e.v,e.a(2,i)}},e,this,[[0,3]])})),function(){return r.apply(this,arguments)})},{key:"detectEnvByCommand",value:(t=R_(__().m(function e(t){var n,r,o,i,a,s;return __().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,n="win32"===this.platform,r=n?t.checkCommand.windows:t.checkCommand.ubuntu){e.n=1;break}return e.a(2,{installed:!1,version:""});case 1:if(o=I_(r,{encoding:"utf-8"}),console.log(o),"NVIDIA Driver"!==t.name){e.n=3;break}if(!(i=o.match(/Driver Version: (\d+\.\d+)/))){e.n=2;break}return e.a(2,{installed:!0,version:i[1]});case 2:e.n=5;break;case 3:if("CUDA"!==t.name){e.n=5;break}if(!(a=o.match(/CUDA Version: (\d+\.\d+)/))){e.n=4;break}return e.a(2,{installed:!0,version:a[1]});case 4:if(!(s=o.match(/release (\d+\.\d+)/))){e.n=5;break}return e.a(2,{installed:!0,version:s[1]});case 5:return e.a(2,{installed:!0});case 6:return e.p=6,e.v,e.a(2,{installed:!1,version:""})}},e,this,[[0,6]])})),function(e){return t.apply(this,arguments)})},{key:"installEnv",value:(e=R_(__().m(function e(t,r){var o,i,a,s,l,c,u,d,h=this;return __().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,"NVIDIA Driver"!==t.name){e.n=2;break}return o=this.isWindows?t.installUrl.windows:t.installUrl.ubuntu,e.n=1,L_.openExternal(o);case 1:return e.a(2);case 2:if(console.log(r),!r.startsWith("http")){e.n=4;break}return e.n=3,p_(r);case 3:i=e.v,e.n=7;break;case 4:return e.n=5,(0,b_.readFile)(r);case 5:if((i=e.v).success){e.n=6;break}return e.a(2,{success:!1,message:"读取文件失败"});case 6:i=i.content;case 7:if(i){e.n=8;break}return e.a(2,{success:!1,message:"下载失败"});case 8:return console.log(i),a=kS().join(O_().tmpdir(),"futudrive_install"),S_().existsSync(a)||(console.log("创建临时目录"),S_().mkdirSync(a,{recursive:!0})),s=kS().join(a,"install_".concat(t.name.toLowerCase(),".py")),e.n=9,(0,b_.writeFile)(s,i,!0);case 9:if(console.log(s),S_().existsSync(s)){e.n=10;break}return e.a(2,{success:!1,message:"脚本写出失败: ".concat(s," 未找到")});case 10:return l=this.isWindows?"@echo off\necho 开始安装 ".concat(t.name," ").concat(t.version,'...\npython "').concat(s,'"\necho 安装完成！\npause'):'#!/bin/bash\necho "开始安装 '.concat(t.name," ").concat(t.version,'..."\nsudo python3 "').concat(s,'"\necho "安装完成！"\npause'),c=this.isWindows?".bat":".sh",u=kS().join(a,"install_".concat(t.name.toLowerCase()).concat(c)),e.n=11,(0,b_.writeFile)(u,l);case 11:if(e.v){e.n=12;break}return e.a(2,{success:!1,message:"写入失败"});case 12:this.isUbuntu&&(0,n(5317).exec)("pkexec chmod +x ".concat(u),function(e,t,n){if(e)console.error("执行权限设置失败: ".concat(e));else{var r,o;h.isWindows?(r="cmd.exe",o=["/k",u]):(r="gnome-terminal",o=["--","bash","-c","".concat(u,"; exec bash")]);var i=D_(r,o,{detached:!0,stdio:"ignore"});console.log("启动新终端窗口"),i.unref()}}),e.n=14;break;case 13:e.p=13,d=e.v,j_("安装环境失败: ".concat(d.message),B_.ERROR);case 14:return e.a(2)}},e,this,[[0,13]])})),function(t,n){return e.apply(this,arguments)})},{key:"getLocalTestData",value:function(){try{return JSON.parse('[\n      {\n        "name": "ROS2",\n        "version": "humble",\n        "description": "机器人操作系统2代",\n        "installUrl": {\n          "windows": "xxx",\n          "ubuntu": "http://180.76.236.15:8777/install_ros2_humble.py"\n        },\n        "checkCommand": {\n          "windows": "ros2",\n          "ubuntu": "ros2 -h"\n        },\n        "installed": false\n      },\n      {\n        "name": "Python3",\n        "version": "3.10",\n        "description": "Python编程语言",\n        "installUrl": {\n          "windows": "https://www.python.org/downloads/windows/",\n          "ubuntu": "http://180.76.236.15:8777/install_py.py"\n        },\n        "checkCommand": {\n          "windows": "python3 --version",\n          "ubuntu": "python3 --version"\n        },\n        "installed": false\n      },\n      {\n        "name": "CUDA",\n        "version": "未知",\n        "description": "NVIDIA CUDA并行计算平台",\n        "installUrl": {\n          "windows": "http://180.76.236.15:8777/install_cuda.py",\n          "ubuntu": "http://180.76.236.15:8777/install_cuda.py"\n        },\n        "checkCommand": {\n          "windows": "nvcc --version",\n          "ubuntu": "/usr/local/cuda/bin/nvcc --version"\n        },\n        "installed": false\n      },\n      {\n        "name": "cuDNN",\n        "version": "9.6.0",\n        "description": "NVIDIA CUDA深度神经网络库",\n        "installUrl": {\n          "windows": "http://180.76.236.15:8777/install_cudnn.py",\n          "ubuntu": "http://180.76.236.15:8777/install_cudnn.py"\n        },\n        "checkCommand": {\n          "windows": "findstr CUDNN_MAJOR \\"%CUDA_PATH%\\\\include\\\\cudnn_version.h\\"",\n          "ubuntu": "cat /usr/include/cudnn_version.h | grep CUDNN_MAJOR -A 2"\n        },\n        "installed": false\n      },\n      {\n        "name": "TensorRT",\n        "version": "10.7.0",\n        "description": "NVIDIA高性能深度学习推理库",\n        "installUrl": {\n          "windows": "http://180.76.236.15:8777/install_tensorrt.py",\n          "ubuntu": "http://180.76.236.15:8777/install_tensorrt.py"\n        },\n        "checkCommand": {\n          "windows": "dpkg -l | findstr tensorrt",\n          "ubuntu": "python3 -c \\"import tensorrt as trt; print(\'TensorRT version: \' + str(trt.__version__))\\""\n        },\n        "installed": false\n      },\n      {\n        "name": "NVIDIA Driver",\n        "version": "未知",\n        "description": "NVIDIA显卡驱动",\n        "installUrl": {\n          "windows": "https://www.nvidia.cn/geforce/drivers/",\n          "ubuntu": "https://www.nvidia.cn/geforce/drivers/"\n        },\n        "checkCommand": {\n          "windows": "nvidia-smi",\n          "ubuntu": "nvidia-smi"\n        },\n        "installed": false\n      }\n    ]')}catch(e){return console.error("解析本地测试数据失败:",e),[]}}}]);var e,t,r}();const U_=new F_;var H_=n(5345),Q_={};function V_(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return W_(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(W_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,W_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,W_(d,"constructor",c),W_(c,"constructor",l),l.displayName="GeneratorFunction",W_(c,o,"GeneratorFunction"),W_(d),W_(d,o,"Generator"),W_(d,r,function(){return this}),W_(d,"toString",function(){return"[object Generator]"}),(V_=function(){return{w:i,m:h}})()}function W_(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}W_=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){W_(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},W_(e,t,n,r)}function G_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function X_(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){G_(i,r,o,a,s,"next",e)}function s(e){G_(i,r,o,a,s,"throw",e)}a(void 0)})}}function q_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Q_.styleTagTransform=Wg(),Q_.setAttributes=Ug(),Q_.insert=Bg().bind(null,"head"),Q_.domAPI=zg(),Q_.insertStyleElement=Qg(),Dg()(H_.A,Q_),H_.A&&H_.A.locals&&H_.A.locals;const Y_=function(){var e=q_((0,o.useState)([]),2),t=e[0],n=e[1],r=q_((0,o.useState)({}),2),i=r[0],a=(r[1],q_((0,o.useState)(!1),2)),s=a[0],l=a[1],c=(0,o.useRef)(!1),u=function(){var e=X_(V_().m(function e(){var t,r;return V_().w(function(e){for(;;)switch(e.n){case 0:return l(!0),e.p=1,e.n=2,U_.getEnvironmentList();case 2:t=e.v,n(t),e.n=4;break;case 3:e.p=3,r=e.v,console.error("获取环境列表失败:",r),Pv.error("获取环境列表失败");case 4:return e.p=4,l(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)(function(){c.current||(c.current=!0,u())},[]);var d=function(){var e=X_(V_().m(function e(){var t,r;return V_().w(function(e){for(;;)switch(e.n){case 0:return l(!0),e.p=1,n([]),e.n=2,U_.getEnvironmentList();case 2:t=e.v,n(t),e.n=4;break;case 3:e.p=3,r=e.v,console.error("刷新环境列表失败:",r),Pv.error("刷新环境列表失败");case 4:return e.p=4,l(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return o.createElement(t_,{className:"env-manager-card",title:"环境管理",extra:o.createElement(Hl,{onClick:d,loading:s},"刷新状态")},o.createElement(Ew,{spinning:s},o.createElement(Bw,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return o.createElement(Bw.Item,{className:"env-manager-list-item"},o.createElement("div",{className:"env-manager-env-info"},o.createElement("div",{className:"env-manager-env-name"},e.name),o.createElement("div",{className:"env-manager-env-desc"},e.description)),o.createElement("div",{className:"env-manager-env-actions"},o.createElement("div",{className:"env-manager-env-version"},o.createElement("span",null," ",e.installed?"当前":"推荐","版本: ",e.version)),o.createElement(Hl,{type:"primary",onClick:function(){return function(e){var t=i[e.name]||e.version;(0,qg.log)("正在安装 ".concat(e.name," ").concat(t,"..."),qg.LOG_TYPES.INFO);var n=e.installUrl["win32"===process.platform?"windows":"ubuntu"];(0,qg.log)("安装地址: ".concat(n),qg.LOG_TYPES.INFO),U_.installEnv(e,n)}(e)},disabled:e.installed},e.installed?"已安装":"安装"),o.createElement("span",{className:"env-manager-env-status"},e.installed?o.createElement("span",{style:{color:"#4caf50"}},"✓ 已安装"):o.createElement("span",{style:{color:"#f44336"}},"× 未安装"))))}})))},K_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var J_=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:K_}))};const eC=o.forwardRef(J_);var tC=function(e){if(X()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1};function nC(e,t){return Array.isArray(e)||void 0===t?tC(e):function(e,t){if(!tC(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}const rC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};var oC=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:rC}))};const iC=o.forwardRef(oC),aC=e=>{const t={};return[1,2,3,4,5].forEach(n=>{t[`\n      h${n}&,\n      div&-h${n},\n      div&-h${n} > textarea,\n      h${n}\n    `]=((e,t,n,r)=>{const{titleMarginBottom:o,fontWeightStrong:i}=r;return{marginBottom:o,color:n,fontWeight:i,fontSize:e,lineHeight:t}})(e[`fontSizeHeading${n}`],e[`lineHeightHeading${n}`],e.colorTextHeading,e)}),t},sC=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},Ei(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},lC=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Fn[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),cC=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${Le(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},uC=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),dC=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},aC(e)),{[`\n      & + h1${t},\n      & + h2${t},\n      & + h3${t},\n      & + h4${t},\n      & + h5${t}\n      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),lC(e)),sC(e)),{[`\n        ${t}-expand,\n        ${t}-collapse,\n        ${t}-edit,\n        ${t}-copy\n      `]:Object.assign(Object.assign({},Ei(e)),{marginInlineStart:e.marginXXS})}),cC(e)),uC(e)),{"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),{"&-rtl":{direction:"rtl"}})}},hC=hs("Typography",e=>[dC(e)],()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"})),fC=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:a,maxLength:s,autoSize:l=!0,value:c,onSave:u,onCancel:d,onEnd:h,component:f,enterIcon:p=o.createElement(iC,null)}=e,m=o.useRef(null),g=o.useRef(!1),v=o.useRef(null),[b,y]=o.useState(c);o.useEffect(()=>{y(c)},[c]),o.useEffect(()=>{var e;if(null===(e=m.current)||void 0===e?void 0:e.resizableTextArea){const{textArea:e}=m.current.resizableTextArea;e.focus();const{length:t}=e.value;e.setSelectionRange(t,t)}},[]);const x=()=>{u(b.trim())},[O,w,S]=hC(t),E=$r()(t,`${t}-edit-content`,{[`${t}-rtl`]:"rtl"===a,[`${t}-${f}`]:!!f},r,w,S);return O(o.createElement("div",{className:E,style:i},o.createElement(ay,{ref:m,maxLength:s,value:b,onChange:({target:e})=>{y(e.value.replace(/[\n\r]/g,""))},onKeyDown:({keyCode:e})=>{g.current||(v.current=e)},onKeyUp:({keyCode:e,ctrlKey:t,altKey:n,metaKey:r,shiftKey:o})=>{v.current!==e||g.current||t||n||r||o||(e===fc.ENTER?(x(),null==h||h()):e===fc.ESC&&d())},onCompositionStart:()=>{g.current=!0},onCompositionEnd:()=>{g.current=!1},onBlur:()=>{x()},"aria-label":n,rows:1,autoSize:l}),null!==p?Xa(p,{className:`${t}-edit-content-confirm`}):null))};var pC=n(7965),mC=n.n(pC);const gC=({copyConfig:e,children:t})=>{const[n,r]=o.useState(!1),[i,a]=o.useState(!1),s=o.useRef(null),l=()=>{s.current&&clearTimeout(s.current)},c={};e.format&&(c.format=e.format),o.useEffect(()=>l,[]);const u=ao(n=>{return o=void 0,i=void 0,d=function*(){var o;null==n||n.preventDefault(),null==n||n.stopPropagation(),a(!0);try{const i="function"==typeof e.text?yield e.text():e.text;mC()(i||((e,t=!1)=>t&&null==e?[]:Array.isArray(e)?e:[e])(t,!0).join("")||"",c),a(!1),r(!0),l(),s.current=setTimeout(()=>{r(!1)},3e3),null===(o=e.onCopy)||void 0===o||o.call(e,n)}catch(e){throw a(!1),e}},new((u=void 0)||(u=Promise))(function(e,t){function n(e){try{a(d.next(e))}catch(e){t(e)}}function r(e){try{a(d.throw(e))}catch(e){t(e)}}function a(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u(function(e){e(o)})).then(n,r)}a((d=d.apply(o,i||[])).next())});var o,i,u,d});return{copied:n,copyLoading:i,onClick:u}};function vC(e,t){return o.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&"object"==typeof e?e:null)]},[e])}const bC=o.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:a,setContentRef:s,children:l,direction:c,style:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:h,direction:f,className:p,style:m}=z("typography"),g=null!=c?c:f,v=s?Qr(t,s):t,b=h("typography",n),[y,x,O]=hC(b),w=$r()(b,p,{[`${b}-rtl`]:"rtl"===g},i,a,x,O),S=Object.assign(Object.assign({},m),u);return y(o.createElement(r,Object.assign({className:w,style:S,ref:v},d),l))}),yC=bC,xC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var OC=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:xC}))};const wC=o.forwardRef(OC);function SC(e){return!1===e?[!1,!1]:Array.isArray(e)?e:[e]}function EC(e,t,n){return!0===e||void 0===e?t:e||n&&t}const _C=e=>["string","number"].includes(typeof e),CC=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:i,icon:a,tabIndex:s,onCopy:l,loading:c})=>{const u=SC(i),d=SC(a),{copied:h,copy:f}=null!=n?n:{},p=t?h:f,m=EC(u[t?1:0],p),g="string"==typeof m?m:p;return o.createElement(tg,{title:m},o.createElement("button",{type:"button",className:$r()(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:l,"aria-label":g,tabIndex:s},t?EC(d[1],o.createElement(HO,null),!0):EC(d[0],c?o.createElement(Qs,null):o.createElement(wC,null),!0)))},kC=o.forwardRef(({style:e,children:t},n)=>{const r=o.useRef(null);return o.useImperativeHandle(n,()=>({isExceed:()=>{const e=r.current;return e.scrollHeight>e.clientHeight},getHeight:()=>r.current.clientHeight})),o.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)});function MC(e,t){let n=0;const r=[];for(let o=0;o<e.length;o+=1){if(n===t)return r;const i=e[o],a=n+(_C(i)?String(i).length:1);if(a>t){const e=t-n;return r.push(String(i).slice(0,e)),r}r.push(i),n=a}return e}const TC=0,PC=4,RC={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function AC(e){const{enableMeasure:t,width:n,text:r,children:i,rows:a,expanded:s,miscDeps:l,onEllipsis:c}=e,u=o.useMemo(()=>_s(r),[r]),d=o.useMemo(()=>(e=>e.reduce((e,t)=>e+(_C(t)?String(t).length:1),0))(u),[r]),h=o.useMemo(()=>i(u,!1),[r]),[f,p]=o.useState(null),m=o.useRef(null),g=o.useRef(null),v=o.useRef(null),b=o.useRef(null),y=o.useRef(null),[x,O]=o.useState(!1),[w,S]=o.useState(TC),[E,_]=o.useState(0),[C,k]=o.useState(null);Ve(()=>{S(t&&n&&d?1:TC)},[n,r,a,t,u]),Ve(()=>{var e,t,n,r;if(1===w){S(2);const e=g.current&&getComputedStyle(g.current).whiteSpace;k(e)}else if(2===w){const o=!!(null===(e=v.current)||void 0===e?void 0:e.isExceed());S(o?3:PC),p(o?[0,d]:null),O(o);const i=(null===(t=v.current)||void 0===t?void 0:t.getHeight())||0,s=1===a?0:(null===(n=b.current)||void 0===n?void 0:n.getHeight())||0,l=(null===(r=y.current)||void 0===r?void 0:r.getHeight())||0,u=Math.max(i,s+l);_(u+1),c(o)}},[w]);const M=f?Math.ceil((f[0]+f[1])/2):0;Ve(()=>{var e;const[t,n]=f||[0,0];if(t!==n){const r=((null===(e=m.current)||void 0===e?void 0:e.getHeight())||0)>E;let o=M;n-t===1&&(o=r?t:n),p(r?[t,o]:[o,n])}},[f,M]);const T=o.useMemo(()=>{if(!t)return i(u,!1);if(3!==w||!f||f[0]!==f[1]){const e=i(u,!1);return[PC,TC].includes(w)?e:o.createElement("span",{style:Object.assign(Object.assign({},RC),{WebkitLineClamp:a})},e)}return i(s?u:MC(u,f[0]),x)},[s,w,f,u].concat(R(l))),P={width:n,margin:0,padding:0,whiteSpace:"nowrap"===C?"normal":"inherit"};return o.createElement(o.Fragment,null,T,2===w&&o.createElement(o.Fragment,null,o.createElement(kC,{style:Object.assign(Object.assign(Object.assign({},P),RC),{WebkitLineClamp:a}),ref:v},h),o.createElement(kC,{style:Object.assign(Object.assign(Object.assign({},P),RC),{WebkitLineClamp:a-1}),ref:b},h),o.createElement(kC,{style:Object.assign(Object.assign(Object.assign({},P),RC),{WebkitLineClamp:1}),ref:y},i([],!0))),3===w&&f&&f[0]!==f[1]&&o.createElement(kC,{style:Object.assign(Object.assign({},P),{top:400}),ref:m},i(MC(u,M),!0)),1===w&&o.createElement("span",{style:{whiteSpace:"inherit"},ref:g}))}const $C=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>(null==r?void 0:r.title)&&e?o.createElement(tg,Object.assign({open:!!t&&void 0},r),n):n;const NC=["delete","mark","code","underline","strong","keyboard","italic"],IC=o.forwardRef((e,t)=>{var n;const{prefixCls:r,className:i,style:a,type:s,disabled:l,children:c,ellipsis:u,editable:d,copyable:h,component:f,title:p}=e,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:g,direction:v}=o.useContext(I),[b]=Qa("Text"),y=o.useRef(null),x=o.useRef(null),O=g("typography",r),w=Va(m,NC),[S,E]=vC(d),[_,C]=co(!1,{value:E.editing}),{triggerType:k=["icon"]}=E,M=e=>{var t;e&&(null===(t=E.onStart)||void 0===t||t.call(E)),C(e)},T=(e=>{const t=(0,o.useRef)(void 0);return(0,o.useEffect)(()=>{t.current=e}),t.current})(_);Ve(()=>{var e;!_&&T&&(null===(e=x.current)||void 0===e||e.focus())},[_]);const P=e=>{null==e||e.preventDefault(),M(!0)},[A,$]=vC(h),{copied:N,copyLoading:D,onClick:L}=gC({copyConfig:$,children:c}),[z,j]=o.useState(!1),[B,F]=o.useState(!1),[U,H]=o.useState(!1),[Q,V]=o.useState(!1),[W,G]=o.useState(!0),[X,q]=vC(u,{expandable:!1,symbol:e=>e?null==b?void 0:b.collapse:null==b?void 0:b.expand}),[Z,Y]=co(q.defaultExpanded||!1,{value:q.expanded}),K=X&&(!Z||"collapsible"===q.expandable),{rows:J=1}=q,ee=o.useMemo(()=>K&&(void 0!==q.suffix||q.onEllipsis||q.expandable||S||A),[K,q,S,A]);Ve(()=>{X&&!ee&&(j(nC("webkitLineClamp")),F(nC("textOverflow")))},[ee,X]);const[te,ne]=o.useState(K),re=o.useMemo(()=>!ee&&(1===J?B:z),[ee,B,z]);Ve(()=>{ne(re&&K)},[re,K]);const oe=K&&(te?Q:U),ie=K&&1===J&&te,ae=K&&J>1&&te,[se,le]=o.useState(0),ce=e=>{var t;H(e),U!==e&&(null===(t=q.onEllipsis)||void 0===t||t.call(q,e))};o.useEffect(()=>{const e=y.current;if(X&&te&&e){const t=function(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}(e);Q!==t&&V(t)}},[X,te,c,ae,W,se]),o.useEffect(()=>{const e=y.current;if("undefined"==typeof IntersectionObserver||!e||!te||!K)return;const t=new IntersectionObserver(()=>{G(!!e.offsetParent)});return t.observe(e),()=>{t.disconnect()}},[te,K]);const ue=((e,t,n)=>(0,o.useMemo)(()=>!0===e?{title:null!=t?t:n}:(0,o.isValidElement)(e)?{title:e}:"object"==typeof e?Object.assign({title:null!=t?t:n},e):{title:e},[e,t,n]))(q.tooltip,E.text,c),de=o.useMemo(()=>{if(X&&!te)return[E.text,c,p,ue.title].find(_C)},[X,te,p,ue.title,oe]);if(_)return o.createElement(fC,{value:null!==(n=E.text)&&void 0!==n?n:"string"==typeof c?c:"",onSave:e=>{var t;null===(t=E.onChange)||void 0===t||t.call(E,e),M(!1)},onCancel:()=>{var e;null===(e=E.onCancel)||void 0===e||e.call(E),M(!1)},onEnd:E.onEnd,prefixCls:O,className:i,style:a,direction:v,component:f,maxLength:E.maxLength,autoSize:E.autoSize,enterIcon:E.enterIcon});const he=()=>{const{expandable:e,symbol:t}=q;return e?o.createElement("button",{type:"button",key:"expand",className:`${O}-${Z?"collapse":"expand"}`,onClick:e=>((e,t)=>{var n;Y(t.expanded),null===(n=q.onExpand)||void 0===n||n.call(q,e,t)})(e,{expanded:!Z}),"aria-label":Z?b.collapse:null==b?void 0:b.expand},"function"==typeof t?t(Z):t):null},fe=()=>{if(!S)return;const{icon:e,tooltip:t,tabIndex:n}=E,r=_s(t)[0]||(null==b?void 0:b.edit),i="string"==typeof r?r:"";return k.includes("icon")?o.createElement(tg,{key:"edit",title:!1===t?"":r},o.createElement("button",{type:"button",ref:x,className:`${O}-edit`,onClick:P,"aria-label":i,tabIndex:n},e||o.createElement(eC,{role:"button"}))):null},pe=e=>[e&&he(),fe(),A?o.createElement(CC,Object.assign({key:"copy"},$,{prefixCls:O,copied:N,locale:b,onCopy:L,loading:D,iconOnly:null==c})):null];return o.createElement(ff,{onResize:({offsetWidth:e})=>{le(e)},disabled:!K},n=>o.createElement($C,{tooltipProps:ue,enableEllipsis:K,isEllipsis:oe},o.createElement(yC,Object.assign({className:$r()({[`${O}-${s}`]:s,[`${O}-disabled`]:l,[`${O}-ellipsis`]:X,[`${O}-ellipsis-single-line`]:ie,[`${O}-ellipsis-multiple-line`]:ae},i),prefixCls:r,style:Object.assign(Object.assign({},a),{WebkitLineClamp:ae?J:void 0}),component:f,ref:Qr(n,y,t),direction:v,onClick:k.includes("text")?P:void 0,"aria-label":null==de?void 0:de.toString(),title:p},w),o.createElement(AC,{enableMeasure:K&&!te,text:c,rows:J,width:se,onEllipsis:ce,expanded:Z,miscDeps:[N,Z,D,S,A,b].concat(R(NC.map(t=>e[t])))},(t,n)=>function({mark:e,code:t,underline:n,delete:r,strong:i,keyboard:a,italic:s},l){let c=l;function u(e,t){t&&(c=o.createElement(e,{},c))}return u("strong",i),u("u",n),u("del",r),u("code",t),u("mark",e),u("kbd",a),u("i",s),c}(e,o.createElement(o.Fragment,null,t.length>0&&n&&!Z&&de?o.createElement("span",{key:"show-content","aria-hidden":!0},t):t,(e=>[e&&!Z&&o.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),q.suffix,pe(e)])(n)))))))}),DC=IC;const LC=o.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["ellipsis","rel"]);const a=Object.assign(Object.assign({},i),{rel:void 0===r&&"_blank"===i.target?"noopener noreferrer":r});return delete a.navigate,o.createElement(DC,Object.assign({},a,{ref:t,ellipsis:!!n,component:"a"}))}),zC=LC,jC=o.forwardRef((e,t)=>o.createElement(DC,Object.assign({ref:t},e,{component:"div"})));const BC=(e,t)=>{var{ellipsis:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["ellipsis"]);const i=o.useMemo(()=>n&&"object"==typeof n?Va(n,["expandable","rows"]):n,[n]);return o.createElement(DC,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},FC=o.forwardRef(BC);const UC=[1,2,3,4,5],HC=o.forwardRef((e,t)=>{const{level:n=1}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["level"]),i=UC.includes(n)?`h${n}`:"h1";return o.createElement(DC,Object.assign({ref:t},r,{component:i}))}),QC=yC;QC.Text=FC,QC.Link=zC,QC.Title=HC,QC.Paragraph=jC;const VC=QC;function WC(e){return["small","middle","large"].includes(e)}function GC(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}const XC=o.createContext({latestIndex:0}),qC=XC.Provider,ZC=({className:e,index:t,children:n,split:r,style:i})=>{const{latestIndex:a}=o.useContext(XC);return null==n?null:o.createElement(o.Fragment,null,o.createElement("div",{className:e,style:i},n),t<a&&r&&o.createElement("span",{className:`${e}-split`},r))};const YC=o.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,size:a,className:s,style:l,classNames:c,styles:u}=z("space"),{size:d=(null!=a?a:"small"),align:h,className:f,rootClassName:p,children:m,direction:g="horizontal",prefixCls:v,split:b,style:y,wrap:x=!1,classNames:O,styles:w}=e,S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[E,_]=Array.isArray(d)?d:[d,d],C=WC(_),k=WC(E),M=GC(_),T=GC(E),P=_s(m,{keepEmpty:!0}),R=void 0===h&&"horizontal"===g?"center":h,A=r("space",v),[$,N,I]=Ts(A),D=$r()(A,s,N,`${A}-${g}`,{[`${A}-rtl`]:"rtl"===i,[`${A}-align-${R}`]:R,[`${A}-gap-row-${_}`]:C,[`${A}-gap-col-${E}`]:k},f,p,I),L=$r()(`${A}-item`,null!==(n=null==O?void 0:O.item)&&void 0!==n?n:c.item);let j=0;const B=P.map((e,t)=>{var n;null!=e&&(j=t);const r=(null==e?void 0:e.key)||`${L}-${t}`;return o.createElement(ZC,{className:L,key:r,index:t,split:b,style:null!==(n=null==w?void 0:w.item)&&void 0!==n?n:u.item},e)}),F=o.useMemo(()=>({latestIndex:j}),[j]);if(0===P.length)return null;const U={};return x&&(U.flexWrap="wrap"),!k&&T&&(U.columnGap=E),!C&&M&&(U.rowGap=_),$(o.createElement("div",Object.assign({ref:t,className:D,style:Object.assign(Object.assign(Object.assign({},U),l),y)},S),o.createElement(qC,{value:F},B)))}),KC=YC;KC.Compact=e=>{const{getPrefixCls:t,direction:n}=o.useContext(I),{size:r,direction:i,block:a,prefixCls:s,className:l,rootClassName:c,children:u}=e,d=Ps(e,["size","direction","block","prefixCls","className","rootClassName","children"]),h=Es(e=>null!=r?r:e),f=t("space-compact",s),[p,m]=Ts(f),g=$r()(f,m,{[`${f}-rtl`]:"rtl"===n,[`${f}-block`]:a,[`${f}-vertical`]:"vertical"===i},l,c),v=o.useContext(Rs),b=_s(u),y=o.useMemo(()=>b.map((e,t)=>{const n=(null==e?void 0:e.key)||`${f}-item-${t}`;return o.createElement(Ns,{key:n,compactSize:h,compactDirection:i,isFirstItem:0===t&&(!v||(null==v?void 0:v.isFirstItem)),isLastItem:t===b.length-1&&(!v||(null==v?void 0:v.isLastItem))},e)}),[r,b,v]);return 0===b.length?null:p(o.createElement("div",Object.assign({className:g},d),y))};const JC=KC,ek={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var tk=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:ek}))};const nk=o.forwardRef(tk);var rk=n(4157),ok=n(5477),ik={};function ak(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return sk(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(sk(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,sk(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,sk(d,"constructor",c),sk(c,"constructor",l),l.displayName="GeneratorFunction",sk(c,o,"GeneratorFunction"),sk(d),sk(d,o,"Generator"),sk(d,r,function(){return this}),sk(d,"toString",function(){return"[object Generator]"}),(ak=function(){return{w:i,m:h}})()}function sk(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}sk=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){sk(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},sk(e,t,n,r)}function lk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}ik.styleTagTransform=Wg(),ik.setAttributes=Ug(),ik.insert=Bg().bind(null,"head"),ik.domAPI=zg(),ik.insertStyleElement=Qg(),Dg()(ok.A,ik),ok.A&&ok.A.locals&&ok.A.locals;var ck=VC.Text,uk=VC.Title,dk=VC.Paragraph;const hk=function(e){var t=e.visible,n=e.onClose,r=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){lk(i,r,o,a,s,"next",e)}function s(e){lk(i,r,o,a,s,"throw",e)}a(void 0)})}}(ak().m(function e(t){var n;return ak().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,rk.shell.openExternal(t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("打开链接失败:",n);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}();return o.createElement(Dh,{title:"关于 FutureDrive",open:t,onCancel:n,footer:null,width:600,className:"about-modal"},o.createElement("div",{className:"about-content"},o.createElement(JC,{direction:"vertical",size:"large",style:{width:"100%"}},o.createElement("div",{className:"version-section"},o.createElement(uk,{level:3},"FutureDrive 自动驾驶"),o.createElement(JC,null,o.createElement(ck,{strong:!0},"版本 1.0.2 免费版"),o.createElement(Hl,{type:"primary",icon:o.createElement(nk,null),onClick:function(){console.log("检查更新")}},"检查更新"))),o.createElement("div",{className:"company-info"},o.createElement(dk,null,o.createElement(ck,{strong:!0},"开发团队：")," FutureDrive 自动驾驶团队"),o.createElement(dk,null,o.createElement(ck,{strong:!0},"公司：")," 浙江春贵科技有限公司"),o.createElement(dk,null,o.createElement(ck,{strong:!0},"联系方式：")," php300@qqcom")),o.createElement("div",{className:"legal-section"},o.createElement(JC,{direction:"vertical",size:"small"},o.createElement(tg,{title:"点击查看许可协议"},o.createElement(ck,{className:"clickable-text",onClick:function(){return r("https://Future.automoves.cn/license")}},"许可协议")),o.createElement(tg,{title:"点击查看法律声明"},o.createElement(ck,{className:"clickable-text",onClick:function(){return r("https://Future.automoves.cn/legal")}},"法律免责声明")))))))},fk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var pk=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:fk}))};const mk=o.forwardRef(pk),gk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};var vk=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:gk}))};const bk=o.forwardRef(vk);var yk=n(8019),xk={};xk.styleTagTransform=Wg(),xk.setAttributes=Ug(),xk.insert=Bg().bind(null,"head"),xk.domAPI=zg(),xk.insertStyleElement=Qg(),Dg()(yk.A,xk),yk.A&&yk.A.locals&&yk.A.locals;var Ok=n(5317);function wk(e){return function(e){if(Array.isArray(e))return Tk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sk(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Ek(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Ek(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ek(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Ek(d,"constructor",c),Ek(c,"constructor",l),l.displayName="GeneratorFunction",Ek(c,o,"GeneratorFunction"),Ek(d),Ek(d,o,"Generator"),Ek(d,r,function(){return this}),Ek(d,"toString",function(){return"[object Generator]"}),(Sk=function(){return{w:i,m:h}})()}function Ek(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ek=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Ek(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Ek(e,t,n,r)}function _k(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ck(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){_k(i,r,o,a,s,"next",e)}function s(e){_k(i,r,o,a,s,"throw",e)}a(void 0)})}}function kk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Mk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){if(e){if("string"==typeof e)return Tk(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tk(e,t):void 0}}function Tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}require("util");var Pk=YO.Option;const Rk=function(e){var t=e.visible,n=e.onClose,r=kk((0,o.useState)(""),2),i=r[0],a=r[1],s=kk((0,o.useState)("未安装"),2),l=s[0],c=s[1],u=kk((0,o.useState)("Town01"),2),d=u[0],h=u[1],f=kk((0,o.useState)(""),2),p=f[0],m=f[1],g=kk((0,o.useState)("localhost"),2),v=g[0],b=g[1],y=kk((0,o.useState)("2000"),2),x=y[0],O=y[1],w=kk((0,o.useState)("default"),2),S=w[0],E=w[1],_=kk((0,o.useState)(""),2),C=_[0],k=_[1],M=kk((0,o.useState)([]),2),T=M[0],P=M[1],R=kk((0,o.useState)(!1),2),A=R[0],$=R[1],N=kk((0,o.useState)(""),2),I=N[0],D=N[1],L=kk((0,o.useState)(!1),2),z=L[0],j=L[1],B=kk((0,o.useState)(""),2),F=B[0],U=B[1];(0,o.useEffect)(function(){H()},[]);var H=function(){var e=Ck(Sk().m(function e(){var t;return Sk().w(function(e){for(;;)switch(e.n){case 0:try{(t=v_.A.get("simulation"))&&(a(t.carlaPath||""),c(t.carlaStatus||"未安装"),h(t.selectedMap||"Town01"),m(t.customMap||""),b(t.ip||"localhost"),O(t.port||"2000"),E(t.launchType||"default"),k(t.customCommand||""),P(t.savedCommands||[]),D(t.downloadPath||""),U(t.customArgs||""))}catch(e){(0,qg.log)("加载配置失败: ".concat(e.message),qg.LOG_TYPES.ERROR)}case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Ck(Sk().m(function e(){var t,n;return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,t={carlaPath:i,carlaStatus:l,selectedMap:d,customMap:p,ip:v,port:x,launchType:S,customCommand:C,savedCommands:T,downloadPath:I,customArgs:F},e.n=1,v_.A.set("simulation",t);case 1:e.n=3;break;case 2:e.p=2,n=e.v,(0,qg.log)("保存配置失败: ".concat(n.message),qg.LOG_TYPES.ERROR);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Ck(Sk().m(function e(){var t,n,r;return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y_().selectDirectory();case 1:if(!(t=e.v).success){e.n=2;break}return n="".concat(t.path,"/CARLA.tar.gz"),D(n),e.n=2,Q();case 2:e.n=4;break;case 3:e.p=3,r=e.v,Pv.error("选择下载路径失败: ".concat(r.message));case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Ck(Sk().m(function e(){var t,n;return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y_().selectFile({title:"选择CARLA启动文件",filters:[{name:"Shell Scripts",extensions:["sh"]}]});case 1:if(!(t=e.v).success){e.n=2;break}return a(t.filePath),c("已自定义选择"),e.n=2,Q();case 2:e.n=4;break;case 3:e.p=3,n=e.v,Pv.error("选择CARLA文件失败: ".concat(n.message));case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Ck(Sk().m(function e(){return Sk().w(function(e){for(;;)switch(e.n){case 0:try{Dh.confirm({title:"确认停止下载",content:"当前下载进度仍在进行中，是否中断下载？",okText:"确认",cancelText:"取消",okButtonProps:{danger:!0},className:"dark-modal",onOk:function(){var e=Ck(Sk().m(function e(){return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m_();case 1:$(!1),Pv.destroy("download-progress"),Pv.info("下载已停止");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()})}catch(e){console.error("停止下载失败",e),Pv.error("停止下载失败")}case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),X=function(e){return new Promise(function(t,n){var r=e.replace(".tar.gz",""),o='mkdir -p "'.concat(r,'" && tar -xzf "').concat(e,'" -C "').concat(r,'" --strip-components=1');(0,Ok.exec)(o,function(e){e?n(e):t(r)})})},q=function(){var e=Ck(Sk().m(function e(){var t,n,r;return Sk().w(function(e){for(;;)switch(e.n){case 0:if(!A){e.n=1;break}return G(),e.a(2);case 1:return t="download-progress",Pv.loading({content:"正在下载 CARLA... 0%",key:t,duration:0}),$(!0),e.p=2,e.n=3,g_("https://carla-releases.b-cdn.net/Linux/Carla-0.10.0-Linux-Shipping.tar.gz",I,function(e){console.log("下载进度：".concat(e,"%")),Pv.loading({content:"正在下载 CARLA... ".concat(e,"%"),key:t,duration:0})});case 3:return Pv.destroy(t),Pv.loading({content:"正在解压 CARLA...",key:t,duration:0}),e.n=4,X(I);case 4:return n=e.v,a(n+"/CarlaUnreal.sh"),c("已下载"),e.n=5,Q();case 5:Pv.destroy(t),Pv.success("CARLA 下载并解压完成"),e.n=7;break;case 6:e.p=6,r=e.v,Pv.destroy(t),Pv.error("下载或解压失败: ".concat(r.message)),console.error("下载或解压失败",r);case 7:return e.p=7,$(!1),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){return new Promise(function(e){(0,Ok.exec)("ps aux | grep CarlaUnreal-Linux-Shipping | grep -v grep",function(t,n){var r=n.trim().length>0;e(r)})})},Y=function(){return new Promise(function(e,t){(0,Ok.exec)("ps aux | grep CarlaUnreal-Linux-Shipping | grep -v grep",function(n,r){if(r.trim()){var o=r.split(/\s+/)[1];o?(0,Ok.exec)("kill -9 ".concat(o),function(n){n?t(new Error("无法结束CARLA进程")):e()}):e()}else e()})})},K=function(){var e=Ck(Sk().m(function e(){var t,n,r;return Sk().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,i){e.n=1;break}return Pv.error("请先选择CARLA文件"),e.a(2);case 1:t=i.substring(0,i.lastIndexOf("/")),n="gnome-terminal -- bash -c \"cd '".concat(t,"' && bash '").concat(i,"'; exec bash\""),(0,Ok.exec)(n,function(){var e=Ck(Sk().m(function e(t){return Sk().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=1;break}return Pv.error("启动失败: ".concat(t.message)),c("启动失败"),e.a(2);case 1:return Pv.success("CARLA 环境启动成功"),c("运行中"),j(!0),e.n=2,Q();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),e.n=3;break;case 2:e.p=2,r=e.v,Pv.error("启动失败: ".concat(r.message)),c("启动失败");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Ck(Sk().m(function e(){return Sk().w(function(e){for(;;)switch(e.n){case 0:try{Dh.confirm({title:"确认结束仿真",content:"是否确认要结束当前仿真客户端？",okText:"确认",cancelText:"取消",okButtonProps:{danger:!0},onOk:function(){var e=Ck(Sk().m(function e(){var t;return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,Y();case 1:setTimeout(Ck(Sk().m(function e(){return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Z();case 1:if(e.v){e.n=3;break}return Pv.success("仿真已结束"),c("已停止"),j(!1),e.n=2,Q();case 2:e.n=4;break;case 3:Pv.error("结束仿真失败，请手动结束进程");case 4:return e.a(2)}},e)})),1e3),e.n=3;break;case 2:e.p=2,t=e.v,Pv.error("结束仿真失败: ".concat(t.message));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}()})}catch(e){Pv.error("操作失败: ".concat(e.message))}case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)(function(){var e=function(){var e=Ck(Sk().m(function e(){var t;return Sk().w(function(e){for(;;)switch(e.n){case 0:return console.log("检查CARLA进程状态"),e.n=1,Z();case 1:t=e.v,j(t),c(t?"运行中":"未运行");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e()},[]);var ee=function(){var e=Ck(Sk().m(function e(){var t,n;return Sk().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y_().selectFile({title:"选择Python脚本",filters:[{name:"Python Files",extensions:["py"]}]});case 1:if(!(t=e.v).success){e.n=2;break}return k(t.filePath),e.n=2,Q();case 2:e.n=4;break;case 3:e.p=3,n=e.v,Pv.error("选择Python脚本失败: ".concat(n.message));case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Ck(Sk().m(function e(){var t,n,r,o,a,s,c;return Sk().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,"运行中"===l){e.n=1;break}return Pv.error("请先启动 CARLA 环境"),e.a(2);case 1:t="custom"===d?p:d,"default"===S?(o=i.substring(0,i.lastIndexOf("/")),n="".concat(o,"/PythonAPI/examples/manual_control.py"),r="python3 ".concat(n," --host ").concat(v," -p ").concat(x," ").concat(F)):r="python3 ".concat(n=C," -m ").concat(t," --host ").concat(v," -p ").concat(x," ").concat(F),a="gnome-terminal -- bash -c \"cd '".concat(i.substring(0,i.lastIndexOf("/")),"' && ").concat(r,'; exec bash"'),(0,Ok.exec)(a,function(e){e?Pv.error("启动仿真失败: ".concat(e.message)):Pv.success("仿真启动成功")}),"custom"===S&&C&&!T.includes(C)&&(s=[].concat(wk(T),[C]),P(s),Q()),e.n=3;break;case 2:e.p=2,c=e.v,Pv.error("启动失败: ".concat(c.message));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ne=[{key:"environment",label:"环境",children:o.createElement("div",{className:"simulation-section"},o.createElement("div",{className:"section-content"},o.createElement("div",{className:"status-item"},o.createElement("span",{className:"label"},"安装状态："),o.createElement("span",{className:"status ".concat("未安装"!==l?"success":"warning")},l)),o.createElement("div",{className:"path-item"},o.createElement("span",{className:"label"},"下载路径："),o.createElement(ly,{value:I,readOnly:!0,placeholder:"请选择下载保存路径"}),o.createElement(Hl,{icon:o.createElement(dS,null),onClick:V},"选择路径")),o.createElement("div",{className:"path-item"},o.createElement("span",{className:"label"},"CARLA文件："),o.createElement(ly,{value:i,readOnly:!0,placeholder:"请选择已下载的CARLA文件"}),o.createElement(Hl,{icon:o.createElement(dS,null),onClick:W},"选择文件")),o.createElement(Hl,{type:"primary",icon:A?o.createElement(iS,null):o.createElement(mk,null),onClick:q,disabled:"已安装"===l},A?"停止下载":"下载 CARLA"),o.createElement(Hl,{type:z?"primary":"default",danger:z,icon:z?o.createElement(iS,null):o.createElement(bk,null),onClick:z?J:K},z?"结束仿真":"开始仿真")))},{key:"simulation",label:"仿真",children:o.createElement("div",{className:"simulation-section"},o.createElement("div",{className:"section-content"},o.createElement("div",{className:"config-item"},o.createElement("span",{className:"label"},"地图："),o.createElement(YO,{value:d,onChange:h,style:{width:200}},o.createElement(Pk,{value:"Town01"},"Town10HD_Opt"),o.createElement(Pk,{value:"Town02"},"Mine_01"),o.createElement(Pk,{value:"Town03"},"OpenDriveMap"),o.createElement(Pk,{value:"custom"},"自定义")),"custom"===d&&o.createElement(ly,{value:p,onChange:function(e){return m(e.target.value)},placeholder:"请输入地图名称",style:{width:200,marginLeft:10}})),o.createElement("div",{className:"config-item"},o.createElement("span",{className:"label"},"IP："),o.createElement(ly,{value:v,onChange:function(e){return b(e.target.value)},style:{width:200}})),o.createElement("div",{className:"config-item"},o.createElement("span",{className:"label"},"端口："),o.createElement(ly,{value:x,onChange:function(e){return O(e.target.value)},style:{width:200}})),o.createElement("div",{className:"config-item"},o.createElement("span",{className:"label"},"启动脚本："),o.createElement(YO,{value:S,onChange:E,style:{width:200}},o.createElement(Pk,{value:"default"},"默认演示"),o.createElement(Pk,{value:"custom"},"自定义")),"custom"===S&&o.createElement("div",{style:{display:"inline-flex",alignItems:"center",marginLeft:10}},o.createElement(ly,{value:C,readOnly:!0,placeholder:"请选择Python脚本",style:{width:400}}),o.createElement(Hl,{icon:o.createElement(dS,null),onClick:ee,style:{marginLeft:8}}))),o.createElement("div",{className:"config-item"},o.createElement("span",{className:"label"},"附加参数："),o.createElement(ly,{value:F,onChange:function(e){U(e.target.value),Q()},placeholder:"请输入额外的命令行参数",style:{width:600}}))))}];return o.createElement(Dh,{title:"仿真管理",open:t,onCancel:n,width:800,footer:null,className:"simulation-manager-modal"},o.createElement(BE,{defaultActiveKey:"environment",items:ne}),o.createElement("div",{className:"modal-footer"},o.createElement(Hl,{type:"primary",onClick:te},"开始仿真")))};function Ak(e){const[t,n]=o.useState(e);return o.useEffect(()=>{const t=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(t)}},[e]),t}const $k=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},Nk=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Le(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Ik=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},Dk=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},xi(e)),Nk(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Ik(e,e.controlHeightSM)),"&-large":Object.assign({},Ik(e,e.controlHeightLG))})}},Lk=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:o,labelRequiredMarkColor:i,labelColor:a,labelFontSize:s,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},xi(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:a,fontSize:s,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:i,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${o}-switch:only-child, > ${o}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:Ud,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},zk=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},jk=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},Bk=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Fk=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:Bk(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Uk=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${r}-col-24${n}-label,\n        ${r}-col-xl-24${n}-label`]:Bk(e)}},[`@media (max-width: ${Le(e.screenXSMax)})`]:[Fk(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:Bk(e)}}}],[`@media (max-width: ${Le(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:Bk(e)}}},[`@media (max-width: ${Le(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:Bk(e)}}},[`@media (max-width: ${Le(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:Bk(e)}}}}},Hk=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${n}-col-24${t}-label,\n      ${n}-col-xl-24${t}-label`]:Bk(e),[`@media (max-width: ${Le(e.screenXSMax)})`]:[Fk(e),{[t]:{[`${n}-col-xs-24${t}-label`]:Bk(e)}}],[`@media (max-width: ${Le(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:Bk(e)}},[`@media (max-width: ${Le(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:Bk(e)}},[`@media (max-width: ${Le(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:Bk(e)}}}},Qk=(e,t)=>is(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),Vk=hs("Form",(e,{rootPrefixCls:t})=>{const n=Qk(e,t);return[Dk(n),Lk(n),$k(n),zk(n,n.componentCls),zk(n,n.formItemCls),jk(n),Uk(n),Hk(n),ag(n),Ud]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),{order:-1e3}),Wk=[];function Gk(e,t,n,r=0){return{key:"string"==typeof e?e:`${t}-${r}`,error:e,errorStatus:n}}const Xk=({help:e,helpStatus:t,errors:n=Wk,warnings:r=Wk,className:i,fieldId:a,onVisibleChanged:s})=>{const{prefixCls:l}=o.useContext(Xu),c=`${l}-item-explain`,u=rd(l),[d,h,f]=Vk(l,u),p=o.useMemo(()=>Ha(l),[l]),m=Ak(n),g=Ak(r),v=o.useMemo(()=>null!=e?[Gk(e,"help",t)]:[].concat(R(m.map((e,t)=>Gk(e,"error","error",t))),R(g.map((e,t)=>Gk(e,"warning","warning",t)))),[e,t,m,g]),b=o.useMemo(()=>{const e={};return v.forEach(({key:t})=>{e[t]=(e[t]||0)+1}),v.map((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key}))},[v]),y={};return a&&(y.id=`${a}_help`),d(o.createElement(ai,{motionDeadline:p.motionDeadline,motionName:`${l}-show-help`,visible:!!b.length,onVisibleChanged:s},e=>{const{className:t,style:n}=e;return o.createElement("div",Object.assign({},y,{className:$r()(c,t,f,u,i,h),style:n}),o.createElement(ii,Object.assign({keys:b},Ha(l),{motionName:`${l}-show-help-item`,component:!1}),e=>{const{key:t,error:n,errorStatus:r,className:i,style:a}=e;return o.createElement("div",{key:t,className:$r()(i,{[`${c}-${r}`]:r}),style:a},n)}))}))},qk=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Zk=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Yk=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Zk(n.overflowY,t)||Zk(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},Kk=(e,t,n,r,o,i,a,s)=>i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0,Jk=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},eM=(e,t)=>{var n,r,o,i;if("undefined"==typeof document)return[];const{scrollMode:a,block:s,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!qk(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;qk(p)&&d(p);){if(p=Jk(p),p===h){f.push(p);break}null!=p&&p===document.body&&Yk(p)&&!Yk(document.documentElement)||null!=p&&Yk(p,u)&&f.push(p)}const m=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,g=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:v,scrollY:b}=window,{height:y,width:x,top:O,right:w,bottom:S,left:E}=e.getBoundingClientRect(),{top:_,right:C,bottom:k,left:M}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let T="start"===s||"nearest"===s?O-_:"end"===s?S+k:O+y/2-_+k,P="center"===l?E+x/2-M+C:"end"===l?w+C:E-M;const R=[];for(let e=0;e<f.length;e++){const t=f[e],{height:n,width:r,top:o,right:i,bottom:c,left:u}=t.getBoundingClientRect();if("if-needed"===a&&O>=0&&E>=0&&S<=g&&w<=m&&(t===h&&!Yk(t)||O>=o&&S<=c&&E>=u&&w<=i))return R;const d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),_=parseInt(d.borderTopWidth,10),C=parseInt(d.borderRightWidth,10),k=parseInt(d.borderBottomWidth,10);let M=0,A=0;const $="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-C:0,N="offsetHeight"in t?t.offsetHeight-t.clientHeight-_-k:0,I="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,D="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(h===t)M="start"===s?T:"end"===s?T-g:"nearest"===s?Kk(b,b+g,g,_,k,b+T,b+T+y,y):T-g/2,A="start"===l?P:"center"===l?P-m/2:"end"===l?P-m:Kk(v,v+m,m,p,C,v+P,v+P+x,x),M=Math.max(0,M+b),A=Math.max(0,A+v);else{M="start"===s?T-o-_:"end"===s?T-c+k+N:"nearest"===s?Kk(o,c,n,_,k+N,T,T+y,y):T-(o+n/2)+N/2,A="start"===l?P-u-p:"center"===l?P-(u+r/2)+$/2:"end"===l?P-i+C+$:Kk(u,i,r,p,C+$,P,P+x,x);const{scrollLeft:e,scrollTop:a}=t;M=0===D?0:Math.max(0,Math.min(a+M/D,t.scrollHeight-n/D+N)),A=0===I?0:Math.max(0,Math.min(e+A/I,t.scrollWidth-r/I+$)),T+=a-M,P+=e-A}R.push({el:t,top:M,left:A})}return R};const tM=["parentNode"];function nM(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function rM(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:tM.includes(n)?`form_item_${n}`:n}function oM(e,t,n,r,o,i){let a=r;return void 0!==i?a=i:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||o&&n.validated)&&(a="success"),a}function iM(e){return nM(e).join("_")}function aM(e,t){const n=Ir(t.getFieldInstance(e));if(n)return n;const r=rM(nM(e),t.__INTERNAL__.name);return r?document.getElementById(r):void 0}function sM(e){const[t]=Iu(),n=o.useRef({}),r=o.useMemo(()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const r=iM(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:(e,t={})=>{const{focus:n}=t,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["focus"]),i=aM(e,r);i&&(function(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(eM(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:o,top:i,left:a}of eM(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=i-n.top+n.bottom,t=a-n.left+n.right;o.scroll({top:e,left:t,behavior:r})}}(i,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),n&&r.focusField(e))},focusField:e=>{var t,n;const o=r.getFieldInstance(e);"function"==typeof(null==o?void 0:o.focus)?o.focus():null===(n=null===(t=aM(e,r))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)},getFieldInstance:e=>{const t=iM(e);return n.current[t]}}),[e,t]);return[r]}const lM=(e,t)=>{const n=o.useContext(_r),{getPrefixCls:r,direction:i,requiredMark:a,colon:s,scrollToFirstError:l,className:c,style:u}=z("form"),{prefixCls:d,className:h,rootClassName:f,size:p,disabled:m=n,form:g,colon:v,labelAlign:b,labelWrap:y,labelCol:x,wrapperCol:O,hideRequiredMark:w,layout:S="horizontal",scrollToFirstError:E,requiredMark:_,onFinishFailed:C,name:k,style:M,feedbackIcons:T,variant:P}=e,R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),A=Es(p),$=o.useContext(pn),N=o.useMemo(()=>void 0!==_?_:!w&&(void 0===a||a),[w,_,a]),I=null!=v?v:s,D=r("form",d),L=rd(D),[j,B,F]=Vk(D,L),U=$r()(D,`${D}-${S}`,{[`${D}-hide-required-mark`]:!1===N,[`${D}-rtl`]:"rtl"===i,[`${D}-${A}`]:A},F,L,B,c,h,f),[H]=sM(g),{__INTERNAL__:Q}=H;Q.name=k;const V=o.useMemo(()=>({name:k,labelAlign:b,labelCol:x,labelWrap:y,wrapperCol:O,vertical:"vertical"===S,colon:I,requiredMark:N,itemRef:Q.itemRef,form:H,feedbackIcons:T}),[k,b,x,O,S,I,N,H,T]),W=o.useRef(null);o.useImperativeHandle(t,()=>{var e;return Object.assign(Object.assign({},H),{nativeElement:null===(e=W.current)||void 0===e?void 0:e.nativeElement})});const G=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=Object.assign(Object.assign({},n),e)),H.scrollToField(t,n)}};return j(o.createElement(Yu.Provider,{value:P},o.createElement(Er,{disabled:m},o.createElement(Mr.Provider,{value:A},o.createElement(Gu,{validateMessages:$},o.createElement(Vu.Provider,{value:V},o.createElement(Qu,Object.assign({id:k},R,{name:k,onFinishFailed:e=>{if(null==C||C(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==E)return void G(E,t);void 0!==l&&G(l,t)}},form:H,ref:W,style:Object.assign(Object.assign({},u),M),className:U}))))))))},cM=o.forwardRef(lM),uM=()=>{const{status:e,errors:t=[],warnings:n=[]}=o.useContext(qu);return{status:e,errors:t,warnings:n}};uM.Context=qu;const dM=uM,hM=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},fM=ps(["Form","item-item"],(e,{rootPrefixCls:t})=>{const n=Qk(e,t);return[hM(n)]});const pM=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:i,children:a,errors:s,warnings:l,_internalItemRender:c,extra:u,help:d,fieldId:h,marginBottom:f,onErrorVisibleChanged:p,label:m}=e,g=`${t}-item`,v=o.useContext(Vu),b=o.useMemo(()=>{let e=Object.assign({},i||v.wrapperCol||{});return null!==m||r||i||!v.labelCol||[void 0,"xs","sm","md","lg","xl","xxl"].forEach(t=>{const n=t?[t]:[],r=on(v.labelCol,n),o="object"==typeof r?r:{},i=on(e,n);"span"in o&&!("offset"in("object"==typeof i?i:{}))&&o.span<24&&(e=sn(e,[].concat(n,["offset"]),o.span))}),e},[i,v]),y=$r()(`${g}-control`,b.className),x=o.useMemo(()=>{const{labelCol:e,wrapperCol:t}=v;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(v,["labelCol","wrapperCol"])},[v]),O=o.useRef(null),[w,S]=o.useState(0);Ve(()=>{u&&O.current?S(O.current.clientHeight):S(0)},[u]);const E=o.createElement("div",{className:`${g}-control-input`},o.createElement("div",{className:`${g}-control-input-content`},a)),_=o.useMemo(()=>({prefixCls:t,status:n}),[t,n]),C=null!==f||s.length||l.length?o.createElement(Xu.Provider,{value:_},o.createElement(Xk,{fieldId:h,errors:s,warnings:l,help:d,helpStatus:n,className:`${g}-explain-connected`,onVisibleChanged:p})):null,k={};h&&(k.id=`${h}_extra`);const M=u?o.createElement("div",Object.assign({},k,{className:`${g}-extra`,ref:O}),u):null,T=C||M?o.createElement("div",{className:`${g}-additional`,style:f?{minHeight:f+w}:{}},C,M):null,P=c&&"pro_table_render"===c.mark&&c.render?c.render(e,{input:E,errorList:C,extra:M}):o.createElement(o.Fragment,null,E,T);return o.createElement(Vu.Provider,{value:x},o.createElement(Tw,Object.assign({},b,{className:y}),P),o.createElement(fM,{prefixCls:t}))},mM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var gM=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:mM}))};const vM=o.forwardRef(gM);const bM=({prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:i,colon:a,required:s,requiredMark:l,tooltip:c,vertical:u})=>{var d;const[h]=Qa("Form"),{labelAlign:f,labelCol:p,labelWrap:m,colon:g}=o.useContext(Vu);if(!t)return null;const v=r||p||{},b=i||f,y=`${e}-item-label`,x=$r()(y,"left"===b&&`${y}-left`,v.className,{[`${y}-wrap`]:!!m});let O=t;const w=!0===a||!1!==g&&!1!==a;w&&!u&&"string"==typeof t&&t.trim()&&(O=t.replace(/[:|：]\s*$/,""));const S=function(e){return null==e?null:"object"!=typeof e||(0,o.isValidElement)(e)?{title:e}:e}(c);if(S){const{icon:t=o.createElement(vM,null)}=S,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(S,["icon"]),r=o.createElement(tg,Object.assign({},n),o.cloneElement(t,{className:`${e}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));O=o.createElement(o.Fragment,null,O,r)}const E="optional"===l,_="function"==typeof l,C=!1===l;let k;_?O=l(O,{required:!!s}):E&&!s&&(O=o.createElement(o.Fragment,null,O,o.createElement("span",{className:`${e}-item-optional`,title:""},(null==h?void 0:h.optional)||(null===(d=xn.Form)||void 0===d?void 0:d.optional)))),C?k="hidden":(E||_)&&(k="optional");const M=$r()({[`${e}-item-required`]:s,[`${e}-item-required-mark-${k}`]:k,[`${e}-item-no-colon`]:!w});return o.createElement(Tw,Object.assign({},v,{className:x}),o.createElement("label",{htmlFor:n,className:M,title:"string"==typeof t?t:""},O))},yM={success:Sa,warning:Ta,error:Ca,validating:Qs};function xM({children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:a,meta:s,noStyle:l,name:c}){const u=`${a}-item`,{feedbackIcons:d}=o.useContext(Vu),h=oM(t,n,s,null,!!r,i),{isFormItemInput:f,status:p,hasFeedback:m,feedbackIcon:g,name:v}=o.useContext(qu),b=o.useMemo(()=>{var e;let i;if(r){const a=!0!==r&&r.icons||d,s=h&&(null===(e=null==a?void 0:a({status:h,errors:t,warnings:n}))||void 0===e?void 0:e[h]),l=h&&yM[h];i=!1!==s&&l?o.createElement("span",{className:$r()(`${u}-feedback-icon`,`${u}-feedback-icon-${h}`)},s||o.createElement(l,null)):null}const a={status:h||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:i,isFormItemInput:!0,name:c};return l&&(a.status=(null!=h?h:p)||"",a.isFormItemInput=f,a.hasFeedback=!!(null!=r?r:m),a.feedbackIcon=void 0!==r?a.feedbackIcon:g,a.name=null!=c?c:v),a},[h,r,l,f,p]);return o.createElement(qu.Provider,{value:b},e)}function OM(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:a,errors:s,warnings:l,validateStatus:c,meta:u,hasFeedback:d,hidden:h,children:f,fieldId:p,required:m,isRequired:g,onSubItemMetaChange:v,layout:b,name:y}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),O=`${t}-item`,{requiredMark:w,vertical:S}=o.useContext(Vu),E=S||"vertical"===b,_=o.useRef(null),C=Ak(s),k=Ak(l),M=null!=a,T=!!(M||s.length||l.length),P=!!_.current&&Wa(_.current),[R,A]=o.useState(null);Ve(()=>{if(T&&_.current){const e=getComputedStyle(_.current);A(parseInt(e.marginBottom,10))}},[T,P]);const $=((e=!1)=>oM(e?C:u.errors,e?k:u.warnings,u,"",!!d,c))(),N=$r()(O,n,r,{[`${O}-with-help`]:M||C.length||k.length,[`${O}-has-feedback`]:$&&d,[`${O}-has-success`]:"success"===$,[`${O}-has-warning`]:"warning"===$,[`${O}-has-error`]:"error"===$,[`${O}-is-validating`]:"validating"===$,[`${O}-hidden`]:h,[`${O}-${b}`]:b});return o.createElement("div",{className:N,style:i,ref:_},o.createElement(Ey,Object.assign({className:`${O}-row`},Va(x,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),o.createElement(bM,Object.assign({htmlFor:p},e,{requiredMark:w,required:null!=m?m:g,prefixCls:t,vertical:E})),o.createElement(pM,Object.assign({},e,u,{errors:C,warnings:k,prefixCls:t,status:$,help:a,marginBottom:R,onErrorVisibleChanged:e=>{e||A(null)}}),o.createElement(Wu.Provider,{value:v},o.createElement(xM,{prefixCls:t,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:d,validateStatus:$,name:y},f)))),!!R&&o.createElement("div",{className:`${O}-margin-offset`,style:{marginBottom:-R}}))}const wM=o.memo(({children:e})=>e,(e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{const r=e[n],o=t[n];return r===o||"function"==typeof r||"function"==typeof o})}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((e,n)=>e===t.childProps[n])),SM=function(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:a,shouldUpdate:s,rules:l,children:c,required:u,label:d,messageVariables:h,trigger:f="onChange",validateTrigger:p,hidden:m,help:g,layout:v}=e,{getPrefixCls:b}=o.useContext(I),{name:y}=o.useContext(Vu),x=function(e){if("function"==typeof e)return e;const t=_s(e);return t.length<=1?t[0]:t}(c),O="function"==typeof x,w=o.useContext(Wu),{validateTrigger:S}=o.useContext(Ac),E=void 0!==p?p:S,_=!(null==t),C=b("form",a),k=rd(C),[M,T,P]=Vk(C,k);fn();const A=o.useContext($c),$=o.useRef(null),[N,D]=function(){const[e,t]=o.useState({}),n=o.useRef(null),r=o.useRef([]),i=o.useRef(!1);return o.useEffect(()=>(i.current=!1,()=>{i.current=!0,Ho.cancel(n.current),n.current=null}),[]),[e,function(e){i.current||(null===n.current&&(r.current=[],n.current=Ho(()=>{n.current=null,t(e=>{let t=e;return r.current.forEach(e=>{t=e(t)}),t})})),r.current.push(e))}]}(),[L,z]=so(()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1})),j=(e,t)=>{D(n=>{const r=Object.assign({},n),o=[].concat(R(e.name.slice(0,-1)),R(t)).join("__SPLIT__");return e.destroy?delete r[o]:r[o]=e,r})},[B,F]=o.useMemo(()=>{const e=R(L.errors),t=R(L.warnings);return Object.values(N).forEach(n=>{e.push.apply(e,R(n.errors||[])),t.push.apply(t,R(n.warnings||[]))}),[e,t]},[N,L.errors,L.warnings]),U=function(){const{itemRef:e}=o.useContext(Vu),t=o.useRef({});return function(n,r){const o=r&&"object"==typeof r&&Xr(r),i=n.join("_");return t.current.name===i&&t.current.originRef===o||(t.current.name=i,t.current.originRef=o,t.current.ref=Qr(e(n),o)),t.current.ref}}();function H(i,a,s){return n&&!m?o.createElement(xM,{prefixCls:C,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:L,errors:B,warnings:F,noStyle:!0,name:t},i):o.createElement(OM,Object.assign({key:"row"},e,{className:$r()(r,P,k,T),prefixCls:C,fieldId:a,isRequired:s,errors:B,warnings:F,meta:L,onSubItemMetaChange:j,layout:v,name:t}),i)}if(!_&&!O&&!i)return M(H(x));let Q={};return"string"==typeof d?Q.label=d:t&&(Q.label=String(t)),h&&(Q=Object.assign(Object.assign({},Q),h)),M(o.createElement(ku,Object.assign({},e,{messageVariables:Q,trigger:f,validateTrigger:E,onMetaChange:e=>{const t=null==A?void 0:A.getKey(e.name);if(z(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==g&&w){let n=e.name;if(e.destroy)n=$.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(R(r)),$.current=n}w(e,n)}}}),(n,r,a)=>{const c=nM(t).length&&r?r.name:[],d=rM(c,y),h=void 0!==u?u:!!(null==l?void 0:l.some(e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(a);return(null==t?void 0:t.required)&&!(null==t?void 0:t.warningOnly)}return!1})),p=Object.assign({},n);let m=null;if(Array.isArray(x)&&_)m=x;else if(O&&(!s&&!i||_));else if(!i||O||_)if(o.isValidElement(x)){const t=Object.assign(Object.assign({},x.props),p);if(t.id||(t.id=d),g||B.length>0||F.length>0||e.extra){const n=[];(g||B.length>0)&&n.push(`${d}_help`),e.extra&&n.push(`${d}_extra`),t["aria-describedby"]=n.join(" ")}B.length>0&&(t["aria-invalid"]="true"),h&&(t["aria-required"]="true"),Wr(x)&&(t.ref=U(c,x)),new Set([].concat(R(nM(f)),R(nM(E)))).forEach(e=>{t[e]=(...t)=>{var n,r,o,i,a;null===(o=p[e])||void 0===o||(n=o).call.apply(n,[p].concat(t)),null===(a=(i=x.props)[e])||void 0===a||(r=a).call.apply(r,[i].concat(t))}});const n=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];m=o.createElement(wM,{control:p,update:x,childProps:n},Xa(x,t))}else m=O&&(s||i)&&!_?x(a):x;return H(m,d,h)}))};SM.useStatus=dM;const EM=SM;const _M=cM;_M.Item=EM,_M.List=e=>{var{prefixCls:t,children:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","children"]);const{getPrefixCls:i}=o.useContext(I),a=i("form",t),s=o.useMemo(()=>({prefixCls:a,status:"error"}),[a]);return o.createElement(Mu,Object.assign({},r),(e,t,r)=>o.createElement(Xu.Provider,{value:s},n(e.map(e=>Object.assign(Object.assign({},e),{fieldKey:e.key})),t,{errors:r.errors,warnings:r.warnings})))},_M.ErrorList=Xk,_M.useForm=sM,_M.useFormInstance=function(){const{form:e}=o.useContext(Vu);return e},_M.useWatch=Uu,_M.Provider=Gu,_M.create=()=>{};const CM=_M,kM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};var MM=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:kM}))};const TM=o.forwardRef(MM);function PM(){return"function"==typeof BigInt}function RM(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function AM(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(s).concat(r)}}function $M(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function NM(e){var t=String(e);if($M(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&DM(t)?t.length-t.indexOf(".")-1:0}function IM(e){var t=String(e);if($M(e)){if(e>Number.MAX_SAFE_INTEGER)return String(PM()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(PM()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(NM(t))}return AM(t).fullStr}function DM(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var LM=function(){function e(t){if(me(this,e),F(this,"origin",""),F(this,"negative",void 0),F(this,"integer",void 0),F(this,"decimal",void 0),F(this,"decimalLen",void 0),F(this,"empty",void 0),F(this,"nan",void 0),RM(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if($M(n)&&(n=Number(n)),DM(n="string"==typeof n?n:IM(n))){var r=AM(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return ve(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),s=AM(i),l=s.negativeStr,c=s.trimStr,u="".concat(l).concat(c.padStart(a+1,"0"));return new e("".concat(u.slice(0,-a),".").concat(u.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,function(e,t){return e+t},function(e){return e})}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,function(e,t){return e*t},function(e){return 2*e})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.origin:this.isInvalidate()?"":AM("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr}}]),e}(),zM=function(){function e(t){me(this,e),F(this,"origin",""),F(this,"number",void 0),F(this,"empty",void 0),RM(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return ve(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(NM(this.number),NM(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(NM(this.number),NM(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.origin:this.isInvalidate()?"":IM(this.number)}}]),e}();function jM(e){return PM()?new LM(e):new zM(e)}function BM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=AM(e),i=o.negativeStr,a=o.integerStr,s=o.decimalStr,l="".concat(t).concat(s),c="".concat(i).concat(a);if(n>=0){var u=Number(s[n]);return u>=5&&!r?BM(jM(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-u)).toString(),t,n,r):0===n?c:"".concat(c).concat(t).concat(s.padEnd(n,"0").slice(0,n))}return".0"===l?c:"".concat(c).concat(l)}const FM=jM;function UM(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,a=e.downDisabled,s=e.onStep,l=o.useRef(),c=o.useRef([]),u=o.useRef();u.current=s;var d,h,f,p=function(){clearTimeout(l.current)},m=function(e,t){e.preventDefault(),p(),u.current(t),l.current=setTimeout(function e(){u.current(t),l.current=setTimeout(e,200)},600)};if(o.useEffect(function(){return function(){p(),c.current.forEach(function(e){return Ho.cancel(e)})}},[]),d=Q((0,o.useState)(!1),2),h=d[0],f=d[1],Ve(function(){f(Tp())},[]),h)return null;var g="".concat(t,"-handler"),v=$r()(g,"".concat(g,"-up"),F({},"".concat(g,"-up-disabled"),i)),b=$r()(g,"".concat(g,"-down"),F({},"".concat(g,"-down-disabled"),a)),y=function(){return c.current.push(Ho(p))},x={unselectable:"on",role:"button",onMouseUp:y,onMouseLeave:y};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",et({},x,{onMouseDown:function(e){m(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:v}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",et({},x,{onMouseDown:function(e){m(e,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:b}),r||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function HM(e){var t="number"==typeof e?IM(e):AM(e).fullStr;return t.includes(".")?AM(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var QM=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],VM=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],WM=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},GM=function(e){var t=FM(e);return t.isInvalidate()?null:t},XM=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.min,s=e.max,l=e.step,c=void 0===l?1:l,u=e.defaultValue,d=e.value,h=e.disabled,f=e.readOnly,p=e.upHandler,m=e.downHandler,g=e.keyboard,v=e.changeOnWheel,b=void 0!==v&&v,y=e.controls,x=void 0===y||y,O=(e.classNames,e.stringMode),w=e.parser,S=e.formatter,E=e.precision,_=e.decimalSeparator,C=e.onChange,k=e.onInput,M=e.onPressEnter,T=e.onStep,P=e.changeOnBlur,R=void 0===P||P,A=e.domRef,$=qr(e,QM),N="".concat(n,"-input"),I=o.useRef(null),D=Q(o.useState(!1),2),L=D[0],z=D[1],B=o.useRef(!1),U=o.useRef(!1),H=o.useRef(!1),V=Q(o.useState(function(){return FM(null!=d?d:u)}),2),W=V[0],G=V[1],X=o.useCallback(function(e,t){if(!t)return E>=0?E:Math.max(NM(e),NM(c))},[E,c]),q=o.useCallback(function(e){var t=String(e);if(w)return w(t);var n=t;return _&&(n=n.replace(_,".")),n.replace(/[^\w.-]+/g,"")},[w,_]),Z=o.useRef(""),Y=o.useCallback(function(e,t){if(S)return S(e,{userTyping:t,input:String(Z.current)});var n="number"==typeof e?IM(e):e;if(!t){var r=X(n,t);DM(n)&&(_||r>=0)&&(n=BM(n,_||".",r))}return n},[S,X,_]),K=Q(o.useState(function(){var e=null!=u?u:d;return W.isInvalidate()&&["string","number"].includes(j(e))?Number.isNaN(e)?"":e:Y(W.toString(),!1)}),2),J=K[0],ee=K[1];function te(e,t){ee(Y(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}Z.current=J;var ne,re,oe=o.useMemo(function(){return GM(s)},[s,E]),ie=o.useMemo(function(){return GM(a)},[a,E]),ae=o.useMemo(function(){return!(!oe||!W||W.isInvalidate())&&oe.lessEquals(W)},[oe,W]),se=o.useMemo(function(){return!(!ie||!W||W.isInvalidate())&&W.lessEquals(ie)},[ie,W]),le=function(e,t){var n=(0,o.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,o=e.value,i=o.substring(0,t),a=o.substring(r);n.current={start:t,end:r,value:o,beforeTxt:i,afterTxt:a}}catch(e){}},function(){if(e&&n.current&&t)try{var r=e.value,o=n.current,i=o.beforeTxt,a=o.afterTxt,s=o.start,l=r.length;if(r.startsWith(i))l=i.length;else if(r.endsWith(a))l=r.length-n.current.afterTxt.length;else{var c=i[s-1],u=r.indexOf(c,s-1);-1!==u&&(l=u+1)}e.setSelectionRange(l,l)}catch(e){fe(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]}(I.current,L),ce=Q(le,2),ue=ce[0],de=ce[1],he=function(e){return oe&&!e.lessEquals(oe)?oe:ie&&!ie.lessEquals(e)?ie:null},pe=function(e){return!he(e)},me=function(e,t){var n=e,r=pe(n)||n.isEmpty();if(n.isEmpty()||t||(n=he(n)||n,r=!0),!f&&!h&&r){var o=n.toString(),i=X(o,t);return i>=0&&(n=FM(BM(o,".",i)),pe(n)||(n=FM(BM(o,".",i,!0)))),n.equals(W)||(void 0===d&&G(n),null==C||C(n.isEmpty()?null:WM(O,n)),void 0===d&&te(n,t)),n}return W},ge=(ne=(0,o.useRef)(0),re=function(){Ho.cancel(ne.current)},(0,o.useEffect)(function(){return re},[]),function(e){re(),ne.current=Ho(function(){e()})}),ve=function e(t){if(ue(),Z.current=t,ee(t),!U.current){var n=q(t),r=FM(n);r.isNaN()||me(r,!0)}null==k||k(t),ge(function(){var n=t;w||(n=t.replace(/。/g,".")),n!==t&&e(n)})},be=function(e){var t;if(!(e&&ae||!e&&se)){B.current=!1;var n=FM(H.current?HM(c):c);e||(n=n.negate());var r=(W||FM(0)).add(n.toString()),o=me(r,!1);null==T||T(WM(O,o),{offset:H.current?HM(c):c,type:e?"up":"down"}),null===(t=I.current)||void 0===t||t.focus()}},ye=function(e){var t,n=FM(q(J));t=n.isNaN()?me(W,e):me(n,e),void 0!==d?te(W,!1):t.isNaN()||te(t,!1)};return o.useEffect(function(){if(b&&L){var e=function(e){be(e.deltaY<0),e.preventDefault()},t=I.current;if(t)return t.addEventListener("wheel",e,{passive:!1}),function(){return t.removeEventListener("wheel",e)}}}),Qe(function(){W.isInvalidate()||te(W,!1)},[E,S]),Qe(function(){var e=FM(d);G(e);var t=FM(q(J));e.equals(t)&&B.current&&!S||te(e,B.current)},[d]),Qe(function(){S&&de()},[J]),o.createElement("div",{ref:A,className:$r()(n,r,F(F(F(F(F({},"".concat(n,"-focused"),L),"".concat(n,"-disabled"),h),"".concat(n,"-readonly"),f),"".concat(n,"-not-a-number"),W.isNaN()),"".concat(n,"-out-of-range"),!W.isInvalidate()&&!pe(W))),style:i,onFocus:function(){z(!0)},onBlur:function(){R&&ye(!1),z(!1),B.current=!1},onKeyDown:function(e){var t=e.key,n=e.shiftKey;B.current=!0,H.current=n,"Enter"===t&&(U.current||(B.current=!1),ye(!1),null==M||M(e)),!1!==g&&!U.current&&["Up","ArrowUp","Down","ArrowDown"].includes(t)&&(be("Up"===t||"ArrowUp"===t),e.preventDefault())},onKeyUp:function(){B.current=!1,H.current=!1},onCompositionStart:function(){U.current=!0},onCompositionEnd:function(){U.current=!1,ve(I.current.value)},onBeforeInput:function(){B.current=!0}},x&&o.createElement(UM,{prefixCls:n,upNode:p,downNode:m,upDisabled:ae,downDisabled:se,onStep:be}),o.createElement("div",{className:"".concat(N,"-wrap")},o.createElement("input",et({autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":s,"aria-valuenow":W.isInvalidate()?null:W.toString(),step:c},$,{ref:Qr(I,t),className:N,value:J,onChange:function(e){ve(e.target.value)},disabled:h,readOnly:f}))))}),qM=o.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,a=void 0===i?"rc-input-number":i,s=e.value,l=e.prefix,c=e.suffix,u=e.addonBefore,d=e.addonAfter,h=e.className,f=e.classNames,p=qr(e,VM),m=o.useRef(null),g=o.useRef(null),v=o.useRef(null),b=function(e){v.current&&ub(v.current,e)};return o.useImperativeHandle(t,function(){return e=v.current,t={focus:b,nativeElement:m.current.nativeElement||g.current},"undefined"!=typeof Proxy&&e?new Proxy(e,{get:function(e,n){if(t[n])return t[n];var r=e[n];return"function"==typeof r?r.bind(e):r}}):e;var e,t}),o.createElement(hb,{className:h,triggerFocus:b,prefixCls:a,value:s,disabled:n,style:r,prefix:l,suffix:c,addonAfter:d,addonBefore:u,classNames:f,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:m},o.createElement(XM,et({prefixCls:a,disabled:n,ref:v,domRef:g,className:null==f?void 0:f.input},p)))});const ZM=qM,YM=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const o="lg"===r?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:o,borderEndEndRadius:o},[`${e}-handler-up`]:{borderStartEndRadius:o},[`${e}-handler-down`]:{borderEndEndRadius:o}}}},KM=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:o,inputFontSizeSM:i,inputFontSizeLG:a,controlHeightLG:s,controlHeightSM:l,colorError:c,paddingInlineSM:u,paddingBlockSM:d,paddingBlockLG:h,paddingInlineLG:f,colorIcon:p,motionDurationMid:m,handleHoverColor:g,handleOpacity:v,paddingInline:b,paddingBlock:y,handleBg:x,handleActiveBg:O,colorTextDisabled:w,borderRadiusSM:S,borderRadiusLG:E,controlWidth:_,handleBorderColor:C,filledHandleBg:k,lineHeightLG:M,calc:T}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),Kv(e)),{display:"inline-block",width:_,margin:0,padding:0,borderRadius:o}),Lv(e,{[`${t}-handler-wrap`]:{background:x,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${C}`}}})),Hv(e,{[`${t}-handler-wrap`]:{background:k,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${C}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:x}}})),Xv(e,{[`${t}-handler-wrap`]:{background:x,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${C}`}}})),Bv(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:a,lineHeight:M,borderRadius:E,[`input${t}-input`]:{height:T(s).sub(T(n).mul(2)).equal(),padding:`${Le(h)} ${Le(f)}`}},"&-sm":{padding:0,fontSize:i,borderRadius:S,[`input${t}-input`]:{height:T(l).sub(T(n).mul(2)).equal(),padding:`${Le(d)} ${Le(u)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:c}}},"&-group":Object.assign(Object.assign(Object.assign({},xi(e)),Jv(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:E,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:S}}},jv(e)),Vv(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{width:"100%",padding:`${Le(y)} ${Le(b)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:o,outline:0,transition:`all ${m} linear`,appearance:"textfield",fontSize:"inherit"}),qv(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:v,height:"100%",borderStartStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${m}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:p,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Le(n)} ${r} ${C}`,transition:`all ${m} linear`,"&:active":{background:O},"&:hover":{height:"60%",[`\n              ${t}-handler-up-inner,\n              ${t}-handler-down-inner\n            `]:{color:g}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{color:p,transition:`all ${m} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:o},[`${t}-handler-down`]:{borderEndEndRadius:o}},YM(e,"lg")),YM(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`\n          ${t}-handler-up-disabled,\n          ${t}-handler-down-disabled\n        `]:{cursor:"not-allowed"},[`\n          ${t}-handler-up-disabled:hover &-handler-up-inner,\n          ${t}-handler-down-disabled:hover &-handler-down-inner\n        `]:{color:w}})}]},JM=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:o,controlWidth:i,borderRadiusLG:a,borderRadiusSM:s,paddingInlineLG:l,paddingInlineSM:c,paddingBlockLG:u,paddingBlockSM:d,motionDurationMid:h}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Le(n)} 0`}},Kv(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:i,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:a,paddingInlineStart:l,[`input${t}-input`]:{padding:`${Le(u)} 0`}},"&-sm":{borderRadius:s,paddingInlineStart:c,[`input${t}-input`]:{padding:`${Le(d)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:o},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:o,transition:`margin ${h}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},eT=hs("InputNumber",e=>{const t=is(e,Rv(e));return[KM(t),JM(t),Il(t)]},e=>{var t;const n=null!==(t=e.handleVisible)&&void 0!==t?t:"auto",r=e.controlHeightSM-2*e.lineWidth;return Object.assign(Object.assign({},Av(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new Rn(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:!0===n?1:0,handleVisibleWidth:!0===n?r:0})},{unitless:{handleOpacity:!0}});const tT=o.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=o.useContext(I),i=o.useRef(null);o.useImperativeHandle(t,()=>i.current);const{className:a,rootClassName:s,size:l,disabled:c,prefixCls:u,addonBefore:d,addonAfter:h,prefix:f,suffix:p,bordered:m,readOnly:g,status:v,controls:b,variant:y}=e,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),O=n("input-number",u),w=rd(O),[S,E,_]=eT(O,w),{compactSize:C,compactItemClassnames:k}=As(O,r);let M=o.createElement(TM,{className:`${O}-handler-up-inner`}),T=o.createElement(WO,{className:`${O}-handler-down-inner`});const P="boolean"==typeof b?b:void 0;"object"==typeof b&&(M=void 0===b.upIcon?M:o.createElement("span",{className:`${O}-handler-up-inner`},b.upIcon),T=void 0===b.downIcon?T:o.createElement("span",{className:`${O}-handler-down-inner`},b.downIcon));const{hasFeedback:R,status:A,isFormItemInput:$,feedbackIcon:N}=o.useContext(qu),D=xb(A,v),L=Es(e=>{var t;return null!==(t=null!=l?l:C)&&void 0!==t?t:e}),z=o.useContext(_r),j=null!=c?c:z,[B,F]=Ob("inputNumber",y,m),U=R&&o.createElement(o.Fragment,null,N),H=$r()({[`${O}-lg`]:"large"===L,[`${O}-sm`]:"small"===L,[`${O}-rtl`]:"rtl"===r,[`${O}-in-form-item`]:$},E),Q=`${O}-group`;return S(o.createElement(ZM,Object.assign({ref:i,disabled:j,className:$r()(_,w,a,s,k),upHandler:M,downHandler:T,prefixCls:O,readOnly:g,controls:P,prefix:f,suffix:U||p,addonBefore:d&&o.createElement(Ku,{form:!0,space:!0},d),addonAfter:h&&o.createElement(Ku,{form:!0,space:!0},h),classNames:{input:H,variant:$r()({[`${O}-${B}`]:F},yb(O,D,R)),affixWrapper:$r()({[`${O}-affix-wrapper-sm`]:"small"===L,[`${O}-affix-wrapper-lg`]:"large"===L,[`${O}-affix-wrapper-rtl`]:"rtl"===r,[`${O}-affix-wrapper-without-controls`]:!1===b||j},E),wrapper:$r()({[`${Q}-rtl`]:"rtl"===r},E),groupWrapper:$r()({[`${O}-group-wrapper-sm`]:"small"===L,[`${O}-group-wrapper-lg`]:"large"===L,[`${O}-group-wrapper-rtl`]:"rtl"===r,[`${O}-group-wrapper-${B}`]:F},yb(`${O}-group-wrapper`,D,R),E)}},x)))}),nT=tT;nT._InternalPanelDoNotUseOrYouWillBeFired=e=>o.createElement(Ii,{theme:{components:{InputNumber:{handleVisible:!0}}}},o.createElement(tT,Object.assign({},e)));const rT=nT;var oT=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],iT=o.forwardRef(function(e,t){var n,r=e.prefixCls,i=void 0===r?"rc-switch":r,a=e.className,s=e.checked,l=e.defaultChecked,c=e.disabled,u=e.loadingIcon,d=e.checkedChildren,h=e.unCheckedChildren,f=e.onClick,p=e.onChange,m=e.onKeyDown,g=qr(e,oT),v=Q(co(!1,{value:s,defaultValue:l}),2),b=v[0],y=v[1];function x(e,t){var n=b;return c||(y(n=e),null==p||p(n,t)),n}var O=$r()(i,a,(F(n={},"".concat(i,"-checked"),b),F(n,"".concat(i,"-disabled"),c),n));return o.createElement("button",et({},g,{type:"button",role:"switch","aria-checked":b,disabled:c,className:O,ref:t,onKeyDown:function(e){e.which===fc.LEFT?x(!1,e):e.which===fc.RIGHT&&x(!0,e),null==m||m(e)},onClick:function(e){var t=x(!b,e);null==f||f(t,e)}}),u,o.createElement("span",{className:"".concat(i,"-inner")},o.createElement("span",{className:"".concat(i,"-inner-checked")},d),o.createElement("span",{className:"".concat(i,"-inner-unchecked")},h)))});iT.displayName="Switch";const aT=iT,sT=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:i,innerMaxMarginSM:a,handleSizeSM:s,calc:l}=e,c=`${t}-inner`,u=Le(l(s).add(l(r).mul(2)).equal()),d=Le(l(a).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:o,height:n,lineHeight:Le(n),[`${t}-inner`]:{paddingInlineStart:a,paddingInlineEnd:i,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${c}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:s,height:s},[`${t}-loading-icon`]:{top:l(l(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:i,paddingInlineEnd:a,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Le(l(s).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},lT=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},cT=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:o,handleSize:i,calc:a}=e,s=`${t}-handle`;return{[t]:{[s]:{position:"absolute",top:n,insetInlineStart:n,width:i,height:i,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:a(i).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${s}`]:{insetInlineStart:`calc(100% - ${Le(a(i).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},uT=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:i,handleSize:a,calc:s}=e,l=`${t}-inner`,c=Le(s(a).add(s(r).mul(2)).equal()),u=Le(s(i).mul(2).equal());return{[t]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${l}-unchecked`]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${l}`]:{paddingInlineStart:o,paddingInlineEnd:i,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},dT=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},xi(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Le(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),wi(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},hT=hs("Switch",e=>{const t=is(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[dT(t),uT(t),cT(t),lT(t),sT(t)]},e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:o}=e,i=t*n,a=r/2,s=i-4,l=a-4;return{trackHeight:i,trackHeightSM:a,trackMinWidth:2*s+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:o,handleSize:s,handleSizeSM:l,handleShadow:`0 2px 4px 0 ${new Rn("#00230b").setA(.2).toRgbString()}`,innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}});const fT=o.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:a,className:s,rootClassName:l,style:c,checked:u,value:d,defaultChecked:h,defaultValue:f,onChange:p}=e,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[g,v]=co(!1,{value:null!=u?u:d,defaultValue:null!=h?h:f}),{getPrefixCls:b,direction:y,switch:x}=o.useContext(I),O=o.useContext(_r),w=(null!=i?i:O)||a,S=b("switch",n),E=o.createElement("div",{className:`${S}-handle`},a&&o.createElement(Qs,{className:`${S}-loading-icon`})),[_,C,k]=hT(S),M=Es(r),T=$r()(null==x?void 0:x.className,{[`${S}-small`]:"small"===M,[`${S}-loading`]:a,[`${S}-rtl`]:"rtl"===y},s,l,C,k),P=Object.assign(Object.assign({},null==x?void 0:x.style),c);return _(o.createElement(Ss,{component:"Switch"},o.createElement(aT,Object.assign({},m,{checked:g,onChange:(...e)=>{v(e[0]),null==p||p.apply(void 0,e)},prefixCls:S,className:T,style:P,disabled:w,ref:t,loadingIcon:E}))))}),pT=fT;pT.__ANT_SWITCH=!0;const mT=pT;var gT=n(7755),vT={};function bT(e){return bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bT(e)}function yT(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return xT(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(xT(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,xT(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,xT(d,"constructor",c),xT(c,"constructor",l),l.displayName="GeneratorFunction",xT(c,o,"GeneratorFunction"),xT(d),xT(d,o,"Generator"),xT(d,r,function(){return this}),xT(d,"toString",function(){return"[object Generator]"}),(yT=function(){return{w:i,m:h}})()}function xT(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}xT=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){xT(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},xT(e,t,n,r)}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(t){ST(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ST(e,t,n){return(t=function(e){var t=function(e){if("object"!=bT(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ET(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return CT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}vT.styleTagTransform=Wg(),vT.setAttributes=Ug(),vT.insert=Bg().bind(null,"head"),vT.domAPI=zg(),vT.insertStyleElement=Qg(),Dg()(gT.A,vT),gT.A&&gT.A.locals&&gT.A.locals;var kT=[{key:"general",label:"通用"},{key:"node",label:"节点"},{key:"api",label:"API"},{key:"other",label:"其他"},{key:"framework",label:"框架"}];const MT=function(e){var t=e.visible,n=e.onClose,r=_T((0,o.useState)("general"),2),i=r[0],a=r[1],s=_T((0,o.useState)(!1),2),l=s[0],c=s[1],u=_T((0,o.useState)(""),2),d=u[0],h=u[1],f=_T((0,o.useState)(!1),2),p=f[0],m=f[1],g=_T((0,o.useState)(!1),2),v=g[0],b=g[1],y=_T((0,o.useState)(""),2),x=y[0],O=y[1],w=_T(CM.useForm(),1)[0],S=_T(CM.useForm(),1)[0],E=_T(CM.useForm(),1)[0],_=_T(CM.useForm(),1)[0];(0,o.useEffect)(function(){t&&(w.setFieldsValue({delay:0,timeout:0,reportUrl:""}),S.setFieldsValue({host:"127.0.0.1",port:2200}),E.setFieldsValue({noUi:!1}),_.setFieldsValue({path:""}))},[t]);var C=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ET(i,r,o,a,s,"next",e)}function s(e){ET(i,r,o,a,s,"throw",e)}a(void 0)})}}(yT().m(function e(){var t,r,o,i,a,s;return yT().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,b(!0),console.log("保存设置"),t=w.getFieldsValue(),r=S.getFieldsValue(),o=E.getFieldsValue(),i=_.getFieldsValue(),a={node:wT(wT({},t),{},{delay:t.delay||0,timeout:t.timeout||0,reportUrl:t.reportUrl||""}),api:wT(wT({},r),{},{host:r.host||"127.0.0.1",port:r.port||2200,tokenEnabled:l,token:d}),other:wT(wT({},o),{},{noUi:p}),framework:wT(wT({},i),{},{path:x})},console.log("设置数据:",a),e.n=1,new Promise(function(e){return setTimeout(e,500)});case 1:n(),e.n=3;break;case 2:e.p=2,s=e.v,console.error("保存设置失败:",s);case 3:return e.p=3,b(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}();return o.createElement(Dh,{open:t,onCancel:n,footer:null,width:800,title:"设置",className:"settings-modal"},o.createElement("div",{className:"settings-modal-content"},o.createElement(Ng,{mode:"inline",selectedKeys:[i],onClick:function(e){a(e.key)},className:"settings-menu",items:kT}),o.createElement("div",{className:"settings-form-container"},function(){switch(i){case"general":return o.createElement("div",{className:"settings-empty"},"暂无设置项");case"node":return o.createElement(CM,{layout:"vertical",className:"settings-form",form:w},o.createElement(CM.Item,{name:"delay",label:"节点执行延迟 (ms)"},o.createElement(rT,{min:0,placeholder:"请输入延迟（毫秒）",style:{width:200}})),o.createElement(CM.Item,{name:"timeout",label:"节点超时时间 (ms)"},o.createElement(rT,{min:0,placeholder:"请输入超时时间（毫秒）",style:{width:200}})),o.createElement(CM.Item,{name:"reportUrl",label:"节点上报地址 URL"},o.createElement(ly,{placeholder:"请输入上报地址 URL",style:{width:400}})));case"api":return o.createElement(CM,{layout:"vertical",className:"settings-form",form:S},o.createElement(CM.Item,{name:"host",label:"API 主机"},o.createElement(ly,{placeholder:"127.0.0.1",style:{width:200}})),o.createElement(CM.Item,{name:"port",label:"API 端口"},o.createElement(rT,{min:1,max:65535,placeholder:"2200",style:{width:200}})),o.createElement(CM.Item,{label:"是否启用 Token"},o.createElement(mT,{checked:l,onChange:c})),l&&o.createElement(CM.Item,{label:"Token 值"},o.createElement(ly,{placeholder:"请输入 Token（可为空）",style:{width:400},value:d,onChange:function(e){return h(e.target.value)}})));case"other":return o.createElement(CM,{layout:"vertical",className:"settings-form",form:E},o.createElement(CM.Item,{label:"是否无 UI 启动"},o.createElement(mT,{checked:p,onChange:m})));case"framework":return o.createElement(CM,{layout:"vertical",className:"settings-form",form:_},o.createElement(CM.Item,{label:"框架路径"},o.createElement(ly,{placeholder:"请输入框架路径",style:{width:400},value:x,onChange:function(e){return O(e.target.value)}})));default:return null}}(),o.createElement("div",{className:"settings-footer"},o.createElement(Hl,{type:"primary",onClick:C,loading:v},"保存")))))};function TT(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return PT(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(PT(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,PT(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,PT(d,"constructor",c),PT(c,"constructor",l),l.displayName="GeneratorFunction",PT(c,o,"GeneratorFunction"),PT(d),PT(d,o,"Generator"),PT(d,r,function(){return this}),PT(d,"toString",function(){return"[object Generator]"}),(TT=function(){return{w:i,m:h}})()}function PT(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}PT=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){PT(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},PT(e,t,n,r)}function RT(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function AT(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){RT(i,r,o,a,s,"next",e)}function s(e){RT(i,r,o,a,s,"throw",e)}a(void 0)})}}function $T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return NT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NT(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var IT=n(4157).shell;const DT=function(e){var t=e.onOpenProject,n=e.onCloseProject,r=e.onCreateProject,i=$T((0,o.useState)(!1),2),a=i[0],s=i[1],l=$T((0,o.useState)(!1),2),c=l[0],u=l[1],d=$T((0,o.useState)(!1),2),h=d[0],f=d[1],p=$T((0,o.useState)(!1),2),m=p[0],g=p[1],v=$T((0,o.useState)(!1),2),b=v[0],y=v[1],x=function(){var e=AT(TT().m(function e(o){var i,a,l,c,d;return TT().w(function(e){for(;;)switch(e.n){case 0:i=o.key,c=i,e.n="new"===c?1:"open"===c?2:"close"===c?3:"documentation"===c?4:"start"===c?5:"stop"===c?11:"rostool"===c?17:"env"===c?18:"simulation"===c?19:"about"===c?20:"settings"===c?21:"maptool"===c?22:23;break;case 1:return"function"==typeof r&&r(),e.a(3,24);case 2:return"function"==typeof t&&t(),e.a(3,24);case 3:return"function"==typeof n&&n(),e.a(3,24);case 4:return console.log("open confirm"),Dh.confirm({title:"打开文档",content:"是否在浏览器中打开文档？",okText:"确定",cancelText:"取消",className:"menu-bar-modal",onOk:function(){var e=AT(TT().m(function e(){var t;return TT().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,IT.openExternal("https://futuer.automoves.cn/docs/");case 1:e.n=3;break;case 2:e.p=2,t=e.v,(0,qg.log)("打开文档失败: ".concat(t.message),qg.LOG_TYPES.ERROR);case 3:return e.a(2,!0)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}()}),e.a(3,24);case 5:if(!Zg.A.isRunning){e.n=6;break}return(0,qg.log)("任务正在运行，请先停止或等待完成",qg.LOG_TYPES.WARNING),e.a(2);case 6:if(e.p=6,a=window.flowNodes||[],l=window.flowEdges||[],0!==a.length){e.n=7;break}return(0,qg.log)("没有可执行的节点",qg.LOG_TYPES.WARNING),e.a(2);case 7:return(0,qg.log)("开始执行流程...",qg.LOG_TYPES.INFO),e.n=8,Zg.A.nodeController.start(a,l);case 8:(0,qg.log)("流程执行完成",qg.LOG_TYPES.SUCCESS),e.n=10;break;case 9:e.p=9,e.v,(0,qg.log)("流程执行失败",qg.LOG_TYPES.ERROR);case 10:return e.a(3,24);case 11:if(e.p=11,"function"!=typeof Zg.A.nodeController.forceStop){e.n=13;break}return e.n=12,Zg.A.nodeController.forceStop();case 12:e.n=14;break;case 13:return e.n=14,Zg.A.nodeController.stop();case 14:(0,qg.log)("流程已强制停止",qg.LOG_TYPES.INFO),e.n=16;break;case 15:e.p=15,d=e.v,(0,qg.log)("停止流程失败: ".concat(d.message),qg.LOG_TYPES.ERROR);case 16:return e.a(3,24);case 17:return s(!0),e.a(3,24);case 18:return u(!0),e.a(3,24);case 19:return g(!0),e.a(3,24);case 20:return f(!0),e.a(3,24);case 21:return y(!0),e.a(3,24);case 22:return TS().openViewer(1200,800,"map_editor",{}),e.a(3,24);case 23:return e.a(3,24);case 24:return e.a(2)}},e,null,[[11,15],[6,9]])}));return function(t){return e.apply(this,arguments)}}();return o.createElement("div",{className:"menu-bar"},o.createElement(Ng,{mode:"horizontal",items:[{key:"project",label:"项目",children:[{key:"new",label:"新建项目"},{key:"open",label:"打开项目"},{key:"close",label:"关闭项目"}]},{key:"run",label:"运行",children:[{key:"start",label:"开始运行"},{key:"stop",label:"停止运行"},{key:"debug",label:"调试模式"}]},{key:"tools",label:"工具",children:[{key:"settings",label:"设置"},{key:"rostool",label:"话题管理"},{key:"env",label:"环境管理"},{key:"simulation",label:"仿真管理"},{key:"maptool",label:"地图工具"}]},{key:"help",label:"帮助",children:[{key:"documentation",label:"文档"},{key:"about",label:"关于"}]}],onClick:x,theme:"dark"}),o.createElement(zS,{visible:a,onClose:function(){return s(!1)}}),o.createElement(Dh,{open:c,onCancel:function(){return u(!1)},footer:null,width:700,title:"环境管理",className:"env-manager-modal"},o.createElement(Y_,null)),o.createElement(hk,{visible:h,onClose:function(){return f(!1)}}),o.createElement(Rk,{visible:m,onClose:function(){return g(!1)}}),o.createElement(MT,{visible:b,onClose:function(){return y(!1)}}))};var LT=o.createContext(null),zT=o.createContext({});function jT(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var BT=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,a="".concat(t,"-indent-unit"),s=[],l=0;l<n;l+=1)s.push(o.createElement("span",{key:l,className:$r()(a,F(F({},"".concat(a,"-start"),r[l]),"".concat(a,"-end"),i[l]))}));return o.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)};const FT=o.memo(BT);function UT(e,t){return e[t]}var HT=["children"];function QT(e,t){return"".concat(e,"-").concat(t)}function VT(e,t){return null!=e?e:t}function WT(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function GT(e){return function e(t){return _s(t).map(function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return fe(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,o=r.children,i=W({key:n},qr(r,HT)),a=e(o);return a.length&&(i.children=a),i}).filter(function(e){return e})}(e)}function XT(e,t,n){var r=WT(n),o=r._title,i=r.key,a=r.children,s=new Set(!0===t?[]:t),l=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map(function(c,u){for(var d,h=QT(r?r.pos:"0",u),f=VT(c[i],h),p=0;p<o.length;p+=1){var m=o[p];if(void 0!==c[m]){d=c[m];break}}var g=Object.assign(Va(c,[].concat(R(o),[i,a])),{title:d,key:f,parent:r,pos:h,children:null,data:c,isStart:[].concat(R(r?r.isStart:[]),[0===u]),isEnd:[].concat(R(r?r.isEnd:[]),[u===n.length-1])});return l.push(g),!0===t||s.has(f)?g.children=e(c[a]||[],g):g.children=[],g})}(e),l}function qT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,l=i||(arguments.length>2?arguments[2]:void 0),c={},u={},d={posEntities:c,keyEntities:u};return n&&(d=n(d)||d),function(e,t,n){var o,i=("object"===j(n)?n:{externalGetKey:n})||{},a=i.childrenPropName,s=i.externalGetKey,l=WT(i.fieldNames),h=l.key,f=l.children,p=a||f;s?"string"==typeof s?o=function(e){return e[s]}:"function"==typeof s&&(o=function(e){return s(e)}):o=function(e,t){return VT(e[h],t)},function t(n,i,a,s){var l=n?n[p]:e,h=n?QT(a.pos,i):"0",f=n?[].concat(R(s),[n]):[];if(n){var m=o(n,h);!function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:i,pos:o,level:s},h=VT(i,o);c[o]=l,u[h]=l,l.parent=c[a],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,d)}({node:n,index:i,pos:h,key:m,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f})}l&&l.forEach(function(e,r){t(e,r,{node:n,pos:h,level:a?a.level+1:-1},f)})}(null)}(e,0,{externalGetKey:l,childrenPropName:a,fieldNames:s}),o&&o(d),d}function ZT(e,t){var n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,i=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,u=UT(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==o.indexOf(e),loading:-1!==i.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(u?u.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function YT(e){var t=e.data,n=e.expanded,r=e.selected,o=e.checked,i=e.loaded,a=e.loading,s=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,h=e.active,f=e.eventKey,p=W(W({},t),{},{expanded:n,selected:r,checked:o,loaded:i,loading:a,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:h,key:f});return"props"in p||Object.defineProperty(p,"props",{get:function(){return fe(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}var KT=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],JT="open",eP="close",tP=function(e){var t,n,r,i=e.eventKey,a=e.className,s=e.style,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.isLeaf,h=e.isStart,f=e.isEnd,p=e.expanded,m=e.selected,g=e.checked,v=e.halfChecked,b=e.loading,y=e.domRef,x=e.active,O=e.data,w=e.onMouseMove,S=e.selectable,E=qr(e,KT),_=o.useContext(LT),C=o.useContext(zT),k=o.useRef(null),M=Q(o.useState(!1),2),T=M[0],P=M[1],R=!!(_.disabled||e.disabled||null!==(t=C.nodeDisabled)&&void 0!==t&&t.call(C,O)),A=o.useMemo(function(){return!(!_.checkable||!1===e.checkable)&&_.checkable},[_.checkable,e.checkable]),$=function(t){R||A&&!e.disableCheckbox&&_.onNodeCheck(t,YT(e),!g)},N=o.useMemo(function(){return"boolean"==typeof S?S:_.selectable},[S,_.selectable]),I=function(t){_.onNodeClick(t,YT(e)),N?function(t){R||_.onNodeSelect(t,YT(e))}(t):$(t)},D=function(t){_.onNodeDoubleClick(t,YT(e))},L=function(t){_.onNodeMouseEnter(t,YT(e))},z=function(t){_.onNodeMouseLeave(t,YT(e))},j=function(t){_.onNodeContextMenu(t,YT(e))},B=o.useMemo(function(){return!(!_.draggable||_.draggable.nodeDraggable&&!_.draggable.nodeDraggable(O))},[_.draggable,O]),U=function(t){b||_.onNodeExpand(t,YT(e))},H=o.useMemo(function(){var e=(UT(_.keyEntities,i)||{}).children;return Boolean((e||[]).length)},[_.keyEntities,i]),V=o.useMemo(function(){return!1!==d&&(d||!_.loadData&&!H||_.loadData&&e.loaded&&!H)},[d,_.loadData,H,e.loaded]);o.useEffect(function(){b||"function"!=typeof _.loadData||!p||V||e.loaded||_.onNodeLoad(YT(e))},[b,_.loadData,_.onNodeLoad,p,V,e]);var G=o.useMemo(function(){var e;return null!==(e=_.draggable)&&void 0!==e&&e.icon?o.createElement("span",{className:"".concat(_.prefixCls,"-draggable-icon")},_.draggable.icon):null},[_.draggable]),X=function(t){var n=e.switcherIcon||_.switcherIcon;return"function"==typeof n?n(W(W({},e),{},{isLeaf:t})):n},q=o.useMemo(function(){if(!A)return null;var t="boolean"!=typeof A?A:null;return o.createElement("span",{className:$r()("".concat(_.prefixCls,"-checkbox"),F(F(F({},"".concat(_.prefixCls,"-checkbox-checked"),g),"".concat(_.prefixCls,"-checkbox-indeterminate"),!g&&v),"".concat(_.prefixCls,"-checkbox-disabled"),R||e.disableCheckbox)),onClick:$,role:"checkbox","aria-checked":v?"mixed":g,"aria-disabled":R||e.disableCheckbox,"aria-label":"Select ".concat("string"==typeof e.title?e.title:"tree node")},t)},[A,g,v,R,e.disableCheckbox,e.title]),Z=o.useMemo(function(){return V?null:p?JT:eP},[V,p]),Y=o.useMemo(function(){return o.createElement("span",{className:$r()("".concat(_.prefixCls,"-iconEle"),"".concat(_.prefixCls,"-icon__").concat(Z||"docu"),F({},"".concat(_.prefixCls,"-icon_loading"),b))})},[_.prefixCls,Z,b]),K=o.useMemo(function(){var t=Boolean(_.draggable);return!e.disabled&&t&&_.dragOverNodeKey===i?_.dropIndicatorRender({dropPosition:_.dropPosition,dropLevelOffset:_.dropLevelOffset,indent:_.indent,prefixCls:_.prefixCls,direction:_.direction}):null},[_.dropPosition,_.dropLevelOffset,_.indent,_.prefixCls,_.direction,_.draggable,_.dragOverNodeKey,_.dropIndicatorRender]),J=o.useMemo(function(){var t,n,r=e.title,i=void 0===r?"---":r,a="".concat(_.prefixCls,"-node-content-wrapper");if(_.showIcon){var s=e.icon||_.icon;t=s?o.createElement("span",{className:$r()("".concat(_.prefixCls,"-iconEle"),"".concat(_.prefixCls,"-icon__customize"))},"function"==typeof s?s(e):s):Y}else _.loadData&&b&&(t=Y);return n="function"==typeof i?i(O):_.titleRender?_.titleRender(O):i,o.createElement("span",{ref:k,title:"string"==typeof i?i:"",className:$r()(a,"".concat(a,"-").concat(Z||"normal"),F({},"".concat(_.prefixCls,"-node-selected"),!R&&(m||T))),onMouseEnter:L,onMouseLeave:z,onContextMenu:j,onClick:I,onDoubleClick:D},t,o.createElement("span",{className:"".concat(_.prefixCls,"-title")},n),K)},[_.prefixCls,_.showIcon,e,_.icon,Y,_.titleRender,O,Z,L,z,j,I,D]),ee=gc(E,{aria:!0,data:!0}),te=(UT(_.keyEntities,i)||{}).level,ne=f[f.length-1],re=!R&&B,oe=_.draggingNodeKey===i,ie=void 0!==S?{"aria-selected":!!S}:void 0;return o.createElement("div",et({ref:y,role:"treeitem","aria-expanded":d?void 0:p,className:$r()(a,"".concat(_.prefixCls,"-treenode"),(r={},F(F(F(F(F(F(F(F(F(F(r,"".concat(_.prefixCls,"-treenode-disabled"),R),"".concat(_.prefixCls,"-treenode-switcher-").concat(p?"open":"close"),!d),"".concat(_.prefixCls,"-treenode-checkbox-checked"),g),"".concat(_.prefixCls,"-treenode-checkbox-indeterminate"),v),"".concat(_.prefixCls,"-treenode-selected"),m),"".concat(_.prefixCls,"-treenode-loading"),b),"".concat(_.prefixCls,"-treenode-active"),x),"".concat(_.prefixCls,"-treenode-leaf-last"),ne),"".concat(_.prefixCls,"-treenode-draggable"),B),"dragging",oe),F(F(F(F(F(F(F(r,"drop-target",_.dropTargetKey===i),"drop-container",_.dropContainerKey===i),"drag-over",!R&&l),"drag-over-gap-top",!R&&c),"drag-over-gap-bottom",!R&&u),"filter-node",null===(n=_.filterTreeNode)||void 0===n?void 0:n.call(_,YT(e))),"".concat(_.prefixCls,"-treenode-leaf"),V))),style:s,draggable:re,onDragStart:re?function(t){t.stopPropagation(),P(!0),_.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(e){}}:void 0,onDragEnter:B?function(t){t.preventDefault(),t.stopPropagation(),_.onNodeDragEnter(t,e)}:void 0,onDragOver:B?function(t){t.preventDefault(),t.stopPropagation(),_.onNodeDragOver(t,e)}:void 0,onDragLeave:B?function(t){t.stopPropagation(),_.onNodeDragLeave(t,e)}:void 0,onDrop:B?function(t){t.preventDefault(),t.stopPropagation(),P(!1),_.onNodeDrop(t,e)}:void 0,onDragEnd:B?function(t){t.stopPropagation(),P(!1),_.onNodeDragEnd(t,e)}:void 0,onMouseMove:w},ie,ee),o.createElement(FT,{prefixCls:_.prefixCls,level:te,isStart:h,isEnd:f}),G,function(){if(V){var e=X(!0);return!1!==e?o.createElement("span",{className:$r()("".concat(_.prefixCls,"-switcher"),"".concat(_.prefixCls,"-switcher-noop"))},e):null}var t=X(!1);return!1!==t?o.createElement("span",{onClick:U,className:$r()("".concat(_.prefixCls,"-switcher"),"".concat(_.prefixCls,"-switcher_").concat(p?JT:eP))},t):null}(),q,J)};tP.isTreeNode=1;const nP=tP;var rP=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],oP=o.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.motion,a=e.motionNodes,s=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,u=e.active,d=e.treeNodeRequiredProps,h=qr(e,rP),f=Q(o.useState(!0),2),p=f[0],m=f[1],g=o.useContext(LT).prefixCls,v=a&&"hide"!==s;Ve(function(){a&&v!==p&&m(v)},[a]);var b=o.useRef(!1),y=function(){a&&!b.current&&(b.current=!0,c())};return function(e,t){var n=Q(o.useState(!1),2),r=n[0],i=n[1];Ve(function(){if(r)return e(),function(){t()}},[r]),Ve(function(){return i(!0),function(){i(!1)}},[])}(function(){a&&l()},y),a?o.createElement(ai,et({ref:t,visible:p},i,{motionAppear:"show"===s,onVisibleChanged:function(e){v===e&&y()}}),function(e,t){var n=e.className,r=e.style;return o.createElement("div",{ref:t,className:$r()("".concat(g,"-treenode-motion"),n),style:r},a.map(function(e){var t=Object.assign({},(jT(e.data),e.data)),n=e.title,r=e.key,i=e.isStart,a=e.isEnd;delete t.children;var s=ZT(r,d);return o.createElement(nP,et({},t,s,{title:n,active:u,data:e.data,key:r,isStart:i,isEnd:a}))}))}):o.createElement(nP,et({domRef:t,className:n,style:r},h,{active:u}))});const iP=oP;function aP(e,t,n){var r=e.findIndex(function(e){return e.key===n}),o=e[r+1],i=t.findIndex(function(e){return e.key===n});if(o){var a=t.findIndex(function(e){return e.key===o.key});return t.slice(i+1,a)}return t.slice(i+1)}var sP=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],lP={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},cP=function(){},uP="RC_TREE_MOTION_".concat(Math.random()),dP={key:uP},hP={key:uP,level:0,index:0,pos:"0",node:dP,nodes:[dP]},fP={parent:null,children:[],pos:hP.pos,data:dP,title:null,key:uP,isStart:[],isEnd:[]};function pP(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function mP(e){return VT(e.key,e.pos)}var gP=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.data,i=(e.selectable,e.checkable,e.expandedKeys),a=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,c=e.loadingKeys,u=e.halfCheckedKeys,d=e.keyEntities,h=e.disabled,f=e.dragging,p=e.dragOverNodeKey,m=e.dropPosition,g=e.motion,v=e.height,b=e.itemHeight,y=e.virtual,x=e.scrollWidth,O=e.focusable,w=e.activeItem,S=e.focused,E=e.tabIndex,_=e.onKeyDown,C=e.onFocus,k=e.onBlur,M=e.onActiveChange,T=e.onListChangeStart,P=e.onListChangeEnd,R=qr(e,sP),A=o.useRef(null),$=o.useRef(null);o.useImperativeHandle(t,function(){return{scrollTo:function(e){A.current.scrollTo(e)},getIndentWidth:function(){return $.current.offsetWidth}}});var N=Q(o.useState(i),2),I=N[0],D=N[1],L=Q(o.useState(r),2),z=L[0],j=L[1],B=Q(o.useState(r),2),F=B[0],U=B[1],H=Q(o.useState([]),2),V=H[0],W=H[1],G=Q(o.useState(null),2),X=G[0],q=G[1],Z=o.useRef(r);function Y(){var e=Z.current;j(e),U(e),W([]),q(null),P()}Z.current=r,Ve(function(){D(i);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function o(e,t){var n=new Map;e.forEach(function(e){n.set(e,!0)});var r=t.filter(function(e){return!n.has(e)});return 1===r.length?r[0]:null}return n<r?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}(I,i);if(null!==e.key)if(e.add){var t=z.findIndex(function(t){return t.key===e.key}),n=pP(aP(z,r,e.key),y,v,b),o=z.slice();o.splice(t+1,0,fP),U(o),W(n),q("show")}else{var a=r.findIndex(function(t){return t.key===e.key}),s=pP(aP(r,z,e.key),y,v,b),l=r.slice();l.splice(a+1,0,fP),U(l),W(s),q("hide")}else z!==r&&(j(r),U(r))},[i,r]),o.useEffect(function(){f||Y()},[f]);var K=g?F:r,J={expandedKeys:i,selectedKeys:a,loadedKeys:l,loadingKeys:c,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:p,dropPosition:m,keyEntities:d};return o.createElement(o.Fragment,null,S&&w&&o.createElement("span",{style:lP,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(w)),o.createElement("div",null,o.createElement("input",{style:lP,disabled:!1===O||h,tabIndex:!1!==O?E:null,onKeyDown:_,onFocus:C,onBlur:k,value:"",onChange:cP,"aria-label":"for screen reader"})),o.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},o.createElement("div",{className:"".concat(n,"-indent")},o.createElement("div",{ref:$,className:"".concat(n,"-indent-unit")}))),o.createElement(Qx,et({},R,{data:K,itemKey:mP,height:v,fullHeight:!1,virtual:y,itemHeight:b,scrollWidth:x,prefixCls:"".concat(n,"-list"),ref:A,role:"tree",onVisibleChange:function(e){e.every(function(e){return mP(e)!==uP})&&Y()}}),function(e){var t=e.pos,n=Object.assign({},(jT(e.data),e.data)),r=e.title,i=e.key,a=e.isStart,s=e.isEnd,l=VT(i,t);delete n.key,delete n.children;var c=ZT(l,J);return o.createElement(iP,et({},n,c,{title:r,active:!!w&&i===w.key,pos:t,data:e.data,isStart:a,isEnd:s,motion:g,motionNodes:i===uP?V:null,motionType:X,onMotionStart:T,onMotionEnd:Y,treeNodeRequiredProps:J,onMouseMove:function(){M(null)}}))}))});const vP=gP;function bP(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function yP(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function xP(e){return e.split("-")}function OP(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){var r=t.key,o=t.children;n.push(r),e(o)})}(UT(t,e).children),n}function wP(e){if(e.parent){var t=xP(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function SP(e,t,n,r,o,i,a,s,l,c){var u,d=e.clientX,h=e.clientY,f=e.target.getBoundingClientRect(),p=f.top,m=f.height,g=(("rtl"===c?-1:1)*(((null==o?void 0:o.x)||0)-d)-12)/r,v=l.filter(function(e){var t;return null===(t=s[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length}),b=UT(s,n.eventKey);if(h<p+m/2){var y=a.findIndex(function(e){return e.key===b.key}),x=a[y<=0?0:y-1].key;b=UT(s,x)}var O=b.key,w=b,S=b.key,E=0,_=0;if(!v.includes(O))for(var C=0;C<g&&wP(b);C+=1)b=b.parent,_+=1;var k,M=t.data,T=b.node,P=!0;return k=xP(b.pos),0===Number(k[k.length-1])&&0===b.level&&h<p+m/2&&i({dragNode:M,dropNode:T,dropPosition:-1})&&b.key===n.eventKey?E=-1:(w.children||[]).length&&v.includes(S)?i({dragNode:M,dropNode:T,dropPosition:0})?E=0:P=!1:0===_?g>-1.5?i({dragNode:M,dropNode:T,dropPosition:1})?E=1:P=!1:i({dragNode:M,dropNode:T,dropPosition:0})?E=0:i({dragNode:M,dropNode:T,dropPosition:1})?E=1:P=!1:i({dragNode:M,dropNode:T,dropPosition:1})?E=1:P=!1,{dropPosition:E,dropLevelOffset:_,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:S,dropContainerKey:0===E?null:(null===(u=b.parent)||void 0===u?void 0:u.key)||null,dropAllowed:P}}function EP(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function _P(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==j(e))return fe(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function CP(e,t){var n=new Set;function r(e){if(!n.has(e)){var o=UT(t,e);if(o){n.add(e);var i=o.parent;o.node.disabled||i&&r(i.key)}}}return(e||[]).forEach(function(e){r(e)}),R(n)}function kP(e,t){var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function MP(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function TP(e,t,n,r){var o,i=[];o=r||MP;var a,s=new Set(e.filter(function(e){var t=!!UT(n,e);return t||i.push(e),t})),l=new Map,c=0;return Object.keys(n).forEach(function(e){var t=n[e],r=t.level,o=l.get(r);o||(o=new Set,l.set(r,o)),o.add(t),c=Math.max(c,r)}),fe(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(e){return"'".concat(e,"'")}).join(", "))),a=!0===t?function(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach(function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter(function(e){return!r(e.node)}).forEach(function(e){o.add(e.key)})});for(var s=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,l=!1;(t.children||[]).filter(function(e){return!r(e.node)}).forEach(function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),l||!n&&!i.has(t)||(l=!0)}),a&&o.add(t.key),l&&i.add(t.key),s.add(t.key)}});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(kP(i,o))}}(s,l,c,o):function(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach(function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||s.filter(function(e){return!o(e.node)}).forEach(function(e){i.delete(e.key)})});a=new Set;for(var l=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter(function(e){return!o(e.node)}).forEach(function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)}),r||i.delete(t.key),s&&a.add(t.key),l.add(t.key)}});return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(kP(a,i))}}(s,t.halfCheckedKeys,l,c,o),a}var PP=function(e){eo(n,e);var t=oo(n);function n(){var e;me(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return F(ro(e=t.call.apply(t,[this].concat(i))),"destroyed",!1),F(ro(e),"delayedDragEnterLogic",void 0),F(ro(e),"loadingRetryTimes",{}),F(ro(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:WT()}),F(ro(e),"dragStartMousePosition",null),F(ro(e),"dragNodeProps",null),F(ro(e),"currentMouseOverDroppableNodeKey",null),F(ro(e),"listRef",o.createRef()),F(ro(e),"onNodeDragStart",function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,a=e.props.onDragStart,s=n.eventKey;e.dragNodeProps=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=bP(o,s);e.setState({draggingNodeKey:s,dragChildrenKeys:OP(s,i),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null==a||a({event:t,node:YT(n)})}),F(ro(e),"onNodeDragEnter",function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,l=r.indent,c=e.props,u=c.onDragEnter,d=c.onExpand,h=c.allowDrop,f=c.direction,p=n.pos,m=n.eventKey;if(e.currentMouseOverDroppableNodeKey!==m&&(e.currentMouseOverDroppableNodeKey=m),e.dragNodeProps){var g=SP(t,e.dragNodeProps,n,l,e.dragStartMousePosition,h,s,i,o,f),v=g.dropPosition,b=g.dropLevelOffset,y=g.dropTargetKey,x=g.dropContainerKey,O=g.dropTargetPos,w=g.dropAllowed,S=g.dragOverNodeKey;!a.includes(y)&&w?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(t){clearTimeout(e.delayedDragEnterLogic[t])}),e.dragNodeProps.eventKey!==n.eventKey&&(t.persist(),e.delayedDragEnterLogic[p]=window.setTimeout(function(){if(null!==e.state.draggingNodeKey){var r=R(o),a=UT(i,n.eventKey);a&&(a.children||[]).length&&(r=yP(o,n.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(r),null==d||d(r,{node:YT(n),expanded:!0,nativeEvent:t.nativeEvent})}},800)),e.dragNodeProps.eventKey!==y||0!==b?(e.setState({dragOverNodeKey:S,dropPosition:v,dropLevelOffset:b,dropTargetKey:y,dropContainerKey:x,dropTargetPos:O,dropAllowed:w}),null==u||u({event:t,node:YT(n),expandedKeys:o})):e.resetDragState()):e.resetDragState()}else e.resetDragState()}),F(ro(e),"onNodeDragOver",function(t,n){var r=e.state,o=r.dragChildrenKeys,i=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,l=r.indent,c=e.props,u=c.onDragOver,d=c.allowDrop,h=c.direction;if(e.dragNodeProps){var f=SP(t,e.dragNodeProps,n,l,e.dragStartMousePosition,d,i,a,s,h),p=f.dropPosition,m=f.dropLevelOffset,g=f.dropTargetKey,v=f.dropContainerKey,b=f.dropTargetPos,y=f.dropAllowed,x=f.dragOverNodeKey;!o.includes(g)&&y&&(e.dragNodeProps.eventKey===g&&0===m?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():p===e.state.dropPosition&&m===e.state.dropLevelOffset&&g===e.state.dropTargetKey&&v===e.state.dropContainerKey&&b===e.state.dropTargetPos&&y===e.state.dropAllowed&&x===e.state.dragOverNodeKey||e.setState({dropPosition:p,dropLevelOffset:m,dropTargetKey:g,dropContainerKey:v,dropTargetPos:b,dropAllowed:y,dragOverNodeKey:x}),null==u||u({event:t,node:YT(n)}))}}),F(ro(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null==r||r({event:t,node:YT(n)})}),F(ro(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),F(ro(e),"onNodeDragEnd",function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null==r||r({event:t,node:YT(n)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),F(ro(e),"onNodeDrop",function(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.state,a=i.dragChildrenKeys,s=i.dropPosition,l=i.dropTargetKey,c=i.dropTargetPos;if(i.dropAllowed){var u=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var d=W(W({},ZT(l,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.key)===l,data:UT(e.state.keyEntities,l).node}),h=a.includes(l);fe(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=xP(c),p={event:t,node:YT(d),dragNode:e.dragNodeProps?YT(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(f[f.length-1])};o||null==u||u(p),e.dragNodeProps=null}}}),F(ro(e),"cleanDragState",function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),F(ro(e),"triggerExpandActionExpand",function(t,n){var r=e.state,o=r.expandedKeys,i=r.flattenNodes,a=n.expanded,s=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var l=i.filter(function(e){return e.key===s})[0],c=YT(W(W({},ZT(s,e.getTreeNodeRequiredProps())),{},{data:l.data}));e.setExpandedKeys(a?bP(o,s):yP(o,s)),e.onNodeExpand(t,c)}}),F(ro(e),"onNodeClick",function(t,n){var r=e.props,o=r.onClick;"click"===r.expandAction&&e.triggerExpandActionExpand(t,n),null==o||o(t,n)}),F(ro(e),"onNodeDoubleClick",function(t,n){var r=e.props,o=r.onDoubleClick;"doubleClick"===r.expandAction&&e.triggerExpandActionExpand(t,n),null==o||o(t,n)}),F(ro(e),"onNodeSelect",function(t,n){var r=e.state.selectedKeys,o=e.state,i=o.keyEntities,a=o.fieldNames,s=e.props,l=s.onSelect,c=s.multiple,u=n.selected,d=n[a.key],h=!u,f=(r=h?c?yP(r,d):[d]:bP(r,d)).map(function(e){var t=UT(i,e);return t?t.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:r}),null==l||l(r,{event:"select",selected:h,node:n,selectedNodes:f,nativeEvent:t.nativeEvent})}),F(ro(e),"onNodeCheck",function(t,n,r){var o,i=e.state,a=i.keyEntities,s=i.checkedKeys,l=i.halfCheckedKeys,c=e.props,u=c.checkStrictly,d=c.onCheck,h=n.key,f={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(u){var p=r?yP(s,h):bP(s,h);o={checked:p,halfChecked:bP(l,h)},f.checkedNodes=p.map(function(e){return UT(a,e)}).filter(Boolean).map(function(e){return e.node}),e.setUncontrolledState({checkedKeys:p})}else{var m=TP([].concat(R(s),[h]),!0,a),g=m.checkedKeys,v=m.halfCheckedKeys;if(!r){var b=new Set(g);b.delete(h);var y=TP(Array.from(b),{checked:!1,halfCheckedKeys:v},a);g=y.checkedKeys,v=y.halfCheckedKeys}o=g,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=v,g.forEach(function(e){var t=UT(a,e);if(t){var n=t.node,r=t.pos;f.checkedNodes.push(n),f.checkedNodesPositions.push({node:n,pos:r})}}),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:v})}null==d||d(o,f)}),F(ro(e),"onNodeLoad",function(t){var n,r=t.key,o=UT(e.state.keyEntities,r);if(null==o||null===(n=o.children)||void 0===n||!n.length){var i=new Promise(function(n,o){e.setState(function(i){var a=i.loadedKeys,s=void 0===a?[]:a,l=i.loadingKeys,c=void 0===l?[]:l,u=e.props,d=u.loadData,h=u.onLoad;return!d||s.includes(r)||c.includes(r)?null:(d(t).then(function(){var o=yP(e.state.loadedKeys,r);null==h||h(o,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:o}),e.setState(function(e){return{loadingKeys:bP(e.loadingKeys,r)}}),n()}).catch(function(t){if(e.setState(function(e){return{loadingKeys:bP(e.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=10){var i=e.state.loadedKeys;fe(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:yP(i,r)}),n()}o(t)}),{loadingKeys:yP(c,r)})})});return i.catch(function(){}),i}}),F(ro(e),"onNodeMouseEnter",function(t,n){var r=e.props.onMouseEnter;null==r||r({event:t,node:n})}),F(ro(e),"onNodeMouseLeave",function(t,n){var r=e.props.onMouseLeave;null==r||r({event:t,node:n})}),F(ro(e),"onNodeContextMenu",function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))}),F(ro(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t||t.apply(void 0,r)}),F(ro(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t||t.apply(void 0,r)}),F(ro(e),"getTreeNodeRequiredProps",function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}}),F(ro(e),"setExpandedKeys",function(t){var n=e.state,r=XT(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)}),F(ro(e),"onNodeExpand",function(t,n){var r=e.state.expandedKeys,o=e.state,i=o.listChanging,a=o.fieldNames,s=e.props,l=s.onExpand,c=s.loadData,u=n.expanded,d=n[a.key];if(!i){var h=r.includes(d),f=!u;if(fe(u&&h||!u&&!h,"Expand state not sync with index check"),r=f?yP(r,d):bP(r,d),e.setExpandedKeys(r),null==l||l(r,{node:n,expanded:f,nativeEvent:t.nativeEvent}),f&&c){var p=e.onNodeLoad(n);p&&p.then(function(){var t=XT(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})}).catch(function(){var t=bP(e.state.expandedKeys,d);e.setExpandedKeys(t)})}}}),F(ro(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),F(ro(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),F(ro(e),"onActiveChange",function(t){var n=e.state.activeKey,r=e.props,o=r.onActiveChange,i=r.itemScrollOffset,a=void 0===i?0:i;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t,offset:a}),null==o||o(t))}),F(ro(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find(function(e){return e.key===n})||null}),F(ro(e),"offsetActiveKey",function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,i=r.findIndex(function(e){return e.key===o});-1===i&&t<0&&(i=r.length);var a=r[i=(i+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)}),F(ro(e),"onKeyDown",function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,i=n.checkedKeys,a=n.fieldNames,s=e.props,l=s.onKeyDown,c=s.checkable,u=s.selectable;switch(t.which){case fc.UP:e.offsetActiveKey(-1),t.preventDefault();break;case fc.DOWN:e.offsetActiveKey(1),t.preventDefault()}var d=e.getActiveItem();if(d&&d.data){var h=e.getTreeNodeRequiredProps(),f=!1===d.data.isLeaf||!!(d.data[a.children]||[]).length,p=YT(W(W({},ZT(r,h)),{},{data:d.data,active:!0}));switch(t.which){case fc.LEFT:f&&o.includes(r)?e.onNodeExpand({},p):d.parent&&e.onActiveChange(d.parent.key),t.preventDefault();break;case fc.RIGHT:f&&!o.includes(r)?e.onNodeExpand({},p):d.children&&d.children.length&&e.onActiveChange(d.children[0].key),t.preventDefault();break;case fc.ENTER:case fc.SPACE:!c||p.disabled||!1===p.checkable||p.disableCheckbox?c||!u||p.disabled||!1===p.selectable||e.onNodeSelect({},p):e.onNodeCheck({},p,!i.includes(r))}}null==l||l(t)}),F(ro(e),"setUncontrolledState",function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var o=!1,i=!0,a={};Object.keys(t).forEach(function(n){e.props.hasOwnProperty(n)?i=!1:(o=!0,a[n]=t[n])}),!o||n&&!i||e.setState(W(W({},a),r))}}),F(ro(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return ve(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,r=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:r}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t=this.state,n=t.focused,r=t.flattenNodes,i=t.keyEntities,a=t.draggingNodeKey,s=t.activeKey,l=t.dropLevelOffset,c=t.dropContainerKey,u=t.dropTargetKey,d=t.dropPosition,h=t.dragOverNodeKey,f=t.indent,p=this.props,m=p.prefixCls,g=p.className,v=p.style,b=p.showLine,y=p.focusable,x=p.tabIndex,O=void 0===x?0:x,w=p.selectable,S=p.showIcon,E=p.icon,_=p.switcherIcon,C=p.draggable,k=p.checkable,M=p.checkStrictly,T=p.disabled,P=p.motion,R=p.loadData,A=p.filterTreeNode,$=p.height,N=p.itemHeight,I=p.scrollWidth,D=p.virtual,L=p.titleRender,z=p.dropIndicatorRender,B=p.onContextMenu,U=p.onScroll,H=p.direction,Q=p.rootClassName,V=p.rootStyle,W=gc(this.props,{aria:!0,data:!0});C&&(e="object"===j(C)?C:"function"==typeof C?{nodeDraggable:C}:{});var G={prefixCls:m,selectable:w,showIcon:S,icon:E,switcherIcon:_,draggable:e,draggingNodeKey:a,checkable:k,checkStrictly:M,disabled:T,keyEntities:i,dropLevelOffset:l,dropContainerKey:c,dropTargetKey:u,dropPosition:d,dragOverNodeKey:h,indent:f,direction:H,dropIndicatorRender:z,loadData:R,filterTreeNode:A,titleRender:L,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return o.createElement(LT.Provider,{value:G},o.createElement("div",{className:$r()(m,g,Q,F(F(F({},"".concat(m,"-show-line"),b),"".concat(m,"-focused"),n),"".concat(m,"-active-focused"),null!==s)),style:V},o.createElement(vP,et({ref:this.listRef,prefixCls:m,style:v,data:r,disabled:T,selectable:w,checkable:!!k,motion:P,dragging:null!==a,height:$,itemHeight:N,virtual:D,focusable:y,focused:n,tabIndex:O,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:B,onScroll:U,scrollWidth:I},this.getTreeNodeRequiredProps(),W))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,o={prevProps:e};function i(t){return!r&&e.hasOwnProperty(t)||r&&r[t]!==e[t]}var a=t.fieldNames;if(i("fieldNames")&&(a=WT(e.fieldNames),o.fieldNames=a),i("treeData")?n=e.treeData:i("children")&&(fe(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=GT(e.children)),n){o.treeData=n;var s=qT(n,{fieldNames:a});o.keyEntities=W(F({},uP,hP),s.keyEntities)}var l,c=o.keyEntities||t.keyEntities;if(i("expandedKeys")||r&&i("autoExpandParent"))o.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?CP(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var u=W({},c);delete u[uP];var d=[];Object.keys(u).forEach(function(e){var t=u[e];t.children&&t.children.length&&d.push(t.key)}),o.expandedKeys=d}else!r&&e.defaultExpandedKeys&&(o.expandedKeys=e.autoExpandParent||e.defaultExpandParent?CP(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,n||o.expandedKeys){var h=XT(n||t.treeData,o.expandedKeys||t.expandedKeys,a);o.flattenNodes=h}if(e.selectable&&(i("selectedKeys")?o.selectedKeys=EP(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(o.selectedKeys=EP(e.defaultSelectedKeys,e))),e.checkable&&(i("checkedKeys")?l=_P(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?l=_P(e.defaultCheckedKeys)||{}:n&&(l=_P(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),l)){var f=l,p=f.checkedKeys,m=void 0===p?[]:p,g=f.halfCheckedKeys,v=void 0===g?[]:g;if(!e.checkStrictly){var b=TP(m,!0,c);m=b.checkedKeys,v=b.halfCheckedKeys}o.checkedKeys=m,o.halfCheckedKeys=v}return i("loadedKeys")&&(o.loadedKeys=e.loadedKeys),o}}]),n}(o.Component);F(PP,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return o.createElement("div",{style:i})},allowDrop:function(){return!0},expandAction:!1}),F(PP,"TreeNode",nP);const RP=PP,AP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var $P=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:AP}))};const NP=o.forwardRef($P),IP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var DP=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:IP}))};const LP=o.forwardRef(DP),zP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var jP=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:zP}))};const BP=o.forwardRef(jP),FP=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:r,motionDurationMid:o,borderRadius:i,controlItemBgHover:a})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${o}`,content:'""',borderRadius:i},"&:hover:before":{background:a}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:n,borderRadius:i,[`${e}-switcher, ${e}-draggable-icon`]:{color:r},[`${e}-node-content-wrapper`]:{color:r,background:"transparent","&:before, &:hover:before":{background:n}}}}}),UP=new en("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),HP=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),QP=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Le(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),VP=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:o,titleHeight:i,indentSize:a,nodeSelectedBg:s,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:u}=t;return{[n]:Object.assign(Object.assign({},xi(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},Oi(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:UP,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:o,lineHeight:Le(i),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:o},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:i,textAlign:"center",visibility:"visible",color:c},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(i).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},HP(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:i,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:i,height:i,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(i).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(i).div(2).equal()).mul(.8).equal(),height:t.calc(i).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:i,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},QP(e,t)),{"&:hover":{backgroundColor:l},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:s},[`${n}-iconEle`]:{display:"inline-block",width:i,height:i,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(i).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Le(t.calc(i).div(2).equal())} !important`}})}},WP=(e,t,n=!0)=>{const r=`.${e}`,o=`${r}-treenode`,i=t.calc(t.paddingXS).div(2).equal(),a=is(t,{treeCls:r,treeNodeCls:o,treeNodePadding:i});return[VP(e,a),n&&FP(a)].filter(Boolean)},GP=hs("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:Ww(`${t}-checkbox`,e)},WP(t,e),ag(e)],e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}),XP=function(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:i,direction:a="ltr"}=e,s="ltr"===a?"left":"right",l="ltr"===a?"right":"left",c={[s]:-n*i+4,[l]:0};switch(t){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[s]=i+4}return o.createElement("div",{style:c,className:`${r}-drop-indicator`})},qP={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var ZP=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:qP}))};const YP=o.forwardRef(ZP),KP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var JP=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:KP}))};const eR=o.forwardRef(JP),tR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var nR=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:tR}))};const rR=o.forwardRef(nR),oR=e=>{var t,n;const{prefixCls:r,switcherIcon:i,treeNodeProps:a,showLine:s,switcherLoadingIcon:l}=e,{isLeaf:c,expanded:u,loading:d}=a;if(d)return o.isValidElement(l)?l:o.createElement(Qs,{className:`${r}-switcher-loading-icon`});let h;if(s&&"object"==typeof s&&(h=s.showLeafIcon),c){if(!s)return null;if("boolean"!=typeof h&&h){const e="function"==typeof h?h(a):h,n=`${r}-switcher-line-custom-icon`;return o.isValidElement(e)?Xa(e,{className:$r()(null===(t=e.props)||void 0===t?void 0:t.className,n)}):e}return h?o.createElement(NP,{className:`${r}-switcher-line-icon`}):o.createElement("span",{className:`${r}-switcher-leaf-line`})}const f=`${r}-switcher-icon`,p="function"==typeof i?i(a):i;return o.isValidElement(p)?Xa(p,{className:$r()(null===(n=p.props)||void 0===n?void 0:n.className,f)}):void 0!==p?p:s?u?o.createElement(eR,{className:`${r}-switcher-line-icon`}):o.createElement(rR,{className:`${r}-switcher-line-icon`}):o.createElement(YP,{className:f})},iR=o.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,virtual:a,tree:s}=o.useContext(I),{prefixCls:l,className:c,showIcon:u=!1,showLine:d,switcherIcon:h,switcherLoadingIcon:f,blockNode:p=!1,children:m,checkable:g=!1,selectable:v=!0,draggable:b,motion:y,style:x}=e,O=r("tree",l),w=r(),S=null!=y?y:Object.assign(Object.assign({},Ha(w)),{motionAppear:!1}),E=Object.assign(Object.assign({},e),{checkable:g,selectable:v,showIcon:u,motion:S,blockNode:p,showLine:Boolean(d),dropIndicatorRender:XP}),[_,C,k]=GP(O),[,M]=mi(),T=M.paddingXS/2+((null===(n=M.Tree)||void 0===n?void 0:n.titleHeight)||M.controlHeightSM),P=o.useMemo(()=>{if(!b)return!1;let e={};switch(typeof b){case"function":e.nodeDraggable=b;break;case"object":e=Object.assign({},b)}return!1!==e.icon&&(e.icon=e.icon||o.createElement(BP,null)),e},[b]);return _(o.createElement(RP,Object.assign({itemHeight:T,ref:t,virtual:a},E,{style:Object.assign(Object.assign({},null==s?void 0:s.style),x),prefixCls:O,className:$r()({[`${O}-icon-hide`]:!u,[`${O}-block-node`]:p,[`${O}-unselectable`]:!v,[`${O}-rtl`]:"rtl"===i},null==s?void 0:s.className,c,C,k),direction:i,checkable:g?o.createElement("span",{className:`${O}-checkbox-inner`}):g,selectable:v,switcherIcon:e=>o.createElement(oR,{prefixCls:O,switcherIcon:h,switcherLoadingIcon:f,treeNodeProps:e,showLine:d}),draggable:P}),m))}),aR=iR;function sR(e,t,n){const{key:r,children:o}=n;e.forEach(function(e){const i=e[r],a=e[o];!1!==t(i,e)&&sR(a||[],t,n)})}function lR(e,t,n){const r=R(t),o=[];return sR(e,(e,t)=>{const n=r.indexOf(e);return-1!==n&&(o.push(t),r.splice(n,1)),!!r.length},WT(n)),o}var cR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function uR(e){const{isLeaf:t,expanded:n}=e;return t?o.createElement(NP,null):n?o.createElement(dS,null):o.createElement(LP,null)}function dR({treeData:e,children:t}){return e||GT(t)}const hR=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=e,a=cR(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=o.useRef(null),l=o.useRef(null),[c,u]=o.useState(a.selectedKeys||a.defaultSelectedKeys||[]),[d,h]=o.useState(()=>(()=>{const{keyEntities:e}=qT(dR(a));let t;return t=n?Object.keys(e):r?CP(a.expandedKeys||i||[],e):a.expandedKeys||i||[],t})());o.useEffect(()=>{"selectedKeys"in a&&u(a.selectedKeys)},[a.selectedKeys]),o.useEffect(()=>{"expandedKeys"in a&&h(a.expandedKeys)},[a.expandedKeys]);const{getPrefixCls:f,direction:p}=o.useContext(I),{prefixCls:m,className:g,showIcon:v=!0,expandAction:b="click"}=a,y=cR(a,["prefixCls","className","showIcon","expandAction"]),x=f("tree",m),O=$r()(`${x}-directory`,{[`${x}-directory-rtl`]:"rtl"===p},g);return o.createElement(aR,Object.assign({icon:uR,ref:t,blockNode:!0},y,{showIcon:v,expandAction:b,prefixCls:x,className:O,expandedKeys:d,selectedKeys:c,onSelect:(e,t)=>{var n;const{multiple:r,fieldNames:o}=a,{node:i,nativeEvent:c}=t,{key:h=""}=i,f=dR(a),p=Object.assign(Object.assign({},t),{selected:!0}),m=(null==c?void 0:c.ctrlKey)||(null==c?void 0:c.metaKey),g=null==c?void 0:c.shiftKey;let v;r&&m?(v=e,s.current=h,l.current=v,p.selectedNodes=lR(f,v,o)):r&&g?(v=Array.from(new Set([].concat(R(l.current||[]),R(function({treeData:e,expandedKeys:t,startKey:n,endKey:r,fieldNames:o}){const i=[];let a=0;return n&&n===r?[n]:n&&r?(sR(e,e=>{if(2===a)return!1;if(function(e){return e===n||e===r}(e)){if(i.push(e),0===a)a=1;else if(1===a)return a=2,!1}else 1===a&&i.push(e);return t.includes(e)},WT(o)),i):[]}({treeData:f,expandedKeys:d,startKey:h,endKey:s.current,fieldNames:o}))))),p.selectedNodes=lR(f,v,o)):(v=[h],s.current=h,l.current=v,p.selectedNodes=lR(f,v,o)),null===(n=a.onSelect)||void 0===n||n.call(a,v,p),"selectedKeys"in a||u(v)},onExpand:(e,t)=>{var n;return"expandedKeys"in a||h(e),null===(n=a.onExpand)||void 0===n?void 0:n.call(a,e,t)}}))},fR=o.forwardRef(hR),pR=aR;pR.DirectoryTree=fR,pR.TreeNode=nP;const mR=pR;var gR=n(9351),vR={};vR.styleTagTransform=Wg(),vR.setAttributes=Ug(),vR.insert=Bg().bind(null,"head"),vR.domAPI=zg(),vR.insertStyleElement=Qg(),Dg()(gR.A,vR),gR.A&&gR.A.locals&&gR.A.locals;var bR=n(4634),yR=n(4893);let xR=[],OR=[];function wR(e){if(e<768)return!1;for(let t=0,n=xR.length;;){let r=t+n>>1;if(e<xR[r])n=r;else{if(!(e>=OR[r]))return!0;t=r+1}if(t==n)return!1}}function SR(e){return e>=127462&&e<=127487}function ER(e,t,n=!0,r=!0){return(n?_R:CR)(e,t,r)}function _R(e,t,n){if(t==e.length)return t;t&&MR(e.charCodeAt(t))&&TR(e.charCodeAt(t-1))&&t--;let r=kR(e,t);for(t+=PR(r);t<e.length;){let o=kR(e,t);if(8205==r||8205==o||n&&wR(o))t+=PR(o),r=o;else{if(!SR(o))break;{let n=0,r=t-2;for(;r>=0&&SR(kR(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function CR(e,t,n){for(;t>0;){let r=_R(e,t-2,n);if(r<t)return r;t--}return 0}function kR(e,t){let n=e.charCodeAt(t);if(!TR(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return MR(r)?r-56320+(n-55296<<10)+65536:n}function MR(e){return e>=56320&&e<57344}function TR(e){return e>=55296&&e<56320}function PR(e){return e<65536?1:2}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let t=0,n=0;t<e.length;t++)(t%2?OR:xR).push(n+=e[t])})();class RR{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=BR(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),$R.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=BR(this,e,t);let n=[];return this.decompose(e,t,n,0),$R.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new DR(this),o=new DR(e);for(let e=t,i=t;;){if(r.next(e),o.next(e),e=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(i+=r.value.length,r.done||i>=n)return!0}}iter(e=1){return new DR(this,e)}iterRange(e,t=this.length){return new LR(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new zR(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new AR(e):$R.from(AR.split(e,[])):RR.empty}}class AR extends RR{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],a=r+i.length;if((t?n:a)>=e)return new jR(r,a,n,i);r=a+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new AR(IR(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=NR(o.text,e.text.slice(),0,o.length);if(t.length<=32)n.push(new AR(t,e.length+o.length));else{let e=t.length>>1;n.push(new AR(t.slice(0,e)),new AR(t.slice(e)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof AR))return super.replace(e,t,n);[e,t]=BR(this,e,t);let r=NR(this.text,NR(n.text,IR(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new AR(r,o):$R.from(AR.split(r,[]),o)}sliceString(e,t=this.length,n="\n"){[e,t]=BR(this,e,t);let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let a=this.text[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=s+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,32==n.length&&(t.push(new AR(n,r)),n=[],r=-1);return r>-1&&t.push(new AR(n,r)),t}}class $R extends RR{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],a=r+i.length,s=n+i.lines-1;if((t?s:a)>=e)return i.lineInner(e,t,n,r);r=a+1,n=s+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let a=this.children[o],s=i+a.length;if(e<=s&&t>=i){let o=r&((i<=e?1:0)|(s>=t?2:0));i>=e&&s<=t&&!o?n.push(a):a.decompose(e-i,t-i,n,o)}i=s+1}}replace(e,t,n){if([e,t]=BR(this,e,t),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let i=this.children[r],a=o+i.length;if(e>=o&&t<=a){let s=i.replace(e-o,t-o,n),l=this.lines-i.lines+s.lines;if(s.lines<l>>4&&s.lines>l>>6){let o=this.children.slice();return o[r]=s,new $R(o,this.length-(t-e)+n.length)}return super.replace(o,a,s)}o=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=BR(this,e,t);let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let a=this.children[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.sliceString(e-i,t-i,n)),i=s+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof $R))return 0;let n=0,[r,o,i,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==i||o==a)return n;let s=this.children[r],l=e.children[o];if(s!=l)return n+s.scanIdentical(l,t);n+=s.length+1}}static from(e,t=e.reduce((e,t)=>e+t.length+1,-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new AR(n,t)}let r=Math.max(32,n>>5),o=r<<1,i=r>>1,a=[],s=0,l=-1,c=[];function u(e){let t;if(e.lines>o&&e instanceof $R)for(let t of e.children)u(t);else e.lines>i&&(s>i||!s)?(d(),a.push(e)):e instanceof AR&&s&&(t=c[c.length-1])instanceof AR&&e.lines+t.lines<=32?(s+=e.lines,l+=e.length+1,c[c.length-1]=new AR(t.text.concat(e.text),t.length+1+e.length)):(s+e.lines>r&&d(),s+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=s&&(a.push(1==c.length?c[0]:$R.from(c,l)),l=-1,s=c.length=0)}for(let t of e)u(t);return d(),1==a.length?a[0]:new $R(a,t)}}function NR(e,t,n=0,r=1e9){for(let o=0,i=0,a=!0;i<e.length&&o<=r;i++){let s=e[i],l=o+s.length;l>=n&&(l>r&&(s=s.slice(0,r-o)),o<n&&(s=s.slice(n-o)),a?(t[t.length-1]+=s,a=!1):t.push(s)),o=l+1}return t}function IR(e,t,n){return NR(e,[""],t,n)}RR.empty=new AR([""],0);class DR{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof AR?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],i=o>>1,a=r instanceof AR?r.text.length:r.children.length;if(i==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof AR){let o=r.text[i+(t<0?-1:0)];if(this.offsets[n]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=r.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof AR?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class LR{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new DR(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class zR{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(RR.prototype[Symbol.iterator]=function(){return this.iter()},DR.prototype[Symbol.iterator]=LR.prototype[Symbol.iterator]=zR.prototype[Symbol.iterator]=function(){return this});class jR{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function BR(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function FR(e,t,n=!0,r=!0){return ER(e,t,n,r)}function UR(e,t){let n=e.charCodeAt(t);if(!((r=n)>=55296&&r<56320&&t+1!=e.length))return n;var r;let o=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(o)?o-56320+(n-55296<<10)+65536:n}function HR(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function QR(e){return e<65536?1:2}const VR=/\r\n?|\n/;var WR=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(WR||(WR={}));class GR{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e,t=!1){YR(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new GR(e)}composeDesc(e){return this.empty?e:e.empty?this:JR(this,e)}mapDesc(e,t=!1){return e.empty?this:KR(this,e,t)}mapPos(e,t=-1,n=WR.Simple){let r=0,o=0;for(let i=0;i<this.sections.length;){let a=this.sections[i++],s=this.sections[i++],l=r+a;if(s<0){if(l>e)return o+(e-r);o+=a}else{if(n!=WR.Simple&&l>=e&&(n==WR.TrackDel&&r<e&&l>e||n==WR.TrackBefore&&r<e||n==WR.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==r||t<0?o:o+s;o+=s}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(e=>"number"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeDesc");return new GR(e)}static create(e){return new GR(e)}}class XR extends GR{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return YR(this,(t,n,r,o,i)=>e=e.replace(r,r+(n-t),i),!1),e}mapDesc(e,t=!1){return KR(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let i=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=i;let s=r>>1;for(;n.length<s;)n.push(RR.empty);n.push(i?e.slice(o,o+i):RR.empty)}o+=i}return new XR(t,n)}compose(e){return this.empty?e:e.empty?this:JR(this,e,!0)}map(e,t=!1){return e.empty?this:KR(this,e,t,!0)}iterChanges(e,t=!1){YR(this,e,t)}get desc(){return GR.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new eA(this);e:for(let i=0,a=0;;){let s=i==e.length?1e9:e[i++];for(;a<s||a==s&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,s-a);qR(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;qR(t,e,i),i>0&&ZR(n,t,o.text),o.forward(e),a+=e}let l=e[i++];for(;a<l;){if(o.done)break e;let e=Math.min(o.len,l-a);qR(t,e,-1),qR(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),a+=e}}return{changes:new XR(t,n),filtered:GR.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],i=0,a=null;function s(e=!1){if(!e&&!r.length)return;i<t&&qR(r,t-i,-1);let n=new XR(r,o);a=a?a.compose(n.map(a)):n,r=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof XR){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);s(),a=a?a.compose(l.map(a)):l}else{let{from:e,to:a=e,insert:c}=l;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let u=c?"string"==typeof c?RR.of(c.split(n||VR)):c:RR.empty,d=u.length;if(e==a&&0==d)return;e<i&&s(),e>i&&qR(r,e-i,-1),qR(r,a-e,d),ZR(o,r,u),i=a}}(e),s(!a),a}static empty(e){return new XR(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((e,t)=>t&&"string"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<r;)n.push(RR.empty);n[r]=RR.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new XR(t,n)}static createSet(e,t){return new XR(e,t)}}function qR(e,t,n,r=!1){if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:o>=0&&0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function ZR(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(RR.empty);e.push(n)}}function YR(e,t,n){let r=e.inserted;for(let o=0,i=0,a=0;a<e.sections.length;){let s=e.sections[a++],l=e.sections[a++];if(l<0)o+=s,i+=s;else{let c=o,u=i,d=RR.empty;for(;c+=s,u+=l,l&&r&&(d=d.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)s=e.sections[a++],l=e.sections[a++];t(o,c,i,u,d),o=c,i=u}}}function KR(e,t,n,r=!1){let o=[],i=r?[]:null,a=new eA(e),s=new eA(t);for(let e=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(-1==a.ins&&-1==s.ins){let e=Math.min(a.len,s.len);qR(o,e,-1),a.forward(e),s.forward(e)}else if(s.ins>=0&&(a.ins<0||e==a.i||0==a.off&&(s.len<a.len||s.len==a.len&&!n))){let t=s.len;for(qR(o,s.ins,-1);t;){let n=Math.min(a.len,t);a.ins>=0&&e<a.i&&a.len<=n&&(qR(o,0,a.ins),i&&ZR(i,o,a.text),e=a.i),a.forward(n),t-=n}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return i?XR.createSet(o,i):GR.create(o);throw new Error("Mismatched change set lengths")}{let t=0,n=a.len;for(;n;)if(-1==s.ins){let e=Math.min(n,s.len);t+=e,n-=e,s.forward(e)}else{if(!(0==s.ins&&s.len<n))break;n-=s.len,s.next()}qR(o,t,e<a.i?a.ins:0),i&&e<a.i&&ZR(i,o,a.text),e=a.i,a.forward(a.len-n)}}}}function JR(e,t,n=!1){let r=[],o=n?[]:null,i=new eA(e),a=new eA(t);for(let e=!1;;){if(i.done&&a.done)return o?XR.createSet(r,o):GR.create(r);if(0==i.ins)qR(r,i.len,0,e),i.next();else if(0!=a.len||a.done){if(i.done||a.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,a.len),n=r.length;if(-1==i.ins){let n=-1==a.ins?-1:a.off?0:a.ins;qR(r,t,n,e),o&&n&&ZR(o,r,a.text)}else-1==a.ins?(qR(r,i.off?0:i.len,t,e),o&&ZR(o,r,i.textBit(t))):(qR(r,i.off?0:i.len,a.off?0:a.ins,e),o&&!a.off&&ZR(o,r,a.text));e=(i.ins>t||a.ins>=0&&a.len>t)&&(e||r.length>n),i.forward2(t),a.forward(t)}}else qR(r,0,a.ins,e),o&&ZR(o,r,a.text),a.next()}}class eA{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?RR.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?RR.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class tA{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new tA(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return nA.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return nA.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return nA.range(e.anchor,e.head)}static create(e,t,n){return new tA(e,t,n)}}class nA{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:nA.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new nA([this.main],0)}addRange(e,t=!0){return nA.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,nA.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new nA(e.ranges.map(e=>tA.fromJSON(e)),e.main)}static single(e,t=e){return new nA([nA.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return nA.normalized(e.slice(),t);n=o.to}return new nA(e,t)}static cursor(e,t=0,n,r){return tA.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let o=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?tA.create(t,e,48|o):tA.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let n=e[t];e.sort((e,t)=>e.from-t.from),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],o=e[n-1];if(r.empty?r.from<=o.to:r.from<o.to){let i=o.from,a=Math.max(r.to,o.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?nA.range(a,i):nA.range(i,a))}}return new nA(e,t)}}function rA(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let oA=0;class iA{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=oA++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(e={}){return new iA(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:aA),!!e.static,e.enables)}of(e){return new sA([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new sA(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new sA(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],n=>t(n.field(e)))}}function aA(e,t){return e==t||e.length==t.length&&e.every((e,n)=>e===t[n])}class sA{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=oA++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,a=2==this.type,s=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?s=!0:"selection"==n?l=!0:1&(null!==(t=e[n.id])&&void 0!==t?t:1)||c.push(e[n.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(s&&t.docChanged||l&&(t.docChanged||t.selection)||cA(e,c)){let t=n(e);if(a?!lA(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let s,l=t.config.address[o];if(null!=l){let o=xA(t,l);if(this.dependencies.every(n=>n instanceof iA?t.facet(n)===e.facet(n):!(n instanceof hA)||t.field(n,!1)==e.field(n,!1))||(a?lA(s=n(e),o,r):r(s=n(e),o)))return e.values[i]=o,0}else s=n(e);return e.values[i]=s,1}}}}function lA(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function cA(e,t){let n=!1;for(let r of t)1&yA(e,r)&&(n=!0);return n}function uA(e,t,n){let r=n.map(t=>e[t.id]),o=n.map(e=>e.type),i=r.filter(e=>!(1&e)),a=e[t.id]>>1;function s(e){let n=[];for(let t=0;t<r.length;t++){let i=xA(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)yA(e,t);return e.values[a]=s(e),1},update(e,n){if(!cA(e,i))return 0;let r=s(e);return t.compare(r,e.values[a])?0:(e.values[a]=r,1)},reconfigure(e,o){let i=cA(e,r),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&aA(n,l))return e.values[a]=c,0;let u=s(e);return t.compare(u,c)?(e.values[a]=c,0):(e.values[a]=u,1)}}}const dA=iA.define({static:!0});class hA{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new hA(oA++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(dA).find(e=>e.field==this);return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>{let r,o=e.facet(dA),i=n.facet(dA);return(r=o.find(e=>e.field==this))&&r!=i.find(e=>e.field==this)?(e.values[t]=r.create(e),1):null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,dA.of({field:this,create:e})]}get extension(){return this}}function fA(e){return t=>new mA(t,e)}const pA={highest:fA(0),high:fA(1),default:fA(2),low:fA(3),lowest:fA(4)};class mA{constructor(e,t){this.inner=e,this.prec=t}}class gA{of(e){return new vA(this,e)}reconfigure(e){return gA.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vA{constructor(e,t){this.compartment=e,this.inner=t}}class bA{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;return function e(i,a){let s=o.get(i);if(null!=s){if(s<=a)return;let e=r[s].indexOf(i);e>-1&&r[s].splice(e,1),i instanceof vA&&n.delete(i.compartment)}if(o.set(i,a),Array.isArray(i))for(let t of i)e(t,a);else if(i instanceof vA){if(n.has(i.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(i.compartment)||i.inner;n.set(i.compartment,r),e(r,a)}else if(i instanceof mA)e(i.inner,i.prec);else if(i instanceof hA)r[a].push(i),i.provides&&e(i.provides,a);else if(i instanceof sA)r[a].push(i),i.facet.extensions&&e(i.facet.extensions,2);else{let t=i.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${i}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,a)}}(e,2),r.reduce((e,t)=>e.concat(t))}(e,t,i))n instanceof hA?r.push(n):(o[n.facet.id]||(o[n.facet.id]=[])).push(n);let a=Object.create(null),s=[],l=[];for(let e of r)a[e.id]=l.length<<1,l.push(t=>e.slot(t));let c=null==n?void 0:n.config.facets;for(let e in o){let t=o[e],r=t[0].facet,i=c&&c[e]||[];if(t.every(e=>0==e.type))if(a[r.id]=s.length<<1|1,aA(i,t))s.push(n.facet(r));else{let e=r.combine(t.map(e=>e.value));s.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(a[e.id]=s.length<<1|1,s.push(e.value)):(a[e.id]=l.length<<1,l.push(t=>e.dynamicSlot(t)));a[r.id]=l.length<<1,l.push(e=>uA(e,r,t))}}let u=l.map(e=>e(a));return new bA(e,i,u,a,s,o)}}function yA(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function xA(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const OA=iA.define(),wA=iA.define({combine:e=>e.some(e=>e),static:!0}),SA=iA.define({combine:e=>e.length?e[0]:void 0,static:!0}),EA=iA.define(),_A=iA.define(),CA=iA.define(),kA=iA.define({combine:e=>!!e.length&&e[0]});class MA{constructor(e,t){this.type=e,this.value=t}static define(){return new TA}}class TA{of(e){return new MA(this,e)}}class PA{constructor(e){this.map=e}of(e){return new RA(this,e)}}class RA{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new RA(this.type,t)}is(e){return this.type==e}static define(e={}){return new PA(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}RA.reconfigure=RA.define(),RA.appendConfig=RA.define();class AA{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&rA(n,t.newLength),o.some(e=>e.type==AA.time)||(this.annotations=o.concat(AA.time.of(Date.now())))}static create(e,t,n,r,o,i){return new AA(e,t,n,r,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(AA.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function $A(e,t){let n=[];for(let r=0,o=0;;){let i,a;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],a=e[r++];else{if(!(o<t.length))return n;i=t[o++],a=t[o++]}!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function NA(e,t,n){var r;let o,i,a;return n?(o=t.changes,i=XR.empty(t.changes.length),a=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(o)),{changes:a,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:RA.mapEffects(e.effects,o).concat(RA.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function IA(e,t,n){let r=t.selection,o=zA(t.annotations);return t.userEvent&&(o=o.concat(AA.userEvent.of(t.userEvent))),{changes:t.changes instanceof XR?t.changes:XR.of(t.changes||[],n,e.facet(SA)),selection:r&&(r instanceof nA?r:nA.single(r.anchor,r.head)),effects:zA(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function DA(e,t,n){let r=IA(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let i=!!t[o].sequential;r=NA(r,IA(e,t[o],i?r.changes.newLength:e.doc.length),i)}let o=AA.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(CA),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=NA(r,IA(t,i,e.changes.newLength),!0))}return r==e?e:AA.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(EA)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:$A(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=XR.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=AA.create(t,r,e.selection&&e.selection.map(o),RA.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(_A);for(let n=r.length-1;n>=0;n--){let o=r[n](e);e=o instanceof AA?o:Array.isArray(o)&&1==o.length&&o[0]instanceof AA?o[0]:DA(t,zA(o),!1)}return e}(o):o)}AA.time=MA.define(),AA.userEvent=MA.define(),AA.addToHistory=MA.define(),AA.remote=MA.define();const LA=[];function zA(e){return null==e?LA:Array.isArray(e)?e:[e]}var jA=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(jA||(jA={}));const BA=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let FA;try{FA=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class UA{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)yA(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return yA(this,n),xA(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return DA(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let t of e.effects)t.is(gA.reconfigure)?(n&&(o=new Map,n.compartments.forEach((e,t)=>o.set(t,e)),n=null),o.set(t.value.compartment,t.value.extension)):t.is(RA.reconfigure)?(n=null,r=t.value):t.is(RA.appendConfig)&&(n=null,r=zA(r).concat(t.value));n?t=e.startState.values.slice():(n=bA.resolve(r,o,this),t=new UA(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(e,t)=>t.reconfigure(e,this),null).values);let i=e.startState.facet(wA)?e.newSelection:e.newSelection.asSingle();new UA(n,e.newDoc,i,t,(t,n)=>n.update(t,e),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:nA.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=zA(n.effects);for(let n=1;n<t.ranges.length;n++){let a=e(t.ranges[n]),s=this.changes(a.changes),l=s.map(r);for(let e=0;e<n;e++)o[e]=o[e].map(l);let c=r.mapDesc(s,!0);o.push(a.range.map(c)),r=r.compose(l),i=RA.mapEffects(i,l).concat(RA.mapEffects(zA(a.effects),c))}return{changes:r,selection:nA.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof XR?e:XR.of(e,this.doc.length,this.facet(UA.lineSeparator))}toText(e){return RR.of(e.split(this.facet(UA.lineSeparator)||VR))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(yA(this,t),xA(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof hA&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let o=n[t],i=e[t];r.push(o.init(e=>o.spec.fromJSON(i,e)))}return UA.create({doc:e.doc,selection:nA.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=bA.resolve(e.extensions||[],new Map),n=e.doc instanceof RR?e.doc:RR.of((e.doc||"").split(t.staticFacet(UA.lineSeparator)||VR)),r=e.selection?e.selection instanceof nA?e.selection:nA.single(e.selection.anchor,e.selection.head):nA.single(0);return rA(r,n.length),t.staticFacet(wA)||(r=r.asSingle()),new UA(t,n,r,t.dynamicSlots.map(()=>null),(e,t)=>t.create(e),null)}get tabSize(){return this.facet(UA.tabSize)}get lineBreak(){return this.facet(UA.lineSeparator)||"\n"}get readOnly(){return this.facet(kA)}phrase(e,...t){for(let t of this.facet(UA.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]})),e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(OA))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return jA.Space;if(function(e){if(FA)return FA.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||BA.test(n)))return!0}return!1}(e))return jA.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return jA.Word;return jA.Other};var t}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-n,a=e-n;for(;i>0;){let e=FR(t,i,!1);if(o(t.slice(e,i))!=jA.Word)break;i=e}for(;a<r;){let e=FR(t,a);if(o(t.slice(a,e))!=jA.Word)break;a=e}return i==a?null:nA.range(i+n,a+n)}}function HA(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],i=r[e];if(void 0===i)r[e]=o;else if(i===o||void 0===o);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,o)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}UA.allowMultipleSelections=wA,UA.tabSize=iA.define({combine:e=>e.length?e[0]:4}),UA.lineSeparator=SA,UA.readOnly=kA,UA.phrases=iA.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(n=>e[n]==t[n])}}),UA.languageData=OA,UA.changeFilter=EA,UA.transactionFilter=_A,UA.transactionExtender=CA,gA.reconfigure=RA.define();class QA{eq(e){return this==e}range(e,t=e){return VA.create(e,t,this)}}QA.prototype.startSide=QA.prototype.endSide=0,QA.prototype.point=!1,QA.prototype.mapMode=WR.TrackDel;class VA{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new VA(e,t,n)}}function WA(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class GA{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let i=r,a=o.length;;){if(i==a)return i;let r=i+a>>1,s=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return s>=0?i:a;s>=0?a=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,a=-1;for(let s=0;s<this.value.length;s++){let l,c,u=this.value[s],d=this.from[s]+e,h=this.to[s]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(a=Math.max(a,c-l)),n.push(u),r.push(l-i),o.push(c-i))}return{mapped:n.length?new GA(r,o,n,a):null,pos:i}}}class XA{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new XA(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(WA)),this.isEmpty)return t.length?XA.of(t):this;let a=new YA(this,null,-1).goto(0),s=0,l=[],c=new qA;for(;a.value||s<t.length;)if(s<t.length&&(a.from-t[s].from||a.startSide-t[s].value.startSide)>=0){let e=t[s++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==a.rangeIndex&&a.chunkIndex<this.chunk.length&&(s==t.length||this.chunkEnd(a.chunkIndex)<t[s].from)&&(!i||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!i||r>a.to||o<a.from||i(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||l.push(VA.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?XA.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],a=this.chunk[o],s=e.touchesRange(i,i+a.length);if(!1===s)r=Math.max(r,a.maxPoint),t.push(a),n.push(e.mapPos(i));else if(!0===s){let{mapped:o,pos:s}=a.map(i,e);o&&(r=Math.max(r,o.maxPoint),t.push(o),n.push(s))}}let o=this.nextLayer.map(e);return 0==t.length?o:new XA(n,t,o||XA.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return KA.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return KA.from(e).goto(t)}static compare(e,t,n,r,o=-1){let i=e.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o),a=t.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o),s=ZA(i,a,n),l=new e$(i,s,o),c=new e$(a,s,o);n.iterGaps((e,t,n)=>t$(l,e,c,t,n,r)),n.empty&&0==n.length&&t$(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let o=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0),i=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0);if(o.length!=i.length)return!1;if(!o.length)return!0;let a=ZA(o,i),s=new e$(o,a,0).goto(n),l=new e$(i,a,0).goto(n);for(;;){if(s.to!=l.to||!n$(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}static spans(e,t,n,r,o=-1){let i=new e$(e,null,o).goto(t),a=t,s=i.openStart;for(;;){let e=Math.min(i.to,n);if(i.point){let n=i.activeForPoint(i.to),o=i.pointFrom<t?n.length+1:i.point.startSide<0?n.length:Math.min(n.length,s);r.point(a,e,i.point,n,o,i.pointRank),s=Math.min(i.openEnd(e),n.length)}else e>a&&(r.span(a,e,i.active,s),s=i.openEnd(e));if(i.to>n)return s+(i.point&&i.to>n?1:0);a=i.to,i.next()}}static of(e,t=!1){let n=new qA;for(let r of e instanceof VA?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(WA(t,r)>0)return e.slice().sort(WA);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return XA.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=XA.empty;r=r.nextLayer)t=new XA(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}XA.empty=new XA([],[],null,-1),XA.empty.nextLayer=XA.empty;class qA{finishChunk(e){this.chunks.push(new GA(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new qA)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(XA.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=XA.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function ZA(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=r.get(e.chunk[t]);null==i||(n?n.mapPos(i):i)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(i,i+e.chunk[t].length))||o.add(e.chunk[t])}return o}class YA{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class KA{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new YA(i,t,n,o));return 1==r.length?r[0]:new KA(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)JA(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)JA(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),JA(this.heap,0)}}}function JA(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class e${constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=KA.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){r$(this.active,e),r$(this.activeTo,e),r$(this.activeRank,e),this.minActive=i$(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;o$(this.active,t,n),o$(this.activeTo,t,r),o$(this.activeRank,t,o),e&&o$(e,t,this.cursor.from),this.minActive=i$(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&r$(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function t$(e,t,n,r,o,i){e.goto(t),n.goto(r);let a=r+o,s=r,l=r-t;for(;;){let t=e.to+l-n.to,r=t||e.endSide-n.endSide,o=r<0?e.to+l:n.to,c=Math.min(o,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&n$(e.activeForPoint(e.to),n.activeForPoint(n.to))||i.comparePoint(s,c,e.point,n.point):c>s&&!n$(e.active,n.active)&&i.compareRange(s,c,e.active,n.active),o>a)break;(t||e.openEnd!=n.openEnd)&&i.boundChange&&i.boundChange(o),s=o,r<=0&&e.next(),r>=0&&n.next()}}function n$(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function r$(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function o$(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function i$(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}function a$(e,t,n=e.length){let r=0;for(let o=0;o<n&&o<e.length;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=FR(e,o));return r}function s$(e,t,n,r){for(let r=0,o=0;;){if(o>=t)return r;if(r==e.length)break;o+=9==e.charCodeAt(r)?n-o%n:1,r=FR(e,r)}return!0===r?-1:e.length}const l$="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),c$="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),u$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class d${constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,a){let s=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let a=t[n];if(/&/.test(n))o(n.split(/,\s*/).map(t=>e.map(e=>t.replace(/&/,e))).reduce((e,t)=>e.concat(t)),a,i);else if(a&&"object"==typeof a){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");o(r(n),a,s,c)}else null!=a&&s.push(n.replace(/_.*/,"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())+": "+a+";")}(s.length||c)&&i.push((!n||l||a?e:e.map(n)).join(", ")+" {"+s.join(" ")+"}")}for(let t in e)o(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=u$[l$]||1;return u$[l$]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let r=e[c$],o=n&&n.nonce;r?o&&r.setNonce(o):r=new f$(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let h$=new Map;class f${constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=h$.get(n);if(t)return e[c$]=t;this.sheet=new r.CSSStyleSheet,h$.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[c$]=this}mount(e,t){let n=this.sheet,r=0,o=0;for(let t=0;t<e.length;t++){let i=e[t],a=this.modules.indexOf(i);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),-1==a){if(this.modules.splice(o++,0,i),n)for(let e=0;e<i.rules.length;e++)n.insertRule(i.rules[e],r++)}else{for(;o<a;)r+=this.modules[o++].rules.length;r+=i.rules.length,o++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var p$={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m$={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},g$="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),v$="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),b$=0;b$<10;b$++)p$[48+b$]=p$[96+b$]=String(b$);for(b$=1;b$<=24;b$++)p$[b$+111]="F"+b$;for(b$=65;b$<=90;b$++)p$[b$]=String.fromCharCode(b$+32),m$[b$]=String.fromCharCode(b$);for(var y$ in p$)m$.hasOwnProperty(y$)||(m$[y$]=p$[y$]);function x$(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function O$(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function w$(e,t){if(!t.anchorNode)return!1;try{return O$(e,t.anchorNode)}catch(e){return!1}}function S$(e){return 3==e.nodeType?D$(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function E$(e,t,n,r){return!!n&&(k$(e,t,n,r,-1)||k$(e,t,n,r,1))}function _$(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function C$(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function k$(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:M$(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=_$(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?M$(e):0}}}function M$(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function T$(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function P$(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function R$(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class A${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?M$(t):0),n,Math.min(e.focusOffset,n?M$(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let $$,N$=null;function I$(e){if(e.setActive)return e.setActive();if(N$)return e.focus(N$);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==N$?{get preventScroll(){return N$={preventScroll:!0},!0}}:void 0),!N$){N$=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function D$(e,t,n=t){let r=$$||($$=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function L$(e,t,n,r){let o={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=r);let i=new KeyboardEvent("keydown",o);i.synthetic=!0,e.dispatchEvent(i);let a=new KeyboardEvent("keyup",o);return a.synthetic=!0,e.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function z$(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function j$(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function B$(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=M$(n)}else{if(!n.parentNode||C$(n))return null;r=_$(n),n=n.parentNode}}}function F$(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||C$(n))return null;r=_$(n)+1,n=n.parentNode}}}class U${constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new U$(e.parentNode,_$(e),t)}static after(e,t){return new U$(e.parentNode,_$(e)+1,t)}}const H$=[];class Q${constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,o=null;for(let i of this.children){if(7&i.flags){if(!i.dom&&(n=o?o.nextSibling:r.firstChild)){let e=Q$.get(n);(!e||!e.parent&&e.canReuseDOM(i))&&i.reuseDOM(n)}i.sync(e,t),i.flags&=-8}if(n=o?o.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=i.dom&&(t.written=!0),i.dom.parentNode==r)for(;n&&n!=i.dom;)n=V$(n);else r.insertBefore(i.dom,n);o=i.dom}for(n=o?o.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=V$(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==M$(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Q$.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,i=-1,a=-1;for(let s=0,l=n,c=n;s<this.children.length;s++){let n=this.children[s],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=s,o=l),l>t&&n.dom.parentNode==this.dom){i=s,a=c;break}c=u,l=u+n.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=H$){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new W$(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,o,i){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function V$(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Q$.prototype.breakAfter=0;class W${constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function G$(e,t,n,r,o,i,a,s,l){let{children:c}=e,u=c.length?c[t]:null,d=i.length?i[i.length-1]:null,h=d?d.breakAfter:a;if(!(t==r&&u&&!a&&!h&&i.length<2&&u.merge(n,o,i.length?d:null,0==n,s,l))){if(r<c.length){let e=c[r];e&&(o<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==r&&(e=e.split(o),o=0),!h&&d&&e.merge(0,o,d,!0,0,l)?i[i.length-1]=e:((o||e.children.length&&!e.children[0].length)&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,n>0&&(!a&&i.length&&u.merge(n,u.length,i[0],!1,s,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,s,0),t++));t<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:s;else{if(!c[t].become(i[0]))break;t++,i.shift(),s=i.length?0:l}!i.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,s,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function X$(e,t,n,r,o,i){let a=e.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:c,off:u}=a.findPos(t,-1),d=t-n;for(let e of r)d+=e.length;e.length+=d,G$(e,c,u,s,l,r,0,o,i)}let q$="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Z$="undefined"!=typeof document?document:{documentElement:{style:{}}};const Y$=/Edge\/(\d+)/.exec(q$.userAgent),K$=/MSIE \d/.test(q$.userAgent),J$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(q$.userAgent),eN=!!(K$||J$||Y$),tN=!eN&&/gecko\/(\d+)/i.test(q$.userAgent),nN=!eN&&/Chrome\/(\d+)/.exec(q$.userAgent),rN="webkitFontSmoothing"in Z$.documentElement.style,oN=!eN&&/Apple Computer/.test(q$.vendor),iN=oN&&(/Mobile\/\w+/.test(q$.userAgent)||q$.maxTouchPoints>2);var aN={mac:iN||/Mac/.test(q$.platform),windows:/Win/.test(q$.platform),linux:/Linux|X11/.test(q$.platform),ie:eN,ie_version:K$?Z$.documentMode||6:J$?+J$[1]:Y$?+Y$[1]:0,gecko:tN,gecko_version:tN?+(/Firefox\/(\d+)/.exec(q$.userAgent)||[0,0])[1]:0,chrome:!!nN,chrome_version:nN?+nN[1]:0,ios:iN,android:/Android\b/.test(q$.userAgent),webkit:rN,safari:oN,webkit_version:rN?+(/\bAppleWebKit\/(\d+)/.exec(q$.userAgent)||[0,0])[1]:0,tabSize:null!=Z$.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class sN extends Q${constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof sN)||this.length-(t-e)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new sN(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new U$(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,a=0;0==t&&n<0||t==r&&n>=0?aN.chrome||aN.gecko||(t?(o--,a=1):i<r&&(i++,a=-1)):n<0?o--:i<r&&i++;let s=D$(e,o,i).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return aN.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(s,e=>e.width)||l),a?T$(l,a<0):l||null}(this.dom,e,t)}}class lN extends Q${constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(z$(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof lN&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0)||(X$(this,e,t,n?n.children.slice():[],o-1,i-1),this.markDirty(),0))}split(e){let t=[],n=0,r=-1,o=0;for(let i of this.children){let a=n+i.length;a>e&&t.push(n<e?i.split(e-n):i),r<0&&n>=e&&(r=o),n=a,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new lN(this.mark,t,i)}domAtPos(e){return dN(this,e)}coordsAt(e,t){return fN(this,e,t)}}class cN extends Q${static create(e,t,n){return new cN(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=cN.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof cN&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof cN&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return RR.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):RR.empty}domAtPos(e){return(this.length?0==e:this.side>0)?U$.before(this.dom):U$.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let i=this.side?this.side<0:e>0;for(let t=i?r.length-1:0;o=r[t],!(e>0?0==t:t==r.length-1||o.top<o.bottom);t+=i?-1:1);return T$(o,!i)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class uN extends Q${constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof uN&&e.side==this.side}split(){return new uN(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?U$.before(this.dom):U$.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return RR.empty}get isHidden(){return!0}}function dN(e,t){let n=e.dom,{children:r}=e,o=0;for(let e=0;o<r.length;o++){let i=r[o],a=e+i.length;if(!(a==e&&i.getSide()<=0)){if(t>e&&t<a&&i.dom.parentNode==n)return i.domAtPos(t-e);if(t<=e)break;e=a}}for(let e=o;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=o;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new U$(n,0)}function hN(e,t,n){let r,{children:o}=e;n>0&&t instanceof lN&&o.length&&(r=o[o.length-1])instanceof lN&&r.mark.eq(t.mark)?hN(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function fN(e,t,n){let r=null,o=-1,i=null,a=-1;!function e(t,s){for(let l=0,c=0;l<t.children.length&&c<=s;l++){let u=t.children[l],d=c+u.length;d>=s&&(u.children.length?e(u,s-c):(!i||i.isHidden&&(n>0||pN(i,u)))&&(d>s||c==d&&u.getSide()>0)?(i=u,a=s-c):(c<s||c==d&&u.getSide()<0&&!u.isHidden)&&(r=u,o=s-c)),c=d}}(e,t);let s=(n<0?r:i)||r||i;return s?s.coordsAt(Math.max(0,s==r?o:a),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=S$(t);return n[n.length-1]||null}(e)}function pN(e,t){let n=e.coordsAt(0,1),r=t.coordsAt(0,1);return n&&r&&r.top<n.bottom}function mN(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}sN.prototype.children=cN.prototype.children=uN.prototype.children=H$;const gN=Object.create(null);function vN(e,t,n){if(e==t)return!0;e||(e=gN),t||(t=gN);let r=Object.keys(e),o=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(-1==o.indexOf(i)||e[i]!==t[i]))return!1;return!0}function bN(e,t,n){let r=!1;if(t)for(let o in t)n&&o in n||(r=!0,"style"==o?e.style.cssText="":e.removeAttribute(o));if(n)for(let o in n)t&&t[o]==n[o]||(r=!0,"style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r}function yN(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class xN{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ON=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(ON||(ON={}));class wN extends QA{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new SN(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new _N(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=CN(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new _N(e,t,n,r,e.widget||null,!0)}static line(e){return new EN(e)}static set(e,t=!1){return XA.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}wN.none=XA.empty;class SN extends wN{constructor(e){let{start:t,end:n}=CN(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof SN&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&vN(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}SN.prototype.point=!1;class EN extends wN{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof EN&&this.spec.class==e.spec.class&&vN(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}EN.prototype.mapMode=WR.TrackBefore,EN.prototype.point=!0;class _N extends wN{constructor(e,t,n,r,o,i){super(t,n,o,e),this.block=r,this.isReplace=i,this.mapMode=r?t<=0?WR.TrackBefore:WR.TrackAfter:WR.TrackDel}get type(){return this.startSide!=this.endSide?ON.WidgetRange:this.startSide<=0?ON.WidgetBefore:ON.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _N&&((t=this.widget)==(n=e.widget)||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function CN(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function kN(e,t,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}_N.prototype.point=!0;class MN extends Q${constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof MN))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),X$(this,e,t,n?n.children.slice():[],o,i),!0}split(e){let t=new MN;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){vN(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){hN(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=mN(t,this.attrs||{})),n&&(this.attrs=mN({class:n},this.attrs||{}))}domAtPos(e){return dN(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(z$(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(bN(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Q$.get(r)instanceof lN;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Q$.get(r))||void 0===n?void 0:n.isEditable)||aN.ios&&this.children.some(e=>e instanceof sN)))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof sN)||/[^ -~]/.test(n.text))return null;let r=S$(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=fN(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return e instanceof MN&&0==this.children.length&&0==e.children.length&&vN(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof MN)return o;if(i>t)break}r=i+o.breakAfter}return null}}class TN extends Q${constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof TN&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?U$.before(this.dom):U$.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new TN(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return H$}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):RR.empty}domBoundsAround(){return null}become(e){return e instanceof TN&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof PN?null:T$(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class PN extends xN{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class RN{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof TN&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new MN),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(AN(new uN(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof TN||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(AN(new sN(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o,i){if(this.disallowBlockEffectsFor[i]&&n instanceof _N){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof _N)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new TN(n.widget||$N.block,a,n));else{let i=cN.create(n.widget||$N.inline,a,a?0:n.startSide),s=this.atCursorPos&&!i.isEditable&&o<=r.length&&(e<t||n.startSide>0),l=!i.isEditable&&(e<t||o>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||s||i.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),s&&(c.append(AN(new uN(1),r),o),o=r.length+Math.max(0,o-r.length)),c.append(AN(i,r),o),this.atCursorPos=l,this.pendingBuffer=l?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,r,o){let i=new RN(e,t,n,o);return i.openEnd=XA.spans(r,t,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function AN(e,t){for(let n of t)e=new lN(n,[e],e.length);return e}class $N extends xN{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}$N.inline=new $N("span"),$N.block=new $N("div");var NN=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(NN||(NN={}));const IN=NN.LTR,DN=NN.RTL;function LN(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const zN=LN("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),jN=LN("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),BN=Object.create(null),FN=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);BN[t]=n,BN[n]=-t}function UN(e){return e<=247?zN[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?jN[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const HN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class QN{get dir(){return this.level%2?DN:IN}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let a=e[i];if(a.from<=t&&a.to>=t){if(a.level==n)return i;(o<0||(0!=r?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}function VN(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!VN(r.inner,o.inner))return!1}return!0}const WN=[];function GN(e,t,n,r,o,i,a){let s=r%2?2:1;if(r%2==o%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==i.length||l<i[c].from){let e=WN[l];e!=s&&(t=!1,u=16==e)}let d=t||1!=s?null:[],h=t?r:r+1,f=l;e:for(;;)if(c<i.length&&f==i[c].from){if(u)break e;let p=i[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<i.length&&i[t].from==e)){if(WN[e]==s)break e;break}e=i[t++].to}c++,d?d.push(p):(p.from>l&&a.push(new QN(l,p.from,h)),XN(e,p.direction==IN!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.to),f=p.to}else{if(f==n||(t?WN[f]!=s:WN[f]==s))break;f++}d?GN(e,l,f,r+1,o,d,a):l<f&&a.push(new QN(l,f,h)),l=f}else for(let l=n,c=i.length;l>t;){let n=!0,u=!1;if(!c||l>i[c-1].to){let e=WN[l-1];e!=s&&(n=!1,u=16==e)}let d=n||1!=s?null:[],h=n?r:r+1,f=l;e:for(;;)if(c&&f==i[c-1].to){if(u)break e;let p=i[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||i[n-1].to!=e){if(WN[e-1]==s)break e;break}e=i[--n].from}d?d.push(p):(p.to<l&&a.push(new QN(p.to,l,h)),XN(e,p.direction==IN!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.from),f=p.from}else{if(f==t||(n?WN[f-1]!=s:WN[f-1]==s))break;f--}d?GN(e,f,l,r+1,o,d,a):f<l&&a.push(new QN(f,l,h)),l=f}}function XN(e,t,n,r,o,i,a){let s=t%2?2:1;!function(e,t,n,r,o){for(let i=0;i<=r.length;i++){let a=i?r[i-1].to:t,s=i<r.length?r[i].from:n,l=i?256:o;for(let t=a,n=l,r=l;t<s;t++){let o=UN(e.charCodeAt(t));512==o?o=n:8==o&&4==r&&(o=16),WN[t]=4==o?2:o,7&o&&(r=o),n=o}for(let e=a,t=l,r=l;e<s;e++){let o=WN[e];if(128==o)e<s-1&&t==WN[e+1]&&24&t?o=WN[e]=t:WN[e]=256;else if(64==o){let o=e+1;for(;o<s&&64==WN[o];)o++;let i=e&&8==t||o<n&&8==WN[o]?1==r?1:8:256;for(let t=e;t<o;t++)WN[t]=i;e=o-1}else 8==o&&1==r&&(WN[e]=1);t=o,7&o&&(r=o)}}}(e,o,i,r,s),function(e,t,n,r,o){let i=1==o?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let c=a?r[a-1].to:t,u=a<r.length?r[a].from:n;for(let t,n,r,a=c;a<u;a++)if(n=BN[t=e.charCodeAt(a)])if(n<0){for(let e=s-3;e>=0;e-=3)if(FN[e+1]==-n){let t=FN[e+2],n=2&t?o:4&t?1&t?i:o:0;n&&(WN[a]=WN[FN[e]]=n),s=e;break}}else{if(189==FN.length)break;FN[s++]=a,FN[s++]=t,FN[s++]=l}else if(2==(r=WN[a])||1==r){let e=r==o;l=e?0:1;for(let t=s-3;t>=0;t-=3){let n=FN[t+2];if(2&n)break;if(e)FN[t+2]|=2;else{if(4&n)break;FN[t+2]|=4}}}}}(e,o,i,r,s),function(e,t,n,r){for(let o=0,i=r;o<=n.length;o++){let a=o?n[o-1].to:e,s=o<n.length?n[o].from:t;for(let l=a;l<s;){let a=WN[l];if(256==a){let a=l+1;for(;;)if(a==s){if(o==n.length)break;a=n[o++].to,s=o<n.length?n[o].from:t}else{if(256!=WN[a])break;a++}let c=1==i,u=c==(1==(a<t?WN[a]:r))?c?1:2:r;for(let t=a,r=o,i=r?n[r-1].to:e;t>l;)t==i&&(t=n[--r].from,i=r?n[r-1].to:e),WN[--t]=u;l=a}else i=a,l++}}}(o,i,r,s),GN(e,o,i,t,n,r,a)}function qN(e){return[new QN(0,e,0)]}let ZN="";function YN(e,t,n,r,o){var i;let a=r.head-e.from,s=QN.find(t,a,null!==(i=r.bidiLevel)&&void 0!==i?i:-1,r.assoc),l=t[s],c=l.side(o,n);if(a==c){let e=s+=o?1:-1;if(e<0||e>=t.length)return null;l=t[s=e],a=l.side(!o,n),c=l.side(o,n)}let u=FR(e.text,a,l.forward(o,n));(u<l.from||u>l.to)&&(u=c),ZN=e.text.slice(Math.min(a,u),Math.max(a,u));let d=s==(o?t.length-1:0)?null:t[s+(o?1:-1)];return d&&u==c&&d.level+(o?0:1)<l.level?nA.cursor(d.side(!o,n)+e.from,d.forward(o,n)?1:-1,d.level):nA.cursor(u+e.from,l.forward(o,n)?-1:1,l.level)}function KN(e,t,n){for(let r=t;r<n;r++){let t=UN(e.charCodeAt(r));if(1==t)return IN;if(2==t||4==t)return DN}return IN}const JN=iA.define(),eI=iA.define(),tI=iA.define(),nI=iA.define(),rI=iA.define(),oI=iA.define(),iI=iA.define(),aI=iA.define(),sI=iA.define(),lI=iA.define({combine:e=>e.some(e=>e)}),cI=iA.define({combine:e=>e.some(e=>e)}),uI=iA.define();class dI{constructor(e,t="nearest",n="nearest",r=5,o=5,i=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=i}map(e){return e.empty?this:new dI(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new dI(nA.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const hI=RA.define({map:(e,t)=>e.map(t)}),fI=RA.define();function pI(e,t,n){let r=e.facet(nI);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+":",t):console.error(t))}const mI=iA.define({combine:e=>!e.length||e[0]});let gI=0;const vI=iA.define({combine:e=>e.filter((t,n)=>{for(let r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0})});class bI{constructor(e,t,n,r,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(vI.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(vI.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:o,decorations:i}=t||{};return new bI(gI++,e,n,r,e=>{let t=[];return i&&t.push(wI.of(t=>{let n=t.plugin(e);return n?i(n):wN.none})),o&&t.push(o(e)),t})}static fromClass(e,t){return bI.define((t,n)=>new e(t,n),t)}}class yI{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(pI(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){pI(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){pI(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const xI=iA.define(),OI=iA.define(),wI=iA.define(),SI=iA.define(),EI=iA.define(),_I=iA.define();function CI(e,t){let n=e.state.facet(_I);if(!n.length)return n;let r=n.map(t=>t instanceof Function?t(e):t),o=[];return XA.spans(r,t.from,t.to,{point(){},span(e,n,r,i){let a=e-t.from,s=n-t.from,l=o;for(let e=r.length-1;e>=0;e--,i--){let n,o=r[e].spec.bidiIsolate;if(null==o&&(o=KN(t.text,a,s)),i>0&&l.length&&(n=l[l.length-1]).to==a&&n.direction==o)n.to=s,l=n.inner;else{let e={from:a,to:s,direction:o,inner:[]};l.push(e),l=e.inner}}}}),o}const kI=iA.define();function MI(e){let t=0,n=0,r=0,o=0;for(let i of e.state.facet(kI)){let a=i(e);a&&(null!=a.left&&(t=Math.max(t,a.left)),null!=a.right&&(n=Math.max(n,a.right)),null!=a.top&&(r=Math.max(r,a.top)),null!=a.bottom&&(o=Math.max(o,a.bottom)))}return{left:t,right:n,top:r,bottom:o}}const TI=iA.define();class PI{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new PI(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,a=0;;r++){let s=r==e.length?null:e[r],l=i-a,c=s?s.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],r=t[o+1],i=Math.max(a,e),s=Math.min(c,r);if(i<=s&&new PI(i+l,s+l,i,s).addToSet(n),r>c)break;o+=2}if(!s)return n;new PI(s.fromA,s.toA,s.fromB,s.toB).addToSet(n),i=s.toA,a=s.toB}}}class RI{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=XR.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges((e,t,n,o)=>r.push(new PI(e,t,n,o))),this.changedRanges=r}static create(e,t,n){return new RI(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class AI extends Q${get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=wN.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new MN],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new PI(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;return t&&e.iterChangedRanges((e,r)=>{e<t.to&&r>t.from&&(n=!0)}),n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let o=r>-1?function(e,t,n){let r=$I(e,n);if(!r)return null;let{node:o,from:i,to:a}=r,s=o.nodeValue;if(/[\n\r]/.test(s))return null;if(e.state.doc.sliceString(r.from,r.to)!=s)return null;let l=t.invertedDesc,c=new PI(l.mapPos(i),l.mapPos(a),i,a),u=[];for(let t=o.parentNode;;t=t.parentNode){let n=Q$.get(t);if(n instanceof lN)u.push({node:t,deco:n.mark});else{if(n instanceof MN||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:o,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new SN({inclusive:!0,attributes:yN(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new PI(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(aN.ie||aN.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=function(e,t,n){let r=new NI;return XA.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=PI.extendWithRanges(n,i),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=aN.chrome||aN.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(e=>e.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof TN&&e.widget instanceof PN&&o.push(e.dom);r.updateGaps(o)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let i,a,s,l,{fromA:c,toA:u,fromB:d,toB:h}=t;if(n&&n.range.fromB<h&&n.range.toB>d){let e=RN.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=RN.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);a=e.breakAtStart,s=e.openStart,l=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),i=e.content.concat(r).concat(t.content)}else({content:i,breakAtStart:a,openStart:s,openEnd:l}=RN.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=o.findPos(u,1),{i:m,off:g}=o.findPos(c,-1);G$(this,m,g,f,p,i,a,s,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(fI)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new sN(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new lN(n,[t],t.length);let n=new MN;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some(e=>7&e.flags)?1:0),this.markedForComposition.add(t);let n=Q$.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&!(this.view.state.facet(mI)||this.dom.tabIndex>-1)&&w$(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||o))return;let i=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,s=this.moveToLine(this.domAtPos(a.anchor)),l=a.empty?s:this.moveToLine(this.domAtPos(a.head));if(aN.gecko&&a.empty&&!this.hasComposition&&1==(c=s).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(e,s.node.childNodes[s.offset]||null)),s=l=new U$(e,0),i=!0}var c;let u=this.view.observer.selectionRange;!i&&u.focusNode&&(E$(s.node,s.offset,u.anchorNode,u.anchorOffset)&&E$(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,a))||(this.view.observer.ignore(()=>{aN.android&&aN.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=x$(this.view.root);if(e)if(a.empty){if(aN.gecko){let e=function(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}(s.node,s.offset);if(e&&3!=e){let t=(1==e?B$:F$)(s.node,s.offset);t&&(s=new U$(t.node,t.offset))}}e.collapse(s.node,s.offset),null!=a.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=a.bidiLevel)}else if(e.extend){e.collapse(s.node,s.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();a.anchor>a.head&&([s,l]=[l,s]),t.setEnd(l.node,l.offset),t.setStart(s.node,s.offset),e.removeAllRanges(),e.addRange(t)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new U$(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new U$(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&E$(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=x$(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let i=MN.find(this,t.head);if(!i)return;let a=i.posAtStart;if(t.head==a||t.head==a+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,o)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=Q$.get(n.childNodes[r]);e instanceof MN&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=Q$.get(n.childNodes[r]);e instanceof MN&&(t=e.domAtPos(e.length))}return t?new U$(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=Q$.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof MN)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let o=this.length,i=this.children.length-1;i>=0;i--){let a=this.children[i],s=o-a.breakAfter,l=s-a.length;if(s<e)break;if(l<=e&&(l<e||a.covers(-1))&&(s>e||a.covers(1))&&(!n||a instanceof MN&&!(n instanceof MN&&t>=0)))n=a,r=l;else if(n&&l==e&&s==e&&a instanceof TN&&Math.abs(t)<2){if(a.deco.startSide<0)break;i&&(n=null)}o=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof MN))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof sN))return null;let o=FR(r.text,n);if(o==n)return null;let i=D$(r.dom,n,o).getClientRects();for(let e=0;e<i.length;e++){let t=i[e];if(e==i.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,o=this.view.contentDOM.clientWidth,i=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,s=this.view.textDirection==NN.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),i){let t=c.dom.lastChild,r=t?S$(t):[];if(r.length){let t=r[r.length-1],i=s?t.right-n.left:n.right-t.left;i>a&&(a=i,this.minWidth=o,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?NN.RTL:NN.LTR}measureTextSize(){for(let e of this.children)if(e instanceof MN){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(r);let o=S$(r.firstChild)[0];e=r.getBoundingClientRect().height,t=o?o.width/27:7,n=o?o.height:e,r.remove()}),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new W$(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=(t.lineBlockAt(i).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(wN.replace({widget:new PN(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return wN.set(e)}updateDeco(){let e=1,t=this.view.state.facet(wI).map(t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t),n=!1,r=this.view.state.facet(SI).map((e,t)=>{let r="function"==typeof e;return r&&(n=!0),r?e(this.view):e});for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(XA.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(uI))try{if(t(this.view,e.range,e))return!0}catch(e){pI(this.view.state,e,"scroll handler")}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let o=MI(this.view),i={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:s}=this.view.scrollDOM;!function(e,t,n,r,o,i,a,s){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==l.body,f=1,p=1;if(h)e=P$(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=R$(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,g=0;if("nearest"==o)t.top<e.top?(g=t.top-(e.top+a),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+a)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+a,n<0&&t.top-g<e.top&&(g=t.top-(e.top+a)));else{let r=t.bottom-t.top,i=e.bottom-e.top;g=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-a:t.bottom-i+a)-e.top}if("nearest"==r?t.left<e.left?(m=t.left-(e.left+i),n>0&&t.right>e.right+m&&(m=t.right-e.right+i)):t.right>e.right&&(m=t.right-e.right+i,n<0&&t.left<e.left+m&&(m=t.left-(e.left+i))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==s?t.left-i:t.right-(e.right-e.left)+i)-e.left,m||g)if(h)c.scrollBy(m,g);else{let e=0,n=0;if(g){let e=u.scrollTop;u.scrollTop+=g/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-g)<1&&(o="nearest")}if(h)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,i,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,s),-s),this.view.textDirection==NN.LTR)}}function $I(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=B$(n.focusNode,n.focusOffset),o=F$(n.focusNode,n.focusOffset),i=r||o;if(o&&r&&o.node!=r.node){let t=Q$.get(o.node);if(!t||t instanceof sN&&t.text!=o.node.nodeValue)i=o;else if(e.docView.lastCompositionAfterCursor){let e=Q$.get(r.node);!e||e instanceof sN&&e.text!=r.node.nodeValue||(i=o)}}if(e.docView.lastCompositionAfterCursor=i!=r,!i)return null;let a=t-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}let NI=class{constructor(){this.changes=[]}compareRange(e,t){kN(e,t,this.changes)}comparePoint(e,t){kN(e,t,this.changes)}boundChange(e){kN(e,e,this.changes)}};function II(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function DI(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function LI(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function zI(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function jI(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function BI(e,t,n){let r,o,i,a,s,l,c,u,d=!1;for(let h=e.firstChild;h;h=h.nextSibling){let e=S$(h);for(let f=0;f<e.length;f++){let p=e[f];o&&LI(o,p)&&(p=zI(jI(p,o.bottom),o.top));let m=II(t,p),g=DI(n,p);if(0==m&&0==g)return 3==h.nodeType?FI(h,t,n):BI(h,t,n);(!r||a>g||a==g&&i>m)&&(r=h,o=p,i=m,a=g,d=!m||(t<p.left?f>0:f<e.length-1)),0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(s=h,c=p):n<p.top&&(!u||u.top>p.top)&&(l=h,u=p):c&&LI(c,p)?c=jI(c,p.bottom):u&&LI(u,p)&&(u=zI(u,p.top))}}if(c&&c.bottom>=n?(r=s,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:e,offset:0};let h=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?FI(r,h,n):d&&"false"!=r.contentEditable?BI(r,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}}function FI(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,a=0;for(let s=0;s<r;s++){let r=D$(e,s,s+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;a||(a=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,r=n;if((aN.chrome||aN.gecko)&&D$(e,s).getBoundingClientRect().left==c.right&&(r=!n),u<=0)return{node:e,offset:s+(r?1:0)};o=s+(r?1:0),i=u}}}return{node:e,offset:o>-1?o:a>0?e.nodeValue.length:0}}function UI(e,t,n,r=-1){var o,i;let a,s=e.contentDOM.getBoundingClientRect(),l=s.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:d}=t,h=d-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,o=!1;a=e.elementAtHeight(h),a.type!=ON.Text;)for(;h=r>0?a.bottom+t:a.top-t,!(h>=0&&h<=c);){if(o)return n?null:0;o=!0,r=-r}d=l+h;let f=a.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:HI(e,s,a,u,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:HI(e,s,a,u,d);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,g=m.elementFromPoint(u,d);g&&!e.contentDOM.contains(g)&&(g=null),g||(u=Math.max(s.left+1,Math.min(s.right-1,u)),g=m.elementFromPoint(u,d),g&&!e.contentDOM.contains(g)&&(g=null));let v,b=-1;if(g&&0!=(null===(o=e.docView.nearest(g))||void 0===o?void 0:o.isEditable)){if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,d);e&&({offsetNode:v,offset:b}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(u,d);t&&(({startContainer:v,startOffset:b}=t),(!e.contentDOM.contains(v)||aN.safari&&function(e,t,n){let r,o=e;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(;;){let e=o.nextSibling;if(e){if("BR"==e.nodeName)break;return!1}{let e=o.parentNode;if(!e||"DIV"==e.nodeName)break;o=e}}return D$(e,r-1,r).getBoundingClientRect().right>n}(v,b,u)||aN.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return n-(1==e.nodeType?e.getBoundingClientRect():D$(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(v,b,u))&&(v=void 0))}v&&(b=Math.min(M$(v),b))}if(!v||!e.docView.dom.contains(v)){let t=MN.find(e.docView,f);if(!t)return h>a.top+a.height/2?a.to:a.from;({node:v,offset:b}=BI(t.dom,u,d))}let y=e.docView.nearest(v);if(!y)return null;if(y.isWidget&&1==(null===(i=y.dom)||void 0===i?void 0:i.nodeType)){let e=y.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(v,b)+y.posAtStart}function HI(e,t,n,r,o){let i=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;i+=Math.floor((o-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+s$(a,i,e.state.tabSize)}function QI(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let o of r.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;e&&(o.type!=ON.Text||e.type==o.type&&!(n<0?o.from<t:o.to>t))||(e=o)}}return e||r}return r}function VI(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o),a=e.textDirectionAt(o.from);for(let s=t,l=null;;){let t=YN(o,i,a,s,n),c=ZN;if(!t){if(o.number==(n?e.state.doc.lines:1))return s;c="\n",o=e.state.doc.line(o.number+(n?1:-1)),i=e.bidiSpans(o),t=e.visualLineSide(o,!n)}if(l){if(!l(c))return s}else{if(!r)return t;l=r(c)}s=t}}function WI(e,t,n){for(;;){let r=0;for(let o of e)o.between(t-1,t+1,(e,o,i)=>{if(t>e&&t<o){let i=r||n||(t-e<o-t?-1:1);t=i<0?e:o,r=i}});if(!r)return t}}function GI(e,t,n){let r=WI(e.state.facet(EI).map(t=>t(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:nA.cursor(r,r<n.from?1:-1)}const XI="￿";class qI{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(UA.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=XI}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let i=Q$.get(r),a=Q$.get(o);(i&&a?i.breakAfter:(i?i.breakAfter:C$(r))||C$(o)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,a=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=i+a}}readNode(e){if(e.cmIgnore)return;let t=Q$.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(ZI(e,n.node,n.offset)?t:0))}}function ZI(e,t,n){for(;;){if(!t||n<M$(t))return!1;if(t==e)return!0;n=_$(t)+1,t=t.parentNode}}class YI{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class KI{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:i}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=o||i?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;return n&&(t.push(new YI(n,r)),o==n&&i==r||t.push(new YI(o,i))),t}(e),n=new qI(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?nA.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=o&&o.node==t.focusNode&&o.offset==t.focusOffset||!O$(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!O$(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),a=e.viewport;if((aN.ios||aN.chrome)&&e.state.selection.main.empty&&n!=r&&(a.from>0||a.to<e.state.doc.length)){let t=Math.min(n,r),o=Math.max(n,r),i=a.from-t,s=a.to-o;0!=i&&1!=i&&0!=t||0!=s&&-1!=s&&o!=e.state.doc.length||(n=0,r=e.state.doc.length)}this.newSel=nA.single(r,n)}}}function JI(e,t){let n,{newSel:r}=t,o=e.state.selection.main,i=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:a}=t.bounds,s=o.from,l=null;(8===i||aN.android&&t.text.length<a-r)&&(s=o.to,l="end");let c=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;return"end"==r&&(n-=a+Math.max(0,i-Math.min(a,s))-i),a<i&&e.length<t.length?(i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i):s<i&&(i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i),{from:i,toA:a,toB:s}}(e.state.doc.sliceString(r,a,XI),t.text,s-r,l);c&&(aN.chrome&&13==i&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==XI+XI&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:RR.of(t.text.slice(c.from,c.toB).split(XI))})}else r&&(!e.hasFocus&&e.state.facet(mI)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,o.to)}:(aN.mac||aN.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=nA.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:RR.of([n.insert.toString().replace("."," ")])}):n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,o.to))}:aN.chrome&&n&&n.from==n.to&&n.from==o.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=nA.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:RR.of([" "])}),n)return eD(e,n,r,i);if(r&&!r.main.eq(o)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}function eD(e,t,n,r=-1){if(aN.ios&&e.inputState.flushIOSKey(t))return!0;let o=e.state.selection.main;if(aN.android&&(t.to==o.to&&(t.from==o.from||t.from==o.from-1&&" "==e.state.sliceDoc(t.from,o.from))&&1==t.insert.length&&2==t.insert.lines&&L$(e.contentDOM,"Enter",13)||(t.from==o.from-1&&t.to==o.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>o.head)&&L$(e.contentDOM,"Backspace",8)||t.from==o.from&&t.to==o.to+1&&0==t.insert.length&&L$(e.contentDOM,"Delete",46)))return!0;let i,a=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let s=()=>i||(i=function(e,t,n){let r,o=e.state,i=o.selection.main;if(t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=i.from<t.from?o.sliceDoc(i.from,t.from):"",a=i.to>t.to?o.sliceDoc(t.to,i.to):"";r=o.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+a))}else{let a=o.changes(t),s=n&&n.main.to<=a.newLength?n.main:void 0;if(o.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&$I(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(i.head);let d=i.to-t.to,h=i.to-i.from;r=o.changeByRange(n=>{if(n.from==i.from&&n.to==i.to)return{changes:a,range:s||n.map(a)};let r=n.to-d,u=r-c.length;if(n.to-n.from!=h||e.state.sliceDoc(u,r)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=o.changes({from:u,to:r,insert:t.insert}),p=n.to-i.to;return{changes:f,range:s?nA.range(Math.max(0,s.anchor+p),Math.max(0,s.head+p)):n.map(f)}})}else r={changes:a,selection:s&&o.selection.replaceRange(s)}}let a="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),o.update(r,{userEvent:a,scrollIntoView:!0})}(e,t,n));return e.state.facet(oI).some(n=>n(e,t.from,t.to,a,s))||e.dispatch(s()),!0}class tD{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,aN.safari&&e.contentDOM.addEventListener("input",()=>null),aN.gecko&&function(e){MD.has(e)||(MD.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Q$.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=rD(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let o=!t[e].handlers.length,i=n[e];i&&o!=!i.handlers.length&&(r.removeEventListener(e,this.handleEvent),i=null),i||r.addEventListener(e,this.handleEvent,{passive:o})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&aD.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),aN.android&&aN.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!aN.ios||e.synthetic||e.altKey||e.metaKey||!((t=oD.find(t=>t.keyCode==e.keyCode))&&!e.ctrlKey||iD.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,L$(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(aN.safari&&!aN.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function nD(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){pI(n.state,e)}}}function rD(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec,r=e&&e.plugin.domEventHandlers,o=e&&e.plugin.domEventObservers;if(r)for(let e in r){let o=r[e];o&&n(e).handlers.push(nD(t.value,o))}if(o)for(let e in o){let r=o[e];r&&n(e).observers.push(nD(t.value,r))}}for(let e in cD)n(e).handlers.push(cD[e]);for(let e in uD)n(e).observers.push(uD[e]);return t}const oD=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],iD="dthko",aD=[16,17,18,20,91,92,224,225];function sD(e){return.7*Math.max(0,e)+8}class lD{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,n,r=e.ownerDocument;for(let o=e.parentNode;o&&!(o==r.body||t&&n);)if(1==o.nodeType)!n&&o.scrollHeight>o.clientHeight&&(n=o),!t&&o.scrollWidth>o.clientWidth&&(t=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:t,y:n}}(e.contentDOM),this.atoms=e.state.facet(EI).map(t=>t(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(UA.allowMultipleSelections)&&function(e,t){let n=e.state.facet(JN);return n.length?n[0](t):aN.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=x$(e.root);if(!r||0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let n=o[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=wD(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,n=e,Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))<10))return;var t,n;this.select(this.lastEvent=e);let r=0,o=0,i=0,a=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=MI(this.view);e.clientX-c.left<=i+6?r=-sD(i-e.clientX):e.clientX+c.right>=s-6&&(r=sD(e.clientX-s)),e.clientY-c.top<=a+6?o=-sD(a-e.clientY):e.clientY+c.bottom>=l-6&&(o=sD(e.clientY-l)),this.setScrollSpeed(r,o)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],o=null;if(r.empty){let e=WI(this.atoms,r.from,0);e!=r.from&&(o=nA.cursor(e,-1))}else{let e=WI(this.atoms,r.from,-1),t=WI(this.atoms,r.to,1);e==r.from&&t==r.to||(o=nA.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}o&&(t||(t=e.ranges.slice()),t[n]=o)}return t?nA.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}const cD=Object.create(null),uD=Object.create(null),dD=aN.ie&&aN.ie_version<15||aN.ios&&aN.webkit_version<604;function hD(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function fD(e,t){t=hD(e.state,aI,t);let n,{state:r}=e,o=1,i=r.toText(t),a=i.lines==r.selection.ranges.length;if(null!=ED&&r.selection.ranges.every(e=>e.empty)&&ED==i.toString()){let e=-1;n=r.changeByRange(n=>{let s=r.doc.lineAt(n.from);if(s.from==e)return{range:n};e=s.from;let l=r.toText((a?i.line(o++).text:t)+r.lineBreak);return{changes:{from:s.from,insert:l},range:nA.cursor(n.from+l.length)}})}else n=a?r.changeByRange(e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:nA.cursor(e.from+t.length)}}):r.replaceSelection(i);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function pD(e,t,n,r){if(1==r)return nA.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return nA.cursor(t);0==i?n=1:i==o.length&&(n=-1);let a=i,s=i;n<0?a=FR(o.text,i,!1):s=FR(o.text,i);let l=r(o.text.slice(a,s));for(;a>0;){let e=FR(o.text,a,!1);if(r(o.text.slice(e,a))!=l)break;a=e}for(;s<o.length;){let e=FR(o.text,s);if(r(o.text.slice(s,e))!=l)break;s=e}return nA.range(a+o.from,s+o.from)}(e.state,t,n);{let n=MN.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),o=n?n.posAtStart:r.from,i=n?n.posAtEnd:r.to;return i<e.state.doc.length&&i==r.to&&i++,nA.range(o,i)}}uD.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},cD.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),uD.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},uD.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},cD.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(tI))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=vD(e,t),r=wD(t),o=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),o=o.map(e.changes))},get(t,i,a){let s,l=vD(e,t),c=pD(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!i){let t=pD(e,n.pos,n.bias,r),o=Math.min(t.from,c.from),i=Math.max(t.to,c.to);c=o<c.from?nA.range(o,i):nA.range(i,o)}return i?o.replaceRange(o.main.extend(c.from,c.to)):a&&1==r&&o.ranges.length>1&&(s=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:o}=e.ranges[n];if(r<=t&&o>=t)return nA.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(o,l.pos))?s:a?o.addRange(c):nA.create([c])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new lD(e,t,n,r)),r&&e.observer.ignore(()=>{I$(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()});let o=e.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}return!1};let mD=(e,t,n)=>t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right;function gD(e,t,n,r){let o=MN.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let a=o.coordsAt(i,-1);if(a&&mD(n,r,a))return-1;let s=o.coordsAt(i,1);return s&&mD(n,r,s)?1:a&&a.bottom>=r?-1:1}function vD(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:gD(e,n,t.clientX,t.clientY)}}const bD=aN.ie&&aN.ie_version<=11;let yD=null,xD=0,OD=0;function wD(e){if(!bD)return e.detail;let t=yD,n=OD;return yD=e,OD=Date.now(),xD=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(xD+1)%3:1}function SD(e,t,n,r){if(!(n=hD(e.state,aI,n)))return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:i}=e.inputState,a=r&&i&&function(e,t){let n=e.state.facet(eI);return n.length?n[0](t):aN.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:i.from,to:i.to}:null,s={from:o,insert:n},l=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"}),e.inputState.draggedContent=null}cD.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=nA.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",hD(e.state,sI,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},cD.dragend=e=>(e.inputState.draggedContent=null,!1),cD.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&SD(e,t,r.filter(e=>null!=e).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return SD(e,t,n,!0),!0}return!1},cD.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=dD?null:t.clipboardData;return n?(fD(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),fD(e,n.value)},50)}(e),!1)};let ED=null;cD.copy=cD.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:hD(e,sI,t.join(e.lineBreak)),ranges:n,linewise:r}}(e.state);if(!n&&!o)return!1;ED=o?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=dD?null:t.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}(e,n),!1)};const _D=MA.define();function CD(e,t){let n=[];for(let r of e.facet(iI)){let o=r(e,t);o&&n.push(o)}return n.length?e.update({effects:n,annotations:_D.of(!0)}):null}function kD(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=CD(e.state,t);n?e.dispatch(n):e.update([])}},10)}uD.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),kD(e)},uD.blur=e=>{e.observer.clearSelectionRange(),kD(e)},uD.compositionstart=uD.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},uD.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,aN.chrome&&aN.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))},uD.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},cD.beforeinput=(e,t)=>{var n,r;if("insertReplacementText"==t.inputType&&e.observer.editContext){let r=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),o=t.getTargetRanges();if(r&&o.length){let t=o[0],n=e.posAtDOM(t.startContainer,t.startOffset),i=e.posAtDOM(t.endContainer,t.endOffset);return eD(e,{from:n,to:i,insert:e.state.toText(r)},null),!0}}let o;if(aN.chrome&&aN.android&&(o=oD.find(e=>e.inputType==t.inputType))&&(e.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout(()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return aN.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),aN.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout(()=>uD.compositionend(e,t),20),!1};const MD=new Set,TD=["pre-wrap","normal","pre-line","break-spaces"];let PD=!1;function RD(){PD=!1}class AD{constructor(e){this.lineWrapping=e,this.doc=RR.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return TD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o,i){let a=TD.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=o,s){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class $D{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ND{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this._content=o}get type(){return"number"==typeof this._content?ON.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _N?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ND(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ID=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(ID||(ID={}));const DD=.001;class LD{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>DD&&(PD=!0),this.height=e)}replace(e,t,n){return LD.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this,i=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:s,toA:l,fromB:c,toB:u}=r[a],d=o.lineAt(s,ID.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=l?d:o.lineAt(l,ID.ByPosNoHeight,n,0,0);for(u+=h.to-l,l=h.to;a>0&&d.from<=r[a-1].toA;)s=r[a-1].fromA,c=r[a-1].fromB,a--,s<d.from&&(d=o.lineAt(s,ID.ByPosNoHeight,n,0,0));c+=d.from-s,s=d.from;let f=QD.build(n.setDoc(i),e,c,u);o=zD(o,o.replace(s,l,f))}return o.updateHeight(n,0)}static empty(){return new BD(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new UD(LD.of(e.slice(0,t)),i,LD.of(e.slice(n)))}}function zD(e,t){return e==t?e:(e.constructor!=t.constructor&&(PD=!0),t)}LD.prototype.size=1;class jD extends LD{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new ND(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class BD extends jD{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new ND(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof BD||r instanceof FD&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof FD?r=new BD(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):LD.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class FD extends LD{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,i=o-r+1,a=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*i);n=t/i,this.length>i+1&&(a=(this.height-t)/(this.length-i-1))}else n=this.height/i;return{firstLine:r,lastLine:o,perLine:n,perChar:a}}blockAt(e,t,n,r){let{firstLine:o,lastLine:i,perLine:a,perChar:s}=this.heightMetrics(t,r);if(t.lineWrapping){let o=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),i=t.doc.lineAt(o),l=a+i.length*s,c=Math.max(n,e-l/2);return new ND(i.from,i.length,c,l,0)}{let r=Math.max(0,Math.min(i-o,Math.floor((e-n)/a))),{from:s,length:l}=t.doc.line(o+r);return new ND(s,l,n+a*r,a,0)}}lineAt(e,t,n,r,o){if(t==ID.ByHeight)return this.blockAt(e,n,r,o);if(t==ID.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new ND(t,r-t,0,0,0)}let{firstLine:i,perLine:a,perChar:s}=this.heightMetrics(n,o),l=n.doc.lineAt(e),c=a+l.length*s,u=l.number-i,d=r+a*u+s*(l.from-o-u);return new ND(l.from,l.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,t,n,r,o,i){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(n,o);for(let c=e,u=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-a;u+=s*n+l*(e-o-n)}let r=s+l*t.length;i(new ND(t.from,t.length,u,r,0)),u+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof FD?n[n.length-1]=new FD(e.length+r):n.push(null,new FD(r-1))}if(e>0){let t=n[0];t instanceof FD?n[0]=new FD(e+t.length):n.unshift(new FD(e-1),null)}return LD.of(n)}decomposeLeft(e,t){t.push(new FD(e-1),null)}decomposeRight(e,t){t.push(null,new FD(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),a=-1;for(r.from>t&&n.push(new FD(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==a?a=o:Math.abs(o-a)>=DD&&(a=-2);let s=new BD(t,o);s.outdated=!1,n.push(s),i+=t+1}i<=o&&n.push(null,new FD(o-i).updateHeight(e,i));let s=LD.of(n);return(a<0||Math.abs(s.height-this.height)>=DD||Math.abs(a-this.heightMetrics(e,t).perLine)>=DD)&&(PD=!0),zD(this,s)}return(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class UD extends LD{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,a=o+this.left.length+this.break,s=t==ID.ByHeight?e<i:e<a,l=s?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,a);if(this.break||(s?l.to<a:l.from>a))return l;let c=t==ID.ByPosNoHeight?ID.ByPosNoHeight:ID.ByPos;return s?l.join(this.right.lineAt(a,c,n,i,a)):this.left.lineAt(a,c,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let a=r+this.left.height,s=o+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,o,i),t>=s&&this.right.forEachLine(e,t,n,a,s,i);else{let l=this.lineAt(s,ID.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,s,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let e of n)o.push(e);if(e>0&&HD(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),HD(o,e)}return LD.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?LD.of(this.break?[e,null,t]:[e,t]):(this.left=zD(this.left,e),this.right=zD(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:i}=this,a=t+o.length+this.break,s=null;return r&&r.from<=t+o.length&&r.more?s=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=a+i.length&&r.more?s=i=i.updateHeight(e,a,n,r):i.updateHeight(e,a,n),s?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function HD(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof FD&&(r=e[t+1])instanceof FD&&e.splice(t-1,3,new FD(n.length+1+r.length))}class QD{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof BD?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new BD(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let i=t-e;n.block?this.addBlock(new jD(i,r,n)):(i||o||r>=5)&&this.addLineDeco(r,o,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new BD(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new FD(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof BD)return e;let t=new BD(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof BD||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new BD(0,-1));let n=e;for(let e of this.nodes)e instanceof BD&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let o=new QD(n,e);return XA.spans(t,n,r,o,0),o.finish(n)}}class VD{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&kN(e,t,this.changes,5)}}function WD(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(o.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();i=Math.max(i,r.left),a=Math.min(a,r.right),s=Math.max(s,r.top),l=Math.min(t==e.parentNode?o.innerHeight:l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-n.left,right:Math.max(i,a)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function GD(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class XD{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return wN.replace({widget:new qD(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class qD extends xN{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ZD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=eL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=NN.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(OI).some(e=>"function"!=typeof e&&"cm-lineWrapping"==e.class);this.heightOracle=new AD(t),this.stateDeco=e.facet(wI).filter(e=>"function"!=typeof e),this.heightMap=LD.empty().applyChanges(this.stateDeco,RR.empty,this.heightOracle.setDoc(e.doc),[new PI(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wN.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some(({from:e,to:t})=>r>=e&&r<=t)){let{from:t,to:n}=this.lineBlockAt(r);e.push(new YD(t,n))}}return this.viewports=e.sort((e,t)=>e.from-t.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?eL:new tL(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(nL(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(wI).filter(e=>"function"!=typeof e);let r=e.changedRanges,o=PI.extendWithRanges(r,function(e,t,n){let r=new VD;return XA.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:XR.empty(this.state.doc.length))),i=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);RD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=i||PD)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=i);let s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let l=s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(cI)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?NN.RTL:NN.LTR;let i=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),s=i||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let l=0,c=0;if(a.width&&a.height){let{scaleX:e,scaleY:n}=R$(t,a);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,l|=16,i=s=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=j$(e.scrollDOM);let f=(this.printing?GD:WD)(t,this.paddingTop),p=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(s=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;let v=a.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(i=!0),i||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:a,textHeight:s}=e.docView.measureTextSize();i=n>0&&r.refresh(o,n,a,s,v/a,t),i&&(e.docView.minWidth=0,l|=16)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),RD();for(let n of this.viewports){let o=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(i?LD.empty().applyChanges(this.stateDeco,RR.empty,this.heightOracle,[new PI(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,i,new $D(n.from,o))}PD&&(l|=2)}let b=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:i,visibleBottom:a}=this,s=new YD(r.lineAt(i-1e3*n,ID.ByHeight,o,0,0).from,r.lineAt(a+1e3*(1-n),ID.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<s.from||e>s.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=r.lineAt(e,ID.ByPos,o,0,0);n="center"==t.y?(a.top+a.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<s.from?a.top:a.bottom-i,s=new YD(r.lineAt(n-500,ID.ByHeight,o,0,0).from,r.lineAt(n+i+500,ID.ByHeight,o,0,0).to)}}return s}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new YD(this.heightMap.lineAt(n,ID.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,ID.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,ID.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,ID.ByPos,this.heightOracle,0,0),{visibleTop:i,visibleBottom:a}=this;return(0==e||r<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&r>i-2e3&&o<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new XD(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,i=r<<1;if(this.defaultTextDirection!=NN.LTR&&!n)return[];let a=[],s=(r,i,l,c)=>{if(i-r<o)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<i)return s(r,e-10,l,c),void s(e+10,i,l,c);let h=function(e,t){for(let n of e)if(t(n))return n}(e,e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<o&&Math.abs(e.to-i)<o&&!d.some(t=>e.from<t&&e.to>t));if(!h){if(i<l.to&&t&&n&&t.visibleRanges.some(e=>e.from<=i&&e.to>=i)){let e=t.moveToLineBoundary(nA.cursor(i),!1,!0).head;e>r&&(i=e)}let e=this.gapSize(l,r,i,c);h=new XD(r,i,e,n||e<2e6?e:2e6)}a.push(h)},l=t=>{if(t.length<i||t.type!=ON.Text)return;let o=function(e,t,n){let r=[],o=e,i=0;return XA.spans(n,e,t,{span(){},point(e,t){e>o&&(r.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(r.push({from:o,to:t}),i+=t-o),{total:i,ranges:r}}(t.from,t.to,this.stateDeco);if(o.total<i)return;let a,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let e,n,i=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=JD(o,c),a=((this.visibleBottom-this.visibleTop)/2+i)/t.height;e=r-a,n=r+a}else e=(this.visibleTop-t.top-i)/t.height,n=(this.visibleBottom-t.top+i)/t.height;a=KD(o,e),l=KD(o,n)}else{let n=o.total*this.heightOracle.charWidth,i=r*this.heightOracle.charWidth,s=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+s<this.pixelViewport.left&&(s=n.size-n.displaySize);let u,d,h=this.pixelViewport.left+s,f=this.pixelViewport.right+s;if(null!=c){let e=JD(o,c),t=((f-h)/2+i)/n;u=e-t,d=e+t}else u=(h-i)/n,d=(f+i)/n;a=KD(o,u),l=KD(o,d)}a>t.from&&s(t.from,a,t,o),l<t.to&&s(l,t.to,t,o)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return a}gapSize(e,t,n,r){let o=JD(r,n)-JD(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){XD.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=wN.set(e.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];XA.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let t=0;t<n.length&&!(8&r);t++){let o=this.visibleRanges[t],i=n[t];o.from==i.from&&o.to==i.to||(r|=4,e&&e.mapPos(o.from,-1)==i.from&&e.mapPos(o.to,1)==i.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||nL(this.heightMap.lineAt(e,ID.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||nL(this.heightMap.lineAt(this.scaler.fromDOM(e),ID.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return nL(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class YD{constructor(e,t){this.from=e,this.to=t}}function KD({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:o}=t[e],i=o-n;if(r<=i)return n+r;r-=i}}function JD(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}const eL={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class tL{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map(({from:n,to:o})=>{let i=t.lineAt(n,ID.ByPos,e,0,0).top,a=t.lineAt(o,ID.ByPos,e,0,0).bottom;return r+=a-i,{from:n,to:o,top:i,bottom:a,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=i+(e.top-o)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}eq(e){return e instanceof tL&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to)}}function nL(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new ND(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(e=>nL(e,t)):e._content)}const rL=iA.define({combine:e=>e.join(" ")}),oL=iA.define({combine:e=>e.indexOf(!0)>-1}),iL=d$.newName(),aL=d$.newName(),sL=d$.newName(),lL={"&light":"."+aL,"&dark":"."+sL};function cL(e,t,n){return new d$(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]}):e+" "+t})}const uL=cL("."+iL,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lL),dL={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},hL=aN.ie&&aN.ie_version<=11;class fL{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new A$,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let e of t)this.queue.push(e);(aN.ie&&aN.ie_version<=11||aN.ios&&e.composing)&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||!aN.android||!1===e.constructor.EDIT_CONTEXT||aN.chrome&&aN.chrome_version<126||(this.editContext=new gL(e),e.state.facet(mI)&&(e.contentDOM.editContext=this.editContext.editContext)),hL&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(mI)?n.root.activeElement!=this.dom:!w$(this.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(aN.ie&&aN.ie_version<=11||aN.android&&aN.chrome)&&!n.state.selection.main.empty&&r.focusNode&&E$(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=x$(e.root);if(!t)return!1;let n=aN.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return mL(e,n)}let n=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?mL(e,n):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=w$(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,M$(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=M$(n))}else{if(n==e)return!0;r=_$(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dL),hL&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),hL&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&L$(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&w$(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new KI(this.view,e,t,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=JI(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=pL(t,e.previousSibling||e.target.previousSibling,-1),r=pL(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(mI)!=e.state.facet(mI)&&(e.view.contentDOM.editContext=e.state.facet(mI)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function pL(e,t,n){for(;t;){let r=Q$.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}function mL(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return E$(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}class gL{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let n=e.state.selection.main,{anchor:r,head:o}=n,i=this.toEditorPos(t.updateRangeStart),a=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:i,drifted:!1});let s={from:i,to:a,insert:RR.of(t.text.split("\n"))};if(s.from==this.from&&r<this.from?s.from=r:s.to==this.to&&r>this.to&&(s.to=r),s.from==s.to&&!s.insert.length){let r=nA.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));return void(r.main.eq(n)||e.dispatch({selection:r,userEvent:"select"}))}if((aN.mac||aN.android)&&s.from==o-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(s={from:i,to:a,insert:RR.of([t.text.replace("."," ")])}),this.pendingContextChange=s,!e.state.readOnly){let n=this.to-this.from+(s.to-s.from+s.insert.length);eD(e,s,nA.single(this.toEditorPos(t.selectionStart,n),this.toEditorPos(t.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let r=[],o=null;for(let t=this.toEditorPos(n.rangeStart),i=this.toEditorPos(n.rangeEnd);t<i;t++){let n=e.coordsForChar(t);o=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||o||new DOMRect,r.push(o)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if("None"!=t&&"None"!=r){let o=this.toEditorPos(e.rangeStart),i=this.toEditorPos(e.rangeEnd);if(o<i){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==r?1:2}px`;n.push(wN.mark({attributes:{style:e}}).range(o,i))}}}e.dispatch({effects:fI.of(wN.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=x$(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges((o,i,a,s,l)=>{if(n)return;let c=l.length-(i-o);if(r&&i>=r.to){if(r.from==o&&r.to==i&&r.insert.eq(l))return r=this.pendingContextChange=null,t+=c,void(this.to+=c);r=null,this.revertPending(e.state)}if(o+=t,(i+=t)<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||i>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(i),l.toString()),this.to+=c}t+=c}),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class vL{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(e=>e.forEach(e=>n(e,this)))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new ZD(e.state||UA.create(e)),e.scrollTo&&e.scrollTo.is(hI)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(vI).map(e=>new yI(e));for(let e of this.plugins)e.update(this);this.observer=new fL(this),this.inputState=new tD(this),this.inputState.ensureHandlers(this.plugins),this.docView=new AI(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=1==e.length&&e[0]instanceof AA?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,o=this.state;for(let t of e){if(t.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=t.state}if(this.destroyed)return void(this.viewState.state=o);let i=this.hasFocus,a=0,s=null;e.some(e=>e.annotation(_D))?(this.inputState.notifiedFocused=i,a=1):i!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=i,s=CD(o,i),s||(a=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(UA.phrases)!=this.state.facet(UA.phrases))return this.setState(o);t=RI.create(this,o,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new dI(e.empty?e:nA.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(hI)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=xL.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(TI)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(e=>e.isUserEvent("select.pointer")))}finally{this.updateState=0}if(t.startState.facet(rL)!=t.state.facet(rL)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(rI))try{e(t)}catch(e){pI(this.state,e,"update listener")}(s||c)&&Promise.resolve().then(()=>{s&&this.state==s.startState&&this.dispatch(s),c&&!JI(this,c)&&l.force&&L$(this.contentDOM,l.key,l.keyCode)})}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new ZD(e),this.plugins=e.facet(vI).map(e=>new yI(e)),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new AI(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(vI),n=e.state.facet(vI);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new yI(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){pI(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:i}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(i=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(i<0)if(j$(n))o=-1,i=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);o=e.from,i=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&a||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map(e=>{try{return e.read(this)}catch(e){return pI(this.state,e),yL}}),c=RI.create(this,this.state,[]),u=!1;c.flags|=a,t?t.flags|=a:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<s.length;e++)if(l[e]!=yL)try{let t=s[e];t.write&&t.write(l[e],this)}catch(e){pI(this.state,e)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,i=-1;continue}{let e=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-i;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,i=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(rI))e(t)}get themeClasses(){return iL+" "+(this.state.facet(oL)?sL:aL)+" "+this.state.facet(rL)}updateAttrs(){let e=OL(this,xI,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(mI)?"true":"false",class:"cm-content",style:`${aN.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),OL(this,OI,t);let n=this.observer.ignore(()=>{let n=bN(this.contentDOM,this.contentAttrs,t),r=bN(this.dom,this.editorAttrs,e);return n||r});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)e.is(vL.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(TI);let e=this.state.facet(vL.cspNonce);d$.mount(this.root,this.styleModules.concat(uL).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(t=>t.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return GI(this,e,VI(this,e,t,n))}moveByGroup(e,t){return GI(this,e,VI(this,e,t,t=>function(e,t,n){let r=e.state.charCategorizer(t),o=r(n);return e=>{let t=r(e);return o==jA.Space&&(o=t),o==t}}(this,e.head,t)))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=n[t?n.length-1:0];return nA.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let o=QI(e,t.head,t.assoc||-1),i=r&&o.type==ON.Text&&(e.lineWrapping||o.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(o.from),a=e.posAtCoords({x:n==(r==NN.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=a)return nA.cursor(a,n?-1:1)}return nA.cursor(n?o.to:o.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return GI(this,e,function(e,t,n,r){let o=t.head,i=n?1:-1;if(o==(n?e.state.doc.length:0))return nA.cursor(o,t.assoc);let a,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o,t.assoc||-1),u=e.documentTop;if(c)null==s&&(s=c.left-l.left),a=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),a=(i<0?t.top:t.bottom)+u}let d=l.left+s,h=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=a+(h+t)*i,r=UI(e,{x:d,y:n},!1,i);if(n<l.top||n>l.bottom||(i<0?r<o:r>o)){let t=e.docView.coordsForChar(r),o=!t||n<t.top?-1:1;return nA.cursor(r,o,void 0,s)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),UI(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r);return T$(n,o[QN.find(o,e-r.from,-1,t)].dir==NN.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(lI)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>bL)return qN(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||VN(r.isolates,t=CI(this,e))))return r.order;t||(t=CI(this,e));let r=function(e,t,n){if(!e)return[new QN(0,0,t==DN?1:0)];if(t==IN&&!n.length&&!HN.test(e))return qN(e.length);if(n.length)for(;e.length>WN.length;)WN[WN.length]=256;let r=[],o=t==IN?0:1;return XN(e,o,o,n,0,e.length,r),r}(e.text,n,t);return this.bidiCache.push(new xL(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||aN.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{I$(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return hI.of(new dI("number"==typeof e?nA.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return hI.of(new dI(nA.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return bI.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return bI.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=d$.newName(),r=[rL.of(n),TI.of(cL(`.${n}`,e))];return t&&t.dark&&r.push(oL.of(!0)),r}static baseTheme(e){return pA.lowest(TI.of(cL("."+iL,e,lL)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&Q$.get(n)||Q$.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}vL.styleModule=TI,vL.inputHandler=oI,vL.clipboardInputFilter=aI,vL.clipboardOutputFilter=sI,vL.scrollHandler=uI,vL.focusChangeEffect=iI,vL.perLineTextDirection=lI,vL.exceptionSink=nI,vL.updateListener=rI,vL.editable=mI,vL.mouseSelectionStyle=tI,vL.dragMovesSelection=eI,vL.clickAddsSelectionRange=JN,vL.decorations=wI,vL.outerDecorations=SI,vL.atomicRanges=EI,vL.bidiIsolatedRanges=_I,vL.scrollMargins=kI,vL.darkTheme=oL,vL.cspNonce=iA.define({combine:e=>e.length?e[0]:""}),vL.contentAttributes=OI,vL.editorAttributes=xI,vL.lineWrapping=vL.contentAttributes.of({class:"cm-lineWrapping"}),vL.announce=RA.define();const bL=4096,yL={};class xL{constructor(e,t,n,r,o,i){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=o,this.order=i}static update(e,t){if(t.empty&&!e.some(e=>e.fresh))return e;let n=[],r=e.length?e[e.length-1].dir:NN.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=r||t.touchesRange(i.from,i.to)||n.push(new xL(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.isolates,!1,i.order))}return n}}function OL(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&mN(i,n)}return n}const wL=aN.mac?"mac":aN.windows?"win":aN.linux?"linux":"key";function SL(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const EL=pA.default(vL.domEventHandlers({keydown:(e,t)=>RL(kL(t.state),e,t,"editor")})),_L=iA.define({enables:EL}),CL=new WeakMap;function kL(e){let t=e.facet(_L),n=CL.get(t);return n||CL.set(t,n=function(e,t=wL){let n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,a,s)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),d=r.split(/ (?!$)/).map(e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,a,s=n[n.length-1];"Space"==s&&(s=" ");for(let e=0;e<n.length-1;++e){const s=n[e];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);"mac"==t?a=!0:o=!0}}return r&&(s="Alt-"+s),o&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}(e,t));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");o(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=ML={view:t,prefix:n,scope:e};return setTimeout(()=>{ML==r&&(ML=null)},TL),!0}]})}let h=d.join(" ");o(h,!1);let f=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&f.run.push(i),a&&(f.preventDefault=!0),s&&(f.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:o}=r;for(let t in e)e[t].run.push(e=>o(e,PL))}let o=r[t]||r.key;if(o)for(let t of e)i(t,o,r.run,r.preventDefault,r.stopPropagation),r.shift&&i(t,"Shift-"+o,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce((e,t)=>e.concat(t),[]))),n}let ML=null;const TL=4e3;let PL=null;function RL(e,t,n,r){PL=t;let o=function(e){var t=!(g$&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||v$&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?m$:p$)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=QR(UR(o,0))==o.length&&" "!=o,a="",s=!1,l=!1,c=!1;ML&&ML.view==n&&ML.scope==r&&(a=ML.prefix+" ",aD.indexOf(t.keyCode)<0&&(l=!0,ML=null));let u,d,h=new Set,f=e=>{if(e){for(let t of e.run)if(!h.has(t)&&(h.add(t),t(n)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[r];return p&&(f(p[a+SL(o,t,!i)])?s=!0:i&&(t.altKey||t.metaKey||t.ctrlKey)&&!(aN.windows&&t.ctrlKey&&t.altKey)&&(u=p$[t.keyCode])&&u!=o?(f(p[a+SL(u,t,!0)])||t.shiftKey&&(d=m$[t.keyCode])!=o&&d!=u&&f(p[a+SL(d,t,!1)]))&&(s=!0):i&&t.shiftKey&&f(p[a+SL(o,t,!0)])&&(s=!0),!s&&f(p._any)&&(s=!0)),l&&(s=!0),s&&c&&t.stopPropagation(),PL=null,s}class AL{constructor(e,t,n,r,o){this.className=e,this.left=t,this.top=n,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=$L(e);return[new AL(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),o=Math.min(n.to,e.viewport.to),i=e.textDirection==NN.LTR,a=e.contentDOM,s=a.getBoundingClientRect(),l=$L(e),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=s.right-(u?parseInt(u.paddingRight):0),f=QI(e,r,1),p=QI(e,o,-1),m=f.type==ON.Text?f:null,g=p.type==ON.Text?p:null;if(m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=NL(e,r,1,m)),g&&(e.lineWrapping||p.widgetLineBreaks)&&(g=NL(e,o,-1,g)),m&&g&&m.from==g.from&&m.to==g.to)return b(y(n.from,n.to,m));{let t=m?y(n.from,null,m):x(f,!1),r=g?y(null,n.to,g):x(p,!0),o=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?o.push(v(d,t.bottom,h,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==ON.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),b(t).concat(o).concat(b(r))}function v(e,n,r,o){return new AL(t,e-l.left,n-l.top,r-e,o-n)}function b({top:e,bottom:t,horizontal:n}){let r=[];for(let o=0;o<n.length;o+=2)r.push(v(n[o],e,n[o+1],t));return r}function y(t,n,r){let o=1e9,a=-1e9,s=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(o=Math.min(f.top,p.top,o),a=Math.max(f.bottom,p.bottom,a),u==NN.LTR?s.push(i&&n?d:f.left,i&&c?h:p.right):s.push(!i&&c?d:p.left,!i&&n?h:f.right))}let c=null!=t?t:r.from,u=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<u)for(let o=Math.max(r.from,c),i=Math.min(r.to,u);;){let r=e.state.doc.lineAt(o);for(let a of e.bidiSpans(r)){let e=a.from+r.from,s=a.to+r.from;if(e>=i)break;s>o&&l(Math.max(e,o),null==t&&e<=c,Math.min(s,i),null==n&&s>=u,a.dir)}if(o=r.to+1,o>=i)break}return 0==s.length&&l(c,null==t,u,null==n,e.textDirection),{top:o,bottom:a,horizontal:s}}function x(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function $L(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==NN.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function NL(e,t,n,r){let o=e.coordsAtPos(t,2*n);if(!o)return r;let i=e.dom.getBoundingClientRect(),a=(o.top+o.bottom)/2,s=e.posAtCoords({x:i.left+1,y:a}),l=e.posAtCoords({x:i.right-1,y:a});return null==s||null==l?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}class IL{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(DL)!=e.state.facet(DL)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(DL);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r})){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const DL=iA.define();function LL(e){return[bI.define(t=>new IL(t,e)),DL.of(e)]}const zL=iA.define({combine:e=>HA(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function jL(e){return e.startState.facet(zL)!=e.state.facet(zL)}const BL=LL({above:!0,markers(e){let{state:t}=e,n=t.facet(zL),r=[];for(let o of t.selection.ranges){let i=o==t.selection.main;if(o.empty||n.drawRangeCursor){let t=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=o.empty?o:nA.cursor(o.head,o.head>o.anchor?-1:1);for(let o of AL.forRange(e,t,n))r.push(o)}}return r},update(e,t){e.transactions.some(e=>e.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=jL(e);return n&&FL(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){FL(t.state,e)},class:"cm-cursorLayer"});function FL(e,t){t.style.animationDuration=e.facet(zL).cursorBlinkRate+"ms"}const UL=LL({above:!1,markers:e=>e.state.selection.ranges.map(t=>t.empty?[]:AL.forRange(e,"cm-selectionBackground",t)).reduce((e,t)=>e.concat(t)),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||jL(e),class:"cm-selectionLayer"}),HL=pA.highest(vL.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),QL=RA.define({map:(e,t)=>null==e?null:t.mapPos(e)}),VL=hA.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((e,t)=>t.is(QL)?t.value:e,e))}),WL=bI.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(VL);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(VL)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(VL),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(VL)!=e&&this.view.dispatch({effects:QL.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function GL(e,t,n,r,o){t.lastIndex=0;for(let i,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;i=t.exec(a.value);)o(s+i.index,i)}class XL{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:o,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,o)=>r(o,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,o)=>{let i=n(e,t,r);i&&o(r,r+e[0].length,i)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,o)=>o(r,r+e[0].length,n)}this.boundary=o,this.maxLength=i}createDeco(e){let t=new qA,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))GL(e.state.doc,this.regexp,t,r,(t,r)=>this.addMatch(r,e,t,n));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((t,o,i,a)=>{a>=e.view.viewport.from&&i<=e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(a,r))}),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),a=Math.min(o.to,r);if(a>=i){let n=e.state.doc.lineAt(i),r=n.to<a?e.state.doc.lineAt(a):n,s=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){s=i;break}for(;a<r.to;a++)if(this.boundary.test(r.text[a-r.from])){l=a;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=s-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else GL(e.state.doc,this.regexp,s,l,(t,n)=>this.addMatch(n,e,t,d));t=t.update({filterFrom:s,filterTo:l,filter:(e,t)=>e<s||t>l,add:u})}}return t}}const qL=null!=/x/.unicode?"gu":"g",ZL=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",qL),YL={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let KL=null;const JL=iA.define({combine(e){let t=HA(e,{render:null,specialChars:ZL,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==KL&&"undefined"!=typeof document&&document.body){let t=document.body.style;KL=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return KL||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,qL)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,qL)),t}});let ez=null;class tz extends xN{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(YL[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class nz extends xN{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const rz=wN.line({class:"cm-activeLine"}),oz=bI.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let o=e.lineBlockAt(r.head);o.from>t&&(n.push(rz.range(o.from)),t=o.from)}return wN.set(n)}},{decorations:e=>e.decorations});class iz extends xN{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?S$(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),r=T$(t[0],"rtl"!=n.direction),o=parseInt(n.lineHeight);return r.bottom-r.top>1.5*o?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}}const az=2e3;function sz(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),o=n-r.from,i=o>az?-1:o==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):a$(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}const lz={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},cz={style:"cursor: crosshair"},uz="-10000px";class dz{constructor(e,t,n,r){this.facet=t,this.createTooltipView=n,this.removeTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(e=>e);let o=null;this.tooltipViews=this.tooltips.map(e=>o=n(e,o))}update(e,t){var n;let r=e.state.facet(this.facet),o=r.filter(e=>e);if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let i=[],a=t?[]:null;for(let n=0;n<o.length;n++){let r=o[n],s=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(s=e)}if(s<0)i[n]=this.createTooltipView(r,n?i[n-1]:null),a&&(a[n]=!!r.above);else{let r=i[n]=this.tooltipViews[s];a&&(a[n]=t[s]),r.update&&r.update(e)}}}for(let e of this.tooltipViews)i.indexOf(e)<0&&(this.removeTooltipView(e),null===(n=e.destroy)||void 0===n||n.call(e));return t&&(a.forEach((e,n)=>t[n]=e),t.length=a.length),this.input=r,this.tooltips=o,this.tooltipViews=i,!0}}function hz(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const fz=iA.define({combine:e=>{var t,n,r;return{position:aN.ios?"absolute":(null===(t=e.find(e=>e.position))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find(e=>e.parent))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find(e=>e.tooltipSpace))||void 0===r?void 0:r.tooltipSpace)||hz}}}),pz=new WeakMap,mz=bI.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(fz);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new dz(e,yz,(e,t)=>this.createTooltip(e,t),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(fz);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",n.dom.appendChild(e)}return n.dom.style.position=this.position,n.dom.style.top=uz,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(e=t.destroy)||void 0===e||e.call(t);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(aN.gecko)n=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==uz&&"0px"==e.style.left){let t=e.getBoundingClientRect();n=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(n||"absolute"==this.position)if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),o=MI(this.view);return{visible:{left:r.left+o.left,top:r.top+o.top,right:r.right-o.right,bottom:r.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(fz).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{visible:n,space:r,scaleX:o,scaleY:i}=e,a=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],c=this.manager.tooltipViews[s],{dom:u}=c,d=e.pos[s],h=e.size[s];if(!d||!1!==l.clip&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=uz;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=h.right-h.left,g=null!==(t=pz.get(c))&&void 0!==t?t:h.bottom-h.top,v=c.offset||bz,b=this.view.textDirection==NN.LTR,y=h.width>r.right-r.left?b?r.left:r.right-h.width:b?Math.max(r.left,Math.min(d.left-(f?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,d.left-m+(f?14:0)-v.x),r.right-m),x=this.above[s];!l.strictSide&&(x?d.top-g-p-v.y<r.top:d.bottom+g+p+v.y>r.bottom)&&x==r.bottom-d.bottom>d.top-r.top&&(x=this.above[s]=!x);let O=(x?d.top-r.top:r.bottom-d.bottom)-p;if(O<g&&!1!==c.resize){if(O<this.view.defaultLineHeight){u.style.top=uz;continue}pz.set(c,g),u.style.height=(g=O)/i+"px"}else u.style.height&&(u.style.height="");let w=x?d.top-g-p-v.y:d.bottom+p+v.y,S=y+m;if(!0!==c.overlap)for(let e of a)e.left<S&&e.right>y&&e.top<w+g&&e.bottom>w&&(w=x?e.top-g-2-p:e.bottom+p+2);if("absolute"==this.position?(u.style.top=(w-e.parent.top)/i+"px",gz(u,(y-e.parent.left)/o)):(u.style.top=w/i+"px",gz(u,y/o)),f){let e=d.left+(b?v.x:-v.x)-(y+14-7);f.style.left=e/o+"px"}!0!==c.overlap&&a.push({left:y,top:w,right:S,bottom:w+g}),u.classList.toggle("cm-tooltip-above",x),u.classList.toggle("cm-tooltip-below",!x),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=uz}},{eventObservers:{scroll(){this.maybeMeasure()}}});function gz(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}const vz=vL.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),bz={x:0,y:0},yz=iA.define({enables:[mz,vz]}),xz=iA.define({combine:e=>e.reduce((e,t)=>e.concat(t),[])});class Oz{static create(e){return new Oz(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new dz(e,xz,(e,t)=>this.createHostedView(e,t),e=>e.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const wz=yz.compute([xz],e=>{let t=e.facet(xz);return 0===t.length?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos})),create:Oz.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class Sz{constructor(e,t,n,r,o){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,o=1;if(n instanceof cN)r=n.posAtStart;else{if(r=e.posAtCoords(t),null==r)return;let n=e.coordsAtPos(r);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let i=e.bidiSpans(e.state.doc.lineAt(r)).find(e=>e.from<=r&&e.to>=r),a=i&&i.dir==NN.RTL?-1:1;o=t.x<n.left?-a:a}let i=this.source(e,r,o);if(null==i?void 0:i.then){let t=this.pending={pos:r};i.then(n=>{this.pending==t&&(this.pending=null,!n||Array.isArray(n)&&!n.length||e.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))},t=>pI(e.state,t,"hover tooltip"))}else!i||Array.isArray(i)&&!i.length||e.dispatch({effects:this.setHover.of(Array.isArray(i)?i:[i])})}get tooltip(){let e=this.view.plugin(mz),t=e?e.manager.tooltips.findIndex(e=>e.create==Oz.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:o}=this;if(r.length&&o&&!function(e,t){let n,{left:r,right:o,top:i,bottom:a}=e.getBoundingClientRect();if(n=e.querySelector(".cm-tooltip-arrow")){let e=n.getBoundingClientRect();i=Math.min(e.top,i),a=Math.max(e.bottom,a)}return t.clientX>=r-Ez&&t.clientX<=o+Ez&&t.clientY>=i-Ez&&t.clientY<=a+Ez}(o.dom,e)||this.pending){let{pos:o}=r[0]||this.pending,i=null!==(n=null===(t=r[0])||void 0===t?void 0:t.end)&&void 0!==n?n:o;(o==i?this.view.posAtCoords(this.lastMove)==o:function(e,t,n,r,o){let i=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(i.left>r||i.right<r||i.top>o||Math.min(i.bottom,a)<o)return!1;let s=e.posAtCoords({x:r,y:o},!1);return s>=t&&s<=n}(this.view,o,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ez=4;function _z(e,t={}){let n=RA.define(),r=hA.define({create:()=>[],update(e,r){if(e.length&&(t.hideOnChange&&(r.docChanged||r.selection)?e=[]:t.hideOn&&(e=e.filter(e=>!t.hideOn(r,e))),r.docChanged)){let t=[];for(let n of e){let e=r.changes.mapPos(n.pos,-1,WR.TrackDel);if(null!=e){let o=Object.assign(Object.create(null),n);o.pos=e,null!=o.end&&(o.end=r.changes.mapPos(o.end)),t.push(o)}}e=t}for(let t of r.effects)t.is(n)&&(e=t.value),t.is(kz)&&(e=[]);return e},provide:e=>xz.from(e)});return{active:r,extension:[r,bI.define(o=>new Sz(o,e,r,n,t.hoverTime||300)),wz]}}function Cz(e,t){let n=e.plugin(mz);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const kz=RA.define(),Mz=iA.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function Tz(e,t){let n=e.plugin(Pz),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const Pz=bI.fromClass(class{constructor(e){this.input=e.state.facet($z),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(t=>t(e));let t=e.state.facet(Mz);this.top=new Rz(e,!0,t.topContainer),this.bottom=new Rz(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(Mz);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Rz(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Rz(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet($z);if(n!=this.input){let t=n.filter(e=>e),r=[],o=[],i=[],a=[];for(let n of t){let t,s=this.specs.indexOf(n);s<0?(t=n(e.view),a.push(t)):(t=this.panels[s],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of a)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>vL.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Rz{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Az(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Az(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Az(e){let t=e.nextSibling;return e.remove(),t}const $z=iA.define({enables:Pz});class Nz extends QA{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Nz.prototype.elementClass="",Nz.prototype.toDOM=void 0,Nz.prototype.mapMode=WR.TrackBefore,Nz.prototype.startSide=Nz.prototype.endSide=-1,Nz.prototype.point=!0;const Iz=iA.define(),Dz=iA.define(),Lz={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>XA.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},zz=iA.define();function jz(e){return[Fz(),zz.of({...Lz,...e})]}const Bz=iA.define({combine:e=>e.some(e=>e)});function Fz(e){let t=[Uz];return e&&!1===e.fixed&&t.push(Bz.of(!0)),t}const Uz=bI.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(zz).map(t=>new Wz(e,t)),this.fixed=!e.state.facet(Bz);for(let e of this.gutters)"after"==e.config.side?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}if(e.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Bz)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=XA.iter(this.view.state.facet(Iz),this.view.viewport.from),r=[],o=this.gutters.map(e=>new Vz(e,this.view.viewport,-this.view.documentPadding.top));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let i of e.type)if(i.type==ON.Text&&t){Qz(n,r,i.from);for(let e of o)e.line(this.view,i,r);t=!1}else if(i.widget)for(let e of o)e.widget(this.view,i)}else if(e.type==ON.Text){Qz(n,r,e.from);for(let t of o)t.line(this.view,e,r)}else if(e.widget)for(let t of o)t.widget(this.view,e);for(let e of o)e.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(zz),n=e.state.facet(zz),r=e.docChanged||e.heightChanged||e.viewportChanged||!XA.eq(e.startState.facet(Iz),e.state.facet(Iz),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new Wz(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)"after"==e.config.side?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>vL.scrollMargins.of(t=>{let n=t.plugin(e);if(!n||0==n.gutters.length||!n.fixed)return null;let r=n.dom.offsetWidth*t.scaleX,o=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==NN.LTR?{left:r,right:o}:{right:r,left:o}})});function Hz(e){return Array.isArray(e)?e:[e]}function Qz(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Vz{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=XA.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,i=t.height/e.scaleY;if(this.i==r.elements.length){let t=new Gz(e,i,o,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,i,o,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];Qz(this.cursor,r,t.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;(0!=r.length||i.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let n of e.state.facet(Dz)){let o=n(e,t.widget,t);o&&(r||(r=[])).push(o)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Wz{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,r=>{let o,i=r.target;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let e=i.getBoundingClientRect();o=(e.top+e.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,r)&&r.preventDefault()});this.markers=Hz(t.markers(e)),t.initialSpacer&&(this.spacer=new Gz(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Hz(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!XA.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Gz{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let a=i,s=o<t.length?t[o++]:null,l=!1;if(s){let e=s.elementClass;e&&(n+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(s)){a=e,l=!0;break}}else a=this.markers.length;for(;i<a;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Xz=iA.define(),qz=iA.define(),Zz=iA.define({combine:e=>HA(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],o=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||o(e,t,n):o}return n}})});class Yz extends Nz{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Kz(e,t){return e.state.facet(Zz).formatNumber(t,e.state)}const Jz=zz.compute([Zz],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Xz),lineMarker:(e,t,n)=>n.some(e=>e.toDOM)?null:new Yz(Kz(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,n)=>{for(let r of e.state.facet(qz)){let o=r(e,t,n);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Zz)!=e.state.facet(Zz),initialSpacer:e=>new Yz(Kz(e,ej(e.state.doc.lines))),updateSpacer(e,t){let n=Kz(t.view,ej(t.view.state.doc.lines));return n==e.number?e:new Yz(n)},domEventHandlers:e.facet(Zz).domEventHandlers,side:"before"}));function ej(e){let t=9;for(;t<e;)t=10*t+9;return t}const tj=new class extends Nz{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},nj=Iz.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(tj.range(o)))}return XA.of(t)}),rj=1024;let oj=0;class ij{constructor(e,t){this.from=e,this.to=t}}class aj{constructor(e={}){this.id=oj++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=cj.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}aj.closedBy=new aj({deserialize:e=>e.split(" ")}),aj.openedBy=new aj({deserialize:e=>e.split(" ")}),aj.group=new aj({deserialize:e=>e.split(" ")}),aj.isolate=new aj({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),aj.contextHash=new aj({perNode:!0}),aj.lookAhead=new aj({perNode:!0}),aj.mounted=new aj({perNode:!0});class sj{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[aj.mounted.id]}}const lj=Object.create(null);class cj{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):lj,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new cj(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(aj.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(aj.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}cj.none=new cj("",Object.create(null),0,8);class uj{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new cj(n.name,r,n.id,n.flags):n)}return new uj(t)}}const dj=new WeakMap,hj=new WeakMap;var fj;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(fj||(fj={}));class pj{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=sj.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new kj(this.topNode,e)}cursorAt(e,t=0,n=0){let r=dj.get(this)||this.topNode,o=new kj(r);return o.moveTo(e,t),dj.set(this,o._tree),o}get topNode(){return new xj(this,0,0,null)}resolve(e,t=0){let n=bj(dj.get(this)||this.topNode,e,t,!1);return dj.set(this,n),n}resolveInner(e,t=0){let n=bj(hj.get(this)||this.topNode,e,t,!0);return hj.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),o=null;for(let e=r instanceof xj?r:r.context.parent;e;e=e.parent)if(e.index<0){let i=e.parent;(o||(o=[r])).push(i.resolve(t,n)),e=i}else{let i=sj.get(e.tree);if(i&&i.overlay&&i.overlay[0].from<=t&&i.overlay[i.overlay.length-1].to>=t){let a=new xj(i.tree,i.overlay[0].from+e.from,-1,e);(o||(o=[r])).push(bj(a,t,n,!1))}}return o?_j(o):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e,i=e.mode||0,a=(i&fj.IncludeAnonymous)>0;for(let e=this.cursor(i|fj.IncludeAnonymous);;){let i=!1;if(e.from<=o&&e.to>=r&&(!a&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;i=!0}for(;i&&n&&(a||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;i=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Rj(cj.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,n)=>new pj(this.type,e,t,n,this.propValues),e.makeTree||((e,t,n)=>new pj(cj.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:o=rj,reused:i=[],minRepeatType:a=r.types.length}=e,s=Array.isArray(n)?new mj(n,n.length):n,l=r.types,c=0,u=0;function d(e,t,n,g,v,b){let{id:y,start:x,end:O,size:w}=s,S=u,E=c;for(;w<0;){if(s.next(),-1==w){let t=i[y];return n.push(t),void g.push(x-e)}if(-3==w)return void(c=y);if(-4==w)return void(u=y);throw new RangeError(`Unrecognized record size: ${w}`)}let _,C,k=l[y],M=x-e;if(O-x<=o&&(C=function(e,t){let n=s.fork(),r=0,i=0,l=0,c=n.end-o,u={size:0,start:0,skip:0};e:for(let o=n.pos-e;n.pos>o;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=i,u.skip=l,l+=4,r+=4,n.next();continue}let s=n.pos-e;if(e<0||s<o||n.start<c)break;let d=n.id>=a?4:0,h=n.start;for(n.next();n.pos>s;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=a&&(d+=4);n.next()}i=h,r+=e,l+=d}return(t<0||r==e)&&(u.size=r,u.start=i,u.skip=l),u.size>4?u:void 0}(s.pos-t,v))){let t=new Uint16Array(C.size-C.skip),n=s.pos-C.size,o=t.length;for(;s.pos>n;)o=m(C.start,t,o);_=new gj(t,O-C.start,r),M=C.start-e}else{let e=s.pos-w;s.next();let t=[],n=[],r=y>=a?y:-1,i=0,l=O;for(;s.pos>e;)r>=0&&s.id==r&&s.size>=0?(s.end<=l-o&&(f(t,n,x,i,s.end,l,r,S,E),i=t.length,l=s.end),s.next()):b>2500?h(x,e,t,n):d(x,e,t,n,r,b+1);if(r>=0&&i>0&&i<t.length&&f(t,n,x,i,x,l,r,S,E),t.reverse(),n.reverse(),r>-1&&i>0){let e=function(e,t){return(n,r,o)=>{let i,a,s=0,l=n.length-1;if(l>=0&&(i=n[l])instanceof pj){if(!l&&i.type==e&&i.length==o)return i;(a=i.prop(aj.lookAhead))&&(s=r[l]+i.length+a)}return p(e,n,r,o,s,t)}}(k,E);_=Rj(k,t,n,0,t.length,0,O-x,e,e)}else _=p(k,t,n,O-x,S-O,E)}n.push(_),g.push(M)}function h(e,t,n,i){let a=[],l=0,c=-1;for(;s.pos>t;){let{id:e,start:t,end:n,size:r}=s;if(r>4)s.next();else{if(c>-1&&t<c)break;c<0&&(c=n-o),a.push(e,t,n),l++,s.next()}}if(l){let t=new Uint16Array(4*l),o=a[a.length-2];for(let e=a.length-3,n=0;e>=0;e-=3)t[n++]=a[e],t[n++]=a[e+1]-o,t[n++]=a[e+2]-o,t[n++]=n;n.push(new gj(t,a[2]-o,r)),i.push(o-e)}}function f(e,t,n,o,i,a,s,l,c){let u=[],d=[];for(;e.length>o;)u.push(e.pop()),d.push(t.pop()+n-i);e.push(p(r.types[s],u,d,a-i,l-a,c)),t.push(i-n)}function p(e,t,n,r,o,i,a){if(i){let e=[aj.contextHash,i];a=a?[e].concat(a):[e]}if(o>25){let e=[aj.lookAhead,o];a=a?[e].concat(a):[e]}return new pj(e,t,n,r,a)}function m(e,t,n){let{id:r,start:o,end:i,size:l}=s;if(s.next(),l>=0&&r<a){let a=n;if(l>4){let r=s.pos-(l-4);for(;s.pos>r;)n=m(e,t,n)}t[--n]=a,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let g=[],v=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,g,v,-1,0);let b=null!==(t=e.length)&&void 0!==t?t:g.length?v[0]+g[0].length:0;return new pj(l[e.topID],g.reverse(),v.reverse(),b)}(e)}}pj.empty=new pj(cj.none,[],[],0);class mj{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new mj(this.buffer,this.index)}}class gj{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return cj.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(vj(o,r,i[s+1],i[s+2])&&(a=s,n>0));s=i[s+3]);return a}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),i=0;for(let a=e,s=0;a<t;){o[s++]=r[a++],o[s++]=r[a++]-n;let t=o[s++]=r[a++]-n;o[s++]=r[a++]-e,i=Math.max(i,t)}return new gj(o,i,this.set)}}function vj(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function bj(e,t,n,r){for(var o;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof xj&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:fj.IgnoreOverlays;if(r)for(let r=e,a=r.parent;a;r=a,a=r.parent)r instanceof xj&&r.index<0&&(null===(o=a.enter(t,n,i))||void 0===o?void 0:o.from)!=r.from&&(e=a);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class yj{cursor(e=0){return new kj(this,e)}getChild(e,t=null,n=null){let r=Oj(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return Oj(this,e,t,n)}resolve(e,t=0){return bj(this,e,t,!1)}resolveInner(e,t=0){return bj(this,e,t,!0)}matchContext(e){return wj(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class xj extends yj{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,o=0){for(let i=this;;){for(let{children:a,positions:s}=i._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+i.from;if(vj(r,n,c,c+l.length))if(l instanceof gj){if(o&fj.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,n-c,r);if(a>-1)return new Ej(new Sj(i,l,e,c),null,a)}else if(o&fj.IncludeAnonymous||!l.type.isAnonymous||Mj(l)){let a;if(!(o&fj.IgnoreMounts)&&(a=sj.get(l))&&!a.overlay)return new xj(a.tree,c,e,i);let s=new xj(l,c,e,i);return o&fj.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(o&fj.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&fj.IgnoreOverlays)&&(r=sj.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:o}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?o>=n:o>n))return new xj(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Oj(e,t,n,r){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=n)for(let e=!1;!e;)if(e=o.type.is(n),!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}function wj(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class Sj{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class Ej extends yj{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new Ej(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&fj.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Ej(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ej(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ej(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1];e.push(n.slice(r,o,i)),t.push(0)}return new pj(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function _j(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let o=e[r];(o.from>n.from||o.to<n.to)&&(n=o,t=r)}let r=n instanceof xj&&n.index<0?null:n.parent,o=e.slice();return r?o[t]=r:o.splice(t,1),new Cj(o,n)}class Cj{constructor(e,t){this.heads=e,this.node=t}get next(){return _j(this.heads)}}class kj{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof xj)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof xj?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&fj.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&fj.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&fj.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let e=n._tree.children[r];if(this.mode&fj.IncludeAnonymous||e instanceof gj||!e.type.isAnonymous||Mj(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let e=n;e<this.stack.length;e++)t=new Ej(this.buffer,t,this.stack[e]);return this.bufferNode=new Ej(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return wj(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return wj(this._tree,e,r);let i=n[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function Mj(e){return e.children.some(e=>e instanceof gj||!e.type.isAnonymous||Mj(e))}const Tj=new WeakMap;function Pj(e,t){if(!e.isAnonymous||t instanceof gj||t.type!=e)return 1;let n=Tj.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof pj)){n=1;break}n+=Pj(e,r)}Tj.set(t,n)}return n}function Rj(e,t,n,r,o,i,a,s,l){let c=0;for(let n=r;n<o;n++)c+=Pj(e,t[n]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,r,o,a,s){for(let c=o;c<a;){let o=c,f=r[c],p=Pj(e,n[c]);for(c++;c<a;c++){let t=Pj(e,n[c]);if(p+t>=u)break;p+=t}if(c==o+1){if(p>u){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+s);continue}d.push(n[o])}else{let t=r[c-1]+n[c-1].length-f;d.push(Rj(e,n,r,o,c,f,t,null,l))}h.push(f+s-i)}}(t,n,r,o,0),(s||l)(d,h,a)}class Aj{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof Ej?this.setBuffer(e.context.buffer,e.index,t):e instanceof xj&&this.map.set(e.tree,t)}get(e){return e instanceof Ej?this.getBuffer(e.context.buffer,e.index):e instanceof xj?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class $j{constructor(e,t,n,r,o=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new $j(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let a=0,s=0,l=0;;a++){let c=a<t.length?t[a]:null,u=c?c.fromA:1e9;if(u-s>=n)for(;i&&i.from<u;){let t=i;if(s>=t.from||u<=t.to||l){let e=Math.max(t.from,s)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new $j(e,n,t.tree,t.offset+l,a>0,!!c)}if(t&&r.push(t),i.to>u)break;i=o<e.length?e[o++]:null}if(!c)break;s=c.toA,l=c.toA-c.toB}return r}}class Nj{startParse(e,t,n){return"string"==typeof e&&(e=new Ij(e)),n=n?n.length?n.map(e=>new ij(e.from,e.to)):[new ij(0,0)]:[new ij(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class Ij{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new aj({perNode:!0});let Dj=0;class Lj{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=Dj++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof Lj&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let r=new Lj(n,[],null,[]);if(r.set.push(r),t)for(let e of t.set)r.set.push(e);return r}static defineModifier(e){let t=new jj(e);return e=>e.modified.indexOf(t)>-1?e:jj.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}}let zj=0;class jj{constructor(e){this.name=e,this.instances=[],this.id=zj++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every((e,t)=>e==o[t]));var r,o});if(n)return n;let r=[],o=new Lj(e.name,r,e,t);for(let e of t)e.instances.push(o);let i=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,o=t.length;r<o;r++)t.push(t[r].concat(e[n]));return t.sort((e,t)=>t.length-e.length)}(t);for(let t of e.set)if(!t.modified.length)for(let e of i)r.push(jj.get(t,e));return o}}function Bj(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){o=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let a=n.length-1,s=n[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new Uj(r,o,a>0?n.slice(0,a):null);t[s]=l.sort(t[s])}}return Fj.add(t)}const Fj=new aj;class Uj{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function Hj(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:o=null}=t||{};return{style:e=>{let t=o;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function Qj(e,t,n,r=0,o=e.length){let i=new Vj(r,Array.isArray(t)?t:[t],n);i.highlightRange(e.cursor(),r,o,"",i.highlighters),i.flush(o)}Uj.empty=new Uj([],2,null);class Vj{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,r,o){let{type:i,from:a,to:s}=e;if(a>=n||s<=t)return;i.isTop&&(o=this.highlighters.filter(e=>!e.scope||e.scope(i)));let l=r,c=function(e){let t=e.type.prop(Fj);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Uj.empty,u=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(o,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(t,a),l),c.opaque)return;let d=e.tree&&e.tree.prop(aj.mounted);if(d&&d.overlay){let i=e.node.enter(d.overlay[0].from+a,1),c=this.highlighters.filter(e=>!e.scope||e.scope(d.tree.type)),u=e.firstChild();for(let h=0,f=a;;h++){let p=h<d.overlay.length?d.overlay[h]:null,m=p?p.from+a:s,g=Math.max(t,f),v=Math.min(n,m);if(g<v&&u)for(;e.from<v&&(this.highlightRange(e,g,v,r,o),this.startSpan(Math.min(v,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!p||m>n)break;f=p.to+a,f>t&&(this.highlightRange(i.cursor(),Math.max(t,p.from+a),Math.min(n,f),"",c),this.startSpan(Math.min(n,f),l))}u&&e.parent()}else if(e.firstChild()){d&&(r="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,o),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}const Wj=Lj.define,Gj=Wj(),Xj=Wj(),qj=Wj(Xj),Zj=Wj(Xj),Yj=Wj(),Kj=Wj(Yj),Jj=Wj(Yj),eB=Wj(),tB=Wj(eB),nB=Wj(),rB=Wj(),oB=Wj(),iB=Wj(oB),aB=Wj(),sB={comment:Gj,lineComment:Wj(Gj),blockComment:Wj(Gj),docComment:Wj(Gj),name:Xj,variableName:Wj(Xj),typeName:qj,tagName:Wj(qj),propertyName:Zj,attributeName:Wj(Zj),className:Wj(Xj),labelName:Wj(Xj),namespace:Wj(Xj),macroName:Wj(Xj),literal:Yj,string:Kj,docString:Wj(Kj),character:Wj(Kj),attributeValue:Wj(Kj),number:Jj,integer:Wj(Jj),float:Wj(Jj),bool:Wj(Yj),regexp:Wj(Yj),escape:Wj(Yj),color:Wj(Yj),url:Wj(Yj),keyword:nB,self:Wj(nB),null:Wj(nB),atom:Wj(nB),unit:Wj(nB),modifier:Wj(nB),operatorKeyword:Wj(nB),controlKeyword:Wj(nB),definitionKeyword:Wj(nB),moduleKeyword:Wj(nB),operator:rB,derefOperator:Wj(rB),arithmeticOperator:Wj(rB),logicOperator:Wj(rB),bitwiseOperator:Wj(rB),compareOperator:Wj(rB),updateOperator:Wj(rB),definitionOperator:Wj(rB),typeOperator:Wj(rB),controlOperator:Wj(rB),punctuation:oB,separator:Wj(oB),bracket:iB,angleBracket:Wj(iB),squareBracket:Wj(iB),paren:Wj(iB),brace:Wj(iB),content:eB,heading:tB,heading1:Wj(tB),heading2:Wj(tB),heading3:Wj(tB),heading4:Wj(tB),heading5:Wj(tB),heading6:Wj(tB),contentSeparator:Wj(eB),list:Wj(eB),quote:Wj(eB),emphasis:Wj(eB),strong:Wj(eB),link:Wj(eB),monospace:Wj(eB),strikethrough:Wj(eB),inserted:Wj(),deleted:Wj(),changed:Wj(),invalid:Wj(),meta:aB,documentMeta:Wj(aB),annotation:Wj(aB),processingInstruction:Wj(aB),definition:Lj.defineModifier("definition"),constant:Lj.defineModifier("constant"),function:Lj.defineModifier("function"),standard:Lj.defineModifier("standard"),local:Lj.defineModifier("local"),special:Lj.defineModifier("special")};for(let e in sB){let t=sB[e];t instanceof Lj&&(t.name=e)}var lB;Hj([{tag:sB.link,class:"tok-link"},{tag:sB.heading,class:"tok-heading"},{tag:sB.emphasis,class:"tok-emphasis"},{tag:sB.strong,class:"tok-strong"},{tag:sB.keyword,class:"tok-keyword"},{tag:sB.atom,class:"tok-atom"},{tag:sB.bool,class:"tok-bool"},{tag:sB.url,class:"tok-url"},{tag:sB.labelName,class:"tok-labelName"},{tag:sB.inserted,class:"tok-inserted"},{tag:sB.deleted,class:"tok-deleted"},{tag:sB.literal,class:"tok-literal"},{tag:sB.string,class:"tok-string"},{tag:sB.number,class:"tok-number"},{tag:[sB.regexp,sB.escape,sB.special(sB.string)],class:"tok-string2"},{tag:sB.variableName,class:"tok-variableName"},{tag:sB.local(sB.variableName),class:"tok-variableName tok-local"},{tag:sB.definition(sB.variableName),class:"tok-variableName tok-definition"},{tag:sB.special(sB.variableName),class:"tok-variableName2"},{tag:sB.definition(sB.propertyName),class:"tok-propertyName tok-definition"},{tag:sB.typeName,class:"tok-typeName"},{tag:sB.namespace,class:"tok-namespace"},{tag:sB.className,class:"tok-className"},{tag:sB.macroName,class:"tok-macroName"},{tag:sB.propertyName,class:"tok-propertyName"},{tag:sB.operator,class:"tok-operator"},{tag:sB.comment,class:"tok-comment"},{tag:sB.meta,class:"tok-meta"},{tag:sB.invalid,class:"tok-invalid"},{tag:sB.punctuation,class:"tok-punctuation"}]);const cB=new aj;function uB(e){return iA.define({combine:e?t=>t.concat(e):void 0})}const dB=new aj;class hB{constructor(e,t,n=[],r=""){this.data=e,this.name=r,UA.prototype.hasOwnProperty("tree")||Object.defineProperty(UA.prototype,"tree",{get(){return mB(this)}}),this.parser=t,this.extension=[EB.of(this),UA.languageData.of((e,t,n)=>{let r=fB(e,t,n),o=r.type.prop(cB);if(!o)return[];let i=e.facet(o),a=r.type.prop(dB);if(a){let o=r.resolve(t-r.from,n);for(let t of a)if(t.test(o,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(i)}}return i})].concat(n)}isActiveAt(e,t,n=-1){return fB(e,t,n).type.prop(cB)==this.data}findRegions(e){let t=e.facet(EB);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(cB)==this.data)return void n.push({from:t,to:t+e.length});let o=e.prop(aj.mounted);if(o){if(o.tree.prop(cB)==this.data){if(o.overlay)for(let e of o.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(o.overlay){let e=n.length;if(r(o.tree,o.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let o=e.children[n];o instanceof pj&&r(o,e.positions[n]+t)}};return r(mB(e),0),n}get allowsNesting(){return!0}}function fB(e,t,n){let r=e.facet(EB),o=mB(e).topNode;if(!r||r.allowsNesting)for(let e=o;e;e=e.enter(t,n,fj.ExcludeBuffers))e.type.isTop&&(o=e);return o}hB.setState=RA.define();class pB extends hB{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=uB(e.languageData);return new pB(t,e.parser.configure({props:[cB.add(e=>e.isTop?t:void 0)]}),e.name)}configure(e,t){return new pB(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function mB(e){let t=e.field(hB.state,!1);return t?t.tree:pj.empty}class gB{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let vB=null;class bB{constructor(e,t,n=[],r,o,i,a,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=a,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new bB(e,t,[],pj.empty,0,n,[],null)}startParse(){return this.parser.startParse(new gB(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=pj.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped($j.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped($j.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=vB;vB=this;try{return e()}finally{vB=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=yB(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:i,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o})),n=$j.applyChanges(n,t),r=pj.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&a.push({from:n,to:r})}}}return new bB(this.parser,t,n,r,o,i,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=yB(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Nj{createParse(t,n,r){let o=r[0].from,i=r[r.length-1].to;return{parsedPos:o,advance(){let t=vB;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new pj(cj.none,[],[],i-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return vB}}function yB(e,t,n){return $j.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class xB{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new xB(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=bB.create(e.facet(EB).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new xB(n)}}hB.state=hA.define({create:xB.init,update(e,t){for(let e of t.effects)if(e.is(hB.setState))return e.value;return t.startState.facet(EB)!=t.state.facet(EB)?xB.init(t.state):e.apply(t)}});let OB=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(OB=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const wB="undefined"!=typeof navigator&&(null===(lB=navigator.scheduling)||void 0===lB?void 0:lB.isInputPending)?()=>navigator.scheduling.isInputPending():null,SB=bI.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(hB.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(hB.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=OB(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(hB.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!wB?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&n.doc.length>r+1e3,s=o.context.work(()=>wB&&wB()||Date.now()>i,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:hB.setState.of(new xB(o.context))})),this.chunkBudget>0&&(!s||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(e=>pI(this.view.state,e)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),EB=iA.define({combine:e=>e.length?e[0]:null,enables:e=>[hB.state,SB,vL.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class _B{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const CB=iA.define(),kB=iA.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function MB(e){let t=e.facet(kB);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function TB(e,t){let n="",r=e.tabSize,o=e.facet(kB)[0];if("\t"==o){for(;t>=r;)n+="\t",t-=r;o=" "}for(let e=0;e<t;e++)n+=o;return n}function PB(e,t){e instanceof UA&&(e=new RB(e));for(let n of e.state.facet(CB)){let r=n(e,t);if(void 0!==r)return r}let n=mB(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),o=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(o!=r.node){let e=[];for(let t=o;t&&!(t.from<r.node.from||t.to>r.node.to||t.from==r.node.from&&t.type==r.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return $B(r,e,n)}(e,n,t):null}class RB{constructor(e,t={}){this.state=e,this.options=t,this.unit=MB(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return a$(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const AB=new aj;function $B(e,t,n){for(let r=e;r;r=r.next){let e=NB(r.node);if(e)return e(DB.create(t,n,r))}return 0}function NB(e){let t=e.type.prop(AB);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(aj.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>jB(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?IB:null}function IB(){return 0}class DB extends RB{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new DB(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(LB(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return $B(this.context.next,this.base,this.pos)}}function LB(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function zB({closing:e,align:t=!0,units:n=1}){return r=>jB(r,t,n,e)}function jB(e,t,n,r,o){let i=e.textAfter,a=i.match(/^\s*/)[0].length,s=r&&i.slice(a,a+r.length)==r||o==e.pos+a,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),a=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let e=n.to;;){let o=t.childAfter(e);if(!o||o==r)return null;if(!o.type.isSkipped){if(o.from>=a)return null;let e=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+e}}e=o.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}function BB({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const FB=iA.define(),UB=new aj;function HB(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function QB(e,t,n){for(let r of e.facet(FB)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=mB(e);if(r.length<n)return null;let o=null;for(let i=r.resolveStack(n,1);i;i=i.next){let a=i.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<t)break;let s=a.type.prop(UB);if(s&&(a.to<r.length-50||r.length==e.doc.length||!HB(a))){let r=s(a,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}function VB(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const WB=RA.define({map:VB}),GB=RA.define({map:VB});function XB(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(e=>e.from<=n&&e.to>=n)||t.push(e.lineBlockAt(n));return t}const qB=hA.define({create:()=>wN.none,update(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((t,n)=>e=ZB(e,t,n)),e=e.map(t.changes);for(let n of t.effects)if(n.is(WB)&&!KB(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(rF),o=r?wN.replace({widget:new sF(r(t.state,n.value))}):aF;e=e.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(GB)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));return t.selection&&(e=ZB(e,t.selection.main.head)),e},provide:e=>vL.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(e,t)=>{n.push(e,t)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],o=e[n++];if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(aF.range(r,o))}return wN.set(t,!0)}});function ZB(e,t,n=t){let r=!1;return e.between(t,n,(e,o)=>{e<n&&o>t&&(r=!0)}),r?e.update({filterFrom:t,filterTo:n,filter:(e,r)=>e>=n||r<=t}):e}function YB(e,t,n){var r;let o=null;return null===(r=e.field(qB,!1))||void 0===r||r.between(t,n,(e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})}),o}function KB(e,t,n){let r=!1;return e.between(t,t,(e,o)=>{e==t&&o==n&&(r=!0)}),r}function JB(e,t){return e.field(qB,!1)?t:t.concat(RA.appendConfig.of(oF()))}function eF(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return vL.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${o}.`)}const tF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of XB(e)){let n=QB(e.state,t.from,t.to);if(n)return e.dispatch({effects:JB(e.state,[WB.of(n),eF(e,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(qB,!1))return!1;let t=[];for(let n of XB(e)){let r=YB(e.state,n.from,n.to);r&&t.push(GB.of(r),eF(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=QB(t,o.from,o.to);i&&n.push(WB.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:JB(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(qB,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(e,t)=>{n.push(GB.of({from:e,to:t}))}),e.dispatch({effects:n}),!0}}],nF={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},rF=iA.define({combine:e=>HA(e,nF)});function oF(e){let t=[qB,uF];return e&&t.push(rF.of(e)),t}function iF(e,t){let{state:n}=e,r=n.facet(rF),o=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=YB(e.state,n.from,n.to);r&&e.dispatch({effects:GB.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,o,t);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const aF=wN.replace({widget:new class extends xN{toDOM(e){return iF(e,null)}}});class sF extends xN{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return iF(e,this.value)}}const lF={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class cF extends Nz{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}const uF=vL.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class dF{constructor(e,t){let n;function r(e){let t=d$.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const o="string"==typeof t.all?t.all:t.all?r(t.all):void 0,i=t.scope;this.scope=i instanceof hB?e=>e.prop(cB)==i.data:i?e=>e==i:void 0,this.style=Hj(e.map(e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))})),{all:o}).style,this.module=n?new d$(n):null,this.themeType=t.themeType}static define(e,t){return new dF(e,t||{})}}const hF=iA.define(),fF=iA.define({combine:e=>e.length?[e[0]]:null});function pF(e){let t=e.facet(hF);return t.length?t:e.facet(fF)}function mF(e,t){let n,r=[vF];return e instanceof dF&&(e.module&&r.push(vL.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(fF.of(e)):n?r.push(hF.computeN([vL.darkTheme],t=>t.facet(vL.darkTheme)==("dark"==n)?[e]:[])):r.push(hF.of(e)),r}class gF{constructor(e){this.markCache=Object.create(null),this.tree=mB(e.state),this.decorations=this.buildDeco(e,pF(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=mB(e.state),n=pF(e.state),r=n!=pF(e.startState),{viewport:o}=e.view,i=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!r&&t.type==this.tree.type&&i>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=i):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return wN.none;let n=new qA;for(let{from:r,to:o}of e.visibleRanges)Qj(this.tree,t,(e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=wN.mark({class:r})))},r,o);return n.finish()}}const vF=pA.high(bI.fromClass(gF,{decorations:e=>e.decorations})),bF=dF.define([{tag:sB.meta,color:"#404740"},{tag:sB.link,textDecoration:"underline"},{tag:sB.heading,textDecoration:"underline",fontWeight:"bold"},{tag:sB.emphasis,fontStyle:"italic"},{tag:sB.strong,fontWeight:"bold"},{tag:sB.strikethrough,textDecoration:"line-through"},{tag:sB.keyword,color:"#708"},{tag:[sB.atom,sB.bool,sB.url,sB.contentSeparator,sB.labelName],color:"#219"},{tag:[sB.literal,sB.inserted],color:"#164"},{tag:[sB.string,sB.deleted],color:"#a11"},{tag:[sB.regexp,sB.escape,sB.special(sB.string)],color:"#e40"},{tag:sB.definition(sB.variableName),color:"#00f"},{tag:sB.local(sB.variableName),color:"#30a"},{tag:[sB.typeName,sB.namespace],color:"#085"},{tag:sB.className,color:"#167"},{tag:[sB.special(sB.variableName),sB.macroName],color:"#256"},{tag:sB.definition(sB.propertyName),color:"#00c"},{tag:sB.comment,color:"#940"},{tag:sB.invalid,color:"#f00"}]),yF=vL.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),xF="()[]{}",OF=iA.define({combine:e=>HA(e,{afterCursor:!0,brackets:xF,maxScanDistance:1e4,renderMatch:EF})}),wF=wN.mark({class:"cm-matchingBracket"}),SF=wN.mark({class:"cm-nonmatchingBracket"});function EF(e){let t=[],n=e.matched?wF:SF;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const _F=hA.define({create:()=>wN.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(OF);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=PF(t.state,e.head,-1,r)||e.head>0&&PF(t.state,e.head-1,1,r)||r.afterCursor&&(PF(t.state,e.head,1,r)||e.head<t.state.doc.length&&PF(t.state,e.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,t.state)))}return wN.set(n,!0)},provide:e=>vL.decorations.from(e)}),CF=[_F,yF],kF=new aj;function MF(e,t,n){let r=e.prop(t<0?aj.openedBy:aj.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function TF(e){let t=e.type.prop(kF);return t?t(e.node):e}function PF(e,t,n,r={}){let o=r.maxScanDistance||1e4,i=r.brackets||xF,a=mB(e),s=a.resolveInner(t,n);for(let e=s;e;e=e.parent){let r=MF(e.type,n,i);if(r&&e.from<e.to){let o=TF(e);if(o&&(n>0?t>=o.from&&t<o.to:t>o.from&&t<=o.to))return RF(0,0,n,e,o,r,i)}}return function(e,t,n,r,o,i,a){let s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=i;){let i=u.value;n<0&&(e+=i.length);let s=t+e*n;for(let e=n>0?0:i.length-1,t=n>0?i.length:-1;e!=t;e+=n){let t=a.indexOf(i[e]);if(!(t<0||r.resolveInner(s+e,1).type!=o))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:s+e,to:s+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=i.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,a,s.type,o,i)}function RF(e,t,n,r,o,i,a){let s=r.parent,l={from:o.from,to:o.to},c=0,u=null==s?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&i.indexOf(u.type.name)>-1&&u.from<u.to){let e=TF(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(MF(u.type,n,a))c++;else if(MF(u.type,-n,a)){if(0==c){let e=TF(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const AF=Object.create(null),$F=[cj.none],NF=[],IF=Object.create(null),DF=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])DF[e]=zF(AF,t);function LF(e,t){NF.indexOf(e)>-1||(NF.push(e),console.warn(t))}function zF(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||sB[n];r?"function"==typeof r?t.length?t=t.map(r):LF(n,`Modifier ${n} used at start of tag`):t.length?LF(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:LF(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),o=r+" "+n.map(e=>e.id),i=IF[o];if(i)return i.id;let a=IF[o]=cj.define({id:$F.length,name:r,props:[Bj({[r]:n})]});return $F.push(a),a.id}function jF(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=e(t,n);return!!o&&(r(n.update(o)),!0)}}NN.RTL,NN.LTR;const BF=jF(WF,0),FF=jF(VF,0),UF=jF((e,t)=>VF(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),o=n.to<=r.to?r:e.doc.lineAt(n.to);o.from>r.from&&o.from==n.to&&(o=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let i=t.length-1;i>=0&&t[i].to>r.from?t[i].to=o.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return t}(t)),0);function HF(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const QF=50;function VF(e,t,n=t.selection.ranges){let r=n.map(e=>HF(t,e.from).block);if(!r.every(e=>e))return null;let o=n.map((e,n)=>function(e,{open:t,close:n},r,o){let i,a,s=e.sliceDoc(r-QF,r),l=e.sliceDoc(o,o+QF),c=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,d=s.length-c;if(s.slice(d-t.length,d)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-r<=2*QF?i=a=e.sliceDoc(r,o):(i=e.sliceDoc(r,r+QF),a=e.sliceDoc(o-QF,o));let h=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(a)[0].length,p=a.length-f-n.length;return i.slice(h,h+t.length)==t&&a.slice(p,p+n.length)==n?{open:{pos:r+h+t.length,margin:/\s/.test(i.charAt(h+t.length))?1:0},close:{pos:o-f-n.length,margin:/\s/.test(a.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to));if(2!=e&&!o.every(e=>e))return{changes:t.changes(n.map((e,t)=>o[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]))};if(1!=e&&o.some(e=>e)){let e=[];for(let t,n=0;n<o.length;n++)if(t=o[n]){let o=r[n],{open:i,close:a}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:a.pos-a.margin,to:a.pos+o.close.length})}return{changes:e}}return null}function WF(e,t,n=t.selection.ranges){let r=[],o=-1;for(let{from:e,to:i}of n){let n=r.length,a=1e9,s=HF(t,e).line;if(s){for(let n=e;n<=i;){let l=t.doc.lineAt(n);if(l.from>o&&(e==i||i>l.from)){o=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+s.length)==s?e:-1;e<l.text.length&&e<a&&(a=e),r.push({line:l,comment:n,token:s,indent:e,empty:t,single:!1})}n=l.to+1}if(a<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=a);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some(e=>e.comment<0&&(!e.empty||e.single))){let e=[];for(let{line:t,token:n,indent:o,empty:i,single:a}of r)!a&&i||e.push({from:t.from+o,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some(e=>e.comment>=0)){let e=[];for(let{line:t,comment:n,token:o}of r)if(n>=0){let r=t.from+n,i=r+o.length;" "==t.text[i-t.from]&&i++,e.push({from:r,to:i})}return{changes:e}}return null}const GF=MA.define(),XF=MA.define(),qF=iA.define(),ZF=iA.define({combine:e=>HA(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),YF=hA.define({create:()=>fU.empty,update(e,t){let n=t.state.facet(ZF),r=t.annotation(GF);if(r){let o=rU.fromTransaction(t,r.selection),i=r.side,a=0==i?e.undone:e.done;return a=o?oU(a,a.length,n.minDepth,o):lU(a,t.startState.selection),new fU(0==i?r.rest:a,0==i?a:r.rest)}let o=t.annotation(XF);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(AA.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=rU.fromTransaction(t),a=t.annotation(AA.time),s=t.annotation(AA.userEvent);return i?e=e.addChanges(i,a,s,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,s,n.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map(e=>e.toJSON()),undone:e.undone.map(e=>e.toJSON())}),fromJSON:e=>new fU(e.done.map(rU.fromJSON),e.undone.map(rU.fromJSON))});function KF(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let o=n.field(YF,!1);if(!o)return!1;let i=o.pop(e,n,t);return!!i&&(r(i),!0)}}const JF=KF(0,!1),eU=KF(1,!1),tU=KF(0,!0),nU=KF(1,!0);class rU{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new rU(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(e){return new rU(e.changes&&XR.fromJSON(e.changes),[],e.mapped&&GR.fromJSON(e.mapped),e.startSelection&&nA.fromJSON(e.startSelection),e.selectionsAfter.map(nA.fromJSON))}static fromTransaction(e,t){let n=aU;for(let t of e.startState.facet(qF)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new rU(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,aU)}static selection(e){return new rU(void 0,aU,void 0,void 0,e)}}function oU(e,t,n,r){let o=t+1>n+20?t-n-1:0,i=e.slice(o,t);return i.push(r),i}function iU(e,t){return e.length?t.length?e.concat(t):e:t}const aU=[],sU=200;function lU(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-sU));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),oU(e,e.length-1,1e9,n.setSelAfter(r)))}return[rU.selection([t])]}function cU(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function uU(e,t){if(!e.length)return e;let n=e.length,r=aU;for(;n;){let o=dU(e[n-1],t,r);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,r=o.selectionsAfter}return r.length?[rU.selection(r)]:aU}function dU(e,t,n){let r=iU(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):aU,n);if(!e.changes)return rU.selection(r);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(i):i;return new rU(o,RA.mapEffects(e.effects,t),a,e.startSelection.map(i),r)}const hU=/^(input\.type|delete)($|\.)/;class fU{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new fU(this.done,this.undone):this}addChanges(e,t,n,r,o){let i=this.done,a=i[i.length-1];return i=a&&a.changes&&!a.changes.empty&&e.changes&&(!n||hU.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,function(e,t){let n=[],r=!1;return e.iterChangedRanges((e,t)=>n.push(e,t)),t.iterChangedRanges((e,t,o,i)=>{for(let e=0;e<n.length;){let t=n[e++],a=n[e++];i>=t&&o<=a&&(r=!0)}}),r}(a.changes,e.changes))||"input.type.compose"==n)?oU(i,i.length-1,r.minDepth,new rU(e.changes.compose(a.changes),iU(RA.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,aU)):oU(i,i.length,r.minDepth,e),new fU(i,aU,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:aU;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1],a=e,i.ranges.length==a.ranges.length&&0===i.ranges.filter((e,t)=>e.empty!=a.ranges[t].empty).length)?this:new fU(lU(this.done,e),this.undone,t,n);var i,a}addMapping(e){return new fU(uU(this.done,e),uU(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let o=r[r.length-1],i=o.selectionsAfter[0]||t.selection;if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:GF.of({side:e,rest:cU(r),selection:i}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let n=1==r.length?aU:r.slice(0,r.length-1);return o.mapped&&(n=uU(n,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:GF.of({side:e,rest:n,selection:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}fU.empty=new fU(aU,aU);const pU=[{key:"Mod-z",run:JF,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:eU,preventDefault:!0},{linux:"Ctrl-Shift-z",run:eU,preventDefault:!0},{key:"Mod-u",run:tU,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:nU,preventDefault:!0}];function mU(e,t){return nA.create(e.ranges.map(t),e.mainIndex)}function gU(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function vU({state:e,dispatch:t},n){let r=mU(e.selection,n);return!r.eq(e.selection,!0)&&(t(gU(e,r)),!0)}function bU(e,t){return nA.cursor(t?e.to:e.from)}function yU(e,t){return vU(e,n=>n.empty?e.moveByChar(n,t):bU(n,t))}function xU(e){return e.textDirectionAt(e.state.selection.main.head)==NN.LTR}const OU=e=>yU(e,!xU(e)),wU=e=>yU(e,xU(e));function SU(e,t){return vU(e,n=>n.empty?e.moveByGroup(n,t):bU(n,t))}function EU(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function _U(e,t,n){let r,o,i=mB(e).resolveInner(t.head),a=n?aj.closedBy:aj.openedBy;for(let r=t.head;;){let t=n?i.childAfter(r):i.childBefore(r);if(!t)break;EU(e,t,a)?i=t:r=n?t.to:t.from}return o=i.type.prop(a)&&(r=n?PF(e,i.from,1):PF(e,i.to,-1))&&r.matched?n?r.end.to:r.end.from:n?i.to:i.from,nA.cursor(o,n?-1:1)}function CU(e,t){return vU(e,n=>{if(!n.empty)return bU(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}"undefined"!=typeof Intl&&Intl.Segmenter;const kU=e=>CU(e,!1),MU=e=>CU(e,!0);function TU(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,o=0;if(n){for(let t of e.state.facet(vL.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(o=Math.max(null==n?void 0:n.bottom,o))}t=e.scrollDOM.clientHeight-r-o}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function PU(e,t){let n,r=TU(e),{state:o}=e,i=mU(o.selection,n=>n.empty?e.moveVertically(n,t,r.height):bU(n,t));if(i.eq(o.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(o.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),s=a.top+r.marginTop,l=a.bottom-r.marginBottom;t&&t.top>s&&t.bottom<l&&(n=vL.scrollIntoView(i.main.head,{y:"start",yMargin:t.top-s}))}return e.dispatch(gU(o,i),{effects:n}),!0}const RU=e=>PU(e,!1),AU=e=>PU(e,!0);function $U(e,t,n){let r=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?r.to:r.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(o=nA.cursor(r.from+n))}return o}function NU(e,t){let n=mU(e.state.selection,e=>{let n=t(e);return nA.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return!n.eq(e.state.selection)&&(e.dispatch(gU(e.state,n)),!0)}function IU(e,t){return NU(e,n=>e.moveByChar(n,t))}const DU=e=>IU(e,!xU(e)),LU=e=>IU(e,xU(e));function zU(e,t){return NU(e,n=>e.moveByGroup(n,t))}function jU(e,t){return NU(e,n=>e.moveVertically(n,t))}const BU=e=>jU(e,!1),FU=e=>jU(e,!0);function UU(e,t){return NU(e,n=>e.moveVertically(n,t,TU(e).height))}const HU=e=>UU(e,!1),QU=e=>UU(e,!0),VU=({state:e,dispatch:t})=>(t(gU(e,{anchor:0})),!0),WU=({state:e,dispatch:t})=>(t(gU(e,{anchor:e.doc.length})),!0),GU=({state:e,dispatch:t})=>(t(gU(e,{anchor:e.selection.main.anchor,head:0})),!0),XU=({state:e,dispatch:t})=>(t(gU(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function qU(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,o=r.changeByRange(r=>{let{from:o,to:i}=r;if(o==i){let a=t(r);a<o?(n="delete.backward",a=ZU(e,a,!1)):a>o&&(n="delete.forward",a=ZU(e,a,!0)),o=Math.min(o,a),i=Math.max(i,a)}else o=ZU(e,o,!1),i=ZU(e,i,!0);return o==i?{range:r}:{changes:{from:o,to:i},range:nA.cursor(o,o<r.head?-1:1)}});return!o.changes.empty&&(e.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?vL.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function ZU(e,t,n){if(e instanceof vL)for(let r of e.state.facet(vL.atomicRanges).map(t=>t(e)))r.between(t,t,(e,r)=>{e<t&&r>t&&(t=n?r:e)});return t}const YU=(e,t,n)=>qU(e,r=>{let o,i,a=r.from,{state:s}=e,l=s.doc.lineAt(a);if(n&&!t&&a>l.from&&a<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,a-l.from))){if("\t"==o[o.length-1])return a-1;let e=a$(o,s.tabSize)%MB(s)||MB(s);for(let t=0;t<e&&" "==o[o.length-1-t];t++)a--;i=a}else i=FR(l.text,a-l.from,t,t)+l.from,i==a&&l.number!=(t?s.doc.lines:1)?i+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(i-l.from,a-l.from))&&(i=FR(l.text,i-l.from,!1,!1)+l.from);return i}),KU=e=>YU(e,!1,!0),JU=e=>YU(e,!0,!1),eH=(e,t)=>qU(e,n=>{let r=n.head,{state:o}=e,i=o.doc.lineAt(r),a=o.charCategorizer(r);for(let e=null;;){if(r==(t?i.to:i.from)){r==n.head&&i.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);break}let s=FR(i.text,r-i.from,t)+i.from,l=i.text.slice(Math.min(r,s)-i.from,Math.max(r,s)-i.from),c=a(l);if(null!=e&&c!=e)break;" "==l&&r==n.head||(e=c),r=s}return r}),tH=e=>eH(e,!1);function nH(e){let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.from),i=e.doc.lineAt(r.to);if(r.empty||r.to!=i.from||(i=e.doc.lineAt(r.to-1)),n>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(r)}else t.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return t}function rH(e,t,n){if(e.readOnly)return!1;let r=[],o=[];for(let t of nH(e)){if(n?t.to==e.doc.length:0==t.from)continue;let i=e.doc.lineAt(n?t.to+1:t.from-1),a=i.length+1;if(n){r.push({from:t.to,to:i.to},{from:t.from,insert:i.text+e.lineBreak});for(let n of t.ranges)o.push(nA.range(Math.min(e.doc.length,n.anchor+a),Math.min(e.doc.length,n.head+a)))}else{r.push({from:i.from,to:t.from},{from:t.to,insert:e.lineBreak+i.text});for(let e of t.ranges)o.push(nA.range(e.anchor-a,e.head-a))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:nA.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function oH(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of nH(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const iH=sH(!1),aH=sH(!0);function sH(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{let{from:r,to:o}=n,i=t.doc.lineAt(r),a=!e&&r==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=mB(e).resolveInner(t),o=r.childBefore(t),i=r.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(n=o.type.prop(aj.closedBy))&&n.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(o.to,i.from))?{from:o.to,to:i.from}:null}(t,r);e&&(r=o=(o<=i.to?i:t.doc.lineAt(o)).to);let s=new RB(t,{simulateBreak:r,simulateDoubleBreak:!!a}),l=PB(s,r);for(null==l&&(l=a$(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize));o<i.to&&/\s/.test(i.text[o-i.from]);)o++;a?({from:r,to:o}=a):r>i.from&&r<i.from+100&&!/\S/.test(i.text.slice(0,r))&&(r=i.from);let c=["",TB(t,l)];return a&&c.push(TB(t,s.lineIndent(i.from,-1))),{changes:{from:r,to:o,insert:RR.of(c)},range:nA.cursor(r+1+c[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function lH(e,t){let n=-1;return e.changeByRange(r=>{let o=[];for(let i=r.from;i<=r.to;){let a=e.doc.lineAt(i);a.number>n&&(r.empty||r.to>a.from)&&(t(a,o,r),n=a.number),i=a.to+1}let i=e.changes(o);return{changes:o,range:nA.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const cH=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(lH(e,(t,n)=>{n.push({from:t.from,insert:e.facet(kB)})}),{userEvent:"input.indent"})),!0),uH=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(lH(e,(t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=a$(r,e.tabSize),i=0,a=TB(e,Math.max(0,o-MB(e)));for(;i<r.length&&i<a.length&&r.charCodeAt(i)==a.charCodeAt(i);)i++;n.push({from:t.from+i,to:t.from+r.length,insert:a.slice(i)})}),{userEvent:"delete.dedent"})),!0),dH=[{key:"Ctrl-b",run:OU,shift:DU,preventDefault:!0},{key:"Ctrl-f",run:wU,shift:LU},{key:"Ctrl-p",run:kU,shift:BU},{key:"Ctrl-n",run:MU,shift:FU},{key:"Ctrl-a",run:e=>vU(e,t=>nA.cursor(e.lineBlockAt(t.head).from,1)),shift:e=>NU(e,t=>nA.cursor(e.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:e=>vU(e,t=>nA.cursor(e.lineBlockAt(t.head).to,-1)),shift:e=>NU(e,t=>nA.cursor(e.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:JU},{key:"Ctrl-h",run:KU},{key:"Ctrl-k",run:e=>qU(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:tH},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:RR.of(["",""])},range:nA.cursor(e.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),o=n==r.from?n-1:FR(r.text,n-r.from,!1)+r.from,i=n==r.to?n+1:FR(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:i,insert:e.doc.slice(n,i).append(e.doc.slice(o,n))},range:nA.cursor(i)}});return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:AU}],hH=[{key:"ArrowLeft",run:OU,shift:DU,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>SU(e,!xU(e)),shift:e=>zU(e,!xU(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>vU(e,t=>$U(e,t,!xU(e))),shift:e=>NU(e,t=>$U(e,t,!xU(e))),preventDefault:!0},{key:"ArrowRight",run:wU,shift:LU,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>SU(e,xU(e)),shift:e=>zU(e,xU(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>vU(e,t=>$U(e,t,xU(e))),shift:e=>NU(e,t=>$U(e,t,xU(e))),preventDefault:!0},{key:"ArrowUp",run:kU,shift:BU,preventDefault:!0},{mac:"Cmd-ArrowUp",run:VU,shift:GU},{mac:"Ctrl-ArrowUp",run:RU,shift:HU},{key:"ArrowDown",run:MU,shift:FU,preventDefault:!0},{mac:"Cmd-ArrowDown",run:WU,shift:XU},{mac:"Ctrl-ArrowDown",run:AU,shift:QU},{key:"PageUp",run:RU,shift:HU},{key:"PageDown",run:AU,shift:QU},{key:"Home",run:e=>vU(e,t=>$U(e,t,!1)),shift:e=>NU(e,t=>$U(e,t,!1)),preventDefault:!0},{key:"Mod-Home",run:VU,shift:GU},{key:"End",run:e=>vU(e,t=>$U(e,t,!0)),shift:e=>NU(e,t=>$U(e,t,!0)),preventDefault:!0},{key:"Mod-End",run:WU,shift:XU},{key:"Enter",run:iH,shift:iH},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:KU,shift:KU},{key:"Delete",run:JU},{key:"Mod-Backspace",mac:"Alt-Backspace",run:tH},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>eH(e,!0)},{mac:"Mod-Backspace",run:e=>qU(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:e=>qU(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)})}].concat(dH.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),fH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>vU(e,t=>_U(e.state,t,!xU(e))),shift:e=>NU(e,t=>_U(e.state,t,!xU(e)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>vU(e,t=>_U(e.state,t,xU(e))),shift:e=>NU(e,t=>_U(e.state,t,xU(e)))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>rH(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>oH(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>rH(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>oH(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=nA.create([n.main]):n.main.empty||(r=nA.create([nA.cursor(n.main.head)])),!!r&&(t(gU(e,r)),!0)}},{key:"Mod-Enter",run:aH},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=nH(e).map(({from:t,to:n})=>nA.range(t,Math.min(n+1,e.doc.length)));return t(e.update({selection:nA.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=mU(e.selection,t=>{let n=mB(e),r=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=r.node.from&&e.node.to<=r.node.to&&(r=e)}for(let e=r;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return nA.range(n.to,n.from)}return t});return!n.eq(e.selection)&&(t(gU(e,n)),!0)},preventDefault:!0},{key:"Mod-[",run:uH},{key:"Mod-]",run:cH},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new RB(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),o=lH(e,(t,o,i)=>{let a=PB(r,t.from);if(null==a)return;/\S/.test(t.text)||(a=0);let s=/^\s*/.exec(t.text)[0],l=TB(e,a);(s!=l||i.from<t.from+s.length)&&(n[t.from]=a,o.push({from:t.from,to:t.from+s.length,insert:l}))});return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(nH(t).map(({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n}))),r=mU(t.selection,t=>{let n;if(e.lineWrapping){let r=e.lineBlockAt(t.head),o=e.coordsAtPos(t.head,t.assoc||1);o&&(n=r.bottom+e.documentTop-o.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)}).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,o=mU(e.selection,t=>{let o=PF(e,t.head,-1)||PF(e,t.head,1)||t.head>0&&PF(e,t.head-1,1)||t.head<e.doc.length&&PF(e,t.head+1,-1);if(!o||!o.end)return t;r=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return n?nA.range(t.anchor,i):nA.cursor(i)});return!!r&&(t(gU(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=HF(e.state,n.from);return r.line?BF(e):!!r.block&&UF(e)}},{key:"Alt-A",run:FF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat(hH),pH={key:"Tab",run:cH,shift:uH};function mH(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)gH(e,arguments[t]);return e}function gH(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)gH(e,t[n])}}const vH="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class bH{constructor(e,t,n=0,r=e.length,o,i){this.test=i,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?e=>o(vH(e)):vH,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return UR(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=HR(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=QR(e);let r=this.normalize(t);if(r.length)for(let e=0,o=n;;e++){let i=r.charCodeAt(e),a=this.match(i,o,this.bufferPos+this.bufferStart);if(e==r.length-1){if(a)return this.value=a,this;break}o==n&&e<t.length&&t.charCodeAt(e)==i&&o++}}}match(e,t,n){let r=null;for(let t=0;t<this.matches.length;t+=2){let o=this.matches[t],i=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[t+1],to:n}:(this.matches[t]++,i=!0)),i||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(bH.prototype[Symbol.iterator]=function(){return this});const yH={from:-1,to:-1,match:/.*/.exec("")},xH="gm"+(null==/x/.unicode?"":"u");class OH{constructor(e,t,n,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=yH,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new EH(e,t,n,r,o);this.re=new RegExp(t,xH+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let i=e.lineAt(r);this.curLineStart=i.from,this.matchPos=_H(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=_H(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const wH=new WeakMap;class SH{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=wH.get(e);if(!r||r.from>=n||r.to<=t){let r=new SH(t,e.sliceString(t,n));return wH.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:o,from:i}=r;return i>t&&(o=e.sliceString(t,i)+o,i=t),r.to<n&&(o+=e.sliceString(r.to,n)),wH.set(e,new SH(i,o)),new SH(t,o.slice(t-i,n-i))}}class EH{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=yH,this.matchPos=_H(e,r),this.re=new RegExp(t,xH+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=SH.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=_H(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=SH.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function _H(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function CH(e){let t=mH("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,o=r.doc.lineAt(r.selection.main.head),[,i,a,s,l]=n,c=s?+s.slice(1):0,u=a?+a:o.number;if(a&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+o.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else a&&i&&(u=u*("-"==i?-1:1)+o.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),h=nA.cursor(d.from+Math.max(0,Math.min(c,d.length)));e.dispatch({effects:[kH.of(!1),vL.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}return{dom:mH("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:kH.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},mH("label",e.state.phrase("Go to line"),": ",t)," ",mH("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),mH("button",{name:"close",onclick:()=>{e.dispatch({effects:kH.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(OH.prototype[Symbol.iterator]=EH.prototype[Symbol.iterator]=function(){return this});const kH=RA.define(),MH=hA.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(kH)&&(e=n.value);return e},provide:e=>$z.from(e,e=>e?CH:null)}),TH=vL.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),PH={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},RH=iA.define({combine:e=>HA(e,PH,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}),AH=wN.mark({class:"cm-selectionMatch"}),$H=wN.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function NH(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==jA.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==jA.Word)}const IH=bI.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(RH),{state:n}=e,r=n.selection;if(r.ranges.length>1)return wN.none;let o,i=r.main,a=null;if(i.empty){if(!t.highlightWordAroundCursor)return wN.none;let e=n.wordAt(i.head);if(!e)return wN.none;a=n.charCategorizer(i.head),o=n.sliceDoc(e.from,e.to)}else{let e=i.to-i.from;if(e<t.minSelectionLength||e>200)return wN.none;if(t.wholeWords){if(o=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!NH(a,n,i.from,i.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==jA.Word&&e(t.sliceDoc(r-1,r))==jA.Word}(a,n,i.from,i.to))return wN.none}else if(o=n.sliceDoc(i.from,i.to),!o)return wN.none}let s=[];for(let r of e.visibleRanges){let e=new bH(n.doc,o,r.from,r.to);for(;!e.next().done;){let{from:r,to:o}=e.value;if((!a||NH(a,n,r,o))&&(i.empty&&r<=i.from&&o>=i.to?s.push($H.range(r,o)):(r>=i.to||o<=i.from)&&s.push(AH.range(r,o)),s.length>t.maxMatches))return wN.none}}return wN.set(s)}},{decorations:e=>e.decorations}),DH=vL.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),LH=iA.define({combine:e=>HA(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new hQ(e),scrollToMatch:e=>vL.scrollIntoView(e)})});class zH{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,xH),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new VH(this):new FH(this)}getCursor(e,t=0,n){let r=e.doc?e:UA.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?UH(this,r,t,n):BH(this,r,t,n)}}class jH{constructor(e){this.spec=e}}function BH(e,t,n,r){return new bH(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=e.sliceString(i,Math.min(e.length,r+2))),!(t(HH(o,n-i))==jA.Word&&t(QH(o,n-i))==jA.Word||t(QH(o,r-i))==jA.Word&&t(HH(o,r-i))==jA.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class FH extends jH{constructor(e){super(e)}nextMatch(e,t,n){let r=BH(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);r=BH(this.spec,e,0,n).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),o=BH(this.spec,e,n,r),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!r||r.from==t&&r.to==n?null:r}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=BH(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=BH(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function UH(e,t,n,r){return new OH(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(o=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(o(HH(n.input,n.index))!=jA.Word||o(QH(n.input,n.index))!=jA.Word)&&(o(QH(n.input,n.index+n[0].length))!=jA.Word||o(HH(n.input,n.index+n[0].length))!=jA.Word)):void 0},n,r);var o}function HH(e,t){return e.slice(FR(e,t,!1),t)}function QH(e,t){return e.slice(t,FR(e,t))}class VH extends jH{nextMatch(e,t,n){let r=UH(this.spec,e,n,e.doc.length).next();return r.done&&(r=UH(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-1e4*r),i=UH(this.spec,e,o,n),a=null;for(;!i.next().done;)a=i.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if("&"==n)return e.match[0];if("$"==n)return"$";for(let t=n.length;t>0;t--){let r=+n.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+n.slice(t)}return t})}matchAll(e,t){let n=UH(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=UH(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const WH=RA.define(),GH=RA.define(),XH=hA.define({create:e=>new qH(aQ(e).create(),null),update(e,t){for(let n of t.effects)n.is(WH)?e=new qH(n.value.create(),e.panel):n.is(GH)&&(e=new qH(e.query,n.value?iQ:null));return e},provide:e=>$z.from(e,e=>e.panel)});class qH{constructor(e,t){this.query=e,this.panel=t}}const ZH=wN.mark({class:"cm-searchMatch"}),YH=wN.mark({class:"cm-searchMatch cm-searchMatch-selected"}),KH=bI.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(XH))}update(e){let t=e.state.field(XH);(t!=e.startState.field(XH)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return wN.none;let{view:n}=this,r=new qA;for(let t=0,o=n.visibleRanges,i=o.length;t<i;t++){let{from:a,to:s}=o[t];for(;t<i-1&&s>o[t+1].from-500;)s=o[++t].to;e.highlight(n.state,a,s,(e,t)=>{let o=n.state.selection.ranges.some(n=>n.from==e&&n.to==t);r.add(e,t,o?YH:ZH)})}return r.finish()}},{decorations:e=>e.decorations});function JH(e){return t=>{let n=t.state.field(XH,!1);return n&&n.query.spec.valid?e(t,n):cQ(t)}}const eQ=JH((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let o=nA.single(r.from,r.to),i=e.state.facet(LH);return e.dispatch({selection:o,effects:[gQ(e,r),i.scrollToMatch(o.main,e)],userEvent:"select.search"}),lQ(e),!0}),tQ=JH((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,o=t.prevMatch(n,r,r);if(!o)return!1;let i=nA.single(o.from,o.to),a=e.state.facet(LH);return e.dispatch({selection:i,effects:[gQ(e,o),a.scrollToMatch(i.main,e)],userEvent:"select.search"}),lQ(e),!0}),nQ=JH((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length||(e.dispatch({selection:nA.create(n.map(e=>nA.range(e.from,e.to))),userEvent:"select.search.matches"}),0))}),rQ=JH((e,{query:t})=>{let{state:n}=e,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=t.nextMatch(n,r,r);if(!i)return!1;let a,s,l=i,c=[],u=[];l.from==r&&l.to==o&&(s=n.toText(t.getReplacement(l)),c.push({from:l.from,to:l.to,insert:s}),l=t.nextMatch(n,l.from,l.to),u.push(vL.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let d=e.state.changes(c);return l&&(a=nA.single(l.from,l.to).map(d),u.push(gQ(e,l)),u.push(n.facet(LH).scrollToMatch(a.main,e))),e.dispatch({changes:d,selection:a,effects:u,userEvent:"input.replace"}),!0}),oQ=JH((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:vL.announce.of(r),userEvent:"input.replace.all"}),!0});function iQ(e){return e.state.facet(LH).createPanel(e)}function aQ(e,t){var n,r,o,i,a;let s=e.selection.main,l=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!l)return t;let c=e.facet(LH);return new zH({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(o=null==t?void 0:t.literal)&&void 0!==o?o:c.literal,regexp:null!==(i=null==t?void 0:t.regexp)&&void 0!==i?i:c.regexp,wholeWord:null!==(a=null==t?void 0:t.wholeWord)&&void 0!==a?a:c.wholeWord})}function sQ(e){let t=Tz(e,iQ);return t&&t.dom.querySelector("[main-field]")}function lQ(e){let t=sQ(e);t&&t==e.root.activeElement&&t.select()}const cQ=e=>{let t=e.state.field(XH,!1);if(t&&t.panel){let n=sQ(e);if(n&&n!=e.root.activeElement){let r=aQ(e.state,t.query.spec);r.valid&&e.dispatch({effects:WH.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[GH.of(!0),t?WH.of(aQ(e.state,t.query.spec)):RA.appendConfig.of(bQ)]});return!0},uQ=e=>{let t=e.state.field(XH,!1);if(!t||!t.panel)return!1;let n=Tz(e,iQ);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:GH.of(!1)}),!0},dQ=[{key:"Mod-f",run:cQ,scope:"editor search-panel"},{key:"F3",run:eQ,shift:tQ,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:eQ,shift:tQ,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:uQ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],a=0;for(let t=new bH(e.doc,e.sliceDoc(r,o));!t.next().done;){if(i.length>1e3)return!1;t.value.from==r&&(a=i.length),i.push(nA.range(t.value.from,t.value.to))}return t(e.update({selection:nA.create(i,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=Tz(e,CH);if(!t){let n=[kH.of(!0)];null==e.state.field(MH,!1)&&n.push(RA.appendConfig.of([MH,TH])),e.dispatch({effects:n}),t=Tz(e,CH)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(e=>e.from===e.to))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=nA.create(n.ranges.map(t=>e.wordAt(t.head)||nA.cursor(t.head)),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(t=>e.sliceDoc(t.from,t.to)!=r))return!1;let o=function(e,t){let{main:n,ranges:r}=e.selection,o=e.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let n=!1,o=new bH(e.doc,t,r[r.length-1].to);;){if(o.next(),!o.done){if(n&&r.some(e=>e.from==o.value.from))continue;if(i){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(n)return null;o=new bH(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!o&&(t(e.update({selection:e.selection.addRange(nA.range(o.from,o.to),!1),effects:vL.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class hQ{constructor(e){this.view=e;let t=this.query=e.state.field(XH).query.spec;function n(e,t,n){return mH("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=mH("input",{value:t.search,placeholder:fQ(e,"Find"),"aria-label":fQ(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=mH("input",{value:t.replace,placeholder:fQ(e,"Replace"),"aria-label":fQ(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=mH("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=mH("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=mH("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=mH("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",()=>eQ(e),[fQ(e,"next")]),n("prev",()=>tQ(e),[fQ(e,"previous")]),n("select",()=>nQ(e),[fQ(e,"all")]),mH("label",null,[this.caseField,fQ(e,"match case")]),mH("label",null,[this.reField,fQ(e,"regexp")]),mH("label",null,[this.wordField,fQ(e,"by word")]),...e.state.readOnly?[]:[mH("br"),this.replaceField,n("replace",()=>rQ(e),[fQ(e,"replace")]),n("replaceAll",()=>oQ(e),[fQ(e,"replace all")])],mH("button",{name:"close",onclick:()=>uQ(e),"aria-label":fQ(e,"close"),type:"button"},["×"])])}commit(){let e=new zH({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:WH.of(e)}))}keydown(e){var t,n;n=e,RL(kL((t=this.view).state),n,t,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?tQ:eQ)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),rQ(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(WH)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(LH).top}}function fQ(e,t){return e.state.phrase(t)}const pQ=30,mQ=/[\s\.,:;?!]/;function gQ(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),o=e.state.doc.lineAt(n).to,i=Math.max(r.from,t-pQ),a=Math.min(o,n+pQ),s=e.state.sliceDoc(i,a);if(i!=r.from)for(let e=0;e<pQ;e++)if(!mQ.test(s[e+1])&&mQ.test(s[e])){s=s.slice(e);break}if(a!=o)for(let e=s.length-1;e>s.length-pQ;e--)if(!mQ.test(s[e-1])&&mQ.test(s[e])){s=s.slice(0,e);break}return vL.announce.of(`${e.state.phrase("current match")}. ${s} ${e.state.phrase("on line")} ${r.number}.`)}const vQ=vL.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),bQ=[XH,pA.low(KH),vQ];class yQ{constructor(e,t,n,r){this.state=e,this.pos=t,this.explicit=n,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=mB(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),o=r.search(EQ(e,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function xQ(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function OQ(e){let t=e.map(e=>"string"==typeof e?{label:e}:e),[n,r]=t.every(e=>/^\w+$/.test(e.label))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=xQ(t)+xQ(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let o=e.matchBefore(r);return o||e.explicit?{from:o?o.from:e.pos,options:t,validFor:n}:null}}class wQ{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function SQ(e){return e.selection.main.from}function EQ(e,t){var n;let{source:r}=e,o=t&&"^"!=r[0],i="$"!=r[r.length-1];return o||i?new RegExp(`${o?"^":""}(?:${r})${i?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const _Q=MA.define(),CQ=new WeakMap;function kQ(e){if(!Array.isArray(e))return e;let t=CQ.get(e);return t||CQ.set(e,t=OQ(e)),t}const MQ=RA.define(),TQ=RA.define();class PQ{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=UR(e,t),r=QR(n);this.chars.push(n);let o=e.slice(t,t+r),i=o.toUpperCase();this.folded.push(UR(i==o?o.toLowerCase():i,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:r,precise:o,byWord:i}=this;if(1==t.length){let r=UR(e,0),o=QR(r),i=o==e.length?0:-100;if(r==t[0]);else{if(r!=n[0])return null;i+=-200}return this.ret(i,[0,o])}let a=e.indexOf(this.pattern);if(0==a)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let s=t.length,l=0;if(a<0){for(let o=0,i=Math.min(e.length,200);o<i&&l<s;){let i=UR(e,o);i!=t[l]&&i!=n[l]||(r[l++]=o),o+=QR(i)}if(l<s)return null}let c=0,u=0,d=!1,h=0,f=-1,p=-1,m=/[a-z]/.test(e),g=!0;for(let r=0,l=Math.min(e.length,200),v=0;r<l&&u<s;){let l=UR(e,r);a<0&&(c<s&&l==t[c]&&(o[c++]=r),h<s&&(l==t[h]||l==n[h]?(0==h&&(f=r),p=r+1,h++):h=0));let b,y=l<255?l>=48&&l<=57||l>=97&&l<=122?2:l>=65&&l<=90?1:0:(b=HR(l))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!r||1==y&&m||0==v&&0!=y)&&(t[u]==l||n[u]==l&&(d=!0)?i[u++]=r:i.length&&(g=!1)),v=y,r+=QR(l)}return u==s&&0==i[0]&&g?this.result((d?-200:0)-100,i,e):h==s&&0==f?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==s?this.ret(-900-e.length,[f,p]):u==s?this.result((d?-200:0)-100-700+(g?0:-1100),i,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,n){let r=[],o=0;for(let e of t){let t=e+(this.astral?QR(UR(n,e)):1);o&&r[o-1]==e?r[o-1]=t:(r[o++]=e,r[o++]=t)}return this.ret(e-n.length,r)}}class RQ{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const AQ=iA.define({combine:e=>HA(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:NQ,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>$Q(e(n),t(n)),optionClass:(e,t)=>n=>$Q(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function $Q(e,t){return e?t?e+" "+t:e:t}function NQ(e,t,n,r,o,i){let a,s,l=e.textDirection==NN.RTL,c=l,u=!1,d="top",h=t.left-o.left,f=o.right-t.right,p=r.right-r.left,m=r.bottom-r.top;if(c&&h<Math.min(p,f)?c=!1:!c&&f<Math.min(p,h)&&(c=!0),p<=(c?h:f))a=Math.max(o.top,Math.min(n.top,o.bottom-m))-t.top,s=Math.min(400,c?h:f);else{u=!0,s=Math.min(400,(l?t.right:o.right-t.left)-30);let e=o.bottom-t.bottom;e>=m||e>t.top?a=n.bottom-t.top:(d="bottom",a=t.bottom-n.top)}return{style:`${d}: ${a/((t.bottom-t.top)/i.offsetHeight)}px; max-width: ${s/((t.right-t.left)/i.offsetWidth)}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function IQ(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class DQ{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:o,selected:i}=r.open,a=e.state.facet(AQ);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map(e=>"cm-completionIcon-"+e)),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,r){let o=document.createElement("span");o.className="cm-completionLabel";let i=e.displayLabel||e.label,a=0;for(let e=0;e<r.length;){let t=r[e++],n=r[e++];t>a&&o.appendChild(document.createTextNode(i.slice(a,t)));let s=o.appendChild(document.createElement("span"));s.appendChild(document.createTextNode(i.slice(t,n))),s.className="cm-completionMatchedText",a=n}return a<i.length&&o.appendChild(document.createTextNode(i.slice(a))),o},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((e,t)=>e.position-t.position).map(e=>e.render)}(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=IQ(o.length,i,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",n=>{let{options:r}=e.state.field(t).open;for(let t,o=n.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(t=/-(\d+)$/.exec(o.id))&&+t[1]<r.length)return this.applyCompletion(e,r[+t[1]]),void n.preventDefault()}),this.dom.addEventListener("focusout",t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(AQ).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:TQ.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:o,selected:i,disabled:a}=n.open;r.open&&r.open.options==o||(this.range=IQ(o.length,i,e.state.facet(AQ).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),a!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=IQ(t.options.length,t.selected,this.view.state.facet(AQ).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let o="string"==typeof r?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then(t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)}).catch(e=>pI(this.view.state,e,"completion info")):this.addInfoPane(o,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;n.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/o:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/o)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),o=this.space;if(!o){let e=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:e.clientWidth,bottom:e.clientHeight}}return r.top>Math.min(o.bottom,t.bottom)-10||r.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(AQ).positionInfo(this.view,t,r,n,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions")),r.addEventListener("mousedown",e=>{e.target==r&&e.preventDefault()});let o=null;for(let i=n.from;i<n.to;i++){let{completion:a,match:s}=e[i],{section:l}=a;if(l){let e="string"==typeof l?l:l.name;e!=o&&(i>n.from||0==n.from)&&(o=e,"string"!=typeof l&&l.header?r.appendChild(l.header(l)):r.appendChild(document.createElement("completion-section")).textContent=e)}const c=r.appendChild(document.createElement("li"));c.id=t+"-"+i,c.setAttribute("role","option");let u=this.optionClass(a);u&&(c.className=u);for(let e of this.optionContent){let t=e(a,this.view.state,this.view,s);t&&c.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function LQ(e,t){return n=>new DQ(n,e,t)}function zQ(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class jQ{constructor(e,t,n,r,o,i){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=o,this.disabled=i}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new jQ(this.options,HQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,o,i){if(r&&!i&&e.some(e=>e.isPending))return r.setDisabled();let a=function(e,t){let n=[],r=null,o=e=>{n.push(e);let{section:t}=e.completion;if(t){r||(r=[]);let e="string"==typeof t?t:t.name;r.some(t=>t.name==e)||r.push("string"==typeof t?{name:e}:t)}},i=t.facet(AQ);for(let r of e)if(r.hasResult()){let e=r.result.getMatch;if(!1===r.result.filter)for(let t of r.result.options)o(new wQ(t,r.source,e?e(t):[],1e9-n.length));else{let n,a=t.sliceDoc(r.from,r.to),s=i.filterStrict?new RQ(a):new PQ(a);for(let t of r.result.options)if(n=s.match(t.label)){let i=t.displayLabel?e?e(t,n.matched):[]:n.matched;o(new wQ(t,r.source,i,n.score+(t.boost||0)))}}}if(r){let e=Object.create(null),t=0,o=(e,t)=>{var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)};for(let n of r.sort(o))t-=1e5,e[n.name]=t;for(let t of n){let{section:n}=t.completion;n&&(t.score+=e["string"==typeof n?n:n.name])}}let a=[],s=null,l=i.compareCompletions;for(let e of n.sort((e,t)=>t.score-e.score||l(e.completion,t.completion))){let t=e.completion;!s||s.label!=t.label||s.detail!=t.detail||null!=s.type&&null!=t.type&&s.type!=t.type||s.apply!=t.apply||s.boost!=t.boost?a.push(e):zQ(e.completion)>zQ(s)&&(a[a.length-1]=e),s=e.completion}return a}(e,t);if(!a.length)return r&&e.some(e=>e.isPending)?r.setDisabled():null;let s=t.facet(AQ).selectOnOpen?0:-1;if(r&&r.selected!=s&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<a.length;t++)if(a[t].completion==e){s=t;break}}return new jQ(a,HQ(n,s),{pos:e.reduce((e,t)=>t.hasResult()?Math.min(e,t.from):e,1e8),create:KQ,above:o.aboveCursor},r?r.timestamp:Date.now(),s,!1)}map(e){return new jQ(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new jQ(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class BQ{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new BQ(QQ,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(AQ),r=(n.override||t.languageDataAt("autocomplete",SQ(t)).map(kQ)).map(t=>(this.active.find(e=>e.source==t)||new WQ(t,this.active.some(e=>0!=e.state)?1:0)).update(e,n));r.length==this.active.length&&r.every((e,t)=>e==this.active[t])&&(r=this.active);let o=this.open,i=e.effects.some(e=>e.is(XQ));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||r.some(t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;let o=n==e.length,i=r==t.length;if(o||i)return o==i;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)||i?o=jQ.build(r,t,this.id,o,n,i):o&&o.disabled&&!r.some(e=>e.isPending)&&(o=null),!o&&r.every(e=>!e.isPending)&&r.some(e=>e.hasResult())&&(r=r.map(e=>e.hasResult()?new WQ(e.source,0):e));for(let t of e.effects)t.is(qQ)&&(o=o&&o.setSelected(t.value,this.id));return r==this.active&&o==this.open?this:new BQ(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?FQ:UQ}}const FQ={"aria-autocomplete":"list"},UQ={};function HQ(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const QQ=[];function VQ(e,t){if(e.isUserEvent("input.complete")){let n=e.annotation(_Q);if(n&&t.activateOnCompletion(n))return 12}let n=e.isUserEvent("input.type");return n&&t.activateOnTyping?5:n?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class WQ{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return 1==this.state}update(e,t){let n=VQ(e,t),r=this;(8&n||16&n&&this.touches(e))&&(r=new WQ(r.source,0)),4&n&&0==r.state&&(r=new WQ(this.source,1)),r=r.updateFor(e,n);for(let t of e.effects)if(t.is(MQ))r=new WQ(r.source,1,t.value);else if(t.is(TQ))r=new WQ(r.source,0);else if(t.is(XQ))for(let e of t.value)e.source==r.source&&(r=e);return r}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(SQ(e.state))}}class GQ extends WQ{constructor(e,t,n,r,o,i){super(e,3,t),this.limit=n,this.result=r,this.from=o,this.to=i}hasResult(){return!0}updateFor(e,t){var n;if(!(3&t))return this.map(e.changes);let r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));let o=e.changes.mapPos(this.from),i=e.changes.mapPos(this.to,1),a=SQ(e.state);if(a>i||!r||2&t&&(SQ(e.startState)==this.from||a<this.limit))return new WQ(this.source,4&t?1:0);let s=e.changes.mapPos(this.limit);return function(e,t,n,r){if(!e)return!1;let o=t.sliceDoc(n,r);return"function"==typeof e?e(o,n,r,t):EQ(e,!0).test(o)}(r.validFor,e.state,o,i)?new GQ(this.source,this.explicit,s,r,o,i):r.update&&(r=r.update(r,o,i,new yQ(e.state,a,!1)))?new GQ(this.source,this.explicit,s,r,r.from,null!==(n=r.to)&&void 0!==n?n:SQ(e.state)):new WQ(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new GQ(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new WQ(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}const XQ=RA.define({map:(e,t)=>e.map(e=>e.map(t))}),qQ=RA.define(),ZQ=hA.define({create:()=>BQ.start(),update:(e,t)=>e.update(t),provide:e=>[yz.from(e,e=>e.tooltip),vL.contentAttributes.from(e,e=>e.attrs)]});function YQ(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(ZQ).active.find(e=>e.source==t.source);return r instanceof GQ&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,r){let{main:o}=e.selection,i=n-o.from,a=r-o.from;return Object.assign(Object.assign({},e.changeByRange(s=>{if(s!=o&&n!=r&&e.sliceDoc(s.from+i,s.from+a)!=e.sliceDoc(n,r))return{range:s};let l=e.toText(t);return{changes:{from:s.from+i,to:r==o.from?s.to:s.from+a,insert:l},range:nA.cursor(s.from+i+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,r.from,r.to)),{annotations:_Q.of(t.completion)})):n(e,t.completion,r.from,r.to),!0)}const KQ=LQ(ZQ,YQ);function JQ(e,t="option"){return n=>{let r=n.state.field(ZQ,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(AQ).interactionDelay)return!1;let o,i=1;"page"==t&&(o=Cz(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:a-1;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),n.dispatch({effects:qQ.of(s)}),!0}}const eV=e=>!!e.state.field(ZQ,!1)&&(e.dispatch({effects:MQ.of(!0)}),!0);class tV{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const nV=bI.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(ZQ).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(ZQ),n=e.state.facet(AQ);if(!e.selectionSet&&!e.docChanged&&e.startState.field(ZQ)==t)return;let r=e.transactions.some(e=>{let t=VQ(e,n);return 8&t||(e.selection||e.docChanged)&&!(3&t)});for(let t=0;t<this.running.length;t++){let n=this.running[t];if(r||n.context.abortOnDocChange&&e.docChanged||n.updates.length+e.transactions.length>50&&Date.now()-n.time>1e3){for(let e of n.context.abortListeners)try{e()}catch(e){pI(this.view.state,e)}n.context.abortListeners=null,this.running.splice(t--,1)}else n.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(e=>e.effects.some(e=>e.is(MQ)))&&(this.pendingStart=!0);let o=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(e=>e.isPending&&!this.running.some(t=>t.active.source==e.source))?setTimeout(()=>this.startUpdate(),o):-1,0!=this.composing)for(let t of e.transactions)t.isUserEvent("input.type")?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(ZQ);for(let e of t.active)e.isPending&&!this.running.some(t=>t.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(AQ).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=SQ(t),r=new yQ(t,n,e.explicit,this.view),o=new tV(e,r);this.running.push(o),Promise.resolve(e.source(r)).then(e=>{o.context.aborted||(o.done=e||null,this.scheduleAccept())},e=>{this.view.dispatch({effects:TQ.of(null)}),pI(this.view.state,e)})}scheduleAccept(){this.running.every(e=>void 0!==e.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(AQ).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(AQ),r=this.view.state.field(ZQ);for(let o=0;o<this.running.length;o++){let i=this.running[o];if(void 0===i.done)continue;if(this.running.splice(o--,1),i.done){let r=SQ(i.updates.length?i.updates[0].startState:this.view.state),o=Math.min(r,i.done.from+(i.active.explicit?0:1)),a=new GQ(i.active.source,i.active.explicit,o,i.done,i.done.from,null!==(e=i.done.to)&&void 0!==e?e:r);for(let e of i.updates)a=a.update(e,n);if(a.hasResult()){t.push(a);continue}}let a=r.active.find(e=>e.source==i.active.source);if(a&&a.isPending)if(null==i.done){let e=new WQ(i.active.source,0);for(let t of i.updates)e=e.update(t,n);e.isPending||t.push(e)}else this.startQuery(a)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:XQ.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(ZQ,!1);if(t&&t.tooltip&&this.view.state.facet(AQ).closeOnBlur){let n=t.open&&Cz(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:TQ.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:MQ.of(!1)}),20),this.composing=0}}}),rV="object"==typeof navigator&&/Win/.test(navigator.platform),oV=pA.highest(vL.domEventHandlers({keydown(e,t){let n=t.state.field(ZQ,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!rV||!e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],o=n.active.find(e=>e.source==r.source),i=r.completion.commitCharacters||o.result.commitCharacters;return i&&i.indexOf(e.key)>-1&&YQ(t,r),!1}})),iV=vL.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class aV{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class sV{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,WR.TrackDel),n=e.mapPos(this.to,1,WR.TrackDel);return null==t||null==n?null:new sV(this.field,t,n)}}class lV{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],o=e.doc.lineAt(t),i=/^\s*/.exec(o.text)[0];for(let o of this.lines){if(n.length){let n=i,a=/^\t*/.exec(o)[0].length;for(let t=0;t<a;t++)n+=e.facet(kB);r.push(t+n.length-a),o=n+o.slice(a)}n.push(o),t+=o.length+1}let a=this.fieldPositions.map(e=>new sV(e.field,r[e.line]+e.from,r[e.line]+e.to));return{text:n,ranges:a}}static parse(e){let t,n=[],r=[],o=[];for(let i of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(i);){let e=t[1]?+t[1]:null,a=t[2]||t[3]||"",s=-1,l=a.replace(/\\[{}]/g,e=>e[1]);for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:l&&n[t].name==l)&&(s=t);if(s<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:l}),s=t;for(let e of o)e.field>=s&&e.field++}o.push(new aV(s,r.length,t.index,t.index+l.length)),i=i.slice(0,t.index)+a+i.slice(t.index+t[0].length)}i=i.replace(/\\([{}])/g,(e,t,n)=>{for(let e of o)e.line==r.length&&e.from>n&&(e.from--,e.to--);return t}),r.push(i)}return new lV(r,o)}}let cV=wN.widget({widget:new class extends xN{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),uV=wN.mark({class:"cm-snippetField"});class dV{constructor(e,t){this.ranges=e,this.active=t,this.deco=wN.set(e.map(e=>(e.from==e.to?cV:uV).range(e.from,e.to)))}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new dV(t,this.active)}selectionInsideField(e){return e.ranges.every(e=>this.ranges.some(t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))}}const hV=RA.define({map:(e,t)=>e&&e.map(t)}),fV=RA.define(),pV=hA.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(hV))return n.value;if(n.is(fV)&&e)return new dV(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>vL.decorations.from(e,e=>e?e.deco:wN.none)});function mV(e,t){return nA.create(e.filter(e=>e.field==t).map(e=>nA.range(e.from,e.to)))}function gV(e){let t=lV.parse(e);return(e,n,r,o)=>{let{text:i,ranges:a}=t.instantiate(e.state,r),{main:s}=e.state.selection,l={changes:{from:r,to:o==s.from?s.to:o,insert:RR.of(i)},scrollIntoView:!0,annotations:n?[_Q.of(n),AA.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=mV(a,0)),a.some(e=>e.field>0)){let t=new dV(a,0),n=l.effects=[hV.of(t)];void 0===e.state.field(pV,!1)&&n.push(RA.appendConfig.of([pV,xV,wV,iV]))}e.dispatch(e.state.update(l))}}function vV(e){return({state:t,dispatch:n})=>{let r=t.field(pV,!1);if(!r||e<0&&0==r.active)return!1;let o=r.active+e,i=e>0&&!r.ranges.some(t=>t.field==o+e);return n(t.update({selection:mV(r.ranges,o),effects:hV.of(i?null:new dV(r.ranges,o)),scrollIntoView:!0})),!0}}const bV=[{key:"Tab",run:vV(1),shift:vV(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(pV,!1)&&(t(e.update({effects:hV.of(null)})),!0)}],yV=iA.define({combine:e=>e.length?e[0]:bV}),xV=pA.highest(_L.compute([yV],e=>e.facet(yV)));function OV(e,t){return Object.assign(Object.assign({},t),{apply:gV(e)})}const wV=vL.domEventHandlers({mousedown(e,t){let n,r=t.state.field(pV,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let o=r.ranges.find(e=>e.from<=n&&e.to>=n);return!(!o||o.field==r.active||(t.dispatch({selection:mV(r.ranges,o.field),effects:hV.of(r.ranges.some(e=>e.field>o.field)?new dV(r.ranges,o.field):null),scrollIntoView:!0}),0))}}),SV={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},EV=RA.define({map(e,t){let n=t.mapPos(e,-1,WR.TrackAfter);return null==n?void 0:n}}),_V=new class extends QA{};_V.startSide=1,_V.endSide=-1;const CV=hA.define({create:()=>XA.empty,update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}for(let n of t.effects)n.is(EV)&&(e=e.update({add:[_V.range(n.value,n.value+1)]}));return e}}),kV="()[]{}<>«»»«［］｛｝";function MV(e){for(let t=0;t<16;t+=2)if(kV.charCodeAt(t)==e)return kV.charAt(t+1);return HR(e<128?e:e+1)}function TV(e,t){return e.languageDataAt("closeBrackets",t)[0]||SV}const PV="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),RV=vL.inputHandler.of((e,t,n,r)=>{if((PV?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let o=e.state.selection.main;if(r.length>2||2==r.length&&1==QR(UR(r,0))||t!=o.from||n!=o.to)return!1;let i=function(e,t){let n=TV(e,e.selection.main.head),r=n.brackets||SV.brackets;for(let o of r){let i=MV(UR(o,0));if(t==o)return i==o?LV(e,o,r.indexOf(o+o+o)>-1,n):IV(e,o,i,n.before||SV.before);if(t==i&&$V(e,e.selection.main.from))return DV(e,0,i)}return null}(e.state,r);return!!i&&(e.dispatch(i),!0)}),AV=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=TV(e,e.selection.main.head).brackets||SV.brackets,r=null,o=e.changeByRange(t=>{if(t.empty){let r=function(e,t){let n=e.sliceString(t-2,t);return QR(UR(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let o of n)if(o==r&&NV(e.doc,t.head)==MV(UR(o,0)))return{changes:{from:t.head-o.length,to:t.head+o.length},range:nA.cursor(t.head-o.length)}}return{range:r=t}});return r||t(e.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function $V(e,t){let n=!1;return e.field(CV).between(0,e.doc.length,e=>{e==t&&(n=!0)}),n}function NV(e,t){let n=e.sliceString(t,t+2);return n.slice(0,QR(UR(n,0)))}function IV(e,t,n,r){let o=null,i=e.changeByRange(i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:n,from:i.to}],effects:EV.of(i.to+t.length),range:nA.range(i.anchor+t.length,i.head+t.length)};let a=NV(e.doc,i.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:i.head},effects:EV.of(i.head+t.length),range:nA.cursor(i.head+t.length)}:{range:o=i}});return o?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function DV(e,t,n){let r=null,o=e.changeByRange(t=>t.empty&&NV(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:nA.cursor(t.head+n.length)}:r={range:t});return r?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function LV(e,t,n,r){let o=r.stringPrefixes||SV.stringPrefixes,i=null,a=e.changeByRange(r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:EV.of(r.to+t.length),range:nA.range(r.anchor+t.length,r.head+t.length)};let a,s=r.head,l=NV(e.doc,s);if(l==t){if(zV(e,s))return{changes:{insert:t+t,from:s},effects:EV.of(s+t.length),range:nA.cursor(s+t.length)};if($V(e,s)){let r=n&&e.sliceDoc(s,s+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:s,to:s+r.length,insert:r},range:nA.cursor(s+r.length)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&(a=jV(e,s-2*t.length,o))>-1&&zV(e,a))return{changes:{insert:t+t+t+t,from:s},effects:EV.of(s+t.length),range:nA.cursor(s+t.length)};if(e.charCategorizer(s)(l)!=jA.Word&&jV(e,s,o)>-1&&!function(e,t,n,r){let o=mB(e).resolveInner(t,-1),i=r.reduce((e,t)=>Math.max(e,t.length),0);for(let a=0;a<5;a++){let a=e.sliceDoc(o.from,Math.min(o.to,o.from+n.length+i)),s=a.indexOf(n);if(!s||s>-1&&r.indexOf(a.slice(0,s))>-1){let t=o.firstChild;for(;t&&t.from==o.from&&t.to-t.from>n.length+s;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=o.to==t&&o.parent;if(!l)break;o=l}return!1}(e,s,t,o))return{changes:{insert:t+t,from:s},effects:EV.of(s+t.length),range:nA.cursor(s+t.length)}}return{range:i=r}});return i?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function zV(e,t){let n=mB(e).resolveInner(t+1);return n.parent&&n.from==t}function jV(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=jA.Word)return t;for(let o of n){let n=t-o.length;if(e.sliceDoc(n,t)==o&&r(e.sliceDoc(n-1,n))!=jA.Word)return n}return-1}const BV=[{key:"Ctrl-Space",run:eV},{mac:"Alt-`",run:eV},{key:"Escape",run:e=>{let t=e.state.field(ZQ,!1);return!(!t||!t.active.some(e=>0!=e.state)||(e.dispatch({effects:TQ.of(null)}),0))}},{key:"ArrowDown",run:JQ(!0)},{key:"ArrowUp",run:JQ(!1)},{key:"PageDown",run:JQ(!0,"page")},{key:"PageUp",run:JQ(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(ZQ,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(AQ).interactionDelay)&&YQ(e,t.open.options[t.open.selected])}}],FV=pA.highest(_L.computeN([AQ],e=>e.facet(AQ).defaultKeymap?[BV]:[]));class UV{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class HV{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let r=n.facet(eW).markerFilter;r&&(e=r(e,n));let o=e.slice().sort((e,t)=>e.from-t.from||e.to-t.to),i=new qA,a=[],s=0;for(let e=0;;){let t,r,l=e==o.length?null:o[e];if(!l&&!a.length)break;for(a.length?(t=s,r=a.reduce((e,t)=>Math.min(e,t.to),l&&l.from>t?l.from:1e8)):(t=l.from,r=l.to,a.push(l),e++);e<o.length;){let n=o[e];if(n.from!=t||!(n.to>n.from||n.to==t)){r=Math.min(n.from,r);break}a.push(n),e++,r=Math.min(n.to,r)}let c=cW(a);if(a.some(e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from))i.add(t,t,wN.widget({widget:new rW(c),diagnostics:a.slice()}));else{let e=a.reduce((e,t)=>t.markClass?e+" "+t.markClass:e,"");i.add(t,r,wN.mark({class:"cm-lintRange cm-lintRange-"+c+e,diagnostics:a.slice(),inclusiveEnd:a.some(e=>e.to>r)}))}s=r;for(let e=0;e<a.length;e++)a[e].to<=s&&a.splice(e--,1)}let l=i.finish();return new HV(l,t,QV(l))}}function QV(e,t=null,n=0){let r=null;return e.between(n,1e9,(e,n,{spec:o})=>{if(!(t&&o.diagnostics.indexOf(t)<0))if(r){if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new UV(r.from,n,r.diagnostic)}else r=new UV(e,n,t||o.diagnostics[0])}),r}const VV=RA.define(),WV=RA.define(),GV=RA.define(),XV=hA.define({create:()=>new HV(wN.none,null,null),update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),r=null,o=e.panel;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);r=QV(n,e.selected.diagnostic,o)||QV(n,null,o)}!n.size&&o&&t.state.facet(eW).autoPanel&&(o=null),e=new HV(n,o,r)}for(let n of t.effects)if(n.is(VV)){let r=t.state.facet(eW).autoPanel?n.value.length?iW.open:null:e.panel;e=HV.init(n.value,r,t.state)}else n.is(WV)?e=new HV(e.diagnostics,n.value?iW.open:null,e.selected):n.is(GV)&&(e=new HV(e.diagnostics,e.panel,n.value));return e},provide:e=>[$z.from(e,e=>e.panel),vL.decorations.from(e,e=>e.diagnostics)]}),qV=wN.mark({class:"cm-lintRange cm-lintRange-active"});function ZV(e,t,n){let r,{diagnostics:o}=e.state.field(XV),i=-1,a=-1;o.between(t-(n<0?1:0),t+(n>0?1:0),(e,o,{spec:s})=>{if(t>=e&&t<=o&&(e==o||(t>e||n>0)&&(t<o||n<0)))return r=s.diagnostics,i=e,a=o,!1});let s=e.state.facet(eW).tooltipFilter;return r&&s&&(r=s(r,e.state)),r?{pos:i,end:a,above:e.state.doc.lineAt(i).to<a,create:()=>({dom:YV(e,r)})}:null}function YV(e,t){return mH("ul",{class:"cm-tooltip-lint"},t.map(t=>nW(e,t,!1)))}const KV=e=>{let t=e.state.field(XV,!1);return!(!t||!t.panel||(e.dispatch({effects:WV.of(!1)}),0))},JV=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(XV,!1);var n,r;t&&t.panel||e.dispatch({effects:(n=e.state,r=[WV.of(!0)],n.field(XV,!1)?r:r.concat(RA.appendConfig.of(uW)))});let o=Tz(e,iW.open);return o&&o.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(XV,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)||(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],eW=iA.define({combine:e=>Object.assign({sources:e.map(e=>e.source).filter(e=>null!=e)},HA(e.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))});function tW(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some(e=>e.toLowerCase()==r.toLowerCase())){t.push(r);continue e}}t.push("")}return t}function nW(e,t,n){var r;let o=n?tW(t.actions):[];return mH("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},mH("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(r=t.actions)||void 0===r?void 0:r.map((n,r)=>{let i=!1,a=r=>{if(r.preventDefault(),i)return;i=!0;let o=QV(e.state.field(XV).diagnostics,t);o&&n.apply(e,o.from,o.to)},{name:s}=n,l=o[r]?s.indexOf(o[r]):-1,c=l<0?s:[s.slice(0,l),mH("u",s.slice(l,l+1)),s.slice(l+1)];return mH("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${s}${l<0?"":` (access key "${o[r]})"`}.`},c)}),t.source&&mH("div",{class:"cm-diagnosticSource"},t.source))}class rW extends xN{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return mH("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class oW{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=nW(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class iW{constructor(e){this.view=e,this.items=[],this.list=mH("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)KV(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=tW(n.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=QV(this.view.state.field(XV).diagnostics,n);t&&n.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=mH("div",{class:"cm-panel-lint"},this.list,mH("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>KV(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(XV).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(XV),n=0,r=!1,o=null,i=new Set;for(e.between(0,this.view.state.doc.length,(e,a,{spec:s})=>{for(let e of s.diagnostics){if(i.has(e))continue;i.add(e);let a,s=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==e){s=t;break}s<0?(a=new oW(this.view,e),this.items.splice(n,0,a),r=!0):(a=this.items[s],s>n&&(this.items.splice(n,s-n),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),o=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new oW(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=QV(this.view.state.field(XV).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:GV.of(t)})}static open(e){return new iW(e)}}function aW(e){return function(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const sW=vL.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:aW("#d11")},".cm-lintRange-warning":{backgroundImage:aW("orange")},".cm-lintRange-info":{backgroundImage:aW("#999")},".cm-lintRange-hint":{backgroundImage:aW("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function lW(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function cW(e){let t="hint",n=1;for(let r of e){let e=lW(r.severity);e>n&&(n=e,t=r.severity)}return t}const uW=[XV,vL.decorations.compute([XV],e=>{let{selected:t,panel:n}=e.field(XV);return t&&n&&t.from!=t.to?wN.set([qV.range(t.from,t.to)]):wN.none}),_z(ZV,{hideOn:function(e,t){let n=t.pos,r=t.end||n,o=e.state.facet(eW).hideOn(e,n,r);if(null!=o)return o;let i=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(e=>e.is(VV))&&!e.changes.touchesRange(i.from,Math.max(i.to,r)))}}),sW];var dW=function(e){void 0===e&&(e={});var{crosshairCursor:t=!1}=e,n=[];!1!==e.closeBracketsKeymap&&(n=n.concat(AV)),!1!==e.defaultKeymap&&(n=n.concat(fH)),!1!==e.searchKeymap&&(n=n.concat(dQ)),!1!==e.historyKeymap&&(n=n.concat(pU)),!1!==e.foldKeymap&&(n=n.concat(tF)),!1!==e.completionKeymap&&(n=n.concat(BV)),!1!==e.lintKeymap&&(n=n.concat(JV));var r=[];return!1!==e.lineNumbers&&r.push(function(e={}){return[Zz.of(e),Fz(),Jz]}()),!1!==e.highlightActiveLineGutter&&r.push(nj),!1!==e.highlightSpecialChars&&r.push(function(e={}){return[JL.of(e),ez||(ez=bI.fromClass(class{constructor(e){this.view=e,this.decorations=wN.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(JL)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new XL({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:o}=n.state,i=UR(t[0],0);if(9==i){let e=o.lineAt(r),t=n.state.tabSize,i=a$(e.text,t,r-e.from);return wN.replace({widget:new nz((t-i%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=wN.replace({widget:new tz(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(JL);e.startState.facet(JL)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}()),!1!==e.history&&r.push(function(e={}){return[YF,ZF.of(e),vL.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?JF:"historyRedo"==e.inputType?eU:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&r.push(function(e={}){let t={...lF,...e},n=new cF(t,!0),r=new cF(t,!1),o=bI.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(EB)!=e.state.facet(EB)||e.startState.field(qB,!1)!=e.state.field(qB,!1)||mB(e.startState)!=mB(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new qA;for(let o of e.viewportLineBlocks){let i=YB(e.state,o.from,o.to)?r:QB(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,jz({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||XA.empty},initialSpacer:()=>new cF(t,!1),domEventHandlers:{...i,click:(e,t,n)=>{if(i.click&&i.click(e,t,n))return!0;let r=YB(e.state,t.from,t.to);if(r)return e.dispatch({effects:GB.of(r)}),!0;let o=QB(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:WB.of(o)}),!0)}}}),oF()]}()),!1!==e.drawSelection&&r.push(function(e={}){return[zL.of(e),BL,UL,HL,cI.of(!0)]}()),!1!==e.dropCursor&&r.push([VL,WL]),!1!==e.allowMultipleSelections&&r.push(UA.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&r.push(UA.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,o=n.lineAt(r);if(r>o.from+200)return e;let i=n.sliceString(o.from,r);if(!t.some(e=>e.test(i)))return e;let{state:a}=e,s=-1,l=[];for(let{head:e}of a.selection.ranges){let t=a.doc.lineAt(e);if(t.from==s)continue;s=t.from;let n=PB(a,t.from);if(null==n)continue;let r=/^\s*/.exec(t.text)[0],o=TB(a,n);r!=o&&l.push({from:t.from,to:t.from+r.length,insert:o})}return l.length?[e,{changes:l,sequential:!0}]:e})),!1!==e.syntaxHighlighting&&r.push(mF(bF,{fallback:!0})),!1!==e.bracketMatching&&r.push(function(e={}){return[OF.of(e),CF]}()),!1!==e.closeBrackets&&r.push([RV,CV]),!1!==e.autocompletion&&r.push(function(e={}){return[oV,ZQ,AQ.of(e),nV,FV,iV]}()),!1!==e.rectangularSelection&&r.push(function(){let e=e=>e.altKey&&0==e.button;return vL.mouseSelectionStyle.of((t,n)=>e(n)?function(e,t){let n=sz(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,o,i){let a=sz(e,t);if(!a)return r;let s=function(e,t,n){let r=Math.min(t.line,n.line),o=Math.max(t.line,n.line),i=[];if(t.off>az||n.off>az||t.col<0||n.col<0){let a=Math.min(t.off,n.off),s=Math.max(t.off,n.off);for(let t=r;t<=o;t++){let n=e.doc.line(t);n.length<=s&&i.push(nA.range(n.from+a,n.to+s))}}else{let a=Math.min(t.col,n.col),s=Math.max(t.col,n.col);for(let t=r;t<=o;t++){let n=e.doc.line(t),r=s$(n.text,a,e.tabSize,!0);if(r<0)i.push(nA.cursor(n.to));else{let t=s$(n.text,s,e.tabSize);i.push(nA.range(n.from+r,n.from+t))}}}return i}(e.state,n,a);return s.length?i?nA.create(s.concat(r.ranges)):nA.create(s):r}}:null}(t,n):null)}()),!1!==t&&r.push(function(e={}){let[t,n]=lz[e.key||"Alt"],r=bI.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,vL.contentAttributes.of(e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?cz:null})]}()),!1!==e.highlightActiveLine&&r.push(oz),!1!==e.highlightSelectionMatches&&r.push(function(){let e=[DH,IH];return e}()),e.tabSize&&"number"==typeof e.tabSize&&r.push(kB.of(" ".repeat(e.tabSize))),r.concat([_L.of(n.flat())]).filter(Boolean)};const hW="#e06c75",fW="#abb2bf",pW="#7d8799",mW="#d19a66",gW="#2c313a",vW="#282c34",bW="#353a42",yW="#528bff",xW=[vL.theme({"&":{color:fW,backgroundColor:vW},".cm-content":{caretColor:yW},".cm-cursor, .cm-dropCursor":{borderLeftColor:yW},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#3E4451"},".cm-panels":{backgroundColor:"#21252b",color:fW},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:vW,color:pW,border:"none"},".cm-activeLineGutter":{backgroundColor:gW},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:bW},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:bW,borderBottomColor:bW},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:gW,color:fW}}},{dark:!0}),mF(dF.define([{tag:sB.keyword,color:"#c678dd"},{tag:[sB.name,sB.deleted,sB.character,sB.propertyName,sB.macroName],color:hW},{tag:[sB.function(sB.variableName),sB.labelName],color:"#61afef"},{tag:[sB.color,sB.constant(sB.name),sB.standard(sB.name)],color:mW},{tag:[sB.definition(sB.name),sB.separator],color:fW},{tag:[sB.typeName,sB.className,sB.number,sB.changed,sB.annotation,sB.modifier,sB.self,sB.namespace],color:"#e5c07b"},{tag:[sB.operator,sB.operatorKeyword,sB.url,sB.escape,sB.regexp,sB.link,sB.special(sB.string)],color:"#56b6c2"},{tag:[sB.meta,sB.comment],color:pW},{tag:sB.strong,fontWeight:"bold"},{tag:sB.emphasis,fontStyle:"italic"},{tag:sB.strikethrough,textDecoration:"line-through"},{tag:sB.link,color:pW,textDecoration:"underline"},{tag:sB.heading,fontWeight:"bold",color:hW},{tag:[sB.atom,sB.bool,sB.special(sB.variableName)],color:mW},{tag:[sB.processingInstruction,sB.string,sB.inserted],color:"#98c379"},{tag:sB.invalid,color:"#ffffff"}]))];var OW=vL.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),wW=function(e){void 0===e&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:r=!1,theme:o="light",placeholder:i="",basicSetup:a=!0}=e,s=[];switch(t&&s.unshift(_L.of([pH])),a&&("boolean"==typeof a?s.unshift(dW()):s.unshift(dW(a))),i&&s.unshift(function(e){let t=bI.fromClass(class{constructor(t){this.view=t,this.placeholder=e?wN.set([wN.widget({widget:new iz(e),side:1}).range(0)]):wN.none}get decorations(){return this.view.state.doc.length?wN.none:this.placeholder}},{decorations:e=>e.decorations});return"string"==typeof e?[t,vL.contentAttributes.of({"aria-placeholder":e})]:t}(i)),o){case"light":s.push(OW);break;case"dark":s.push(xW);break;case"none":break;default:s.push(o)}return!1===n&&s.push(vL.editable.of(!1)),r&&s.push(UA.readOnly.of(!0)),[...s]};class SW{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(e=>{try{e()}catch(e){console.error("TimeoutLatch callback error:",e)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class EW{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),0===this.latches.size&&this.stop()}start(){null===this.interval&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)}}var _W=null,CW=MA.define(),kW=[];var MW=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],TW=(0,o.forwardRef)((e,t)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:l,onStatistics:c,onCreateEditor:u,onUpdate:d,autoFocus:h,theme:f="light",height:p,minHeight:m,maxHeight:g,width:v,minWidth:b,maxWidth:y,basicSetup:x,placeholder:O,indentWithTab:w,editable:S,readOnly:E,root:_,initialState:C}=e,k=yR(e,MW),M=(0,o.useRef)(null),{state:T,view:P,container:R,setContainer:A}=function(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:a,onUpdate:s,extensions:l=kW,autoFocus:c,theme:u="light",height:d=null,minHeight:h=null,maxHeight:f=null,width:p=null,minWidth:m=null,maxWidth:g=null,placeholder:v="",editable:b=!0,readOnly:y=!1,indentWithTab:x=!0,basicSetup:O=!0,root:w,initialState:S}=e,[E,_]=(0,o.useState)(),[C,k]=(0,o.useState)(),[M,T]=(0,o.useState)(),P=(0,o.useState)(()=>({current:null}))[0],R=(0,o.useState)(()=>({current:null}))[0],A=vL.theme({"&":{height:d,minHeight:h,maxHeight:f,width:p,minWidth:m,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),$=vL.updateListener.of(e=>{if(e.docChanged&&"function"==typeof r&&!e.transactions.some(e=>e.annotation(CW))){P.current?P.current.reset():(P.current=new SW(()=>{if(R.current){var e=R.current;R.current=null,e()}P.current=null},200),("undefined"==typeof window?new EW:(_W||(_W=new EW),_W)).add(P.current));var t=e.state.doc.toString();r(t,e)}i&&i((e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(e=>!e.empty)}))(e))}),N=[$,A,...wW({theme:u,editable:b,readOnly:y,placeholder:v,indentWithTab:x,basicSetup:O})];return s&&"function"==typeof s&&N.push(vL.updateListener.of(s)),N=N.concat(l),(0,o.useLayoutEffect)(()=>{if(E&&!M){var e={doc:t,selection:n,extensions:N},r=S?UA.fromJSON(S.json,e,S.fields):UA.create(e);if(T(r),!C){var o=new vL({state:r,parent:E,root:w});k(o),a&&a(o,r)}}return()=>{C&&(T(void 0),k(void 0))}},[E,M]),(0,o.useEffect)(()=>{e.container&&_(e.container)},[e.container]),(0,o.useEffect)(()=>()=>{C&&(C.destroy(),k(void 0)),P.current&&(P.current.cancel(),P.current=null)},[C]),(0,o.useEffect)(()=>{c&&C&&C.focus()},[c,C]),(0,o.useEffect)(()=>{C&&C.dispatch({effects:RA.reconfigure.of(N)})},[u,l,d,h,f,p,m,g,v,b,y,x,O,r,s]),(0,o.useEffect)(()=>{if(void 0!==t){var e=C?C.state.doc.toString():"";if(C&&t!==e){var n=()=>{C&&t!==C.state.doc.toString()&&C.dispatch({changes:{from:0,to:C.state.doc.toString().length,insert:t||""},annotations:[CW.of(!0)]})};P.current&&!P.current.isDone?R.current=n:n()}}},[t,C]),{state:M,setState:T,view:C,setView:k,container:E,setContainer:_}}({root:_,value:r,autoFocus:h,theme:f,height:p,minHeight:m,maxHeight:g,width:v,minWidth:b,maxWidth:y,basicSetup:x,placeholder:O,indentWithTab:w,editable:S,readOnly:E,selection:i,onChange:l,onStatistics:c,onCreateEditor:u,onUpdate:d,extensions:s,initialState:C});(0,o.useImperativeHandle)(t,()=>({editor:M.current,state:T,view:P}),[M,R,T,P]);var $=(0,o.useCallback)(e=>{M.current=e,A(e)},[A]);if("string"!=typeof r)throw new Error("value must be typeof string but got "+typeof r);var N="string"==typeof f?"cm-theme-"+f:"cm-theme";return(0,a.jsx)("div",bR({ref:$,className:N+(n?" "+n:"")},k))});TW.displayName="CodeMirror";const PW=TW;class RW{constructor(e,t,n,r,o,i,a,s,l,c=0,u){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=o,this.score=i,this.buffer=a,this.bufferBase=s,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new RW(e,[],t,n,n,0,[],0,r?new AW(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=65535&e,{parser:o}=this.p,i=this.reducePos<this.pos-25;i&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(r);if(a&&(this.score+=a),0==n)return this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,i?8:4,!0),void this.reduceContext(r,this.reducePos);let s=this.stack.length-3*(n-1)-(262144&e?6:0),l=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=s?this.stack[s-1]:0,d=this.bufferBase+this.buffer.length-u;if(r<o.minRepeatTerm||131072&e){let e=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,e,d+4,!0)}if(262144&e)this.state=this.stack[s];else{let e=this.stack[s-3];this.state=o.getGoto(e,r,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,n,r=4,o=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(o&&this.pos!=n){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4]){let e=!1;for(let t=o;t>0&&this.buffer[t-2]>n;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(262144&e)this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4);else{let o=e,{parser:i}=this.p;(r>this.pos||t<=i.maxNode)&&(this.pos=r,i.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,n),this.shiftContext(t,n),t<=i.maxNode&&this.buffer.push(t,n,r,4)}}apply(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new RW(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new $W(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(!(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,o=0;o<t.length;o+=2)(r=t[o+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[o],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some((e,t)=>1&t&&e==r)||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let o=this.split();o.pushState(r,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[e],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,o=this.stack.length-3*n;if(o<0||e.getGoto(this.stack[o],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,o)=>{if(!t.includes(r))return t.push(r),e.allActions(r,t=>{if(393216&t);else if(65536&t){let n=(t>>19)-o;if(n>1){let r=65535&t,o=this.stack.length-3*n;if(o>=0&&e.getGoto(this.stack[o],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,o+1);if(null!=e)return e}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new AW(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class AW{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class $W{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class NW{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new NW(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new NW(this.stack,this.pos,this.index)}}function IW(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,o=0;r<e.length;){let i=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){i=65535;break}t>=92&&t--,t>=34&&t--;let o=t-32;if(o>=46&&(o-=46,n=!0),i+=o,n)break;i*=46}n?n[o++]=i:n=new t(i)}return n}class DW{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const LW=new DW;class zW{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=LW,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,o=this.pos+e;for(;o<n.from;){if(!r)return null;let e=this.ranges[--r];o-=n.from-e.to,n=e}for(;t<0?o>n.to:o>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];o+=e.from-n.to,n=e}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=LW,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class jW{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;UW(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}jW.prototype.contextual=jW.prototype.fallback=jW.prototype.extend=!1;class BW{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?IW(e):e}token(e,t){let n=e.pos,r=0;for(;;){let n=e.next<0,o=e.resolveOffset(1,1);if(UW(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||r++,null==o)break;e.reset(o,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}BW.prototype.contextual=jW.prototype.fallback=jW.prototype.extend=!1;class FW{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function UW(e,t,n,r,o,i){let a=0,s=1<<r,{dialect:l}=n.p.parser;e:for(;0!=(s&e[a]);){let n=e[a+1];for(let r=a+3;r<n;r+=2)if((e[r+1]&s)>0){let n=e[r];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||QW(n,t.token.value,o,i))){t.acceptToken(n);break}}let r=t.next,c=0,u=e[a+2];if(!(t.next<0&&u>c&&65535==e[n+3*u-3])){for(;c<u;){let o=c+u>>1,i=n+o+(o<<1),s=e[i],l=e[i+1]||65536;if(r<s)u=o;else{if(!(r>=l)){a=e[i+2],t.advance();continue e}c=o+1}}break}a=e[n+3*u-1]}}function HW(e,t,n){for(let r,o=t;65535!=(r=e[o]);o++)if(r==n)return o-t;return-1}function QW(e,t,n,r){let o=HW(n,r,t);return o<0||HW(n,r,e)<o}const VW="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let WW=null;function GW(e,t,n){let r=e.cursor(fj.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}class XW{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?GW(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?GW(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],r=this.index[t];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[r],i=this.start[t]+n.positions[r];if(i>e)return this.nextStart=i,null;if(o instanceof pj){if(i==e){if(i<this.safeFrom)return null;let e=i+o.length;if(e<=this.safeTo){let t=o.prop(aj.lookAhead);if(!t||e+t<this.fragment.to)return o}}this.index[t]++,i+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(i),this.index.push(0))}else this.index[t]++,this.nextStart=i+o.length}}}class qW{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new DW)}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:o}=r,i=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,s=0;for(let r=0;r<o.length;r++){if(!(1<<r&i))continue;let l=o[r],c=this.tokens[r];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=i||c.context!=a)&&(this.updateCachedToken(c,l,e),c.mask=i,c.context=a),c.lookAhead>c.end+25&&(s=Math.max(c.lookAhead,s)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),n||e.pos!=this.stream.end||(n=new DW,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new DW,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let o=t.specializers[r](this.stream.read(e.start,e.end),n);if(o>=0&&n.p.parser.dialect.allows(o>>1)){1&o?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:o}=e,{parser:i}=e.p,{data:a}=i;for(let e=0;e<2;e++)for(let s=i.stateSlot(o,e?2:1);;s+=3){if(65535==a[s]){if(1!=a[s+1]){0==r&&2==a[s+1]&&(r=this.putAction(tG(a,s+2),t,n,r));break}s=tG(a,s+2)}a[s]==t&&(r=this.putAction(tG(a,s+1),t,n,r))}return r}}class ZW{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new zW(t,r),this.tokens=new qW(e,this.stream),this.topTerm=e.top[1];let{from:o}=r[0];this.stacks=[RW.start(this,e.top[0],o)],this.fragments=n.length&&this.stream.end-o>4*e.bufferLength?new XW(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,o=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let i=0;i<n.length;i++){let a=n[i];for(;;){if(this.tokens.mainToken=null,a.pos>r)o.push(a);else{if(this.advanceStack(a,o,n))continue;{e||(e=[],t=[]),e.push(a);let n=this.tokens.getMainToken(a);t.push(n.value,n.end)}}break}}if(!o.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return VW&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw VW&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(n)return VW&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(o.length>e)for(o.sort((e,t)=>t.score-e.score);o.length>e;)o.pop();o.some(e=>e.reducePos>r)&&this.recovering--}else if(o.length>1){e:for(let e=0;e<o.length-1;e++){let t=o[e];for(let n=e+1;n<o.length;n++){let r=o[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){o.splice(e--,1);continue e}o.splice(n--,1)}}}o.length>12&&o.splice(12,o.length-12)}this.minStackPos=o[0].pos;for(let e=1;e<o.length;e++)o[e].pos<this.minStackPos&&(this.minStackPos=o[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let r=e.pos,{parser:o}=this,i=VW?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(r);a;){let r=this.parser.nodeSet.types[a.type.id]==a.type?o.getGoto(e.state,a.type.id):-1;if(r>-1&&a.length&&(!t||(a.prop(aj.contextHash)||0)==n))return e.useNode(a,r),VW&&console.log(i+this.stackID(e)+` (via reuse of ${o.getName(a.type.id)})`),!0;if(!(a instanceof pj)||0==a.children.length||a.positions[0]>0)break;let s=a.children[0];if(!(s instanceof pj&&0==a.positions[0]))break;a=s}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),VW&&console.log(i+this.stackID(e)+` (via always-reduce ${o.getName(65535&a)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=a==s.length||!n,h=d?e:e.split(),f=this.tokens.mainToken;if(h.apply(l,c,f?f.start:h.pos,u),VW&&console.log(i+this.stackID(h)+` (via ${65536&l?`reduce of ${o.getName(65535&l)}`:"shift"} for ${o.getName(c)} @ ${r}${h==e?"":", split"})`),d)return!0;h.pos>r?t.push(h):n.push(h)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return YW(e,t),!0}}runRecovery(e,t,n){let r=null,o=!1;for(let i=0;i<e.length;i++){let a=e[i],s=t[i<<1],l=t[1+(i<<1)],c=VW?this.stackID(a)+" -> ":"";if(a.deadEnd){if(o)continue;if(o=!0,a.restart(),VW&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))continue}let u=a.split(),d=c;for(let e=0;u.forceReduce()&&e<10&&(VW&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,n));e++)VW&&(d=this.stackID(u)+" -> ");for(let e of a.recoverByInsert(s))VW&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>a.pos?(l==a.pos&&(l++,s=0),a.recoverByDelete(s,l),VW&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(s)})`),YW(a,n)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),pj.build({buffer:NW.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(WW||(WW=new WeakMap)).get(e);return t||WW.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function YW(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class KW{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const JW=e=>e;class eG extends Nj{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map(t=>e.topRules[t][1]),r=[];for(let e=0;e<t.length;e++)r.push([]);function o(e,t,n){r[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=aj[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)o(r,e,t[n++]);else{let i=t[n+-r];for(let a=-r;a>0;a--)o(t[n++],e,i);n++}}}this.nodeSet=new uj(t.map((t,o)=>cj.define({name:o>=this.minRepeatTerm?void 0:t,id:o,props:r[o],top:n.indexOf(o)>-1,error:0==o,skipped:e.skippedNodes&&e.skippedNodes.indexOf(o)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=rj;let i=IW(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(nG),this.states=IW(e.states,Uint32Array),this.data=IW(e.stateData),this.goto=IW(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new jW(i,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new ZW(this,e,t,n);for(let o of this.wrappers)r=o(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let o=r[t+1];;){let t=r[o++],i=1&t,a=r[o++];if(i&&n)return a;for(let n=o+(t>>1);o<n;o++)if(r[o]==e)return a;if(i)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let o,i=this.stateSlot(e,r?2:1);;i+=3){if(65535==(o=n[i])){if(1!=n[i+1]){if(2==n[i+1])return tG(n,i+2);break}o=n[i=tG(n,i+2)]}if(o==t||0==o)return tG(n,i+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=tG(this.data,n+2)}r=t(tG(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=tG(this.data,n+2)}if(!(1&this.data[n+2])){let e=this.data[n+1];t.some((t,n)=>1&n&&t==e)||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(eG.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let n=e.tokenizers.find(e=>e.from==t);return n?n.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,r)=>{let o=e.specializers.find(e=>e.from==n.external);if(!o)return n;let i=Object.assign(Object.assign({},n),{external:o.to});return t.specializers[r]=nG(i),i})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,o=this.dialects[t[e]];65535!=(n=this.data[o++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new KW(e,n,r)}static deserialize(e){return new eG(e)}}function tG(e,t){return e[t]|e[t+1]<<16}function nG(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const rG=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],oG=new class{constructor(e){this.start=e.start,this.shift=e.shift||JW,this.reduce=e.reduce||JW,this.reuse=e.reuse||JW,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(e,t)=>5==t||6==t||319==t?e:320==t,strict:!1}),iG=new FW((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(317)},{contextual:!0,fallback:!0}),aG=new FW((e,t)=>{let n,{next:r}=e;rG.indexOf(r)>-1||(47!=r||47!=(n=e.peek(1))&&42!=n)&&(125==r||59==r||-1==r||t.context||e.acceptToken(315))},{contextual:!0}),sG=new FW((e,t)=>{91!=e.next||t.context||e.acceptToken(316)},{contextual:!0}),lG=new FW((e,t)=>{let{next:n}=e;if(43==n||45==n){if(e.advance(),n==e.next){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}else 63==n&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))},{contextual:!0});function cG(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const uG=new FW((e,t)=>{if(60!=e.next||!t.dialectEnabled(0))return;if(e.advance(),47==e.next)return;let n=0;for(;rG.indexOf(e.next)>-1;)e.advance(),n++;if(cG(e.next,!0)){for(e.advance(),n++;cG(e.next,!1);)e.advance(),n++;for(;rG.indexOf(e.next)>-1;)e.advance(),n++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!cG(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),n++}}e.acceptToken(4,-n)}),dG=Bj({"get set async static":sB.modifier,"for while do if else switch try catch finally return throw break continue default case":sB.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":sB.operatorKeyword,"let var const using function class extends":sB.definitionKeyword,"import export from":sB.moduleKeyword,"with debugger new":sB.keyword,TemplateString:sB.special(sB.string),super:sB.atom,BooleanLiteral:sB.bool,this:sB.self,null:sB.null,Star:sB.modifier,VariableName:sB.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":sB.function(sB.variableName),VariableDefinition:sB.definition(sB.variableName),Label:sB.labelName,PropertyName:sB.propertyName,PrivatePropertyName:sB.special(sB.propertyName),"CallExpression/MemberExpression/PropertyName":sB.function(sB.propertyName),"FunctionDeclaration/VariableDefinition":sB.function(sB.definition(sB.variableName)),"ClassDeclaration/VariableDefinition":sB.definition(sB.className),"NewExpression/VariableName":sB.className,PropertyDefinition:sB.definition(sB.propertyName),PrivatePropertyDefinition:sB.definition(sB.special(sB.propertyName)),UpdateOp:sB.updateOperator,"LineComment Hashbang":sB.lineComment,BlockComment:sB.blockComment,Number:sB.number,String:sB.string,Escape:sB.escape,ArithOp:sB.arithmeticOperator,LogicOp:sB.logicOperator,BitOp:sB.bitwiseOperator,CompareOp:sB.compareOperator,RegExp:sB.regexp,Equals:sB.definitionOperator,Arrow:sB.function(sB.punctuation),": Spread":sB.punctuation,"( )":sB.paren,"[ ]":sB.squareBracket,"{ }":sB.brace,"InterpolationStart InterpolationEnd":sB.special(sB.brace),".":sB.derefOperator,", ;":sB.separator,"@":sB.meta,TypeName:sB.typeName,TypeDefinition:sB.definition(sB.typeName),"type enum interface implements namespace module declare":sB.definitionKeyword,"abstract global Privacy readonly override":sB.modifier,"is keyof unique infer asserts":sB.operatorKeyword,JSXAttributeValue:sB.attributeValue,JSXText:sB.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":sB.angleBracket,"JSXIdentifier JSXNameSpacedName":sB.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":sB.attributeName,"JSXBuiltin/JSXIdentifier":sB.standard(sB.tagName)}),hG={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},fG={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},pG={__proto__:null,"<":193},mG=eG.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:oG,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[dG],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[aG,sG,lG,uG,2,3,4,5,6,7,8,9,10,11,12,13,14,iG,new BW("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new BW("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:e=>hG[e]||-1},{term:342,get:e=>fG[e]||-1},{term:95,get:e=>pG[e]||-1}],tokenPrec:15124}),gG=[OV("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),OV("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),OV("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),OV("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),OV("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),OV("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),OV("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),OV("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),OV("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),OV('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),OV('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],vG=gG.concat([OV("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),OV("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),OV("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),bG=new Aj,yG=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function xG(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const OG=["FunctionDeclaration"],wG={FunctionDeclaration:xG("function"),ClassDeclaration:xG("class"),ClassExpression:()=>!0,EnumDeclaration:xG("constant"),TypeAliasDeclaration:xG("type"),NamespaceDeclaration:xG("namespace"),VariableDefinition(e,t){e.matchContext(OG)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function SG(e,t){let n=bG.get(t);if(n)return n;let r=[],o=!0;function i(t,n){let o=e.sliceString(t.from,t.to);r.push({label:o,type:n})}return t.cursor(fj.IncludeAnonymous).iterate(t=>{if(o)o=!1;else if(t.name){let e=wG[t.name];if(e&&e(t,i)||yG.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of SG(e,t.node))r.push(n);return!1}}),bG.set(t,r),r}const EG=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,_G=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function CG(e){let t=mB(e.state).resolveInner(e.pos,-1);if(_G.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&EG.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let n=t;n;n=n.parent)yG.has(n.name)&&(r=r.concat(SG(e.state.doc,n)));return{options:r,from:n?t.from:e.pos,validFor:EG}}const kG=pB.define({name:"javascript",parser:mG.configure({props:[AB.add({IfStatement:BB({except:/^\s*({|else\b)/}),TryStatement:BB({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:e=>e.baseIndent,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:zB({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":BB({except:/^\s*{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),UB.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":function(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),MG={test:e=>/^JSX/.test(e.name),facet:uB({commentTokens:{block:{open:"{/*",close:"*/}"}}})},TG=kG.configure({dialect:"ts"},"typescript"),PG=kG.configure({dialect:"jsx",props:[dB.add(e=>e.isTop?[MG]:void 0)]}),RG=kG.configure({dialect:"jsx ts",props:[dB.add(e=>e.isTop?[MG]:void 0)]},"typescript");let AG=e=>({label:e,type:"keyword"});const $G="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(AG),NG=$G.concat(["declare","implements","private","protected","public"].map(AG));function IG(e={}){let t=e.jsx?e.typescript?RG:PG:e.typescript?TG:kG,n=e.typescript?vG.concat(NG):gG.concat($G);return new _B(t,[kG.data.of({autocomplete:(r=_G,o=OQ(n),e=>{for(let t=mB(e.state).resolveInner(e.pos,-1);t;t=t.parent){if(r.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return o(e)})}),kG.data.of({autocomplete:CG}),e.jsx?zG:[]]);var r,o}function DG(e,t,n=e.length){for(let r=null==t?void 0:t.firstChild;r;r=r.nextSibling)if("JSXIdentifier"==r.name||"JSXBuiltin"==r.name||"JSXNamespacedName"==r.name||"JSXMemberExpression"==r.name)return e.sliceString(r.from,Math.min(r.to,n));return""}const LG="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),zG=vL.inputHandler.of((e,t,n,r,o)=>{if((LG?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!kG.isActiveAt(e.state,t,-1))return!1;let i=o(),{state:a}=i,s=a.changeByRange(e=>{var t;let n,{head:o}=e,i=mB(a).resolveInner(o-1,-1);if("JSXStartTag"==i.name&&(i=i.parent),a.doc.sliceString(o-1,o)!=r||"JSXAttributeValue"==i.name&&i.to>o);else{if(">"==r&&"JSXFragmentTag"==i.name)return{range:e,changes:{from:o,insert:"</>"}};if("/"==r&&"JSXStartCloseTag"==i.name){let e=i.parent,r=e.parent;if(r&&e.from==o-2&&((n=DG(a.doc,r.firstChild,o))||"JSXFragmentTag"==(null===(t=r.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:nA.cursor(o+e.length,-1),changes:{from:o,insert:e}}}}else if(">"==r){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(i);if(t&&"JSXOpenTag"==t.name&&!/^\/?>|^<\//.test(a.doc.sliceString(o,o+2))&&(n=DG(a.doc,t,o)))return{range:e,changes:{from:o,insert:`</${n}>`}}}}return{range:e}});return!s.changes.empty&&(e.dispatch([i,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var jG=n(3541),BG={};BG.styleTagTransform=Wg(),BG.setAttributes=Ug(),BG.insert=Bg().bind(null,"head"),BG.domAPI=zg(),BG.insertStyleElement=Qg(),Dg()(jG.A,BG),jG.A&&jG.A.locals&&jG.A.locals;const FG=function(e){var t=e.value,n=(e.language,e.onChange),r=e.readOnly,i=void 0!==r&&r;return o.createElement("div",{className:"code-editor"},o.createElement(PW,{value:t,height:"100%",theme:xW,extensions:[IG()],onChange:function(e){n&&n(e)},editable:!i,style:{height:"100%",overflow:"auto"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,syntaxHighlighting:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,searchKeymap:!0,foldKeymap:!0,completionKeymap:!0,lintKeymap:!0}}))};var UG=n(4891),HG={};function QG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return VG(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VG(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}HG.styleTagTransform=Wg(),HG.setAttributes=Ug(),HG.insert=Bg().bind(null,"head"),HG.domAPI=zg(),HG.insertStyleElement=Qg(),Dg()(UG.A,HG),UG.A&&UG.A.locals&&UG.A.locals;const WG=function(e){var t=e.visible,n=e.filePath,r=e.onClose,i=QG((0,o.useState)(""),2),a=i[0],s=i[1],l=QG((0,o.useState)("javascript"),2),c=l[0],u=l[1],d=QG((0,o.useState)(!1),2),h=d[0],f=d[1],p=(0,o.useRef)(""),m=(0,o.useRef)(0);(0,o.useEffect)(function(){if(t&&n)try{var e=y_().readFile(n);e.success?(s(e.content),p.current=e.content,f(!1)):(0,qg.log)("读取文件失败: ".concat(e.error),qg.LOG_TYPES.ERROR)}catch(e){(0,qg.log)("读取文件失败: ".concat(e.message),qg.LOG_TYPES.ERROR)}},[t,n]);var g=function(){var e=Date.now();if(!(e-m.current<1e3)){m.current=e;try{var t=y_().writeFile(n,a);t.success?(p.current=a,(0,qg.log)("保存文件成功: ".concat(n),qg.LOG_TYPES.SUCCESS),Pv.success("保存成功"),f(!0)):((0,qg.log)("保存文件失败: ".concat(t.error),qg.LOG_TYPES.ERROR),Pv.error("保存失败: ".concat(t.error)))}catch(e){(0,qg.log)("保存文件失败: ".concat(e.message),qg.LOG_TYPES.ERROR),Pv.error("保存失败: ".concat(e.message))}}};(0,o.useEffect)(function(){if(n){var e=(0,qg.getFileType)(n);if("code"===e||"document"===e){var t=kS().extname(n).slice(1).toLowerCase();u(t)}}},[n]);var v=o.createElement("div",{className:"file-editor-title-bar"},o.createElement("span",{className:"file-editor-title"},n?kS().basename(n):""),o.createElement("button",{className:"save-button ".concat(h?"modified":""),onClick:g,disabled:!h,style:{marginLeft:"auto"}},"保存 (Ctrl+S)"));return o.createElement(Dh,{title:v,open:t,onCancel:r,width:"80%",style:{top:20},styles:{body:{height:"calc(100vh - 200px)",padding:0,backgroundColor:"#1e1e1e"},header:{backgroundColor:"#252526",borderBottom:"1px solid #333",padding:"12px 24px"},content:{backgroundColor:"#1e1e1e"}},footer:null,className:"file-editor-modal"},o.createElement("div",{className:"file-editor-container",onKeyDown:function(e){e.ctrlKey&&"s"===e.key&&(e.preventDefault(),h&&g())}},o.createElement("div",{className:"file-editor-content"},o.createElement(FG,{value:a,language:c,onChange:function(e){s(e),f(e!==p.current)}}))))};function GG(e){return GG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GG(e)}function XG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XG(Object(n),!0).forEach(function(t){ZG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZG(e,t,n){return(t=function(e){var t=function(e){if("object"!=GG(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=GG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==GG(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||KG(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KG(e,t){if(e){if("string"==typeof e)return JG(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JG(e,t):void 0}}function JG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eX=window.require("path"),tX=window.require("fs");const nX=function(e){var t=e.treeData,n=void 0===t?[]:t,r=e.projectName,i=void 0===r?"":r,a=e.onTreeDataChange,s=YG((0,o.useState)({visible:!1,x:0,y:0,node:null}),2),l=s[0],c=s[1],u=YG((0,o.useState)({visible:!1,node:null,value:""}),2),d=u[0],h=u[1],f=YG((0,o.useState)({visible:!1,type:"",parentPath:"",value:""}),2),p=f[0],m=f[1],g=YG((0,o.useState)(null),2),v=g[0],b=g[1],y=YG((0,o.useState)(!1),2),x=y[0],O=y[1],w=YG((0,o.useState)([]),2),S=w[0],E=w[1],_=function(e){return e.map(function(e){return qG(qG({},e),{},{icon:e.children?o.createElement(LP,null):null,children:e.children?_(e.children):void 0})})},C=_(n),k=function(){c({visible:!1,x:0,y:0,node:null})};(0,o.useEffect)(function(){var e=function(){k(),p.visible&&m({visible:!1,type:"",parentPath:"",value:""})};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}},[p.visible]);var M=function(e){m(function(t){return qG(qG({},t),{},{value:e.target.value})})},T=function(){if(p.value){var e=eX.join(p.parentPath,p.value),t="file"===p.type?y_().createFile(e):y_().createFolder(e);t.success?(Pv.success("新建".concat("file"===p.type?"文件":"文件夹","成功")),a&&a()):Pv.error(t.error)}m({visible:!1,type:"",parentPath:"",value:""})},P=function(e){"Enter"===e.key?T():"Escape"===e.key&&m({visible:!1,type:"",parentPath:"",value:""})},R=function(e){h(function(t){return qG(qG({},t),{},{value:e.target.value})})},A=function(){if(d.node&&d.value!==d.node.title){var e=d.node.key,t=e.replace(d.node.title,d.value),n=y_().renameFile(e,t);n.success?(Pv.success("重命名成功"),a&&a()):Pv.error(n.error)}h({visible:!1,node:null,value:""})},$=function(e){"Enter"===e.key?A():"Escape"===e.key&&h({visible:!1,node:null,value:""})};return i?o.createElement("div",{className:"project-explorer"},o.createElement("div",{className:"console-header"},o.createElement("div",{className:"console-title"},i)),o.createElement("div",{className:"console-content"},o.createElement(mR,{treeData:C,defaultExpandAll:!1,showIcon:!0,blockNode:!0,selectable:!0,indent:24,expandedKeys:S,onExpand:function(e){E(e)},onRightClick:function(e){var t=e.node;return function(e,t){e.preventDefault(),c({visible:!0,x:e.clientX,y:e.clientY,node:t})}(e.event,t)},onDoubleClick:function(e,t){return function(e){try{if(tX.statSync(e.key).isDirectory()){var t=e.key;E(function(e){return e.includes(t)?e.filter(function(e){return e!==t}):[].concat(function(e){if(Array.isArray(e))return JG(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||KG(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]);var n})}else{var n=(0,qg.getFileType)(e.key);"code"!==n&&"document"!==n||(b(e.key),O(!0))}}catch(e){console.error("获取文件信息失败:",e)}}(t)},titleRender:function(e){var t;return d.visible&&(null===(t=d.node)||void 0===t?void 0:t.key)===e.key?o.createElement("div",{className:"tree-node-input"},o.createElement(ly,{size:"small",value:d.value,onChange:R,onBlur:A,onKeyDown:$,autoFocus:!0})):p.visible&&p.parentPath===e.key?o.createElement(o.Fragment,null,o.createElement("span",null,e.title),o.createElement("div",{className:"tree-node-input"},o.createElement(ly,{size:"small",value:p.value,onChange:M,onBlur:T,onKeyDown:P,autoFocus:!0,placeholder:"新建".concat("file"===p.type?"文件":"文件夹")}))):e.title}})),l.visible&&o.createElement("div",{className:"context-menu",style:{position:"fixed",left:l.x,top:l.y,zIndex:1e3}},o.createElement("div",{className:"context-menu-item",onClick:function(e){if(e.stopPropagation(),l.node){var t=l.node.key;m({visible:!0,type:"file",parentPath:t,value:""})}k()}},"新建文件"),o.createElement("div",{className:"context-menu-item",onClick:function(e){if(e.stopPropagation(),l.node){var t=l.node.key;m({visible:!0,type:"folder",parentPath:t,value:""})}k()}},"新建文件夹"),o.createElement("div",{className:"context-menu-item",onClick:function(e){e.stopPropagation(),l.node&&Dh.confirm({title:"确认重命名",content:'确定要重命名 "'.concat(l.node.title,'" 吗？'),okText:"确定",cancelText:"取消",okButtonProps:{style:{background:"#1976d2",borderColor:"#1976d2"}},cancelButtonProps:{style:{background:"#3d3d3d",borderColor:"#444",color:"#e0e0e0"}},className:"custom-modal",onOk:function(){h({visible:!0,node:l.node,value:l.node.title})}}),k()}},"重命名"),o.createElement("div",{className:"context-menu-item",onClick:function(e){e.stopPropagation(),l.node&&Dh.confirm({title:"确认删除",content:'确定要删除 "'.concat(l.node.title,'" 吗？'),okText:"确定",cancelText:"取消",okButtonProps:{style:{background:"#1976d2",borderColor:"#1976d2"}},cancelButtonProps:{style:{background:"#3d3d3d",borderColor:"#444",color:"#e0e0e0"}},className:"custom-modal",onOk:function(){var e=y_().deleteFile(l.node.key);e.success?(Pv.success("删除成功"),a&&a()):Pv.error(e.error)}}),k()}},"删除"),o.createElement("div",{className:"context-menu-item",onClick:function(e){if(e.stopPropagation(),l.node){var t=y_().openInExplorer(l.node.key);t.success||Pv.error(t.error)}k()}},"在资源管理器中打开")),o.createElement(WG,{visible:x,filePath:v,onClose:function(){O(!1),b(null)}})):null};function rX(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=rX(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var oX=n(9242);const iX=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},{useDebugValue:aX}=o,{useSyncExternalStoreWithSelector:sX}=oX,lX=e=>e;function cX(e,t=lX,n){const r=sX(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return aX(r),r}const uX=(e,t)=>{const n=(e=>e?iX(e):iX)(e),r=(e,r=t)=>cX(n,e,r);return Object.assign(r,n),r};function dX(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var hX={value:()=>{}};function fX(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new pX(r)}function pX(e){this._=e}function mX(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function gX(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=hX,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}pX.prototype=fX.prototype={constructor:pX,on:function(e,t){var n,r=this._,o=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=gX(r[n],e.name,t);else if(null==t)for(n in r)r[n]=gX(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=mX(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pX(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const vX=fX;function bX(){}function yX(e){return null==e?bX:function(){return this.querySelector(e)}}function xX(){return[]}function OX(e){return null==e?xX:function(){return this.querySelectorAll(e)}}function wX(e){return function(){return this.matches(e)}}function SX(e){return function(t){return t.matches(e)}}var EX=Array.prototype.find;function _X(){return this.firstElementChild}var CX=Array.prototype.filter;function kX(){return Array.from(this.children)}function MX(e){return new Array(e.length)}function TX(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function PX(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new TX(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function RX(e,t,n,r,o,i,a){var s,l,c,u=new Map,d=t.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,i[s],s,i)+"",(l=u.get(c))?(r[s]=l,l.__data__=i[s],u.delete(c)):n[s]=new TX(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(o[s]=l)}function AX(e){return e.__data__}function $X(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function NX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}TX.prototype={constructor:TX,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var IX="http://www.w3.org/1999/xhtml";const DX={svg:"http://www.w3.org/2000/svg",xhtml:IX,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LX(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),DX.hasOwnProperty(t)?{space:DX[t],local:e}:e}function zX(e){return function(){this.removeAttribute(e)}}function jX(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BX(e,t){return function(){this.setAttribute(e,t)}}function FX(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UX(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function HX(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function QX(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function VX(e){return function(){this.style.removeProperty(e)}}function WX(e,t,n){return function(){this.style.setProperty(e,t,n)}}function GX(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function XX(e,t){return e.style.getPropertyValue(t)||QX(e).getComputedStyle(e,null).getPropertyValue(t)}function qX(e){return function(){delete this[e]}}function ZX(e,t){return function(){this[e]=t}}function YX(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function KX(e){return e.trim().split(/^|\s+/)}function JX(e){return e.classList||new eq(e)}function eq(e){this._node=e,this._names=KX(e.getAttribute("class")||"")}function tq(e,t){for(var n=JX(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function nq(e,t){for(var n=JX(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function rq(e){return function(){tq(this,e)}}function oq(e){return function(){nq(this,e)}}function iq(e,t){return function(){(t.apply(this,arguments)?tq:nq)(this,e)}}function aq(){this.textContent=""}function sq(e){return function(){this.textContent=e}}function lq(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function cq(){this.innerHTML=""}function uq(e){return function(){this.innerHTML=e}}function dq(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function hq(){this.nextSibling&&this.parentNode.appendChild(this)}function fq(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pq(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===IX&&t.documentElement.namespaceURI===IX?t.createElement(e):t.createElementNS(n,e)}}function mq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gq(e){var t=LX(e);return(t.local?mq:pq)(t)}function vq(){return null}function bq(){var e=this.parentNode;e&&e.removeChild(this)}function yq(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xq(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Oq(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function wq(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Sq(e,t,n){var r=QX(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Eq(e,t){return function(){return Sq(this,e,t)}}function _q(e,t){return function(){return Sq(this,e,t.apply(this,arguments))}}eq.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Cq=[null];function kq(e,t){this._groups=e,this._parents=t}function Mq(){return new kq([[document.documentElement]],Cq)}kq.prototype=Mq.prototype={constructor:kq,select:function(e){"function"!=typeof e&&(e=yX(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new kq(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):OX(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new kq(r,o)},selectChild:function(e){return this.select(null==e?_X:function(e){return function(){return EX.call(this.children,e)}}("function"==typeof e?e:SX(e)))},selectChildren:function(e){return this.selectAll(null==e?kX:function(e){return function(){return CX.call(this.children,e)}}("function"==typeof e?e:SX(e)))},filter:function(e){"function"!=typeof e&&(e=wX(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new kq(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,AX);var n,r=t?RX:PX,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],h=i[u],f=h.length,p=$X(e.call(d,d&&d.__data__,u,o)),m=p.length,g=l[u]=new Array(m),v=s[u]=new Array(m);r(d,h,g,v,c[u]=new Array(f),p,t);for(var b,y,x=0,O=0;x<m;++x)if(b=g[x]){for(x>=O&&(O=x+1);!(y=v[O])&&++O<m;);b._next=y||null}}return(s=new kq(s,o))._enter=l,s._exit=c,s},enter:function(){return new kq(this._enter||this._groups.map(MX),this._parents)},exit:function(){return new kq(this._exit||this._groups.map(MX),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var c,u=n[l],d=r[l],h=u.length,f=s[l]=new Array(h),p=0;p<h;++p)(c=u[p]||d[p])&&(f[p]=c);for(;l<o;++l)s[l]=n[l];return new kq(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=NX);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new kq(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=LX(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?jX:zX:"function"==typeof t?n.local?HX:UX:n.local?FX:BX)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?VX:"function"==typeof t?GX:WX)(e,t,null==n?"":n)):XX(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?qX:"function"==typeof t?YX:ZX)(e,t)):this.node()[e]},classed:function(e,t){var n=KX(e+"");if(arguments.length<2){for(var r=JX(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?iq:t?rq:oq)(n,t))},text:function(e){return arguments.length?this.each(null==e?aq:("function"==typeof e?lq:sq)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?cq:("function"==typeof e?dq:uq)(e)):this.node().innerHTML},raise:function(){return this.each(hq)},lower:function(){return this.each(fq)},append:function(e){var t="function"==typeof e?e:gq(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:gq(e),r=null==t?vq:"function"==typeof t?t:yX(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(bq)},clone:function(e){return this.select(e?xq:yq)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?wq:Oq,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?_q:Eq)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const Tq=Mq;function Pq(e){return"string"==typeof e?new kq([[document.querySelector(e)]],[document.documentElement]):new kq([[e]],Cq)}const Rq={passive:!1},Aq={capture:!0,passive:!1};function $q(e){e.stopImmediatePropagation()}function Nq(e){e.preventDefault(),e.stopImmediatePropagation()}function Iq(e){var t=e.document.documentElement,n=Pq(e).on("dragstart.drag",Nq,Aq);"onselectstart"in t?n.on("selectstart.drag",Nq,Aq):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Dq(e,t){var n=e.document.documentElement,r=Pq(e).on("dragstart.drag",null);t&&(r.on("click.drag",Nq,Aq),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Lq(e){return((e=Math.exp(e))+1/e)/2}const zq=function e(t,n,r){function o(e,o){var i,a,s=e[0],l=e[1],c=e[2],u=o[0],d=o[1],h=o[2],f=u-s,p=d-l,m=f*f+p*p;if(m<1e-12)a=Math.log(h/c)/t,i=function(e){return[s+e*f,l+e*p,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),b=(h*h-c*c-r*m)/(2*h*n*g),y=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(b*b+1)-b);a=(x-y)/t,i=function(e){var r,o=e*a,i=Lq(y),u=c/(n*g)*(i*(r=t*o+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[s+u*f,l+u*p,c*i/Lq(t*o+y)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function jq(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Bq,Fq,Uq=0,Hq=0,Qq=0,Vq=0,Wq=0,Gq=0,Xq="object"==typeof performance&&performance.now?performance:Date,qq="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zq(){return Wq||(qq(Yq),Wq=Xq.now()+Gq)}function Yq(){Wq=0}function Kq(){this._call=this._time=this._next=null}function Jq(e,t,n){var r=new Kq;return r.restart(e,t,n),r}function eZ(){Wq=(Vq=Xq.now())+Gq,Uq=Hq=0;try{!function(){Zq(),++Uq;for(var e,t=Bq;t;)(e=Wq-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Uq}()}finally{Uq=0,function(){for(var e,t,n=Bq,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Bq=t);Fq=e,nZ(r)}(),Wq=0}}function tZ(){var e=Xq.now(),t=e-Vq;t>1e3&&(Gq-=t,Vq=e)}function nZ(e){Uq||(Hq&&(Hq=clearTimeout(Hq)),e-Wq>24?(e<1/0&&(Hq=setTimeout(eZ,e-Xq.now()-Gq)),Qq&&(Qq=clearInterval(Qq))):(Qq||(Vq=Xq.now(),Qq=setInterval(tZ,1e3)),Uq=1,qq(eZ)))}function rZ(e,t,n){var r=new Kq;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Kq.prototype=Jq.prototype={constructor:Kq,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Zq():+n)+(null==t?0:+t),this._next||Fq===this||(Fq?Fq._next=this:Bq=this,Fq=this),this._call=e,this._time=n,nZ()},stop:function(){this._call&&(this._call=null,this._time=1/0,nZ())}};var oZ=vX("start","end","cancel","interrupt"),iZ=[];function aZ(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(l){var c,u,d,h;if(1!==n.state)return s();for(c in o)if((h=o[c]).name===n.name){if(3===h.state)return rZ(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(rZ(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=Jq(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:oZ,tween:iZ,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function sZ(e,t){var n=cZ(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function lZ(e,t){var n=cZ(e,t);if(n.state>3)throw new Error("too late; already running");return n}function cZ(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uZ(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function dZ(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var hZ,fZ=180/Math.PI,pZ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mZ(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*fZ,skewX:Math.atan(l)*fZ,scaleX:a,scaleY:s}}function gZ(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:dZ(e,o)},{i:l-2,x:dZ(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:dZ(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:dZ(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:dZ(e,n)},{i:s-2,x:dZ(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var vZ=gZ(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?pZ:mZ(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),bZ=gZ(function(e){return null==e?pZ:(hZ||(hZ=document.createElementNS("http://www.w3.org/2000/svg","g")),hZ.setAttribute("transform",e),(e=hZ.transform.baseVal.consolidate())?mZ((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):pZ)},", ",")",")");function yZ(e,t){var n,r;return function(){var o=lZ(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function xZ(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=lZ(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function OZ(e,t,n){var r=e._id;return e.each(function(){var e=lZ(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return cZ(e,r).value[t]}}function wZ(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function SZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function EZ(){}var _Z=.7,CZ=1/_Z,kZ="\\s*([+-]?\\d+)\\s*",MZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",TZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PZ=/^#([0-9a-f]{3,8})$/,RZ=new RegExp(`^rgb\\(${kZ},${kZ},${kZ}\\)$`),AZ=new RegExp(`^rgb\\(${TZ},${TZ},${TZ}\\)$`),$Z=new RegExp(`^rgba\\(${kZ},${kZ},${kZ},${MZ}\\)$`),NZ=new RegExp(`^rgba\\(${TZ},${TZ},${TZ},${MZ}\\)$`),IZ=new RegExp(`^hsl\\(${MZ},${TZ},${TZ}\\)$`),DZ=new RegExp(`^hsla\\(${MZ},${TZ},${TZ},${MZ}\\)$`),LZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zZ(){return this.rgb().formatHex()}function jZ(){return this.rgb().formatRgb()}function BZ(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?FZ(t):3===n?new QZ(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?UZ(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?UZ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=RZ.exec(e))?new QZ(t[1],t[2],t[3],1):(t=AZ.exec(e))?new QZ(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=$Z.exec(e))?UZ(t[1],t[2],t[3],t[4]):(t=NZ.exec(e))?UZ(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=IZ.exec(e))?ZZ(t[1],t[2]/100,t[3]/100,1):(t=DZ.exec(e))?ZZ(t[1],t[2]/100,t[3]/100,t[4]):LZ.hasOwnProperty(e)?FZ(LZ[e]):"transparent"===e?new QZ(NaN,NaN,NaN,0):null}function FZ(e){return new QZ(e>>16&255,e>>8&255,255&e,1)}function UZ(e,t,n,r){return r<=0&&(e=t=n=NaN),new QZ(e,t,n,r)}function HZ(e,t,n,r){return 1===arguments.length?function(e){return e instanceof EZ||(e=BZ(e)),e?new QZ((e=e.rgb()).r,e.g,e.b,e.opacity):new QZ}(e):new QZ(e,t,n,null==r?1:r)}function QZ(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function VZ(){return`#${qZ(this.r)}${qZ(this.g)}${qZ(this.b)}`}function WZ(){const e=GZ(this.opacity);return`${1===e?"rgb(":"rgba("}${XZ(this.r)}, ${XZ(this.g)}, ${XZ(this.b)}${1===e?")":`, ${e})`}`}function GZ(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function XZ(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qZ(e){return((e=XZ(e))<16?"0":"")+e.toString(16)}function ZZ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new KZ(e,t,n,r)}function YZ(e){if(e instanceof KZ)return new KZ(e.h,e.s,e.l,e.opacity);if(e instanceof EZ||(e=BZ(e)),!e)return new KZ;if(e instanceof KZ)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new KZ(a,s,l,e.opacity)}function KZ(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function JZ(e){return(e=(e||0)%360)<0?e+360:e}function eY(e){return Math.max(0,Math.min(1,e||0))}function tY(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function nY(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}wZ(EZ,BZ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zZ,formatHex:zZ,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return YZ(this).formatHsl()},formatRgb:jZ,toString:jZ}),wZ(QZ,HZ,SZ(EZ,{brighter(e){return e=null==e?CZ:Math.pow(CZ,e),new QZ(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?_Z:Math.pow(_Z,e),new QZ(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new QZ(XZ(this.r),XZ(this.g),XZ(this.b),GZ(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VZ,formatHex:VZ,formatHex8:function(){return`#${qZ(this.r)}${qZ(this.g)}${qZ(this.b)}${qZ(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:WZ,toString:WZ})),wZ(KZ,function(e,t,n,r){return 1===arguments.length?YZ(e):new KZ(e,t,n,null==r?1:r)},SZ(EZ,{brighter(e){return e=null==e?CZ:Math.pow(CZ,e),new KZ(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?_Z:Math.pow(_Z,e),new KZ(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new QZ(tY(e>=240?e-240:e+120,o,r),tY(e,o,r),tY(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new KZ(JZ(this.h),eY(this.s),eY(this.l),GZ(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=GZ(this.opacity);return`${1===e?"hsl(":"hsla("}${JZ(this.h)}, ${100*eY(this.s)}%, ${100*eY(this.l)}%${1===e?")":`, ${e})`}`}}));const rY=e=>()=>e;function oY(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):rY(isNaN(e)?t:e)}const iY=function e(t){var n=function(e){return 1===(e=+e)?oY:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):rY(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=HZ(e)).r,(t=HZ(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=oY(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function aY(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=HZ(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}aY(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return nY((n-r/t)*t,a,o,i,s)}}),aY(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return nY((n-r/t)*t,o,i,a,s)}});var sY=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lY=new RegExp(sY.source,"g");function cY(e,t){var n,r,o,i=sY.lastIndex=lY.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=sY.exec(e))&&(r=lY.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:dZ(n,r)})),i=lY.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function uY(e,t){var n;return("number"==typeof t?dZ:t instanceof BZ?iY:(n=BZ(t))?(t=n,iY):cY)(e,t)}function dY(e){return function(){this.removeAttribute(e)}}function hY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fY(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function pY(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function mY(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function gY(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function vY(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function bY(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function yY(e,t){return function(){sZ(this,e).delay=+t.apply(this,arguments)}}function xY(e,t){return t=+t,function(){sZ(this,e).delay=t}}function OY(e,t){return function(){lZ(this,e).duration=+t.apply(this,arguments)}}function wY(e,t){return t=+t,function(){lZ(this,e).duration=t}}var SY=Tq.prototype.constructor;function EY(e){return function(){this.style.removeProperty(e)}}var _Y=0;function CY(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kY(){return++_Y}var MY=Tq.prototype;CY.prototype=function(e){return Tq().transition(e)}.prototype={constructor:CY,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=yX(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,aZ(d[h],t,n,h,d,cZ(s,n)));return new CY(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=OX(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),p=cZ(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&aZ(h,t,n,m,f,p);i.push(f),a.push(l)}return new CY(i,a,t,n)},selectChild:MY.selectChild,selectChildren:MY.selectChildren,filter:function(e){"function"!=typeof e&&(e=wX(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new CY(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(h[f]=l);for(;s<r;++s)a[s]=t[s];return new CY(a,this._parents,this._name,this._id)},selection:function(){return new SY(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=kY(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=cZ(a,t);aZ(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new CY(r,this._parents,e,n)},call:MY.call,nodes:MY.nodes,node:MY.node,size:MY.size,empty:MY.empty,each:MY.each,on:function(e,t){var n=this._id;return arguments.length<2?cZ(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?sZ:lZ;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=LX(e),r="transform"===n?bZ:uY;return this.attrTween(e,"function"==typeof t?(n.local?gY:mY)(n,r,OZ(this,"attr."+e,t)):null==t?(n.local?hY:dY)(n):(n.local?pY:fY)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=LX(e);return this.tween(n,(r.local?vY:bY)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?vZ:uY;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=XX(this,e),a=(this.style.removeProperty(e),XX(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,EY(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=XX(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=XX(this,e)),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}(e,r,OZ(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=lZ(this,e),c=l.on,u=null==l.value[a]?i||(i=EY(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=XX(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(OZ(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=cZ(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?yZ:xZ)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?yY:xY)(t,e)):cZ(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?OY:wY)(t,e)):cZ(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){lZ(this,e).ease=t}}(t,e)):cZ(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;lZ(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){0===--o&&i()}};n.each(function(){var n=lZ(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===o&&i()})},[Symbol.iterator]:MY[Symbol.iterator]};var TY={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function PY(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Tq.prototype.interrupt=function(e){return this.each(function(){uZ(this,e)})},Tq.prototype.transition=function(e){var t,n;e instanceof CY?(t=e._id,e=e._name):(t=kY(),(n=TY).time=Zq(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&aZ(a,e,t,c,s,n||PY(a,t));return new CY(r,this._parents,e,t)};const RY=e=>()=>e;function AY(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function $Y(e,t,n){this.k=e,this.x=t,this.y=n}$Y.prototype={constructor:$Y,scale:function(e){return 1===e?this:new $Y(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new $Y(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var NY=new $Y(1,0,0);function IY(e){e.stopImmediatePropagation()}function DY(e){e.preventDefault(),e.stopImmediatePropagation()}function LY(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function zY(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function jY(){return this.__zoom||NY}function BY(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function FY(){return navigator.maxTouchPoints||"ontouchstart"in this}function UY(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function HY(){var e,t,n,r=LY,o=zY,i=UY,a=BY,s=FY,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=zq,h=vX("start","zoom","end"),f=0,p=10;function m(e){e.property("__zoom",jY).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",_).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new $Y(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new $Y(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",function(){x(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,i=arguments,a=x(e,i).event(r),s=o.apply(e,i),l=null==n?b(s):"function"==typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"==typeof t?t.apply(e,i):t,f=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=f(e),n=c/t[2];e=new $Y(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}})}function x(e,t,n){return!n&&e.__zooming||new O(e,t)}function O(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function w(e,...t){if(r.apply(this,arguments)){var n=x(this,t).event(e),o=this.__zoom,s=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=jq(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[u,o.invert(u)],uZ(this),n.start()}DY(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",i(v(g(o,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=x(this,t,!0).event(e),s=Pq(e.view).on("mousemove.zoom",function(e){if(DY(e),!a.moved){var t=e.clientX-u,n=e.clientY-d;a.moved=t*t+n*n>f}a.event(e).zoom("mouse",i(v(a.that.__zoom,a.mouse[0]=jq(e,o),a.mouse[1]),a.extent,c))},!0).on("mouseup.zoom",function(e){s.on("mousemove.zoom mouseup.zoom",null),Dq(e.view,a.moved),DY(e),a.event(e).end()},!0),l=jq(e,o),u=e.clientX,d=e.clientY;Iq(e.view),IY(e),a.mouse=[l,this.__zoom.invert(l)],uZ(this),a.start()}}function E(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=jq(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),l=n.k*(e.shiftKey?.5:2),d=i(v(g(n,l),a,s),o.apply(this,t),c);DY(e),u>0?Pq(this).transition().duration(u).call(y,d,a,e):Pq(this).call(m.transform,d,a,e)}}function _(n,...o){if(r.apply(this,arguments)){var i,a,s,l,c=n.touches,u=c.length,d=x(this,o,n.changedTouches.length===u).event(n);for(IY(n),a=0;a<u;++a)l=[l=jq(s=c[a],this),this.__zoom.invert(l),s.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),uZ(this),d.start())}}function C(e,...t){if(this.__zooming){var n,r,o,a,s=x(this,t).event(e),l=e.changedTouches,u=l.length;for(DY(e),n=0;n<u;++n)o=jq(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m,b=(b=p[0]-h[0])*b+(b=p[1]-h[1])*b;r=g(r,Math.sqrt(m/b)),o=[(d[0]+f[0])/2,(d[1]+f[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(v(r,o,a),s.extent,c))}}function k(e,...r){if(this.__zooming){var o,i,a=x(this,r).event(e),s=e.changedTouches,l=s.length;for(IY(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<l;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=jq(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<p)){var c=Pq(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",jY),e!==o?y(e,t,n,r):o.interrupt().each(function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return i(v(g(r,l),a,s),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(NY.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,a)},O.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Pq(this.that).datum();h.call(e,this.that,new AY(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:RY(+e),m):a},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:RY(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:RY(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"==typeof e?e:RY([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}$Y.prototype;const QY=e=>()=>e;function VY(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function WY(e){return!e.ctrlKey&&!e.button}function GY(){return this.parentNode}function XY(e,t){return null==t?{x:e.x,y:e.y}:t}function qY(){return navigator.maxTouchPoints||"ontouchstart"in this}VY.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const ZY=(0,o.createContext)(null),YY=ZY.Provider,KY="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function JY(e,t){const n=(0,o.useContext)(ZY);if(null===n)throw new Error(KY);return cX(n,e,t)}const eK=()=>{const e=(0,o.useContext)(ZY);if(null===e)throw new Error(KY);return(0,o.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},tK=e=>e.userSelectionActive?"none":"all";function nK({position:e,children:t,className:n,style:r,...i}){const a=JY(tK),s=`${e}`.split("-");return o.createElement("div",{className:rX(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},...i},t)}function rK({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:o.createElement(nK,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var oK=(0,o.memo)(({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const h=(0,o.useRef)(null),[f,p]=(0,o.useState)({x:0,y:0,width:0,height:0}),m=rX(["react-flow__edge-textwrapper",u]);return(0,o.useEffect)(()=>{if(h.current){const e=h.current.getBBox();p({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),void 0!==n&&n?o.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d},i&&o.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),o.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c):null});const iK=e=>({width:e.offsetWidth,height:e.offsetHeight}),aK=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),sK=(e={x:0,y:0},t)=>({x:aK(e.x,t[0][0],t[1][0]),y:aK(e.y,t[0][1],t[1][1])}),lK=(e,t,n)=>e<t?aK(Math.abs(e-t),1,50)/50:e>n?-aK(Math.abs(e-n),1,50)/50:0,cK=(e,t)=>[20*lK(e.x,35,t.width-35),20*lK(e.y,35,t.height-35)],uK=e=>e.getRootNode?.()||window?.document,dK=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),hK=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),fK=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),pK=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),mK=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},gK=e=>!isNaN(e)&&isFinite(e),vK=Symbol.for("internals"),bK=["Enter"," ","Escape"],yK=(e,t)=>{};function xK(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const OK=e=>"clientX"in e,wK=(e,t)=>{const n=OK(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},SK=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,EK=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p=20})=>o.createElement(o.Fragment,null,o.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&o.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&gK(n)&&gK(r)?o.createElement(oK,{x:n,y:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);function _K(e,t,n){return void 0===n?n:r=>{const o=t().edges.find(t=>t.id===e);o&&n(r,{...o})}}function CK({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2;return[i,r<t?r+a:r-a,o,a]}function kK({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=.125*e+.375*o+.375*a+.125*n,c=.125*t+.375*i+.375*s+.125*r;return[l,c,Math.abs(l-e),Math.abs(c-t)]}var MK,TK,PK,RK,AK,$K;function NK({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===$K.Left||e===$K.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function IK({sourceX:e,sourceY:t,sourcePosition:n=$K.Bottom,targetX:r,targetY:o,targetPosition:i=$K.Top}){const[a,s]=NK({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=NK({pos:i,x1:r,y1:o,x2:e,y2:t}),[u,d,h,f]=kK({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${s} ${l},${c} ${r},${o}`,u,d,h,f]}EK.displayName="BaseEdge",function(e){e.Strict="strict",e.Loose="loose"}(MK||(MK={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(TK||(TK={})),function(e){e.Partial="partial",e.Full="full"}(PK||(PK={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(RK||(RK={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(AK||(AK={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}($K||($K={}));const DK=(0,o.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$K.Bottom,targetPosition:a=$K.Top,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g})=>{const[v,b,y]=IK({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return o.createElement(EK,{path:v,labelX:b,labelY:y,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:g})});DK.displayName="SimpleBezierEdge";const LK={[$K.Left]:{x:-1,y:0},[$K.Right]:{x:1,y:0},[$K.Top]:{x:0,y:-1},[$K.Bottom]:{x:0,y:1}},zK=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function jK({sourceX:e,sourceY:t,sourcePosition:n=$K.Bottom,targetX:r,targetY:o,targetPosition:i=$K.Top,borderRadius:a=5,centerX:s,centerY:l,offset:c=20}){const[u,d,h,f,p]=function({source:e,sourcePosition:t=$K.Bottom,target:n,targetPosition:r=$K.Top,center:o,offset:i}){const a=LK[t],s=LK[r],l={x:e.x+a.x*i,y:e.y+a.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},u=(({source:e,sourcePosition:t=$K.Bottom,target:n})=>t===$K.Left||t===$K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:l,sourcePosition:t,target:c}),d=0!==u.x?"x":"y",h=u[d];let f,p,m=[];const g={x:0,y:0},v={x:0,y:0},[b,y,x,O]=CK({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){f=o.x??b,p=o.y??y;const e=[{x:f,y:l.y},{x:f,y:c.y}],t=[{x:l.x,y:p},{x:c.x,y:p}];m=a[d]===h?"x"===d?e:t:"x"===d?t:e}else{const o=[{x:l.x,y:c.y}],u=[{x:c.x,y:l.y}];if(m="x"===d?a.x===h?u:o:a.y===h?o:u,t===r){const t=Math.abs(e[d]-n[d]);if(t<=i){const r=Math.min(i-1,i-t);a[d]===h?g[d]=(l[d]>e[d]?-1:1)*r:v[d]=(c[d]>n[d]?-1:1)*r}}if(t!==r){const e="x"===d?"y":"x",t=a[d]===s[e],n=l[e]>c[e],r=l[e]<c[e];(1===a[d]&&(!t&&n||t&&r)||1!==a[d]&&(!t&&r||t&&n))&&(m="x"===d?o:u)}const b={x:l.x+g.x,y:l.y+g.y},y={x:c.x+v.x,y:c.y+v.y};Math.max(Math.abs(b.x-m[0].x),Math.abs(y.x-m[0].x))>=Math.max(Math.abs(b.y-m[0].y),Math.abs(y.y-m[0].y))?(f=(b.x+y.x)/2,p=m[0].y):(f=m[0].x,p=(b.y+y.y)/2)}return[[e,{x:l.x+g.x,y:l.y+g.y},...m,{x:c.x+v.x,y:c.y+v.y},n],f,p,x,O]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:c}),m=u.reduce((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(zK(e,t)/2,zK(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a)return`L ${i+o*(e.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+o*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${i},${a+o*(e.y<n.y?-1:1)}Q ${i},${a} ${i+o*s},${a}`}(u[n-1],t,u[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`,e+r},"");return[m,d,h,f,p]}const BK=(0,o.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=$K.Bottom,targetPosition:f=$K.Top,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:v})=>{const[b,y,x]=jK({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:g?.borderRadius,offset:g?.offset});return o.createElement(EK,{path:b,labelX:y,labelY:x,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:m,interactionWidth:v})});BK.displayName="SmoothStepEdge";const FK=(0,o.memo)(e=>o.createElement(BK,{...e,pathOptions:(0,o.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));FK.displayName="StepEdge";const UK=(0,o.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})=>{const[m,g,v]=function({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=CK({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}({sourceX:e,sourceY:t,targetX:n,targetY:r});return o.createElement(EK,{path:m,labelX:g,labelY:v,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:p})});function HK(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function QK({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case $K.Left:return[t-HK(t-r,i),n];case $K.Right:return[t+HK(r-t,i),n];case $K.Top:return[t,n-HK(n-o,i)];case $K.Bottom:return[t,n+HK(o-n,i)]}}function VK({sourceX:e,sourceY:t,sourcePosition:n=$K.Bottom,targetX:r,targetY:o,targetPosition:i=$K.Top,curvature:a=.25}){const[s,l]=QK({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,u]=QK({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[d,h,f,p]=kK({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${o}`,d,h,f,p]}UK.displayName="StraightEdge";const WK=(0,o.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$K.Bottom,targetPosition:a=$K.Top,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:v})=>{const[b,y,x]=VK({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:g?.curvature});return o.createElement(EK,{path:b,labelX:y,labelY:x,label:s,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:v})});WK.displayName="BezierEdge";const GK=(0,o.createContext)(null),XK=GK.Provider;GK.Consumer;const qK=()=>(0,o.useContext)(GK),ZK=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,YK=(e,t)=>void 0===e?"":"string"==typeof e?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`,KK=({x:e,y:t},[n,r,o],i,[a,s])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},JK=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),eJ=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},tJ=(e,t=[0,0])=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:o}=eJ(n,t).positionAbsolute;return dK(e,hK({x:r,y:o,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fK(n)},nJ=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1,s=[0,0])=>{const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(a&&!r||o)return!1;const{positionAbsolute:u}=eJ(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},h=mK(l,d);(void 0===t||void 0===n||null===t||null===n||i&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},rJ=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},oJ=(e,t,n,r,o,i=.1)=>{const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),l=Math.min(a,s),c=aK(l,r,o);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},iJ=(e,t=0)=>e.transition().duration(t);function aJ(e,t,n,r){return(t[n]||[]).reduce((t,o)=>(`${e.id}-${o.id}-${n}`!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+o.x+o.width/2,y:(e.positionAbsolute?.y??0)+o.y+o.height/2}),t),[])}const sJ={source:null,target:null,sourceHandle:null,targetHandle:null},lJ=()=>({handleDomNode:null,isValid:!1,connection:sJ,endHandle:null});function cJ(e,t,n,r,o,i,a){const s="target"===o,l=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...lJ(),handleDomNode:l};if(l){const e=uJ(void 0,l),o=l.getAttribute("data-nodeid"),a=l.getAttribute("data-handleid"),u=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:s?o:n,sourceHandle:s?a:r,target:s?n:o,targetHandle:s?r:a};c.connection=h,u&&d&&(t===MK.Strict?s&&"source"===e||!s&&"target"===e:o!==n||a!==r)&&(c.endHandle={nodeId:o,handleId:a,type:e},c.isValid=i(h))}return c}function uJ(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function dJ(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function hJ(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function fJ({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:a,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:c}){const u=uK(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:f,connectionRadius:p,onConnectStart:m,panBy:g,getNodes:v,cancelConnection:b}=i();let y,x=0;const{x:O,y:w}=wK(e),S=u?.elementFromPoint(O,w),E=uJ(l,S),_=h?.getBoundingClientRect();if(!_||!E)return;let C,k=wK(e,_),M=!1,T=null,P=!1,R=null;const A=function({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((e,o)=>{if(o[vK]){const{handleBounds:i}=o[vK];let a=[],s=[];i&&(a=aJ(o,i,"source",`${t}-${n}-${r}`),s=aJ(o,i,"target",`${t}-${n}-${r}`)),e.push(...a,...s)}return e},[])}({nodes:v(),nodeId:n,handleId:t,handleType:E}),$=()=>{if(!f)return;const[e,t]=cK(k,_);g({x:e,y:t}),x=requestAnimationFrame($)};function N(e){const{transform:r}=i();k=wK(e,_);const{handle:l,validHandleResult:c}=function(e,t,n,r,o,i){const{x:a,y:s}=wK(e),l=t.elementsFromPoint(a,s).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=uJ(void 0,l),r=l.getAttribute("data-handleid"),a=i({nodeId:e,id:r,type:t});if(a){const i=o.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:i?.x||n.x,y:i?.y||n.y},validHandleResult:a}}}}let c=[],u=1/0;if(o.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=i(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:lJ()};if(1===c.length)return c[0];const d=c.some(({validHandleResult:e})=>e.isValid),h=c.some(({handle:e})=>"target"===e.type);return c.find(({handle:e,validHandleResult:t})=>h?"target"===e.type:!d||t.isValid)||c[0]}(e,u,KK(k,r,!1,[1,1]),p,A,e=>cJ(e,d,n,t,o?"target":"source",s,u));if(y=l,M||($(),M=!0),R=c.handleDomNode,T=c.connection,P=c.isValid,a({connectionPosition:y&&P?JK({x:y.x,y:y.y},r):k,connectionStatus:hJ(!!y,P),connectionEndHandle:c.endHandle}),!y&&!P&&!R)return dJ(C);T.source!==T.target&&R&&(dJ(C),C=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",P),R.classList.toggle("react-flow__handle-valid",P))}function I(e){(y||R)&&T&&P&&r?.(T),i().onConnectEnd?.(e),l&&c?.(e),dJ(C),b(),cancelAnimationFrame(x),M=!1,P=!1,T=null,R=null,u.removeEventListener("mousemove",N),u.removeEventListener("mouseup",I),u.removeEventListener("touchmove",N),u.removeEventListener("touchend",I)}a({connectionPosition:k,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),m?.(e,{nodeId:n,handleId:t,handleType:E}),u.addEventListener("mousemove",N),u.addEventListener("mouseup",I),u.addEventListener("touchmove",N),u.addEventListener("touchend",I)}const pJ=()=>!0,mJ=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),gJ=(0,o.forwardRef)(({type:e="source",position:t=$K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},p)=>{const m=s||null,g="target"===e,v=eK(),b=qK(),{connectOnClick:y,noPanClassName:x}=JY(mJ,dX),{connecting:O,clickConnecting:w}=JY(((e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}})(b,m,e),dX);b||v.getState().onError?.("010","Handle: No node id found. Make sure to only use a Handle inside a custom Node.");const S=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=v.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=v.getState();t(((e,t)=>{if(!e.source||!e.target)return t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?{...e}:{...e,id:ZK(e)},((e,t)=>t.some(t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle))))(n,t)?t:t.concat(n)})(o,e))}n?.(o),l?.(o)},E=e=>{if(!b)return;const t=OK(e);i&&(t&&0===e.button||!t)&&fJ({event:e,handleId:m,nodeId:b,onConnect:S,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||pJ}),t?d?.(e):h?.(e)};return o.createElement("div",{"data-handleid":m,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${m}-${e}`,className:rX(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:a,connecting:w,connectionindicator:r&&(i&&!O||a&&O)}]),onMouseDown:E,onTouchStart:E,onClick:y?t=>{const{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l}=v.getState();if(!b||!a&&!i)return;if(!a)return r?.(t,{nodeId:b,handleId:m,handleType:e}),void v.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:m}});const c=uK(t.target),u=n||l||pJ,{connection:d,isValid:h}=cJ({nodeId:b,id:m,type:e},s,a.nodeId,a.handleId||null,a.type,u,c);h&&S(d),o?.(t),v.setState({connectionClickStartHandle:null})}:void 0,ref:p,...f},c)});gJ.displayName="Handle";var vJ=(0,o.memo)(gJ);const bJ=({data:e,isConnectable:t,targetPosition:n=$K.Top,sourcePosition:r=$K.Bottom})=>o.createElement(o.Fragment,null,o.createElement(vJ,{type:"target",position:n,isConnectable:t}),e?.label,o.createElement(vJ,{type:"source",position:r,isConnectable:t}));bJ.displayName="DefaultNode";var yJ=(0,o.memo)(bJ);const xJ=({data:e,isConnectable:t,sourcePosition:n=$K.Bottom})=>o.createElement(o.Fragment,null,e?.label,o.createElement(vJ,{type:"source",position:n,isConnectable:t}));xJ.displayName="InputNode";var OJ=(0,o.memo)(xJ);const wJ=({data:e,isConnectable:t,targetPosition:n=$K.Top})=>o.createElement(o.Fragment,null,o.createElement(vJ,{type:"target",position:n,isConnectable:t}),e?.label);wJ.displayName="OutputNode";var SJ=(0,o.memo)(wJ);const EJ=()=>null;EJ.displayName="GroupNode";const _J=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),CJ=e=>e.id;function kJ(e,t){return dX(e.selectedNodes.map(CJ),t.selectedNodes.map(CJ))&&dX(e.selectedEdges.map(CJ),t.selectedEdges.map(CJ))}const MJ=(0,o.memo)(({onSelectionChange:e})=>{const t=eK(),{selectedNodes:n,selectedEdges:r}=JY(_J,kJ);return(0,o.useEffect)(()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChange.forEach(e=>e(o))},[n,r,e]),null});MJ.displayName="SelectionListener";const TJ=e=>!!e.onSelectionChange;function PJ({onSelectionChange:e}){const t=JY(TJ);return e||t?o.createElement(MJ,{onSelectionChange:e}):null}const RJ=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function AJ(e,t){(0,o.useEffect)(()=>{void 0!==e&&t(e)},[e])}function $J(e,t,n){(0,o.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}const NJ=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:m,minZoom:g,maxZoom:v,nodeExtent:b,onNodesChange:y,onEdgesChange:x,elementsSelectable:O,connectionMode:w,snapGrid:S,snapToGrid:E,translateExtent:_,connectOnClick:C,defaultEdgeOptions:k,fitView:M,fitViewOptions:T,onNodesDelete:P,onEdgesDelete:R,onNodeDrag:A,onNodeDragStart:$,onNodeDragStop:N,onSelectionDrag:I,onSelectionDragStart:D,onSelectionDragStop:L,noPanClassName:z,nodeOrigin:j,rfId:B,autoPanOnConnect:F,autoPanOnNodeDrag:U,onError:H,connectionRadius:Q,isValidConnection:V,nodeDragThreshold:W})=>{const{setNodes:G,setEdges:X,setDefaultNodesAndEdges:q,setMinZoom:Z,setMaxZoom:Y,setTranslateExtent:K,setNodeExtent:J,reset:ee}=JY(RJ,dX),te=eK();return(0,o.useEffect)(()=>{const e=r?.map(e=>({...e,...k}));return q(n,e),()=>{ee()}},[]),$J("defaultEdgeOptions",k,te.setState),$J("connectionMode",w,te.setState),$J("onConnect",i,te.setState),$J("onConnectStart",a,te.setState),$J("onConnectEnd",s,te.setState),$J("onClickConnectStart",l,te.setState),$J("onClickConnectEnd",c,te.setState),$J("nodesDraggable",u,te.setState),$J("nodesConnectable",d,te.setState),$J("nodesFocusable",h,te.setState),$J("edgesFocusable",f,te.setState),$J("edgesUpdatable",p,te.setState),$J("elementsSelectable",O,te.setState),$J("elevateNodesOnSelect",m,te.setState),$J("snapToGrid",E,te.setState),$J("snapGrid",S,te.setState),$J("onNodesChange",y,te.setState),$J("onEdgesChange",x,te.setState),$J("connectOnClick",C,te.setState),$J("fitViewOnInit",M,te.setState),$J("fitViewOnInitOptions",T,te.setState),$J("onNodesDelete",P,te.setState),$J("onEdgesDelete",R,te.setState),$J("onNodeDrag",A,te.setState),$J("onNodeDragStart",$,te.setState),$J("onNodeDragStop",N,te.setState),$J("onSelectionDrag",I,te.setState),$J("onSelectionDragStart",D,te.setState),$J("onSelectionDragStop",L,te.setState),$J("noPanClassName",z,te.setState),$J("nodeOrigin",j,te.setState),$J("rfId",B,te.setState),$J("autoPanOnConnect",F,te.setState),$J("autoPanOnNodeDrag",U,te.setState),$J("onError",H,te.setState),$J("connectionRadius",Q,te.setState),$J("isValidConnection",V,te.setState),$J("nodeDragThreshold",W,te.setState),AJ(e,G),AJ(t,X),AJ(g,Z),AJ(v,Y),AJ(_,K),AJ(b,J),null},IJ={display:"none"},DJ={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},LJ="react-flow__node-desc",zJ="react-flow__edge-desc",jJ=e=>e.ariaLiveMessage;function BJ({rfId:e}){const t=JY(jJ);return o.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:DJ},t)}function FJ({rfId:e,disableKeyboardA11y:t}){return o.createElement(o.Fragment,null,o.createElement("div",{id:`${LJ}-${e}`,style:IJ},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:`${zJ}-${e}`,style:IJ},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&o.createElement(BJ,{rfId:e}))}var UJ=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=(0,o.useState)(!1),i=(0,o.useRef)(!1),a=(0,o.useRef)(new Set([])),[s,l]=(0,o.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,o.useEffect)(()=>{const n="undefined"!=typeof document?document:null,o=t?.target||n;if(null!==e){const e=e=>{if(i.current=e.ctrlKey||e.metaKey||e.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&xK(e))return!1;const n=QJ(e.code,l);a.current.add(e[n]),HJ(s,a.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&xK(e))return!1;const n=QJ(e.code,l);HJ(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},c=()=>{a.current.clear(),r(!1)};return o?.addEventListener("keydown",e),o?.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{o?.removeEventListener("keydown",e),o?.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,r]),n};function HJ(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function QJ(e,t){return t.includes(e)?"code":"key"}function VJ(e,t,n,r){const o=e.parentNode||e.parentId;if(!o)return n;const i=t.get(o),a=eJ(i,r);return VJ(i,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(i[vK]?.z??0)>(n.z??0)?i[vK]?.z??0:n.z??0},r)}function WJ(e,t,n){e.forEach(r=>{const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n?.[r.id]){const{x:o,y:i,z:a}=VJ(r,e,{...r.position,z:r[vK]?.z??0},t);r.positionAbsolute={x:o,y:i},r[vK].z=a,n?.[r.id]&&(r[vK].isParent=!0)}})}function GJ(e,t,n,r){const o=new Map,i={},a=r?1e3:0;return e.forEach(e=>{const n=(gK(e.zIndex)?e.zIndex:0)+(e.selected?a:0),r=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(i[l]=!0);const c=r?.type&&r?.type!==e.type;Object.defineProperty(s,vK,{enumerable:!1,value:{handleBounds:c?void 0:r?.[vK]?.handleBounds,z:n}}),o.set(e.id,s)}),WJ(o,n,i),o}function XJ(e,t={}){const{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(s&&l&&(h||!t.initial)){const e=n().filter(e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some(t=>t.id===e.id):n}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){const n=tJ(e,d),{x:c,y:u,zoom:h}=oJ(n,r,o,t.minZoom??i,t.maxZoom??a,t.padding??.1),f=NY.translate(c,u).scale(h);return"number"==typeof t.duration&&t.duration>0?s.transform(iJ(l,t.duration),f):s.transform(l,f),!0}}return!1}function qJ(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[vK]:n[vK],selected:e.selected})}),new Map(t)}function ZJ(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function YJ({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:i,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=n();e?.length&&(l&&r({nodeInternals:qJ(e,o)}),a?.(e)),t?.length&&(c&&r({edges:ZJ(t,i)}),s?.(t))}const KJ=()=>{},JJ={zoomIn:KJ,zoomOut:KJ,zoomTo:KJ,getZoom:()=>1,setViewport:KJ,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:KJ,fitBounds:KJ,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},e0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function t0(){const e=(()=>{const e=eK(),{d3Zoom:t,d3Selection:n}=JY(e0,dX),r=(0,o.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(iJ(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(iJ(n,e?.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(iJ(n,r?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,o)=>{const[i,a,s]=e.getState().transform,l=NY.translate(r.x??i,r.y??a).scale(r.zoom??s);t.transform(iJ(n,o?.duration),l)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>XJ(e.getState,t),setCenter:(r,o,i)=>{const{width:a,height:s,maxZoom:l}=e.getState(),c=void 0!==i?.zoom?i.zoom:l,u=a/2-r*c,d=s/2-o*c,h=NY.translate(u,d).scale(c);t.transform(iJ(n,i?.duration),h)},fitBounds:(r,o)=>{const{width:i,height:a,minZoom:s,maxZoom:l}=e.getState(),{x:c,y:u,zoom:d}=oJ(r,i,a,s,l,o?.padding??.1),h=NY.translate(c,u).scale(d);t.transform(iJ(n,o?.duration),h)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),KK(t,n,r,o)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:s}=i.getBoundingClientRect(),l={x:t.x-a,y:t.y-s};return KK(l,n,r,o)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=JK(t,n);return{x:a.x+o,y:a.y+i}},viewportInitialized:!0}:JJ,[t,n]);return r})(),t=eK(),n=(0,o.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,o.useCallback)(e=>t.getState().nodeInternals.get(e),[]),i=(0,o.useCallback)(()=>{const{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),a=(0,o.useCallback)(e=>{const{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),s=(0,o.useCallback)(e=>{const{getNodes:n,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=t.getState(),a=n(),s="function"==typeof e?e(a):e;if(o)r(s);else if(i){const e=0===s.length?a.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"}));i(e)}},[]),l=(0,o.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=t.getState(),a="function"==typeof e?e(n):e;o?r(a):i&&i(0===a.length?n.map(e=>({type:"remove",id:e.id})):a.map(e=>({item:e,type:"reset"})))},[]),c=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:a}=t.getState();if(i)o([...r(),...n]);else if(a){const e=n.map(e=>({item:e,type:"add"}));a(e)}},[]),u=(0,o.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:a}=t.getState();i?o([...r,...n]):a&&a(n.map(e=>({item:e,type:"add"})))},[]),d=(0,o.useCallback)(()=>{const{getNodes:e,edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},[]),h=(0,o.useCallback)(({nodes:e,edges:n})=>{const{nodeInternals:r,getNodes:o,edges:i,hasDefaultNodes:a,hasDefaultEdges:s,onNodesDelete:l,onEdgesDelete:c,onNodesChange:u,onEdgesChange:d}=t.getState(),h=(e||[]).map(e=>e.id),f=(n||[]).map(e=>e.id),p=o().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!=typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),m=i.filter(e=>"boolean"!=typeof e.deletable||e.deletable),g=m.filter(e=>f.includes(e.id));if(p||g){const e=rJ(p,m),n=[...g,...e],o=n.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((s||a)&&(s&&t.setState({edges:i.filter(e=>!o.includes(e.id))}),a&&(p.forEach(e=>{r.delete(e.id)}),t.setState({nodeInternals:new Map(r)}))),o.length>0&&(c?.(n),d&&d(o.map(e=>({id:e,type:"remove"})))),p.length>0&&(l?.(p),u)){const e=p.map(e=>({id:e.id,type:"remove"}));u(e)}}},[]),f=(0,o.useCallback)(e=>{const n=gK((r=e).width)&&gK(r.height)&&gK(r.x)&&gK(r.y);var r;const o=n?null:t.getState().nodeInternals.get(e.id);return n||o?[n?e:pK(o),o,n]:[null,null,n]},[]),p=(0,o.useCallback)((e,n=!0,r)=>{const[o,i,a]=f(e);return o?(r||t.getState().getNodes()).filter(e=>{if(!(a||e.id!==i.id&&e.positionAbsolute))return!1;const t=pK(e),r=mK(t,o);return n&&r>0||r>=o.width*o.height}):[]},[]),m=(0,o.useCallback)((e,t,n=!0)=>{const[r]=f(e);if(!r)return!1;const o=mK(r,t);return n&&o>0||o>=r.width*r.height},[]);return(0,o.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,i,a,s,l,c,u,d,h,p,m])}const n0={actInsideInputWithModifier:!1},r0={position:"absolute",width:"100%",height:"100%",top:0,left:0},o0=e=>({x:e.x,y:e.y,zoom:e.k}),i0=(e,t)=>e.target.closest(`.${t}`),a0=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),s0=e=>{const t=e.ctrlKey&&SK()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},l0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),c0=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=TK.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:m,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:b=!0,children:y,noWheelClassName:x,noPanClassName:O})=>{const w=(0,o.useRef)(),S=eK(),E=(0,o.useRef)(!1),_=(0,o.useRef)(!1),C=(0,o.useRef)(null),k=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:T,d3ZoomHandler:P,userSelectionActive:R}=JY(l0,dX),A=UJ(v),$=(0,o.useRef)(0),N=(0,o.useRef)(!1),I=(0,o.useRef)();return function(e){const t=eK();(0,o.useEffect)(()=>{let n;const r=()=>{if(!e.current)return;const n=iK(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004","The React Flow parent container needs a width and a height to render the graph."),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(C),(0,o.useEffect)(()=>{if(C.current){const e=C.current.getBoundingClientRect(),t=HY().scaleExtent([m,g]).translateExtent(p),n=Pq(C.current).call(t),r=NY.translate(f.x,f.y).scale(aK(f.zoom,m,g)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,p);t.transform(n,i),t.wheelDelta(s0),S.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:C.current.closest(".react-flow")})}},[]),(0,o.useEffect)(()=>{T&&M&&(!s||A||R?void 0!==P&&T.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||i0(e,x))return null;e.preventDefault(),P.call(this,e,t)},{passive:!1}):T.on("wheel.zoom",r=>{if(i0(r,x))return!1;r.preventDefault(),r.stopImmediatePropagation();const o=T.property("__zoom").k||1;if(r.ctrlKey&&a){const e=jq(r),t=s0(r),n=o*Math.pow(2,t);return void M.scaleTo(T,n,e,r)}const i=1===r.deltaMode?20:1;let s=c===TK.Vertical?0:r.deltaX*i,u=c===TK.Horizontal?0:r.deltaY*i;!SK()&&r.shiftKey&&c!==TK.Vertical&&(s=r.deltaY*i,u=0),M.translateBy(T,-s/o*l,-u/o*l,{internal:!0});const d=o0(T.property("__zoom")),{onViewportChangeStart:h,onViewportChange:f,onViewportChangeEnd:p}=S.getState();clearTimeout(I.current),N.current||(N.current=!0,t?.(r,d),h?.(d)),N.current&&(e?.(r,d),f?.(d),I.current=setTimeout(()=>{n?.(r,d),p?.(d),N.current=!1},150))},{passive:!1}))},[R,s,c,T,M,P,A,a,b,x,t,e,n]),(0,o.useEffect)(()=>{M&&M.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;$.current=e.sourceEvent?.button;const{onViewportChangeStart:n}=S.getState(),r=o0(e.transform);E.current=!0,k.current=r,"mousedown"===e.sourceEvent?.type&&S.setState({paneDragging:!0}),n?.(r),t?.(e.sourceEvent,r)})},[M,t]),(0,o.useEffect)(()=>{M&&(R&&!E.current?M.on("zoom",null):R||M.on("zoom",t=>{const{onViewportChange:n}=S.getState();if(S.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),_.current=!(!r||!a0(h,$.current??0)),(e||n)&&!t.sourceEvent?.internal){const r=o0(t.transform);n?.(r),e?.(t.sourceEvent,r)}}))},[R,M,e,h,r]),(0,o.useEffect)(()=>{M&&M.on("end",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=S.getState();if(E.current=!1,S.setState({paneDragging:!1}),r&&a0(h,$.current??0)&&!_.current&&r(e.sourceEvent),_.current=!1,(n||t)&&(o=k.current,i=e.transform,o.x!==i.x||o.y!==i.y||o.zoom!==i.k)){const r=o0(e.transform);k.current=r,clearTimeout(w.current),w.current=setTimeout(()=>{t?.(r),n?.(e.sourceEvent,r)},s?150:0)}var o,i})},[M,s,h,n,r]),(0,o.useEffect)(()=>{M&&M.filter(e=>{const t=A||i,n=a&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(i0(e,"react-flow__node")||i0(e,"react-flow__edge")))return!0;if(!(h||t||s||u||a))return!1;if(R)return!1;if(!u&&"dblclick"===e.type)return!1;if(i0(e,x)&&"wheel"===e.type)return!1;if(i0(e,O)&&("wheel"!==e.type||s&&"wheel"===e.type&&!A))return!1;if(!a&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!s&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[R,M,i,a,s,u,h,d,A]),o.createElement("div",{className:"react-flow__renderer",ref:C,style:r0},y)},u0=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function d0(){const{userSelectionActive:e,userSelectionRect:t}=JY(u0,dX);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function h0(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(r.style={...r.style}||{},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function f0(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const o={...n};for(const e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":void 0!==e.position&&(o.position=e.position),void 0!==e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(o.dragging=e.dragging),o.expandParent&&h0(t,o);break;case"dimensions":void 0!==e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),void 0!==e.updateStyle&&(o.style={...o.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&h0(t,o);break;case"remove":return t}return t.push(o),t},n)}function p0(e,t){return f0(e,t)}function m0(e,t){return f0(e,t)}const g0=(e,t)=>({id:e,type:"select",selected:t});function v0(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(g0(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(g0(n.id,!1))),e},[])}const b0=(e,t)=>n=>{n.target===t.current&&e?.(n)},y0=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),x0=(0,o.memo)(({isSelecting:e,selectionMode:t=PK.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=(0,o.useRef)(null),p=eK(),m=(0,o.useRef)(0),g=(0,o.useRef)(0),v=(0,o.useRef)(),{userSelectionActive:b,elementsSelectable:y,dragging:x}=JY(y0,dX),O=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,g.current=0},w=e=>{a?.(e),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},S=l?e=>l(e):void 0,E=y&&(e||b);return o.createElement("div",{className:rX(["react-flow__pane",{dragging:x,selection:e}]),onClick:E?void 0:b0(w,f),onContextMenu:b0(e=>{Array.isArray(n)&&n?.includes(2)?e.preventDefault():s?.(e)},f),onWheel:b0(S,f),onMouseEnter:E?void 0:c,onMouseDown:E?t=>{const{resetSelectedElements:n,domNode:o}=p.getState();if(v.current=o?.getBoundingClientRect(),!y||!e||0!==t.button||t.target!==f.current||!v.current)return;const{x:i,y:a}=wK(t,v.current);n(),p.setState({userSelectionRect:{width:0,height:0,startX:i,startY:a,x:i,y:a}}),r?.(t)}:void 0,onMouseMove:E?n=>{const{userSelectionRect:r,nodeInternals:o,edges:i,transform:a,onNodesChange:s,onEdgesChange:l,nodeOrigin:c,getNodes:u}=p.getState();if(!e||!v.current||!r)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const d=wK(n,v.current),h=r.startX??0,f=r.startY??0,b={...r,x:d.x<h?d.x:h,y:d.y<f?d.y:f,width:Math.abs(d.x-h),height:Math.abs(d.y-f)},y=u(),x=nJ(o,b,a,t===PK.Partial,!0,c),O=rJ(x,i).map(e=>e.id),w=x.map(e=>e.id);if(m.current!==w.length){m.current=w.length;const e=v0(y,w);e.length&&s?.(e)}if(g.current!==O.length){g.current=O.length;const e=v0(i,O);e.length&&l?.(e)}p.setState({userSelectionRect:b})}:u,onMouseUp:E?e=>{if(0!==e.button)return;const{userSelectionRect:t}=p.getState();!b&&t&&e.target===f.current&&w?.(e),p.setState({nodesSelectionActive:m.current>0}),O(),i?.(e)}:void 0,onMouseLeave:E?e=>{b&&(p.setState({nodesSelectionActive:m.current>0}),i?.(e)),O()}:d,ref:f,style:r0},h,o.createElement(d0,null))});function O0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||O0(r,t))}function w0(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function S0(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!O0(n,e))&&(n.draggable||t&&void 0===n.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}))}function E0(e,t,n,r,o=[0,0],i){const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=a;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:i}=eJ(t,o).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+i],[e.extent[1][0]+r,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:i}=eJ(t,o).positionAbsolute;s=t&&gK(r)&&gK(i)&&gK(t.width)&&gK(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:s}else i?.("005","Only child nodes can use a parent extent."),s=a;let c={x:0,y:0};if(l){const e=n.get(l);c=eJ(e,o).positionAbsolute}const u=s&&"parent"!==s?sK(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function _0({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[e?r.find(t=>t.id===e):r[0],r]}x0.displayName="Pane";const C0=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const i=Array.from(o),a=t.getBoundingClientRect(),s=a.width*r[0],l=a.height*r[1];return i.map(e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-l)/n,...iK(e)}})};function k0(e,t,n){return void 0===n?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function M0({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:s,onError:l}=t.getState(),c=s.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])):l?.("012",(e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`)(e))}function T0(e){return(t,n,r)=>e?.(t,r)}function P0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:s}){const l=eK(),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)([]),h=(0,o.useRef)({x:null,y:null}),f=(0,o.useRef)(0),p=(0,o.useRef)(null),m=(0,o.useRef)({x:0,y:0}),g=(0,o.useRef)(null),v=(0,o.useRef)(!1),b=(0,o.useRef)(!1),y=(0,o.useRef)(!1),x=function(){const e=eK();return(0,o.useCallback)(({sourceEvent:t})=>{const{transform:n,snapGrid:r,snapToGrid:o}=e.getState(),i=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,s={x:(i-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:o?r[0]*Math.round(s.x/r[0]):s.x,ySnapped:o?r[1]*Math.round(s.y/r[1]):s.y,...s}},[])}();return(0,o.useEffect)(()=>{if(e?.current){const o=Pq(e.current),c=({x:e,y:t})=>{const{nodeInternals:n,onNodeDrag:r,onSelectionDrag:o,updateNodePositions:a,nodeExtent:s,snapGrid:c,snapToGrid:f,nodeOrigin:p,onError:m}=l.getState();h.current={x:e,y:t};let v=!1,b={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&s){const e=tJ(d.current,p);b=hK(e)}if(d.current=d.current.map(r=>{const o={x:e-r.distance.x,y:t-r.distance.y};f&&(o.x=c[0]*Math.round(o.x/c[0]),o.y=c[1]*Math.round(o.y/c[1]));const i=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];d.current.length>1&&s&&!r.extent&&(i[0][0]=r.positionAbsolute.x-b.x+s[0][0],i[1][0]=r.positionAbsolute.x+(r.width??0)-b.x2+s[1][0],i[0][1]=r.positionAbsolute.y-b.y+s[0][1],i[1][1]=r.positionAbsolute.y+(r.height??0)-b.y2+s[1][1]);const a=E0(r,o,n,i,p,m);return v=v||r.position.x!==a.position.x||r.position.y!==a.position.y,r.position=a.position,r.positionAbsolute=a.positionAbsolute,r}),!v)return;a(d.current,!0,!0),u(!0);const y=i?r:T0(o);if(y&&g.current){const[e,t]=_0({nodeId:i,dragItems:d.current,nodeInternals:n});y(g.current,e,t)}},O=()=>{if(!p.current)return;const[e,t]=cK(m.current,p.current);if(0!==e||0!==t){const{transform:n,panBy:r}=l.getState();h.current.x=(h.current.x??0)-e/n[2],h.current.y=(h.current.y??0)-t/n[2],r({x:e,y:t})&&c(h.current)}f.current=requestAnimationFrame(O)},w=t=>{const{nodeInternals:n,multiSelectionActive:r,nodesDraggable:o,unselectNodesAndEdges:c,onNodeDragStart:u,onSelectionDragStart:f}=l.getState();b.current=!0;const p=i?u:T0(f);s&&a||r||!i||n.get(i)?.selected||c(),i&&a&&s&&M0({id:i,store:l,nodeRef:e});const m=x(t);if(h.current=m,d.current=S0(n,o,m,i),p&&d.current){const[e,r]=_0({nodeId:i,dragItems:d.current,nodeInternals:n});p(t.sourceEvent,e,r)}};if(!t){const t=function(){var e,t,n,r,o=WY,i=GY,a=XY,s=qY,l={},c=vX("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",v,Rq).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&o.call(this,a,s)){var l=y(this,i.call(this,a,s),a,s,"mouse");l&&(Pq(a.view).on("mousemove.drag",p,Aq).on("mouseup.drag",m,Aq),Iq(a.view),$q(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function p(r){if(Nq(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}l.mouse("drag",r)}function m(e){Pq(e.view).on("mousemove.drag mouseup.drag",null),Dq(e.view,n),Nq(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=y(this,s,e,t,a[n].identifier,a[n]))&&($q(e),r("start",e,a[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(Nq(e),n("drag",e,r[t]))}function b(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=l[o[t].identifier])&&($q(e),n("end",e,o[t]))}function y(e,t,n,r,o,i){var s,d,f,p=c.copy(),m=jq(i||n,t);if(null!=(f=a.call(e,new VY("beforestart",{sourceEvent:n,target:h,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-m[0]||0,d=f.y-m[1]||0,function n(i,a,c){var g,v=m;switch(i){case"start":l[o]=n,g=u++;break;case"end":delete l[o],--u;case"drag":m=jq(c||a,t),g=u}p.call(i,e,new VY(i,{sourceEvent:a,subject:f,target:h,identifier:o,active:g,x:m[0]+s,y:m[1]+d,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(o="function"==typeof e?e:QY(!!e),h):o},h.container=function(e){return arguments.length?(i="function"==typeof e?e:QY(e),h):i},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:QY(e),h):a},h.touchable=function(e){return arguments.length?(s="function"==typeof e?e:QY(!!e),h):s},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&w(e),y.current=!1;const r=x(e);h.current=r,p.current=t?.getBoundingClientRect()||null,m.current=wK(e.sourceEvent,p.current)}).on("drag",e=>{const t=x(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&b.current&&n&&(v.current=!0,O()),!b.current){const n=t.xSnapped-(h?.current?.x??0),o=t.ySnapped-(h?.current?.y??0);Math.sqrt(n*n+o*o)>r&&w(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&d.current&&b.current&&(g.current=e.sourceEvent,m.current=wK(e.sourceEvent,p.current),c(t))}}).on("end",e=>{if(b.current&&!y.current&&(u(!1),v.current=!1,b.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=l.getState(),a=i?r:T0(o);if(t(d.current,!1,!1),a){const[t,r]=_0({nodeId:i,dragItems:d.current,nodeInternals:n});a(e.sourceEvent,t,r)}}}).filter(t=>{const o=t.target;return!t.button&&(!n||!w0(o,`.${n}`,e))&&(!r||w0(o,r,e))});return o.call(t),()=>{o.on(".drag",null)}}o.on(".drag",null)}},[e,t,n,r,a,l,i,s,x]),c}function R0(){const e=eK(),t=(0,o.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:c}=e.getState(),u=i().filter(e=>e.selected&&(e.draggable||c&&void 0===e.draggable)),d=a?s[0]:5,h=a?s[1]:5,f=t.isShiftPressed?4:1,p=t.x*d*f,m=t.y*h*f,g=u.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+m};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:o,position:i}=E0(e,t,n,r,void 0,l);e.position=i,e.positionAbsolute=o}return e});o(g,!0,!1)},[]);return t}const A0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var $0=e=>{const t=({id:t,type:n,data:r,xPos:i,yPos:a,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onContextMenu:p,onDoubleClick:m,style:g,className:v,isDraggable:b,isSelectable:y,isConnectable:x,isFocusable:O,selectNodesOnDrag:w,sourcePosition:S,targetPosition:E,hidden:_,resizeObserver:C,dragHandle:k,zIndex:M,isParent:T,noDragClassName:P,noPanClassName:R,initialized:A,disableKeyboardA11y:$,ariaLabel:N,rfId:I,hasHandleBounds:D})=>{const L=eK(),z=(0,o.useRef)(null),j=(0,o.useRef)(null),B=(0,o.useRef)(S),F=(0,o.useRef)(E),U=(0,o.useRef)(n),H=y||b||u||d||h||f,Q=R0(),V=k0(t,L.getState,d),W=k0(t,L.getState,h),G=k0(t,L.getState,f),X=k0(t,L.getState,p),q=k0(t,L.getState,m);(0,o.useEffect)(()=>()=>{j.current&&(C?.unobserve(j.current),j.current=null)},[]),(0,o.useEffect)(()=>{if(z.current&&!_){const e=z.current;A&&D&&j.current===e||(j.current&&C?.unobserve(j.current),C?.observe(e),j.current=e)}},[_,A,D]),(0,o.useEffect)(()=>{const e=U.current!==n,r=B.current!==S,o=F.current!==E;z.current&&(e||r||o)&&(e&&(U.current=n),r&&(B.current=S),o&&(F.current=E),L.getState().updateNodeDimensions([{id:t,nodeElement:z.current,forceUpdate:!0}]))},[t,n,S,E]);const Z=P0({nodeRef:z,disabled:_||!b,noDragClassName:P,handleSelector:k,nodeId:t,isSelectable:y,selectNodesOnDrag:w});return _?null:o.createElement("div",{className:rX(["react-flow__node",`react-flow__node-${n}`,{[R]:b},v,{selected:c,selectable:y,parent:T,dragging:Z}]),ref:z,style:{zIndex:M,transform:`translate(${s}px,${l}px)`,pointerEvents:H?"all":"none",visibility:A?"visible":"hidden",...g},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:V,onMouseMove:W,onMouseLeave:G,onContextMenu:X,onClick:e=>{const{nodeDragThreshold:n}=L.getState();if(y&&(!w||!b||n>0)&&M0({id:t,store:L,nodeRef:z}),u){const n=L.getState().nodeInternals.get(t);n&&u(e,{...n})}},onDoubleClick:q,onKeyDown:O?e=>{if(!xK(e)&&!$)if(bK.includes(e.key)&&y){const n="Escape"===e.key;M0({id:t,store:L,unselect:n,nodeRef:z})}else b&&c&&Object.prototype.hasOwnProperty.call(A0,e.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),Q({x:A0[e.key].x,y:A0[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":$?void 0:`${LJ}-${I}`,"aria-label":N},o.createElement(XK,{value:t},o.createElement(e,{id:t,data:r,type:n,xPos:i,yPos:a,selected:c,isConnectable:x,sourcePosition:S,targetPosition:E,dragging:Z,dragHandle:k,zIndex:M})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const N0=e=>{const t=e.getNodes().filter(e=>e.selected);return{...tJ(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var I0=(0,o.memo)(function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=eK(),{width:i,height:a,x:s,y:l,transformString:c,userSelectionActive:u}=JY(N0,dX),d=R0(),h=(0,o.useRef)(null);if((0,o.useEffect)(()=>{n||h.current?.focus({preventScroll:!0})},[n]),P0({nodeRef:h}),u||!i||!a)return null;const f=e?t=>{const n=r.getState().getNodes().filter(e=>e.selected);e(t,n)}:void 0;return o.createElement("div",{className:rX(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},o.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(A0,e.key)&&d({x:A0[e.key].x,y:A0[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:a,top:l,left:s}}))});const D0=e=>e.nodesSelectionActive,L0=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:b,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:O,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:k,defaultViewport:M,translateExtent:T,minZoom:P,maxZoom:R,preventScrolling:A,onSelectionContextMenu:$,noWheelClassName:N,noPanClassName:I,disableKeyboardA11y:D})=>{const L=JY(D0),z=UJ(h),j=UJ(b),B=j||k,F=j||S,U=z||f&&!0!==B;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=eK(),{deleteElements:r}=t0(),i=UJ(e,n0),a=UJ(t);(0,o.useEffect)(()=>{if(i){const{edges:e,getNodes:t}=n.getState(),o=t().filter(e=>e.selected),i=e.filter(e=>e.selected);r({nodes:o,edges:i}),n.setState({nodesSelectionActive:!1})}},[i]),(0,o.useEffect)(()=>{n.setState({multiSelectionActive:a})},[a])})({deleteKeyCode:l,multiSelectionKeyCode:v}),o.createElement(c0,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:O,zoomOnPinch:w,panOnScroll:F,panOnScrollSpeed:E,panOnScrollMode:_,zoomOnDoubleClick:C,panOnDrag:!z&&B,defaultViewport:M,translateExtent:T,minZoom:P,maxZoom:R,zoomActivationKeyCode:y,preventScrolling:A,noWheelClassName:N,noPanClassName:I},o.createElement(x0,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:B,isSelecting:!!U,selectionMode:p},e,L&&o.createElement(I0,{onSelectionContextMenu:$,noPanClassName:I,disableKeyboardA11y:D})))};L0.displayName="FlowRenderer";var z0=(0,o.memo)(L0);function j0(e){return{input:$0(e.input||OJ),default:$0(e.default||yJ),output:$0(e.output||SJ),group:$0(e.group||EJ),...Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=$0(e[n]||yJ),t),{})}}const B0=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),F0=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=JY(B0,dX),l=(c=e.onlyRenderVisibleElements,JY((0,o.useCallback)(e=>c?nJ(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[c])));var c;const u=(0,o.useRef)(),d=(0,o.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));a(t)});return u.current=e,e},[]);return(0,o.useEffect)(()=>()=>{u?.current?.disconnect()},[]),o.createElement("div",{className:"react-flow__nodes",style:r0},l.map(a=>{let l=a.type||"default";e.nodeTypes[l]||(s?.("003",(e=>`Node type "${e}" not found. Using fallback type "default".`)(l)),l="default");const c=e.nodeTypes[l]||e.nodeTypes.default,u=!!(a.draggable||t&&void 0===a.draggable),h=!!(a.selectable||i&&void 0===a.selectable),f=!!(a.connectable||n&&void 0===a.connectable),p=!!(a.focusable||r&&void 0===a.focusable),m=e.nodeExtent?sK(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,g=m?.x??0,v=m?.y??0,b=(({x:e,y:t,width:n,height:r,origin:o})=>n&&r?o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]}:{x:e,y:t})({x:g,y:v,width:a.width??0,height:a.height??0,origin:e.nodeOrigin});return o.createElement(c,{key:a.id,id:a.id,className:a.className,style:a.style,type:l,data:a.data,sourcePosition:a.sourcePosition||$K.Bottom,targetPosition:a.targetPosition||$K.Top,hidden:a.hidden,xPos:g,yPos:v,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:u,isSelectable:h,isConnectable:f,isFocusable:p,resizeObserver:d,dragHandle:a.dragHandle,zIndex:a[vK]?.z??0,isParent:!!a[vK]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!a[vK]?.handleBounds})}))};F0.displayName="NodeRenderer";var U0=(0,o.memo)(F0);const H0=(e,t,n)=>n===$K.Left?e-t:n===$K.Right?e+t:e,Q0=(e,t,n)=>n===$K.Top?e-t:n===$K.Bottom?e+t:e,V0="react-flow__edgeupdater",W0=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:l})=>o.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:rX([V0,`${V0}-${l}`]),cx:H0(t,r,e),cy:Q0(n,r,e),r,stroke:"transparent",fill:"transparent"}),G0=()=>!0;var X0=e=>{const t=({id:t,className:n,type:r,data:i,onClick:a,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,source:v,target:b,sourceX:y,sourceY:x,targetX:O,targetY:w,sourcePosition:S,targetPosition:E,elementsSelectable:_,hidden:C,sourceHandleId:k,targetHandleId:M,onContextMenu:T,onMouseEnter:P,onMouseMove:R,onMouseLeave:A,reconnectRadius:$,onReconnect:N,onReconnectStart:I,onReconnectEnd:D,markerEnd:L,markerStart:z,rfId:j,ariaLabel:B,isFocusable:F,isReconnectable:U,pathOptions:H,interactionWidth:Q,disableKeyboardA11y:V})=>{const W=(0,o.useRef)(null),[G,X]=(0,o.useState)(!1),[q,Z]=(0,o.useState)(!1),Y=eK(),K=(0,o.useMemo)(()=>`url('#${YK(z,j)}')`,[z,j]),J=(0,o.useMemo)(()=>`url('#${YK(L,j)}')`,[L,j]);if(C)return null;const ee=_K(t,Y.getState,s),te=_K(t,Y.getState,T),ne=_K(t,Y.getState,P),re=_K(t,Y.getState,R),oe=_K(t,Y.getState,A),ie=(e,n)=>{if(0!==e.button)return;const{edges:r,isValidConnection:o}=Y.getState(),i=n?b:v,a=(n?M:k)||null,s=n?"target":"source",l=o||G0,c=n,u=r.find(e=>e.id===t);Z(!0),I?.(e,u,s),fJ({event:e,handleId:a,nodeId:i,onConnect:e=>N?.(u,e),isTarget:c,getState:Y.getState,setState:Y.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{Z(!1),D?.(e,u,s)}})},ae=()=>X(!0),se=()=>X(!1),le=!_&&!a;return o.createElement("g",{className:rX(["react-flow__edge",`react-flow__edge-${r}`,n,{selected:l,animated:c,inactive:le,updating:G}]),onClick:e=>{const{edges:n,addSelectedEdges:r,unselectNodesAndEdges:o,multiSelectionActive:i}=Y.getState(),s=n.find(e=>e.id===t);s&&(_&&(Y.setState({nodesSelectionActive:!1}),s.selected&&i?(o({nodes:[],edges:[s]}),W.current?.blur()):r([t])),a&&a(e,s))},onDoubleClick:ee,onContextMenu:te,onMouseEnter:ne,onMouseMove:re,onMouseLeave:oe,onKeyDown:F?e=>{if(!V&&bK.includes(e.key)&&_){const{unselectNodesAndEdges:n,addSelectedEdges:r,edges:o}=Y.getState();"Escape"===e.key?(W.current?.blur(),n({edges:[o.find(e=>e.id===t)]})):r([t])}}:void 0,tabIndex:F?0:void 0,role:F?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===B?void 0:B||`Edge from ${v} to ${b}`,"aria-describedby":F?`${zJ}-${j}`:void 0,ref:W},!q&&o.createElement(e,{id:t,source:v,target:b,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,data:i,style:g,sourceX:y,sourceY:x,targetX:O,targetY:w,sourcePosition:S,targetPosition:E,sourceHandleId:k,targetHandleId:M,markerStart:K,markerEnd:J,pathOptions:H,interactionWidth:Q}),U&&o.createElement(o.Fragment,null,("source"===U||!0===U)&&o.createElement(W0,{position:S,centerX:y,centerY:x,radius:$,onMouseDown:e=>ie(e,!0),onMouseEnter:ae,onMouseOut:se,type:"source"}),("target"===U||!0===U)&&o.createElement(W0,{position:E,centerX:O,centerY:w,radius:$,onMouseDown:e=>ie(e,!1),onMouseEnter:ae,onMouseOut:se,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function q0(e){return{default:X0(e.default||WK),straight:X0(e.bezier||UK),step:X0(e.step||FK),smoothstep:X0(e.step||BK),simplebezier:X0(e.simplebezier||DK),...Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=X0(e[n]||WK),t),{})}}function Z0(e,t,n=null){const r=(n?.x||0)+t.x,o=(n?.y||0)+t.y,i=n?.width||t.width,a=n?.height||t.height;switch(e){case $K.Top:return{x:r+i/2,y:o};case $K.Right:return{x:r+i,y:o+a/2};case $K.Bottom:return{x:r+i/2,y:o+a};case $K.Left:return{x:r,y:o+a/2}}}function Y0(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function K0(e){const t=e?.[vK]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const J0=[{level:0,isMaxLevel:!0,edges:[]}];const e1={[AK.Arrow]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[AK.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},t1=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const c=function(e){const t=eK();return(0,o.useMemo)(()=>Object.prototype.hasOwnProperty.call(e1,e)?e1[e]:(t.getState().onError?.("009",(e=>`Marker type "${e}" doesn't exist.`)(e)),null),[e])}(t);return c?o.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},o.createElement(c,{color:n,strokeWidth:s})):null},n1=({defaultColor:e,rfId:t})=>{const n=JY((0,o.useCallback)((({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((n,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o&&"object"==typeof o){const i=YK(o,t);r.includes(i)||(n.push({id:i,color:o.color||e,...o}),r.push(i))}}),n),[]).sort((e,t)=>e.id.localeCompare(t.id))})({defaultColor:e,rfId:t}),[e,t]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return o.createElement("defs",null,n.map(e=>o.createElement(t1,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};n1.displayName="MarkerDefinitions";var r1=(0,o.memo)(n1);const o1=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),i1=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,children:v,disableKeyboardA11y:b})=>{const{edgesFocusable:y,edgesUpdatable:x,elementsSelectable:O,width:w,height:S,connectionMode:E,nodeInternals:_,onError:C}=JY(o1,dX),k=function(e,t,n){const r=JY((0,o.useCallback)(n=>e?n.edges.filter(e=>{const r=t.get(e.source),o=t.get(e.target);return r?.width&&r?.height&&o?.width&&o?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:a,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=hK({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),h=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*h)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return function(e,t,n=!1){let r=-1;const o=e.reduce((e,o)=>{const i=gK(o.zIndex);let a=i?o.zIndex:0;if(n){const e=t.get(o.target),n=t.get(o.source),r=o.selected||e?.selected||n?.selected,s=Math.max(n?.[vK]?.z||0,e?.[vK]?.z||0,1e3);a=(i?o.zIndex:0)+(r?s:0)}return e[a]?e[a].push(o):e[a]=[o],r=a>r?a:r,e},{}),i=Object.entries(o).map(([e,t])=>{const n=+e;return{edges:t,level:n,isMaxLevel:n===r}});return 0===i.length?J0:i}(r,t,n)}(t,_,n);return w?o.createElement(o.Fragment,null,k.map(({level:t,edges:n,isMaxLevel:v})=>o.createElement("svg",{key:t,style:{zIndex:t},width:w,height:S,className:"react-flow__edges react-flow__container"},v&&o.createElement(r1,{defaultColor:e,rfId:r}),o.createElement("g",null,n.map(e=>{const[t,n,v]=K0(_.get(e.source)),[w,S,k]=K0(_.get(e.target));if(!v||!k)return null;let M=e.type||"default";i[M]||(C?.("011",(e=>`Edge type "${e}" not found. Using fallback type "default".`)(M)),M="default");const T=i[M]||i.default,P=E===MK.Strict?S.target:(S.target??[]).concat(S.source??[]),R=Y0(n.source,e.sourceHandle),A=Y0(P,e.targetHandle),$=R?.position||$K.Bottom,N=A?.position||$K.Top,I=!!(e.focusable||y&&void 0===e.focusable),D=e.reconnectable||e.updatable,L=void 0!==f&&(D||x&&void 0===D);if(!R||!A)return C?.("008",((e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`)(R,e)),null;const{sourceX:z,sourceY:j,targetX:B,targetY:F}=((e,t,n,r,o,i)=>{const a=Z0(n,e,t),s=Z0(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(t,R,$,w,A,N);return o.createElement(T,{key:e.id,id:e.id,className:rX([e.className,a]),type:M,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:z,sourceY:j,targetX:B,targetY:F,sourcePosition:$,targetPosition:N,elementsSelectable:O,onContextMenu:s,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,rfId:r,ariaLabel:e.ariaLabel,isFocusable:I,isReconnectable:L,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:b})})))),v):null};i1.displayName="EdgeRenderer";var a1=(0,o.memo)(i1);const s1=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function l1({children:e}){const t=JY(s1);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}const c1={[$K.Left]:$K.Right,[$K.Right]:$K.Left,[$K.Top]:$K.Bottom,[$K.Bottom]:$K.Top},u1=({nodeId:e,handleType:t,style:n,type:r=RK.Bezier,CustomComponent:i,connectionStatus:a})=>{const{fromNode:s,handleId:l,toX:c,toY:u,connectionMode:d}=JY((0,o.useCallback)(t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[e]),dX),h=s?.[vK]?.handleBounds;let f=h?.[t];if(d===MK.Loose&&(f=f||h?.["source"===t?"target":"source"]),!s||!f)return null;const p=l?f.find(e=>e.id===l):f[0],m=p?p.x+p.width/2:(s.width??0)/2,g=p?p.y+p.height/2:s.height??0,v=(s.positionAbsolute?.x??0)+m,b=(s.positionAbsolute?.y??0)+g,y=p?.position,x=y?c1[y]:null;if(!y||!x)return null;if(i)return o.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:v,fromY:b,toX:c,toY:u,fromPosition:y,toPosition:x,connectionStatus:a});let O="";const w={sourceX:v,sourceY:b,sourcePosition:y,targetX:c,targetY:u,targetPosition:x};return r===RK.Bezier?[O]=VK(w):r===RK.Step?[O]=jK({...w,borderRadius:0}):r===RK.SmoothStep?[O]=jK(w):r===RK.SimpleBezier?[O]=IK(w):O=`M${v},${b} ${c},${u}`,o.createElement("path",{d:O,fill:"none",className:"react-flow__connection-path",style:n})};u1.displayName="ConnectionLine";const d1=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function h1({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:s,width:l,height:c,connectionStatus:u}=JY(d1,dX);return i&&a&&l&&s?o.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:rX(["react-flow__connection",u])},o.createElement(u1,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u}))):null}function f1(e,t){return(0,o.useRef)(null),eK(),(0,o.useMemo)(()=>t(e),[e])}const p1=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:v,connectionLineType:b,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:O,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,deleteKeyCode:M,onlyRenderVisibleElements:T,elementsSelectable:P,selectNodesOnDrag:R,defaultViewport:A,translateExtent:$,minZoom:N,maxZoom:I,preventScrolling:D,defaultMarkerColor:L,zoomOnScroll:z,zoomOnPinch:j,panOnScroll:B,panOnScrollSpeed:F,panOnScrollMode:U,zoomOnDoubleClick:H,panOnDrag:Q,onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneScroll:q,onPaneContextMenu:Z,onEdgeContextMenu:Y,onEdgeMouseEnter:K,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,reconnectRadius:oe,noDragClassName:ie,noWheelClassName:ae,noPanClassName:se,elevateEdgesOnSelect:le,disableKeyboardA11y:ce,nodeOrigin:ue,nodeExtent:de,rfId:he})=>{const fe=f1(e,j0),pe=f1(t,q0);return function(e){const t=t0(),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(a),o.createElement(z0,{onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneContextMenu:Z,onPaneScroll:q,deleteKeyCode:M,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,elementsSelectable:P,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:z,zoomOnPinch:j,zoomOnDoubleClick:H,panOnScroll:B,panOnScrollSpeed:F,panOnScrollMode:U,panOnDrag:Q,defaultViewport:A,translateExtent:$,minZoom:N,maxZoom:I,onSelectionContextMenu:m,preventScrolling:D,noDragClassName:ie,noWheelClassName:ae,noPanClassName:se,disableKeyboardA11y:ce},o.createElement(l1,null,o.createElement(a1,{edgeTypes:pe,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:T,onEdgeContextMenu:Y,onEdgeMouseEnter:K,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,reconnectRadius:oe,defaultMarkerColor:L,noPanClassName:se,elevateEdgesOnSelect:!!le,disableKeyboardA11y:ce,rfId:he},o.createElement(h1,{style:y,type:b,component:x,containerStyle:O})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(U0,{nodeTypes:fe,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:R,onlyRenderVisibleElements:T,noPanClassName:se,noDragClassName:ie,disableKeyboardA11y:ce,nodeOrigin:ue,nodeExtent:de,rfId:he})))};p1.displayName="GraphView";var m1=(0,o.memo)(p1);const g1=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],v1={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:g1,nodeExtent:g1,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:MK.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:yK,isValidConnection:void 0},b1=({children:e})=>{const t=(0,o.useRef)(null);return t.current||(t.current=(n=(e,t)=>({...v1,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:GJ(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{const o=void 0!==n,i=void 0!==r,a=o?GJ(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l?.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((e,t)=>{const n=o.get(t.id);if(n?.hidden)o.set(n.id,{...n,[vK]:{...n[vK],handleBounds:void 0}});else if(n){const r=iK(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,{...n,[vK]:{...n[vK],handleBounds:{source:C0(".source",t.nodeElement,h,c),target:C0(".target",t.nodeElement,h,c)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);WJ(o,c);const p=a||i&&!a&&XJ(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:p}),f?.length>0&&r?.(f)},updateNodePositions:(e,n=!0,r=!1)=>{const{triggerNodeChanges:o}=t(),i=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();if(n?.length){if(i){const t=GJ(p0(n,s()),o,a,l);e({nodeInternals:t})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(e=>g0(e,!0)):(a=v0(i(),n),s=v0(o,[])),YJ({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:i}=t();let a,s=null;r?a=n.map(e=>g0(e,!0)):(a=v0(o,n),s=v0(i(),[])),YJ({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:i}=t(),a=r||o,s=(n||i()).map(e=>(e.selected=!1,g0(e.id,!1)));YJ({changedNodes:s,changedEdges:a.map(e=>g0(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r?.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r?.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(e=>e.selected).map(e=>g0(e.id,!1)),i=n.filter(e=>e.selected).map(e=>g0(e.id,!1));YJ({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=sK(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:o,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const l=NY.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,o]],u=i?.constrain()(l,c,s);return i.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:v1.connectionNodeId,connectionHandleId:v1.connectionHandleId,connectionHandleType:v1.connectionHandleType,connectionStatus:v1.connectionStatus,connectionStartHandle:v1.connectionStartHandle,connectionEndHandle:v1.connectionEndHandle}),reset:()=>e({...v1})}),r=Object.is,n?uX(n,r):uX)),o.createElement(YY,{value:t.current},e);var n,r};b1.displayName="ReactFlowProvider";const y1=({children:e})=>(0,o.useContext)(ZY)?o.createElement(o.Fragment,null,e):o.createElement(b1,null,e);y1.displayName="ReactFlowWrapper";const x1={input:OJ,default:yJ,output:SJ,group:EJ},O1={default:WK,straight:UK,step:FK,smoothstep:BK,simplebezier:DK},w1=[0,0],S1=[15,15],E1={x:0,y:0,zoom:1},_1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},C1=(0,o.forwardRef)(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=x1,edgeTypes:s=O1,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:b,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:O,onNodeContextMenu:w,onNodeDoubleClick:S,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:C,onNodesDelete:k,onEdgesDelete:M,onSelectionChange:T,onSelectionDragStart:P,onSelectionDrag:R,onSelectionDragStop:A,onSelectionContextMenu:$,onSelectionStart:N,onSelectionEnd:I,connectionMode:D=MK.Strict,connectionLineType:L=RK.Bezier,connectionLineStyle:z,connectionLineComponent:j,connectionLineContainerStyle:B,deleteKeyCode:F="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:H=!1,selectionMode:Q=PK.Full,panActivationKeyCode:V="Space",multiSelectionKeyCode:W=(SK()?"Meta":"Control"),zoomActivationKeyCode:G=(SK()?"Meta":"Control"),snapToGrid:X=!1,snapGrid:q=S1,onlyRenderVisibleElements:Z=!1,selectNodesOnDrag:Y=!0,nodesDraggable:K,nodesConnectable:J,nodesFocusable:ee,nodeOrigin:te=w1,edgesFocusable:ne,edgesUpdatable:re,elementsSelectable:oe,defaultViewport:ie=E1,minZoom:ae=.5,maxZoom:se=2,translateExtent:le=g1,preventScrolling:ce=!0,nodeExtent:ue,defaultMarkerColor:de="#b1b1b7",zoomOnScroll:he=!0,zoomOnPinch:fe=!0,panOnScroll:pe=!1,panOnScrollSpeed:me=.5,panOnScrollMode:ge=TK.Free,zoomOnDoubleClick:ve=!0,panOnDrag:be=!0,onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Oe,onPaneMouseLeave:we,onPaneScroll:Se,onPaneContextMenu:Ee,children:_e,onEdgeContextMenu:Ce,onEdgeDoubleClick:ke,onEdgeMouseEnter:Me,onEdgeMouseMove:Te,onEdgeMouseLeave:Pe,onEdgeUpdate:Re,onEdgeUpdateStart:Ae,onEdgeUpdateEnd:$e,onReconnect:Ne,onReconnectStart:Ie,onReconnectEnd:De,reconnectRadius:Le=10,edgeUpdaterRadius:ze=10,onNodesChange:je,onEdgesChange:Be,noDragClassName:Fe="nodrag",noWheelClassName:Ue="nowheel",noPanClassName:He="nopan",fitView:Qe=!1,fitViewOptions:Ve,connectOnClick:We=!0,attributionPosition:Ge,proOptions:Xe,defaultEdgeOptions:qe,elevateNodesOnSelect:Ze=!0,elevateEdgesOnSelect:Ye=!1,disableKeyboardA11y:Ke=!1,autoPanOnConnect:Je=!0,autoPanOnNodeDrag:et=!0,connectionRadius:tt=20,isValidConnection:nt,onError:rt,style:ot,id:it,nodeDragThreshold:at,...st},lt)=>{const ct=it||"1";return o.createElement("div",{...st,style:{...ot,..._1},ref:lt,className:rX(["react-flow",i]),"data-testid":"rf__wrapper",id:it},o.createElement(y1,null,o.createElement(m1,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:O,onNodeContextMenu:w,onNodeDoubleClick:S,nodeTypes:a,edgeTypes:s,connectionLineType:L,connectionLineStyle:z,connectionLineComponent:j,connectionLineContainerStyle:B,selectionKeyCode:U,selectionOnDrag:H,selectionMode:Q,deleteKeyCode:F,multiSelectionKeyCode:W,panActivationKeyCode:V,zoomActivationKeyCode:G,onlyRenderVisibleElements:Z,selectNodesOnDrag:Y,defaultViewport:ie,translateExtent:le,minZoom:ae,maxZoom:se,preventScrolling:ce,zoomOnScroll:he,zoomOnPinch:fe,zoomOnDoubleClick:ve,panOnScroll:pe,panOnScrollSpeed:me,panOnScrollMode:ge,panOnDrag:be,onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Oe,onPaneMouseLeave:we,onPaneScroll:Se,onPaneContextMenu:Ee,onSelectionContextMenu:$,onSelectionStart:N,onSelectionEnd:I,onEdgeContextMenu:Ce,onEdgeDoubleClick:ke,onEdgeMouseEnter:Me,onEdgeMouseMove:Te,onEdgeMouseLeave:Pe,onReconnect:Ne??Re,onReconnectStart:Ie??Ae,onReconnectEnd:De??$e,reconnectRadius:Le??ze,defaultMarkerColor:de,noDragClassName:Fe,noWheelClassName:Ue,noPanClassName:He,elevateEdgesOnSelect:Ye,rfId:ct,disableKeyboardA11y:Ke,nodeOrigin:te,nodeExtent:ue}),o.createElement(NJ,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:b,nodesDraggable:K,nodesConnectable:J,nodesFocusable:ee,edgesFocusable:ne,edgesUpdatable:re,elementsSelectable:oe,elevateNodesOnSelect:Ze,minZoom:ae,maxZoom:se,nodeExtent:ue,onNodesChange:je,onEdgesChange:Be,snapToGrid:X,snapGrid:q,connectionMode:D,translateExtent:le,connectOnClick:We,defaultEdgeOptions:qe,fitView:Qe,fitViewOptions:Ve,onNodesDelete:k,onEdgesDelete:M,onNodeDragStart:E,onNodeDrag:_,onNodeDragStop:C,onSelectionDrag:R,onSelectionDragStart:P,onSelectionDragStop:A,noPanClassName:He,nodeOrigin:te,rfId:ct,autoPanOnConnect:Je,autoPanOnNodeDrag:et,onError:rt,connectionRadius:tt,isValidConnection:nt,nodeDragThreshold:at}),o.createElement(PJ,{onSelectionChange:T}),_e,o.createElement(rK,{proOptions:Xe,position:Ge}),o.createElement(FJ,{rfId:ct,disableKeyboardA11y:Ke})))});function k1(e){return t=>{const[n,r]=(0,o.useState)(t),i=(0,o.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,i]}}C1.displayName="ReactFlow",k1(p0),k1(m0);const M1=e=>e.domNode?.querySelector(".react-flow__renderer");function T1({children:e}){const t=JY(M1);return t?(0,s.createPortal)(e,t):null}const P1=(e,t)=>e.length===t.length&&e.every((e,n)=>((e,t)=>e?.positionAbsolute?.x===t?.positionAbsolute?.x&&e?.positionAbsolute?.y===t?.positionAbsolute?.y&&e?.width===t?.width&&e?.height===t?.height&&e?.selected===t?.selected&&e?.[vK]?.z===t?.[vK]?.z)(e,t[n])),R1=e=>({transform:e.transform,nodeOrigin:e.nodeOrigin,selectedNodesCount:e.getNodes().filter(e=>e.selected).length});function A1(e,t,n,r,o){let i=.5;"start"===o?i=0:"end"===o&&(i=1);let a=[(e.x+e.width*i)*t[2]+t[0],e.y*t[2]+t[1]-r],s=[-100*i,-100];switch(n){case $K.Right:a=[(e.x+e.width)*t[2]+t[0]+r,(e.y+e.height*i)*t[2]+t[1]],s=[0,-100*i];break;case $K.Bottom:a[1]=(e.y+e.height)*t[2]+t[1]+r,s[1]=0;break;case $K.Left:a=[e.x*t[2]+t[0]-r,(e.y+e.height*i)*t[2]+t[1]],s=[-100,-100*i]}return`translate(${a[0]}px, ${a[1]}px) translate(${s[0]}%, ${s[1]}%)`}function $1({nodeId:e,children:t,className:n,style:r,isVisible:i,position:a=$K.Top,offset:s=10,align:l="center",...c}){const u=qK(),d=(0,o.useCallback)(t=>(Array.isArray(e)?e:[e||u||""]).reduce((e,n)=>{const r=t.nodeInternals.get(n);return r&&e.push(r),e},[]),[e,u]),h=JY(d,P1),{transform:f,nodeOrigin:p,selectedNodesCount:m}=JY(R1,dX);if(!("boolean"==typeof i?i:1===h.length&&h[0].selected&&1===m)||!h.length)return null;const g=tJ(h,p),v=Math.max(...h.map(e=>(e[vK]?.z||1)+1)),b={position:"absolute",transform:A1(g,f,a,s,l),zIndex:v,...r};return o.createElement(T1,null,o.createElement("div",{style:b,className:rX(["react-flow__node-toolbar",n]),...c},t))}var N1;function I1({color:e,dimensions:t,lineWidth:n}){return o.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function D1({color:e,radius:t}){return o.createElement("circle",{cx:t,cy:t,r:t,fill:e})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(N1||(N1={}));const L1={[N1.Dots]:"#91919a",[N1.Lines]:"#eee",[N1.Cross]:"#e2e2e2"},z1={[N1.Dots]:1,[N1.Lines]:1,[N1.Cross]:6},j1=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function B1({id:e,variant:t=N1.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:s,style:l,className:c}){const u=(0,o.useRef)(null),{transform:d,patternId:h}=JY(j1,dX),f=s||L1[t],p=r||z1[t],m=t===N1.Dots,g=t===N1.Cross,v=Array.isArray(n)?n:[n,n],b=[v[0]*d[2]||1,v[1]*d[2]||1],y=p*d[2],x=g?[y,y]:b,O=m?[y/a,y/a]:[x[0]/a,x[1]/a];return o.createElement("svg",{className:rX(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},o.createElement("pattern",{id:h+e,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`},m?o.createElement(D1,{color:f,radius:y/a}):o.createElement(I1,{dimensions:x,color:f,lineWidth:i})),o.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}B1.displayName="Background";var F1=(0,o.memo)(B1);const U1=({id:e,x:t,y:n,width:r,height:i,style:a,color:s,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:h,onClick:f,selected:p})=>{const{background:m,backgroundColor:g}=a||{},v=s||m||g;return o.createElement("rect",{className:rX(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:d,ry:d,width:r,height:i,fill:v,stroke:l,strokeWidth:c,shapeRendering:h,onClick:f?t=>f(t,e):void 0})};U1.displayName="MiniMapNode";var H1=(0,o.memo)(U1);const Q1=e=>e.nodeOrigin,V1=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),W1=e=>e instanceof Function?e:()=>e;var G1=(0,o.memo)(function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:a=H1,onClick:s}){const l=JY(V1,dX),c=JY(Q1),u=W1(t),d=W1(e),h=W1(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,l.map(e=>{const{x:t,y:n}=eJ(e,c).positionAbsolute;return o.createElement(a,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:h(e),color:u(e),borderRadius:r,strokeColor:d(e),strokeWidth:i,shapeRendering:f,onClick:s,id:e.id})}))});const X1=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=tJ(t,e.nodeOrigin),o=n,fK(dK(hK(r),hK(o)))):n,rfId:e.rfId};var r,o};function q1({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:m=!1,zoomable:g=!1,ariaLabel:v="React Flow mini map",inversePan:b=!1,zoomStep:y=10,offsetScale:x=5}){const O=eK(),w=(0,o.useRef)(null),{boundingRect:S,viewBB:E,rfId:_}=JY(X1,dX),C=e?.width??200,k=e?.height??150,M=S.width/C,T=S.height/k,P=Math.max(M,T),R=P*C,A=P*k,$=x*P,N=S.x-(R-S.width)/2-$,I=S.y-(A-S.height)/2-$,D=R+2*$,L=A+2*$,z=`react-flow__minimap-desc-${_}`,j=(0,o.useRef)(0);j.current=P,(0,o.useEffect)(()=>{if(w.current){const e=Pq(w.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=O.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*y,i=t[2]*Math.pow(2,o);r.scaleTo(n,i)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:o,width:i,height:a}=O.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const s=j.current*Math.max(1,t[2])*(b?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[i,a]],u=NY.translate(l.x,l.y).scale(t[2]),d=r.constrain()(u,c,o);r.transform(n,d)},r=HY().on("zoom",m?n:null).on("zoom.wheel",g?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[m,g,b,y]);const B=f?e=>{const t=jq(e);f(e,{x:t[0],y:t[1]})}:void 0,F=p?(e,t)=>{const n=O.getState().nodeInternals.get(t);p(e,n)}:void 0;return o.createElement(nK,{position:h,style:e,className:rX(["react-flow__minimap",t]),"data-testid":"rf__minimap"},o.createElement("svg",{width:C,height:k,viewBox:`${N} ${I} ${D} ${L}`,role:"img","aria-labelledby":z,ref:w,onClick:B},v&&o.createElement("title",{id:z},v),o.createElement(G1,{onClick:F,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),o.createElement("path",{className:"react-flow__minimap-mask",d:`M${N-$},${I-$}h${D+2*$}v${L+2*$}h${-D-2*$}z\n        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}q1.displayName="MiniMap";var Z1=(0,o.memo)(q1),Y1=n(4739),K1={};K1.styleTagTransform=Wg(),K1.setAttributes=Ug(),K1.insert=Bg().bind(null,"head"),K1.domAPI=zg(),K1.insertStyleElement=Qg(),Dg()(Y1.A,K1),Y1.A&&Y1.A.locals&&Y1.A.locals;var J1=n(5179),e2={};e2.styleTagTransform=Wg(),e2.setAttributes=Ug(),e2.insert=Bg().bind(null,"head"),e2.domAPI=zg(),e2.insertStyleElement=Qg(),Dg()(J1.A,e2),J1.A&&J1.A.locals&&J1.A.locals;var t2=n(2675),n2={};function r2(e){return r2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r2(e)}function o2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i2(r.key),r)}}function i2(e){var t=function(e){if("object"!=r2(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r2(t)?t:t+""}n2.styleTagTransform=Wg(),n2.setAttributes=Ug(),n2.insert=Bg().bind(null,"head"),n2.domAPI=zg(),n2.insertStyleElement=Qg(),Dg()(t2.A,n2),t2.A&&t2.A.locals&&t2.A.locals,window.require("@electron/remote").app;var a2=window.require("fs"),s2=window.require("path"),l2=function(){return function(e,t){return t&&o2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeDir=s2.join(Zg.A.USERDATA_DIR,"node")},[{key:"scanNodes",value:function(){var e=this;try{var t=[];return a2.existsSync(this.nodeDir)?(a2.readdirSync(this.nodeDir).forEach(function(n){var r=s2.join(e.nodeDir,n);if(a2.statSync(r).isDirectory()){var o=s2.join(r,"config.json"),i=s2.join(r,"main.py");if(a2.existsSync(o)&&a2.existsSync(i))try{var a=JSON.parse(a2.readFileSync(o,"utf8"));t.push({data:a,path:n})}catch(e){console.error("Error reading config for ".concat(n,":"),e)}}}),t):(a2.mkdirSync(this.nodeDir,{recursive:!0}),t)}catch(e){return console.error("Error scanning nodes:",e),[]}}}])}();const c2=l2;function u2(e){return function(e){if(Array.isArray(e))return f2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||h2(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h2(e,t){if(e){if("string"==typeof e)return f2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f2(e,t):void 0}}function f2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p2=window.require("@electron/remote").shell,m2=window.require("path");const g2=function(e){var t=e.isOpen,n=e.onClose,r=e.nodes,i=e.onNodeSelect,a=d2((0,o.useState)([]),2),l=a[0],c=a[1],u=d2((0,o.useState)("all"),2),d=u[0],h=u[1],f=d2((0,o.useState)(""),2),p=f[0],m=f[1],g=d2((0,o.useState)(!1),2),v=g[0],b=g[1],y=(0,o.useRef)(null),x=new c2,O=function(e){if(e&&e.length>0){var t=u2(new Set(e.map(function(e){return e.data.type||"other"}))),n=[{key:"all",label:"全部",children:w(e)}].concat(u2(t.map(function(t){return{key:t,label:t,children:w(e.filter(function(e){return(e.data.type||"other")===t}))}})));c(n),n.find(function(e){return e.key===d})||h("all")}else c([]),h("all")};(0,o.useEffect)(function(){v&&y.current&&y.current.focus()},[v]),(0,o.useEffect)(function(){O(r)},[r,p]);var w=function(e){var t=e.filter(function(e){if(!p)return!0;var t=p.toLowerCase();return e.data.name.toLowerCase().includes(t)||e.data.description&&e.data.description.toLowerCase().includes(t)});return o.createElement("div",{className:"node-list"},t.map(function(e,t){return o.createElement("div",{key:t,className:"node-item"},o.createElement("div",{className:"node-info"},o.createElement("span",{className:"node-name"},e.data.name),o.createElement("span",{className:"node-path"},e.data.description)),o.createElement("span",{className:"node-type",onClick:function(){return i(e)}},"添加"))}))};return t?(0,s.createPortal)(o.createElement("div",{className:"node-list-modal-wrapper"},o.createElement("div",{className:"modal-overlay",onClick:n},o.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},o.createElement("div",{className:"modal-header"},o.createElement("div",{className:"header-content"},o.createElement("h2",null,"可用节点列表"),o.createElement("div",{className:"header-buttons"},o.createElement("button",{className:"icon-button",onClick:function(){return e=m2.join(Zg.A.USERDATA_DIR,"node"),void p2.openPath(e);var e},title:"打开节点目录"},o.createElement(dS,null)),o.createElement("button",{className:"icon-button",onClick:function(){try{var e=x.scanNodes();c([]),h("all"),O(e),Pv.success("节点列表刷新成功")}catch(e){Pv.error("节点列表刷新失败")}},title:"刷新节点列表"},o.createElement(nS,null)))),o.createElement("button",{className:"close-button",onClick:n},"×")),o.createElement("div",{className:"modal-body"},o.createElement(BE,{activeKey:d,onChange:h,items:l,tabBarExtraContent:{right:o.createElement("div",{className:"search-wrapper".concat(v?" open":"")},!v&&o.createElement(Vb,{className:"search-icon",onClick:function(){return b(!0)}}),v&&o.createElement("input",{ref:y,type:"text",className:"search-input",placeholder:"搜索节点...",value:p,onChange:function(e){return m(e.target.value)},onBlur:function(){return b(!1)}}))}}))))),document.body):null};function v2(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function b2(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function y2(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function x2(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function O2(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const w2=({children:e,className:t,...n})=>o.createElement("button",{type:"button",className:rX(["react-flow__controls-button",t]),...n},e);w2.displayName="ControlButton";const S2=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),E2=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:l,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=eK(),[p,m]=(0,o.useState)(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:b}=JY(S2,dX),{zoomIn:y,zoomOut:x,fitView:O}=t0();return(0,o.useEffect)(()=>{m(!0)},[]),p?o.createElement(nK,{className:rX(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&o.createElement(o.Fragment,null,o.createElement(w2,{onClick:()=>{y(),a?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},o.createElement(v2,null)),o.createElement(w2,{onClick:()=>{x(),s?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},o.createElement(b2,null))),n&&o.createElement(w2,{className:"react-flow__controls-fitview",onClick:()=>{O(i),l?.()},title:"fit view","aria-label":"fit view"},o.createElement(y2,null)),r&&o.createElement(w2,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c?.(!g)},title:"toggle interactivity","aria-label":"toggle interactivity"},g?o.createElement(O2,null):o.createElement(x2,null)),d):null};E2.displayName="Controls";var _2=(0,o.memo)(E2);function C2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k2(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const M2=function(e){var t=e.onNodeSelect,n=C2((0,o.useState)(!1),2),r=n[0],i=n[1],a=C2((0,o.useState)([]),2),s=a[0],l=a[1];return(0,o.useEffect)(function(){try{var e=(new c2).scanNodes();l(e)}catch(e){console.error("节点扫描失败:",e)}},[]),(0,o.useEffect)(function(){var e=setTimeout(function(){var e=document.querySelector(".react-flow__panel");if(e){var t=document.createElement("button");t.className="react-flow__controls-button react-flow__controls-interactive",t.type="button",t.title="节点列表",t.setAttribute("aria-label","节点列表"),t.onclick=function(){i(!0)};var n=document.createElement("div");n.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000" class="size-6">\n            <path fill-rule="evenodd" d="M3 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 5.25Zm0 4.5A.75.75 0 0 1 3.75 9h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 9.75Zm0 4.5a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Zm0 4.5a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />\n          </svg>',t.appendChild(n),e.appendChild(t)}},100);return function(){clearTimeout(e);var t=document.querySelector(".react-flow__controls-button");t&&t.remove()}},[]),o.createElement("div",{className:"react-flow__controls"},o.createElement(_2,null),o.createElement(g2,{isOpen:r,onClose:function(){return i(!1)},nodes:s,onNodeSelect:function(e){"refresh"===e.type?l(e.nodes):(t(e),i(!1))}}))};var T2=n(8667),P2={};function R2(e){return R2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2(e)}function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(t){N2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N2(e,t,n){return(t=function(e){var t=function(e){if("object"!=R2(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R2(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}P2.styleTagTransform=Wg(),P2.setAttributes=Ug(),P2.insert=Bg().bind(null,"head"),P2.domAPI=zg(),P2.insertStyleElement=Qg(),Dg()(T2.A,P2),T2.A&&T2.A.locals&&T2.A.locals;const D2=function(e){var t,n=e.open,r=e.node,i=e.onClose,a=e.onSave,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I2(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)({}),2),l=s[0],c=s[1];if((0,o.useEffect)(function(){if(r&&r.data&&r.data.config){var e={};r.data.config.forEach(function(t){var n;"bool"===t.type?e[t.name]=1===t.default_value:e[t.name]=null!==(n=t.default_value)&&void 0!==n?n:"number"===t.type?0:""}),c(e)}},[r]),!n||!r)return null;var u=function(e,t){var n,o=""===t?"number"===(null===(n=r.data.config.find(function(t){return t.name===e}))||void 0===n?void 0:n.type)?0:"":t;c(function(t){return $2($2({},t),{},N2({},e,o))})};return o.createElement("div",{className:"node-config-modal-overlay",onClick:i},o.createElement("div",{className:"node-config-modal",onClick:function(e){return e.stopPropagation()}},o.createElement("div",{className:"node-config-modal-header"},o.createElement("h3",null,"节点配置 - ",r.data.label),o.createElement("button",{className:"node-config-modal-close",onClick:i},"×")),o.createElement("form",{className:"node-config-modal-body",onSubmit:function(e){e.preventDefault(),a&&a(l),i()}},null===(t=r.data.config)||void 0===t?void 0:t.map(function(e){return o.createElement("div",{className:"node-config-form-item",key:e.name},o.createElement("label",null,e.name),function(e){var t,n,r,i;switch(e.type){case"number":return o.createElement("input",{type:"number",value:null!==(t=l[e.name])&&void 0!==t?t:0,onChange:function(t){return u(e.name,t.target.value)}});case"text":return o.createElement("input",{type:"text",value:null!==(n=l[e.name])&&void 0!==n?n:"",onChange:function(t){return u(e.name,t.target.value)}});case"select":return o.createElement("select",{value:null!==(r=l[e.name])&&void 0!==r?r:e.default_value,onChange:function(t){return u(e.name,t.target.value)}},e.options.map(function(e){return o.createElement("option",{key:e.value,value:e.value},e.label)}));case"bool":return o.createElement("div",{style:{margin:"8px 0"}},o.createElement(mT,{checked:!!l[e.name],onChange:function(t){return u(e.name,t)}}));default:return o.createElement("input",{type:"text",value:null!==(i=l[e.name])&&void 0!==i?i:"",onChange:function(t){return u(e.name,t.target.value)}})}}(e),e.description&&o.createElement("div",{className:"node-config-form-description"},e.description))}),o.createElement("div",{className:"node-config-modal-footer"},o.createElement("button",{type:"button",onClick:i},"取消"),o.createElement("button",{type:"submit"},"保存")))))};function L2(e){return L2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L2(e)}function z2(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return j2(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(j2(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,j2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,j2(d,"constructor",c),j2(c,"constructor",l),l.displayName="GeneratorFunction",j2(c,o,"GeneratorFunction"),j2(d),j2(d,o,"Generator"),j2(d,r,function(){return this}),j2(d,"toString",function(){return"[object Generator]"}),(z2=function(){return{w:i,m:h}})()}function j2(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}j2=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){j2(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},j2(e,t,n,r)}function B2(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function F2(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){B2(i,r,o,a,s,"next",e)}function s(e){B2(i,r,o,a,s,"throw",e)}a(void 0)})}}function U2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H2(r.key),r)}}function H2(e){var t=function(e){if("object"!=L2(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=L2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L2(t)?t:t+""}var Q2=function(){return function(e,t){return t&&U2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeScanner=null,this.nodeList=[],this.initialized=!1,this.initializing=!1},[{key:"initialize",value:(n=F2(z2().m(function e(){var t;return z2().w(function(e){for(;;)switch(e.n){case 0:if(!this.initialized&&!this.initializing){e.n=1;break}return e.a(2);case 1:return this.initializing=!0,e.p=2,(0,qg.log)("初始化GUI控制器...",qg.LOG_TYPES.INFO),this.nodeScanner=new c2,e.n=3,this.scanNodes();case 3:return this.nodeList=e.v,e.n=4,this.initializeConfig();case 4:this.initialized=!0,(0,qg.log)("GUI控制器初始化完成",qg.LOG_TYPES.SUCCESS),e.n=6;break;case 5:throw e.p=5,t=e.v,(0,qg.log)("GUI控制器初始化失败: ".concat(t.message),qg.LOG_TYPES.ERROR),t;case 6:return e.p=6,this.initializing=!1,e.f(6);case 7:return e.a(2)}},e,this,[[2,5,6,7]])})),function(){return n.apply(this,arguments)})},{key:"scanNodes",value:(t=F2(z2().m(function e(){var t,n;return z2().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,(0,qg.log)("扫描节点...",qg.LOG_TYPES.INFO),t=this.nodeScanner.scanNodes(),(0,qg.log)("扫描到 ".concat(t.length," 个节点"),qg.LOG_TYPES.SUCCESS),e.a(2,t);case 1:return e.p=1,n=e.v,(0,qg.log)("节点扫描失败: ".concat(n.message),qg.LOG_TYPES.ERROR),e.a(2,[])}},e,this,[[0,1]])})),function(){return t.apply(this,arguments)})},{key:"initializeConfig",value:(e=F2(z2().m(function e(){var t;return z2().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,(0,qg.log)("初始化配置...",qg.LOG_TYPES.INFO),e.n=1,v_.A.init();case 1:(0,qg.log)("配置初始化完成",qg.LOG_TYPES.SUCCESS),e.n=3;break;case 2:throw e.p=2,t=e.v,(0,qg.log)("配置初始化失败: ".concat(t.message),qg.LOG_TYPES.ERROR),t;case 3:return e.a(2)}},e,null,[[0,2]])})),function(){return e.apply(this,arguments)})},{key:"getNodeList",value:function(){return this.nodeList}},{key:"isInitialized",value:function(){return this.initialized}},{key:"isInitializing",value:function(){return this.initializing}},{key:"reset",value:function(){this.nodeScanner=null,this.nodeList=[],this.initialized=!1,this.initializing=!1,(0,qg.log)("GUI控制器已重置",qg.LOG_TYPES.INFO)}}]);var e,t,n}();const V2=new Q2;function W2(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return G2(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(G2(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,G2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,G2(d,"constructor",c),G2(c,"constructor",l),l.displayName="GeneratorFunction",G2(c,o,"GeneratorFunction"),G2(d),G2(d,o,"Generator"),G2(d,r,function(){return this}),G2(d,"toString",function(){return"[object Generator]"}),(W2=function(){return{w:i,m:h}})()}function G2(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G2=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){G2(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},G2(e,t,n,r)}function X2(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var q2=n(9896),Z2=n(6928);function Y2(){return Y2=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){X2(i,r,o,a,s,"next",e)}function s(e){X2(i,r,o,a,s,"throw",e)}a(void 0)})}}(W2().m(function e(){var t,n,r,o,i,a,s;return W2().w(function(e){for(;;)switch(e.n){case 0:if(t=v_.A.get("exampleNodeCreated"),console.log(t),!t){e.n=1;break}return console.log("示例节点已存在"),e.a(2);case 1:return n=Z2.join(Zg.A.USERDATA_DIR,"node","calc_node"),q2.existsSync(n)||q2.mkdirSync(n,{recursive:!0}),r={name:"数学计算节点",description:"一个简单的数学计算节点，可以进行加减乘除运算",type:"流",parameters:{inputs:[{input_type:"user/node",type:"number",name:"数值1",default_value:0},{input_type:"user/node",type:"number",name:"数值2",default_value:0}],outputs:[{type:"number",name:"加法结果"},{type:"number",name:"减法结果"},{type:"number",name:"乘法结果"},{type:"number",name:"除法结果"}]},config:[{name:"运算类型",default_value:"all",type:"select",options:[{label:"全部运算",value:"all"},{label:"只做加法",value:"add"},{label:"只做减法",value:"subtract"},{label:"只做乘法",value:"multiply"},{label:"只做除法",value:"divide"}]}]},q2.writeFileSync(Z2.join(n,"config.json"),JSON.stringify(r,null,2)),q2.writeFileSync(Z2.join(n,"main.py"),"import sys\n\nclass MainNode:\n    def __init__(self):\n        self.input_data = {}\n        self.output_data = {}\n        self.config = {}\n\n    def get_node_input(self, config):\n        self.input_data = config\n\n    def get_user_input(self, config):\n        self.config = {item['name']: item['default_value'] for item in config}\n\n    def execute(self):\n        # 获取输入值\n        num1 = float(self.input_data.get('数值1', 0))\n        num2 = float(self.input_data.get('数值2', 0))\n        # 从配置中获取运算类型\n        operation = self.config.get('运算类型', 'all')\n        \n        # 初始化结果\n        result = {\n            \"outputs\": {\n                \"加法结果\": None,\n                \"减法结果\": None,\n                \"乘法结果\": None,\n                \"除法结果\": None\n            }\n        }\n        \n        # 根据运算类型执行计算\n        if operation in ['all', 'add']:\n            result[\"outputs\"][\"加法结果\"] = num1 + num2\n            \n        if operation in ['all', 'subtract']:\n            result[\"outputs\"][\"减法结果\"] = num1 - num2\n            \n        if operation in ['all', 'multiply']:\n            result[\"outputs\"][\"乘法结果\"] = num1 * num2\n            \n        if operation in ['all', 'divide']:\n            if num2 != 0:\n                result[\"outputs\"][\"除法结果\"] = num1 / num2\n        \n        return result\n"),o=Z2.join(Zg.A.USERDATA_DIR,"node","init_node"),q2.existsSync(o)||q2.mkdirSync(o,{recursive:!0}),i={name:"初始值节点",description:"一个提供初始数值的节点，没有输入，只有输出",type:"流",parameters:{inputs:[],outputs:[{type:"number",name:"数值"}]},config:[{name:"初始值",default_value:"0",type:"number",description:"设置要输出的数值"}]},q2.writeFileSync(Z2.join(o,"config.json"),JSON.stringify(i,null,2)),q2.writeFileSync(Z2.join(o,"main.py"),"import sys\n\nclass MainNode:\n    def __init__(self):\n        self.input_data = {}\n        self.output_data = {}\n        self.config = {}\n\n    def get_node_input(self, config):\n        # 初始值节点没有输入\n        pass\n\n    def get_user_input(self, config):\n        self.config = {item['name']: item['default_value'] for item in config}\n\n    def execute(self):\n        # 获取配置的初始值\n        value = float(self.config.get('初始值', 0))\n        \n        # 返回结果\n        result = {\n            \"outputs\": {\n                \"数值\": value\n            }\n        }\n        \n        return result\n"),a=Z2.join(Zg.A.USERDATA_DIR,"node","task_node"),q2.existsSync(a)||q2.mkdirSync(a,{recursive:!0}),s={name:"任务演示节点",description:"一个无输入无输出的任务节点，定时五秒打印当前时间",type:"任务",parameters:{inputs:[],outputs:[]},config:[]},q2.writeFileSync(Z2.join(a,"config.json"),JSON.stringify(s,null,2)),q2.writeFileSync(Z2.join(a,"main.py"),'import sys\nimport time\nimport datetime\n\nclass MainNode:\n    def __init__(self):\n        self.input_data = {}\n        self.output_data = {}\n        self.config = {}\n\n    def get_node_input(self, config):\n        # 任务节点没有输入\n        pass\n\n    def get_user_input(self, config):\n        # 任务节点没有配置\n        pass\n\n    def execute(self):\n        # 定时五秒打印当前时间\n        while True:\n            current_time = datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")\n            print(f"当前时间: {current_time}")\n            time.sleep(3)\n        \n        return {"outputs": {}}\n'),e.n=2,v_.A.set("exampleNodeCreated",!0);case 2:console.log("示例节点创建完成:",n,o,a);case 3:return e.a(2)}},e)})),Y2.apply(this,arguments)}const K2=function(){return Y2.apply(this,arguments)},J2={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM653.3 424.6l52.2 52.2a8.01 8.01 0 01-4.7 13.6l-179.4 21c-5.1.6-9.5-3.7-8.9-8.9l21-179.4c.8-6.6 8.9-9.4 13.6-4.7l52.4 52.4 256.2-256.2c3.1-3.1 8.2-3.1 11.3 0l42.4 42.4c3.1 3.1 3.1 8.2 0 11.3L653.3 424.6z"}}]},name:"import",theme:"outlined"};var e3=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:J2}))};const t3=o.forwardRef(e3);function n3(e){return n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n3(e)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(t){i3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i3(e,t,n){return(t=d3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a3(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return s3(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(s3(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,s3(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,s3(d,"constructor",c),s3(c,"constructor",l),l.displayName="GeneratorFunction",s3(c,o,"GeneratorFunction"),s3(d),s3(d,o,"Generator"),s3(d,r,function(){return this}),s3(d,"toString",function(){return"[object Generator]"}),(a3=function(){return{w:i,m:h}})()}function s3(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s3=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){s3(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},s3(e,t,n,r)}function l3(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function c3(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l3(i,r,o,a,s,"next",e)}function s(e){l3(i,r,o,a,s,"throw",e)}a(void 0)})}}function u3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d3(r.key),r)}}function d3(e){var t=function(e){if("object"!=n3(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=n3(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n3(t)?t:t+""}var h3=function(){return function(e,t){return t&&u3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},[{key:"getTemplateDir",value:function(){var e;if(null===(e=window.currentProject)||void 0===e||!e.path)throw new Error("没有打开的项目");var t=kS().join(window.currentProject.path,"templates");return S_().existsSync(t)||S_().mkdirSync(t,{recursive:!0}),t}},{key:"saveTemplate",value:(n=c3(a3().m(function e(t,n){var r,o,i,a;return a3().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,r=this.getTemplateDir(),o="".concat(t,".json"),i=kS().join(r,o),e.n=1,y_().writeFile(i,JSON.stringify(n,null,2));case 1:return(0,qg.log)("模板已保存: ".concat(o),qg.LOG_TYPES.SUCCESS),e.a(2,o);case 2:throw e.p=2,a=e.v,(0,qg.log)("保存模板失败: ".concat(a.message),qg.LOG_TYPES.ERROR),a;case 3:return e.a(2)}},e,this,[[0,2]])})),function(e,t){return n.apply(this,arguments)})},{key:"getTemplateList",value:function(){try{var e=this.getTemplateDir();return S_().readdirSync(e).filter(function(e){return e.endsWith(".json")}).map(function(t){var n=JSON.parse(S_().readFileSync(kS().join(e,t),"utf8"));return{name:n.name,description:n.description,version:n.version,created:n.created,fileName:t,nodeCount:n.nodes.length}})}catch(e){return(0,qg.log)("获取模板列表失败: ".concat(e.message),qg.LOG_TYPES.ERROR),[]}}},{key:"loadTemplate",value:(t=c3(a3().m(function e(t){var n,r,o,i,a,s;return a3().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,n=this.getTemplateDir(),r=kS().join(n,t),e.n=1,S_().promises.readFile(r,"utf8");case 1:return o=e.v,i=JSON.parse(o),a=i.nodes.filter(function(e){return!!e.path||((0,qg.log)("警告: 节点 ".concat(e.id," 缺少路径信息"),qg.LOG_TYPES.WARNING),!1)}),a.length!==i.nodes.length&&((0,qg.log)("警告: 部分节点路径无效，已过滤",qg.LOG_TYPES.WARNING),i.nodes=a),i.nodes=i.nodes.map(function(e){return e.position&&"number"==typeof e.position.x&&"number"==typeof e.position.y?e:((0,qg.log)("警告: 节点 ".concat(e.id," 位置信息不完整，使用默认位置"),qg.LOG_TYPES.WARNING),o3(o3({},e),{},{position:{x:100,y:100}}))}),(0,qg.log)("模板已加载: ".concat(t),qg.LOG_TYPES.SUCCESS),e.a(2,i);case 2:throw e.p=2,s=e.v,(0,qg.log)("加载模板失败: ".concat(s.message),qg.LOG_TYPES.ERROR),s;case 3:return e.a(2)}},e,this,[[0,2]])})),function(e){return t.apply(this,arguments)})},{key:"deleteTemplate",value:(e=c3(a3().m(function e(t){var n,r,o;return a3().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,n=this.getTemplateDir(),r=kS().join(n,t),e.n=1,S_().promises.unlink(r);case 1:return(0,qg.log)("模板已删除: ".concat(t),qg.LOG_TYPES.SUCCESS),e.a(2,!0);case 2:throw e.p=2,o=e.v,(0,qg.log)("删除模板失败: ".concat(o.message),qg.LOG_TYPES.ERROR),o;case 3:return e.a(2)}},e,this,[[0,2]])})),function(t){return e.apply(this,arguments)})}]);var e,t,n}();const f3=new h3;var p3=n(6711),m3={};function g3(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return v3(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(v3(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,v3(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,v3(d,"constructor",c),v3(c,"constructor",l),l.displayName="GeneratorFunction",v3(c,o,"GeneratorFunction"),v3(d),v3(d,o,"Generator"),v3(d,r,function(){return this}),v3(d,"toString",function(){return"[object Generator]"}),(g3=function(){return{w:i,m:h}})()}function v3(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}v3=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){v3(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},v3(e,t,n,r)}function b3(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y3(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){b3(i,r,o,a,s,"next",e)}function s(e){b3(i,r,o,a,s,"throw",e)}a(void 0)})}}function x3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O3(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O3(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}m3.styleTagTransform=Wg(),m3.setAttributes=Ug(),m3.insert=Bg().bind(null,"head"),m3.domAPI=zg(),m3.insertStyleElement=Qg(),Dg()(p3.A,m3),p3.A&&p3.A.locals&&p3.A.locals,require("console");const w3=function(e){var t=e.visible,n=e.onClose,r=e.onApplyTemplate,i=x3((0,o.useState)([]),2),a=i[0],s=i[1],l=x3((0,o.useState)(!1),2),c=(l[0],l[1]);(0,o.useEffect)(function(){t&&u()},[t]);var u=function(){c(!0);try{var e=f3.getTemplateList();s(e)}catch(e){Pv.error("加载模板列表失败")}finally{c(!1)}},d=function(){var e=y3(g3().m(function e(t){var o,i;return g3().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,f3.loadTemplate(t.fileName);case 1:o=e.v,r&&(r(o),n(),Pv.success("已应用模板: ".concat(t.name))),e.n=3;break;case 2:e.p=2,i=e.v,Pv.error("应用模板失败: ".concat(i.message));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=y3(g3().m(function e(){var t,n,r,o,i,a;return g3().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y_().selectFile({filters:[{name:"JSON Files",extensions:["json"]}]});case 1:if((t=e.v).success){e.n=2;break}return e.a(2);case 2:if(n=f3.getTemplateDir(),r=kS().basename(t.filePath),o=kS().join(n,r),!y_().fileExists(o)){e.n=3;break}return Dh.confirm({title:"文件已存在",content:'模板 "'.concat(r,'" 已存在，是否覆盖？'),okText:"覆盖",cancelText:"取消",onOk:function(){var e=y3(g3().m(function e(){var n,r;return g3().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,(n=y_().copyFile(t.filePath,o)).success){e.n=1;break}return Pv.error("导入模板失败: ".concat(n.error)),e.a(2);case 1:u(),Pv.success("模板导入成功"),e.n=3;break;case 2:e.p=2,r=e.v,Pv.error("导入模板失败: ".concat(r.message));case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}()}),e.a(2);case 3:if((i=y_().copyFile(t.filePath,o)).success){e.n=4;break}return Pv.error("导入模板失败: ".concat(i.error)),e.a(2);case 4:u(),Pv.success("模板导入成功"),e.n=6;break;case 5:e.p=5,a=e.v,Pv.error("导入模板失败: ".concat(a.message));case 6:return e.a(2)}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return o.createElement("div",null,o.createElement(Dh,{className:"template-manager-modal",title:"模板管理",open:t,onCancel:n,width:800,footer:[o.createElement(Hl,{key:"import",type:"primary",icon:o.createElement(t3,null),onClick:h},"导入模板")]},o.createElement("div",{className:"template-list"},a.map(function(e,t){return o.createElement("div",{key:t,className:"template-item"},o.createElement("div",{className:"template-info"},o.createElement("div",{className:"template-header"},o.createElement("span",{className:"template-name"},e.name),o.createElement("span",{className:"template-version"},"v",e.version)),o.createElement("span",{className:"template-description",title:e.description},e.description),o.createElement("span",{className:"template-date"},new Date(e.created).toLocaleString())),o.createElement(Hl,{type:"primary",size:"small",onClick:function(){return d(e)}},"应用"))}))))};var S3=n(8527),E3={},_3=function(e,t,n,r){var o=e+"-"+t+"-"+n+(r?"-server":"");if(E3[o])return E3[o];var i=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null}(e,t,n,r);return E3[o]=i,i},C3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k3=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,c=(0,S3.Ay)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+_3(t,n,r,i.canvas)+") center left"}}});return(0,o.isValidElement)(l)?o.cloneElement(l,C3({},l.props,{style:C3({},l.props.style,c.grid)})):o.createElement("div",{style:c.grid})};k3.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const M3=k3;var T3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P3=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function R3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A3=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=R3(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r,o){var i=o.clientWidth,a=o.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(o.getBoundingClientRect().left+window.pageXOffset),u=l-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d;if(d=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var h;if(r!==(h=c<0?0:c>i?1:Math.round(100*c/i)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},R3(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P3(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,S3.Ay)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:T3({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return o.createElement("div",{style:n.alpha},o.createElement("div",{style:n.checkboard},o.createElement(M3,{renderers:this.props.renderers})),o.createElement("div",{style:n.gradient}),o.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.createElement("div",{style:n.pointer},this.props.pointer?o.createElement(this.props.pointer,this.props):o.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);const $3=A3;var N3=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I3=[38,40],D3=1,L3=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,I3.indexOf(t)>-1)){var o=n.getArrowOffset(),i=38===e.keyCode?r+o:r-o;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+D3++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N3(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,S3.Ay)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.createElement("div",{style:t.wrap},o.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(o.PureComponent||o.Component);const z3=L3;var j3=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function B3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F3=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=B3(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u;if(u=c<0?359:c>i?0:360*(-100*c/i+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d;if(d=l<0?0:l>o?359:100*l/o*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},B3(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),j3(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,S3.Ay)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.createElement("div",{style:r.hue},o.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.createElement("div",{style:r.pointer},this.props.pointer?o.createElement(this.props.pointer,this.props):o.createElement("div",{style:r.slider}))))}}]),t}(o.PureComponent||o.Component);const U3=F3;var H3=n(5556),Q3=n.n(H3);const V3=function(e,t){return e===t||e!=e&&t!=t},W3=function(e,t){for(var n=e.length;n--;)if(V3(e[n][0],t))return n;return-1};var G3=Array.prototype.splice;function X3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}X3.prototype.clear=function(){this.__data__=[],this.size=0},X3.prototype.delete=function(e){var t=this.__data__,n=W3(t,e);return!(n<0||(n==t.length-1?t.pop():G3.call(t,n,1),--this.size,0))},X3.prototype.get=function(e){var t=this.__data__,n=W3(t,e);return n<0?void 0:t[n][1]},X3.prototype.has=function(e){return W3(this.__data__,e)>-1},X3.prototype.set=function(e,t){var n=this.__data__,r=W3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const q3=X3,Z3="object"==typeof global&&global&&global.Object===Object&&global;var Y3="object"==typeof self&&self&&self.Object===Object&&self;const K3=Z3||Y3||Function("return this")(),J3=K3.Symbol;var e5=Object.prototype,t5=e5.hasOwnProperty,n5=e5.toString,r5=J3?J3.toStringTag:void 0;var o5=Object.prototype.toString;var i5=J3?J3.toStringTag:void 0;const a5=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i5&&i5 in Object(e)?function(e){var t=t5.call(e,r5),n=e[r5];try{e[r5]=void 0;var r=!0}catch(e){}var o=n5.call(e);return r&&(t?e[r5]=n:delete e[r5]),o}(e):function(e){return o5.call(e)}(e)},s5=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l5=function(e){if(!s5(e))return!1;var t=a5(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},c5=K3["__core-js_shared__"];var u5,d5=(u5=/[^.]+$/.exec(c5&&c5.keys&&c5.keys.IE_PROTO||""))?"Symbol(src)_1."+u5:"";var h5=Function.prototype.toString;const f5=function(e){if(null!=e){try{return h5.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var p5=/^\[object .+?Constructor\]$/,m5=Function.prototype,g5=Object.prototype,v5=m5.toString,b5=g5.hasOwnProperty,y5=RegExp("^"+v5.call(b5).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const x5=function(e){return!(!s5(e)||(t=e,d5&&d5 in t))&&(l5(e)?y5:p5).test(f5(e));var t},O5=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return x5(n)?n:void 0},w5=O5(K3,"Map"),S5=O5(Object,"create");var E5=Object.prototype.hasOwnProperty;var _5=Object.prototype.hasOwnProperty;function C5(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C5.prototype.clear=function(){this.__data__=S5?S5(null):{},this.size=0},C5.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},C5.prototype.get=function(e){var t=this.__data__;if(S5){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return E5.call(t,e)?t[e]:void 0},C5.prototype.has=function(e){var t=this.__data__;return S5?void 0!==t[e]:_5.call(t,e)},C5.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=S5&&void 0===t?"__lodash_hash_undefined__":t,this};const k5=C5,M5=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function T5(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}T5.prototype.clear=function(){this.size=0,this.__data__={hash:new k5,map:new(w5||q3),string:new k5}},T5.prototype.delete=function(e){var t=M5(this,e).delete(e);return this.size-=t?1:0,t},T5.prototype.get=function(e){return M5(this,e).get(e)},T5.prototype.has=function(e){return M5(this,e).has(e)},T5.prototype.set=function(e,t){var n=M5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const P5=T5;function R5(e){var t=this.__data__=new q3(e);this.size=t.size}R5.prototype.clear=function(){this.__data__=new q3,this.size=0},R5.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},R5.prototype.get=function(e){return this.__data__.get(e)},R5.prototype.has=function(e){return this.__data__.has(e)},R5.prototype.set=function(e,t){var n=this.__data__;if(n instanceof q3){var r=n.__data__;if(!w5||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new P5(r)}return n.set(e,t),this.size=n.size,this};const A5=R5,$5=function(){try{var e=O5(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),N5=function(e,t,n){"__proto__"==t&&$5?$5(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},I5=function(e,t,n){(void 0!==n&&!V3(e[t],n)||void 0===n&&!(t in e))&&N5(e,t,n)},D5=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[L5?a:++r];if(!1===t(o[s],s,o))break}return e};var L5,z5="object"==typeof exports&&exports&&!exports.nodeType&&exports,j5=z5&&"object"==typeof module&&module&&!module.nodeType&&module,B5=j5&&j5.exports===z5?K3.Buffer:void 0,F5=B5?B5.allocUnsafe:void 0;const U5=K3.Uint8Array,H5=function(e,t){var n,r,o=t?(n=e.buffer,r=new n.constructor(n.byteLength),new U5(r).set(new U5(n)),r):e.buffer;return new e.constructor(o,e.byteOffset,e.length)};var Q5=Object.create;const V5=function(){function e(){}return function(t){if(!s5(t))return{};if(Q5)return Q5(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),W5=function(e,t){return function(n){return e(t(n))}},G5=W5(Object.getPrototypeOf,Object);var X5=Object.prototype;const q5=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X5)},Z5=function(e){return null!=e&&"object"==typeof e},Y5=function(e){return Z5(e)&&"[object Arguments]"==a5(e)};var K5=Object.prototype,J5=K5.hasOwnProperty,e4=K5.propertyIsEnumerable;const t4=Y5(function(){return arguments}())?Y5:function(e){return Z5(e)&&J5.call(e,"callee")&&!e4.call(e,"callee")},n4=Array.isArray,r4=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},o4=function(e){return null!=e&&r4(e.length)&&!l5(e)};var i4="object"==typeof exports&&exports&&!exports.nodeType&&exports,a4=i4&&"object"==typeof module&&module&&!module.nodeType&&module,s4=a4&&a4.exports===i4?K3.Buffer:void 0;const l4=(s4?s4.isBuffer:void 0)||function(){return!1};var c4=Function.prototype,u4=Object.prototype,d4=c4.toString,h4=u4.hasOwnProperty,f4=d4.call(Object);var p4={};p4["[object Float32Array]"]=p4["[object Float64Array]"]=p4["[object Int8Array]"]=p4["[object Int16Array]"]=p4["[object Int32Array]"]=p4["[object Uint8Array]"]=p4["[object Uint8ClampedArray]"]=p4["[object Uint16Array]"]=p4["[object Uint32Array]"]=!0,p4["[object Arguments]"]=p4["[object Array]"]=p4["[object ArrayBuffer]"]=p4["[object Boolean]"]=p4["[object DataView]"]=p4["[object Date]"]=p4["[object Error]"]=p4["[object Function]"]=p4["[object Map]"]=p4["[object Number]"]=p4["[object Object]"]=p4["[object RegExp]"]=p4["[object Set]"]=p4["[object String]"]=p4["[object WeakMap]"]=!1;var m4="object"==typeof exports&&exports&&!exports.nodeType&&exports,g4=m4&&"object"==typeof module&&module&&!module.nodeType&&module,v4=g4&&g4.exports===m4&&Z3.process,b4=function(){try{return g4&&g4.require&&g4.require("util").types||v4&&v4.binding&&v4.binding("util")}catch(e){}}(),y4=b4&&b4.isTypedArray;const x4=y4?(O4=y4,function(e){return O4(e)}):function(e){return Z5(e)&&r4(e.length)&&!!p4[a5(e)]};var O4;const w4=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var S4=Object.prototype.hasOwnProperty;const E4=function(e,t,n){var r=e[t];S4.call(e,t)&&V3(r,n)&&(void 0!==n||t in e)||N5(e,t,n)};var _4=/^(?:0|[1-9]\d*)$/;const C4=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&_4.test(e))&&e>-1&&e%1==0&&e<t};var k4=Object.prototype.hasOwnProperty;const M4=function(e,t){var n=n4(e),r=!n&&t4(e),o=!n&&!r&&l4(e),i=!n&&!r&&!o&&x4(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!k4.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||C4(c,l))||s.push(c);return s};var T4=Object.prototype.hasOwnProperty;const P4=function(e){if(!s5(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=q5(e),n=[];for(var r in e)("constructor"!=r||!t&&T4.call(e,r))&&n.push(r);return n},R4=function(e){return o4(e)?M4(e,!0):P4(e)},A4=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?N5(n,s,l):E4(n,s,l)}return n}(e,R4(e))},$4=function(e,t,n,r,o,i,a){var s,l=w4(e,n),c=w4(t,n),u=a.get(c);if(u)I5(e,n,u);else{var d=i?i(l,c,n+"",e,t,a):void 0,h=void 0===d;if(h){var f=n4(c),p=!f&&l4(c),m=!f&&!p&&x4(c);d=c,f||p||m?n4(l)?d=l:Z5(s=l)&&o4(s)?d=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(l):p?(h=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=F5?F5(n):new e.constructor(n);return e.copy(r),r}(c,!0)):m?(h=!1,d=H5(c,!0)):d=[]:function(e){if(!Z5(e)||"[object Object]"!=a5(e))return!1;var t=G5(e);if(null===t)return!0;var n=h4.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&d4.call(n)==f4}(c)||t4(c)?(d=l,t4(l)?d=A4(l):s5(l)&&!l5(l)||(d=function(e){return"function"!=typeof e.constructor||q5(e)?{}:V5(G5(e))}(c))):h=!1}h&&(a.set(c,d),o(d,c,r,i,a),a.delete(c)),I5(e,n,d)}},N4=function e(t,n,r,o,i){t!==n&&D5(n,function(a,s){if(i||(i=new A5),s5(a))$4(t,n,s,r,e,o,i);else{var l=o?o(w4(t,s),a,s+"",t,n,i):void 0;void 0===l&&(l=a),I5(t,s,l)}},R4)},I4=function(e){return e};var D4=Math.max;var L4=$5?function(e,t){return $5(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:I4;const z4=L4;var j4=Date.now;const B4=function(e){var t=0,n=0;return function(){var r=j4(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(z4),F4=function(e,t){return B4(function(e,t,n){return t=D4(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=D4(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,I4),e+"")};var U4;const H4=(U4=function(e,t,n){N4(e,t,n)},F4(function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=U4.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!s5(n))return!1;var r=typeof t;return!!("number"==r?o4(n)&&C4(t,n.length):"string"==r&&t in n)&&V3(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&U4(e,a,n,o)}return e}));var Q4=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,a=e.styles,s=void 0===a?{}:a,l=(0,S3.Ay)(H4({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return o.createElement("div",{style:l.wrap},o.createElement("div",{style:l.bg}),o.createElement("div",{style:l.content},i))};Q4.propTypes={background:Q3().string,zDepth:Q3().oneOf([0,1,2,3,4,5]),radius:Q3().number,styles:Q3().object},Q4.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const V4=Q4,W4=function(){return K3.Date.now()};var G4=/\s/;var X4=/^\s+/;const q4=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&G4.test(e.charAt(t)););return t}(e)+1).replace(X4,""):e},Z4=function(e){return"symbol"==typeof e||Z5(e)&&"[object Symbol]"==a5(e)};var Y4=/^[-+]0x[0-9a-f]+$/i,K4=/^0b[01]+$/i,J4=/^0o[0-7]+$/i,e6=parseInt;const t6=function(e){if("number"==typeof e)return e;if(Z4(e))return NaN;if(s5(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s5(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=q4(e);var n=K4.test(e);return n||J4.test(e)?e6(e.slice(2),n?2:8):Y4.test(e)?NaN:+e};var n6=Math.max,r6=Math.min;const o6=function(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function m(){var e=W4();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?r6(n,i-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?f(e):(r=o=void 0,a)}function v(){var e=W4(),n=p(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=t6(t)||0,s5(n)&&(u=!!n.leading,i=(d="maxWait"in n)?n6(t6(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},v.flush=function(){return void 0===s?a:g(W4())},v};var i6=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a6=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>o&&(l=o),c<0?c=0:c>i&&(c=i);var u=l/o,d=1-c/i;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s5(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),o6(e,t,{leading:r,maxWait:t,trailing:o})}(function(e,t,n){e(t,n)},50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i6(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,a=t.pointer,s=t.circle,l=(0,S3.Ay)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:a,circle:s}},{custom:!!this.props.style});return o.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.createElement("div",{style:l.white,className:"saturation-white"},o.createElement("div",{style:l.black,className:"saturation-black"}),o.createElement("div",{style:l.pointer},this.props.pointer?o.createElement(this.props.pointer,this.props):o.createElement("div",{style:l.circle}))))}}]),t}(o.PureComponent||o.Component);const s6=a6,l6=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},c6=W5(Object.keys,Object);var u6=Object.prototype.hasOwnProperty;const d6=function(e){return o4(e)?M4(e):function(e){if(!q5(e))return c6(e);var t=[];for(var n in Object(e))u6.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},h6=function(e,t){return function(n,r){if(null==n)return n;if(!o4(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(function(e,t){return e&&D5(e,t,d6)}),f6=function(e,t){return(n4(e)?l6:h6)(e,"function"==typeof(n=t)?n:I4);var n};function p6(e){return p6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p6(e)}var m6=/^\s+/,g6=/\s+$/;function v6(e,t){if(t=t||{},(e=e||"")instanceof v6)return e;if(!(this instanceof v6))return new v6(e,t);var n=function(e){var t,n,r,o={r:0,g:0,b:0},i=1,a=null,s=null,l=null,c=!1,u=!1;return"string"==typeof e&&(e=function(e){e=e.replace(m6,"").replace(g6,"").toLowerCase();var t,n=!1;if(N6[e])e=N6[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=G6.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=G6.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=G6.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=G6.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=G6.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=G6.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=G6.hex8.exec(e))?{r:j6(t[1]),g:j6(t[2]),b:j6(t[3]),a:H6(t[4]),format:n?"name":"hex8"}:(t=G6.hex6.exec(e))?{r:j6(t[1]),g:j6(t[2]),b:j6(t[3]),format:n?"name":"hex"}:(t=G6.hex4.exec(e))?{r:j6(t[1]+""+t[1]),g:j6(t[2]+""+t[2]),b:j6(t[3]+""+t[3]),a:H6(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=G6.hex3.exec(e))&&{r:j6(t[1]+""+t[1]),g:j6(t[2]+""+t[2]),b:j6(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==p6(e)&&(X6(e.r)&&X6(e.g)&&X6(e.b)?(t=e.r,n=e.g,r=e.b,o={r:255*L6(t,255),g:255*L6(n,255),b:255*L6(r,255)},c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):X6(e.h)&&X6(e.s)&&X6(e.v)?(a=F6(e.s),s=F6(e.v),o=function(e,t,n){e=6*L6(e,360),t=L6(t,100),n=L6(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6;return{r:255*[n,a,i,i,s,n][l],g:255*[s,n,n,a,i,i][l],b:255*[i,i,s,n,n,a][l]}}(e.h,a,s),c=!0,u="hsv"):X6(e.h)&&X6(e.s)&&X6(e.l)&&(a=F6(e.s),l=F6(e.l),o=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L6(e,360),t=L6(t,100),n=L6(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,a,l),c=!0,u="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=D6(i),{ok:c,format:e.format||u,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:i}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function b6(e,t,n){e=L6(e,255),t=L6(t,255),n=L6(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function y6(e,t,n){e=L6(e,255),t=L6(t,255),n=L6(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function x6(e,t,n,r){var o=[B6(Math.round(e).toString(16)),B6(Math.round(t).toString(16)),B6(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function O6(e,t,n,r){return[B6(U6(r)),B6(Math.round(e).toString(16)),B6(Math.round(t).toString(16)),B6(Math.round(n).toString(16))].join("")}function w6(e,t){t=0===t?0:t||10;var n=v6(e).toHsl();return n.s-=t/100,n.s=z6(n.s),v6(n)}function S6(e,t){t=0===t?0:t||10;var n=v6(e).toHsl();return n.s+=t/100,n.s=z6(n.s),v6(n)}function E6(e){return v6(e).desaturate(100)}function _6(e,t){t=0===t?0:t||10;var n=v6(e).toHsl();return n.l+=t/100,n.l=z6(n.l),v6(n)}function C6(e,t){t=0===t?0:t||10;var n=v6(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),v6(n)}function k6(e,t){t=0===t?0:t||10;var n=v6(e).toHsl();return n.l-=t/100,n.l=z6(n.l),v6(n)}function M6(e,t){var n=v6(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,v6(n)}function T6(e){var t=v6(e).toHsl();return t.h=(t.h+180)%360,v6(t)}function P6(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=v6(e).toHsl(),r=[v6(e)],o=360/t,i=1;i<t;i++)r.push(v6({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function R6(e){var t=v6(e).toHsl(),n=t.h;return[v6(e),v6({h:(n+72)%360,s:t.s,l:t.l}),v6({h:(n+216)%360,s:t.s,l:t.l})]}function A6(e,t,n){t=t||6,n=n||30;var r=v6(e).toHsl(),o=360/n,i=[v6(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(v6(r));return i}function $6(e,t){t=t||6;for(var n=v6(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(v6({h:r,s:o,v:i})),i=(i+s)%1;return a}v6.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D6(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=y6(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=y6(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=b6(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=b6(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return x6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[B6(Math.round(e).toString(16)),B6(Math.round(t).toString(16)),B6(Math.round(n).toString(16)),B6(U6(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*L6(this._r,255))+"%",g:Math.round(100*L6(this._g,255))+"%",b:Math.round(100*L6(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*L6(this._r,255))+"%, "+Math.round(100*L6(this._g,255))+"%, "+Math.round(100*L6(this._b,255))+"%)":"rgba("+Math.round(100*L6(this._r,255))+"%, "+Math.round(100*L6(this._g,255))+"%, "+Math.round(100*L6(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I6[x6(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+O6(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=v6(e);n="#"+O6(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return v6(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_6,arguments)},brighten:function(){return this._applyModification(C6,arguments)},darken:function(){return this._applyModification(k6,arguments)},desaturate:function(){return this._applyModification(w6,arguments)},saturate:function(){return this._applyModification(S6,arguments)},greyscale:function(){return this._applyModification(E6,arguments)},spin:function(){return this._applyModification(M6,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(A6,arguments)},complement:function(){return this._applyCombination(T6,arguments)},monochromatic:function(){return this._applyCombination($6,arguments)},splitcomplement:function(){return this._applyCombination(R6,arguments)},triad:function(){return this._applyCombination(P6,[3])},tetrad:function(){return this._applyCombination(P6,[4])}},v6.fromRatio=function(e,t){if("object"==p6(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F6(e[r]));e=n}return v6(e,t)},v6.equals=function(e,t){return!(!e||!t)&&v6(e).toRgbString()==v6(t).toRgbString()},v6.random=function(){return v6.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},v6.mix=function(e,t,n){n=0===n?0:n||50;var r=v6(e).toRgb(),o=v6(t).toRgb(),i=n/100;return v6({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},v6.readability=function(e,t){var n=v6(e),r=v6(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},v6.isReadable=function(e,t,n){var r,o,i,a,s,l=v6.readability(e,t);switch(o=!1,"AA"!==(a=((i=(i=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(i.size||"small").toLowerCase())&&"large"!==s&&(s="small"),(r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},v6.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=v6.readability(e,t[c]))>l&&(l=r,s=v6(t[c]));return v6.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,v6.mostReadable(e,["#fff","#000"],n))};var N6=v6.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I6=v6.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(N6);function D6(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L6(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function z6(e){return Math.min(1,Math.max(0,e))}function j6(e){return parseInt(e,16)}function B6(e){return 1==e.length?"0"+e:""+e}function F6(e){return e<=1&&(e=100*e+"%"),e}function U6(e){return Math.round(255*parseFloat(e)).toString(16)}function H6(e){return j6(e)/255}var Q6,V6,W6,G6=(V6="[\\s|\\(]+("+(Q6="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q6+")[,|\\s]+("+Q6+")\\s*\\)?",W6="[\\s|\\(]+("+Q6+")[,|\\s]+("+Q6+")[,|\\s]+("+Q6+")[,|\\s]+("+Q6+")\\s*\\)?",{CSS_UNIT:new RegExp(Q6),rgb:new RegExp("rgb"+V6),rgba:new RegExp("rgba"+W6),hsl:new RegExp("hsl"+V6),hsla:new RegExp("hsla"+W6),hsv:new RegExp("hsv"+V6),hsva:new RegExp("hsva"+W6),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X6(e){return!!G6.CSS_UNIT.exec(e)}var q6=function(e){var t=0,n=0;return f6(["r","g","b","a","h","s","l","v"],function(r){e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)&&/^\d+%$/.test(e[r])&&(n+=1)}),t===n&&e},Z6=function(e,t){var n=e.hex?v6(e.hex):v6(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},Y6=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&v6(e).isValid()},K6=function(e){if(!e)return"#fff";var t=Z6(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},J6=function(e,t){return v6(t+" ("+e.replace("°","")+")")._ok},e8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t8=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const n8=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(q6(e)){var r=Z6(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(q6(e)){var r=Z6(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=e8({},Z6(e.color,0)),t.debounce=o6(function(e,t,n){e(t,n)},100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),t8(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),o.createElement(e,e8({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e8({},Z6(e.color,t.oldHue))}}]),n}(o.PureComponent||o.Component);return t.propTypes=e8({},e.propTypes),t.defaultProps=e8({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var r8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o8=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const s8=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=i8(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},i8(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),o8(r,[{key:"render",value:function(){return o.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},o.createElement(e,r8({},this.props,this.state)))}}]),r}(o.Component)}(function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,a=e.onHover,s=e.title,l=void 0===s?t:s,c=e.children,u=e.focus,d=e.focusStyle,h=void 0===d?{}:d,f="transparent"===t,p=(0,S3.Ay)({default:{swatch:a8({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,u?h:{})}}),m={};return a&&(m.onMouseOver=function(e){return a(t,e)}),o.createElement("div",a8({style:p.swatch,onClick:function(e){return i(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},m),c,f&&o.createElement(M3,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))});var l8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c8=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,a=e.onChange,s=e.direction,l=e.style,c=e.renderers,u=e.pointer,d=e.className,h=void 0===d?"":d,f=(0,S3.Ay)({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:l}}});return o.createElement("div",{style:f.picker,className:"alpha-picker "+h},o.createElement($3,l8({},f.alpha,{rgb:t,hsl:n,pointer:u,renderers:c,onChange:a,direction:s})))};c8.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,S3.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.createElement("div",{style:n.picker})}},n8(c8);const u8=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};function d8(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new P5;++t<n;)this.add(e[t])}d8.prototype.add=d8.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},d8.prototype.has=function(e){return this.__data__.has(e)};const h8=d8,f8=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},p8=function(e,t){return e.has(t)},m8=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new h8:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=a?r(m,p,d,t,e,i):r(p,m,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!f8(t,function(e,t){if(!p8(f,t)&&(p===e||o(p,e,n,r,i)))return f.push(t)})){h=!1;break}}else if(p!==m&&!o(p,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h},g8=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},v8=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var b8=J3?J3.prototype:void 0,y8=b8?b8.valueOf:void 0;var x8=Object.prototype.propertyIsEnumerable,O8=Object.getOwnPropertySymbols;const w8=O8?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(O8(e),function(t){return x8.call(e,t)}))}:function(){return[]},S8=function(e){return function(e,t,n){var r=t(e);return n4(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,d6,w8)};var E8=Object.prototype.hasOwnProperty;const _8=O5(K3,"DataView"),C8=O5(K3,"Promise"),k8=O5(K3,"Set"),M8=O5(K3,"WeakMap");var T8="[object Map]",P8="[object Promise]",R8="[object Set]",A8="[object WeakMap]",$8="[object DataView]",N8=f5(_8),I8=f5(w5),D8=f5(C8),L8=f5(k8),z8=f5(M8),j8=a5;(_8&&j8(new _8(new ArrayBuffer(1)))!=$8||w5&&j8(new w5)!=T8||C8&&j8(C8.resolve())!=P8||k8&&j8(new k8)!=R8||M8&&j8(new M8)!=A8)&&(j8=function(e){var t=a5(e),n="[object Object]"==t?e.constructor:void 0,r=n?f5(n):"";if(r)switch(r){case N8:return $8;case I8:return T8;case D8:return P8;case L8:return R8;case z8:return A8}return t});const B8=j8;var F8="[object Arguments]",U8="[object Array]",H8="[object Object]",Q8=Object.prototype.hasOwnProperty;const V8=function(e,t,n,r,o,i){var a=n4(e),s=n4(t),l=a?U8:B8(e),c=s?U8:B8(t),u=(l=l==F8?H8:l)==H8,d=(c=c==F8?H8:c)==H8,h=l==c;if(h&&l4(e)){if(!l4(t))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new A5),a||x4(e)?m8(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new U5(e),new U5(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return V3(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=g8;case"[object Set]":var l=1&r;if(s||(s=v8),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=m8(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(y8)return y8.call(e)==y8.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var f=u&&Q8.call(e,"__wrapped__"),p=d&&Q8.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return i||(i=new A5),o(m,g,n,r,i)}}return!!h&&(i||(i=new A5),function(e,t,n,r,o,i){var a=1&n,s=S8(e),l=s.length;if(l!=S8(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:E8.call(t,u)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var v=a?r(g,m,u,t,e,i):r(m,g,u,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,i))},W8=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Z5(t)&&!Z5(n)?t!=t&&n!=n:V8(t,n,r,o,e,i))},G8=function(e){return e==e&&!s5(e)},X8=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},q8=function(e){var t=function(e){for(var t=d6(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,G8(o)]}return t}(e);return 1==t.length&&t[0][2]?X8(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new A5;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?W8(u,c,3,r,d):h))return!1}}return!0}(n,e,t)}};var Z8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y8=/^\w*$/;const K8=function(e,t){if(n4(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Z4(e))||Y8.test(e)||!Z8.test(e)||null!=t&&e in Object(t)};function J8(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(J8.Cache||P5),n}J8.Cache=P5;const e7=J8;var t7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n7=/\\(\\)?/g,r7=function(e){var t=e7(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(t7,function(e,n,r,o){t.push(r?o.replace(n7,"$1"):n||e)}),t});const o7=r7;var i7=J3?J3.prototype:void 0,a7=i7?i7.toString:void 0;const s7=function e(t){if("string"==typeof t)return t;if(n4(t))return u8(t,e)+"";if(Z4(t))return a7?a7.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},l7=function(e){return null==e?"":s7(e)},c7=function(e,t){return n4(e)?e:K8(e,t)?[e]:o7(l7(e))},u7=function(e){if("string"==typeof e||Z4(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},d7=function(e,t){for(var n=0,r=(t=c7(t,e)).length;null!=e&&n<r;)e=e[u7(t[n++])];return n&&n==r?e:void 0},h7=function(e,t){return null!=e&&t in Object(e)},f7=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=c7(t,e)).length,i=!1;++r<o;){var a=u7(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&r4(o)&&C4(a,o)&&(n4(e)||t4(e))}(e,t,h7)},p7=function(e,t){return K8(e)&&G8(t)?X8(u7(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:d7(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?f7(n,e):W8(t,r,3)}},m7=function(e){return K8(e)?(t=u7(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return d7(t,e)}}(e);var t},g7=function(e,t){var n=-1,r=o4(e)?Array(e.length):[];return h6(e,function(e,o,i){r[++n]=t(e,o,i)}),r},v7=function(e,t){return(n4(e)?u8:g7)(e,"function"==typeof(n=t)?n:null==n?I4:"object"==typeof n?n4(n)?p7(n[0],n[1]):q8(n):m7(n));var n},b7=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=(0,S3.Ay)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return o.createElement("div",{style:i.swatches},v7(t,function(e){return o.createElement(s8,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.createElement("div",{style:i.clear}))};var y7=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h="transparent"===r,f=function(e,n){Y6(e)&&t({hex:e,source:"hex"},n)},p=(0,S3.Ay)(H4({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:K6(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===s});return o.createElement("div",{style:p.card,className:"block-picker "+d},o.createElement("div",{style:p.triangle}),o.createElement("div",{style:p.head},h&&o.createElement(M3,{borderRadius:"6px 6px 0 0"}),o.createElement("div",{style:p.label},r)),o.createElement("div",{style:p.body},o.createElement(b7,{colors:i,onClick:f,onSwatchHover:n}),o.createElement(z3,{style:{input:p.input},value:r,onChange:f})))};y7.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),colors:Q3().arrayOf(Q3().string),triangle:Q3().oneOf(["top","hide"]),styles:Q3().object},y7.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},n8(y7);var x7="#ffcdd2",O7="#e57373",w7="#f44336",S7="#d32f2f",E7="#b71c1c",_7="#f8bbd0",C7="#f06292",k7="#e91e63",M7="#c2185b",T7="#880e4f",P7="#e1bee7",R7="#ba68c8",A7="#9c27b0",$7="#7b1fa2",N7="#4a148c",I7="#d1c4e9",D7="#9575cd",L7="#673ab7",z7="#512da8",j7="#311b92",B7="#c5cae9",F7="#7986cb",U7="#3f51b5",H7="#303f9f",Q7="#1a237e",V7="#bbdefb",W7="#64b5f6",G7="#2196f3",X7="#1976d2",q7="#0d47a1",Z7="#b3e5fc",Y7="#4fc3f7",K7="#03a9f4",J7="#0288d1",e9="#01579b",t9="#b2ebf2",n9="#4dd0e1",r9="#00bcd4",o9="#0097a7",i9="#006064",a9="#b2dfdb",s9="#4db6ac",l9="#009688",c9="#00796b",u9="#004d40",d9="#c8e6c9",h9="#81c784",f9="#4caf50",p9="#388e3c",m9="#dcedc8",g9="#aed581",v9="#8bc34a",b9="#689f38",y9="#33691e",x9="#f0f4c3",O9="#dce775",w9="#cddc39",S9="#afb42b",E9="#827717",_9="#fff9c4",C9="#fff176",k9="#ffeb3b",M9="#fbc02d",T9="#f57f17",P9="#ffecb3",R9="#ffd54f",A9="#ffc107",$9="#ffa000",N9="#ff6f00",I9="#ffe0b2",D9="#ffb74d",L9="#ff9800",z9="#f57c00",j9="#e65100",B9="#ffccbc",F9="#ff8a65",U9="#ff5722",H9="#e64a19",Q9="#bf360c",V9="#d7ccc8",W9="#a1887f",G9="#795548",X9="#5d4037",q9="#3e2723",Z9="#cfd8dc",Y9="#90a4ae",K9="#607d8b",J9="#455a64",eee="#263238",tee=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,a=e.active,s=e.circleSize,l=e.circleSpacing,c=(0,S3.Ay)({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:a});return o.createElement("div",{style:c.swatch},o.createElement(s8,{style:c.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};tee.defaultProps={circleSize:28,circleSpacing:14};const nee=(0,S3.H8)(tee);var ree=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,a=e.hex,s=e.circleSize,l=e.styles,c=void 0===l?{}:l,u=e.circleSpacing,d=e.className,h=void 0===d?"":d,f=(0,S3.Ay)(H4({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),p=function(e,t){return n({hex:e,source:"hex"},t)};return o.createElement("div",{style:f.card,className:"circle-picker "+h},v7(i,function(e){return o.createElement(nee,{key:e,color:e,onClick:p,onSwatchHover:r,active:a===e.toLowerCase(),circleSize:s,circleSpacing:u})}))};ree.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),circleSize:Q3().number,circleSpacing:Q3().number,styles:Q3().object},ree.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[w7,k7,A7,L7,U7,G7,K7,r9,l9,f9,v9,w9,k9,A9,L9,U9,G9,K9],styles:{}},n8(ree);const oee=function(e){return void 0===e};var iee=n(4657),aee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),see=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?Y6(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(oee(e.s)?n.props.hsl.s:e.s),l:Number(oee(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),aee(t,[{key:"render",value:function(){var e=this,t=(0,S3.Ay)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=o.createElement("div",{style:t.fields,className:"flexbox-fix"},o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=o.createElement("div",{style:t.fields,className:"flexbox-fix"},o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),o.createElement("div",{style:t.alpha},o.createElement(z3,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=o.createElement("div",{style:t.fields,className:"flexbox-fix"},o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),o.createElement("div",{style:t.field},o.createElement(z3,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),o.createElement("div",{style:t.alpha},o.createElement(z3,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),o.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,o.createElement("div",{style:t.toggle},o.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},o.createElement(iee.A,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(o.Component);see.defaultProps={view:"hex"};const lee=see,cee=function(){var e=(0,S3.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.createElement("div",{style:e.picker})},uee=function(){var e=(0,S3.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return o.createElement("div",{style:e.picker})};var dee=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,a=e.hsl,s=e.hsv,l=e.hex,c=e.renderers,u=e.styles,d=void 0===u?{}:u,h=e.className,f=void 0===h?"":h,p=e.defaultView,m=(0,S3.Ay)(H4({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:r});return o.createElement("div",{style:m.picker,className:"chrome-picker "+f},o.createElement("div",{style:m.saturation},o.createElement(s6,{style:m.Saturation,hsl:a,hsv:s,pointer:uee,onChange:n})),o.createElement("div",{style:m.body},o.createElement("div",{style:m.controls,className:"flexbox-fix"},o.createElement("div",{style:m.color},o.createElement("div",{style:m.swatch},o.createElement("div",{style:m.active}),o.createElement(M3,{renderers:c}))),o.createElement("div",{style:m.toggles},o.createElement("div",{style:m.hue},o.createElement(U3,{style:m.Hue,hsl:a,pointer:cee,onChange:n})),o.createElement("div",{style:m.alpha},o.createElement($3,{style:m.Alpha,rgb:i,hsl:a,pointer:cee,renderers:c,onChange:n})))),o.createElement(lee,{rgb:i,hsl:a,hex:l,view:p,onChange:n,disableAlpha:r})))};dee.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),disableAlpha:Q3().bool,styles:Q3().object,defaultView:Q3().oneOf(["hex","rgb","hsl"])},dee.defaultProps={width:225,disableAlpha:!1,styles:{}};const hee=n8(dee),fee=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.active,s=(0,S3.Ay)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:K6(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.createElement(s8,{style:s.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.createElement("div",{style:s.dot}))},pee=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=(0,S3.Ay)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return o.createElement("div",{style:i.fields,className:"flexbox-fix"},o.createElement("div",{style:i.active}),o.createElement(z3,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:a}),o.createElement(z3,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),o.createElement(z3,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),o.createElement(z3,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))};var mee=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,a=e.rgb,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,S3.Ay)(H4({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(e,n){e.hex?Y6(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return o.createElement(V4,{style:d.Compact,styles:l},o.createElement("div",{style:d.compact,className:"compact-picker "+u},o.createElement("div",null,v7(r,function(e){return o.createElement(fee,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})}),o.createElement("div",{style:d.clear})),o.createElement(pee,{hex:i,rgb:a,onChange:h})))};mee.propTypes={colors:Q3().arrayOf(Q3().string),styles:Q3().object},mee.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},n8(mee);const gee=(0,S3.H8)(function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,S3.Ay)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return o.createElement("div",{style:s.swatch},o.createElement(s8,{color:n,onClick:r,onHover:i,focusStyle:a}))});var vee=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,a=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,S3.Ay)(H4({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"===a,"bottom-right-triangle":"bottom-right"===a}),h=function(e,t){return r({hex:e,source:"hex"},t)};return o.createElement("div",{style:d.card,className:"github-picker "+u},o.createElement("div",{style:d.triangleShadow}),o.createElement("div",{style:d.triangle}),v7(n,function(e){return o.createElement(gee,{color:e,key:e,onClick:h,onSwatchHover:i})}))};vee.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),colors:Q3().arrayOf(Q3().string),triangle:Q3().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Q3().object},vee.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},n8(vee);var bee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yee=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,a=e.direction,s=e.pointer,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,S3.Ay)(H4({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},c));return o.createElement("div",{style:h.picker,className:"hue-picker "+d},o.createElement(U3,bee({},h.hue,{hsl:i,pointer:s,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:a})))};yee.propTypes={styles:Q3().object},yee.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,S3.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return o.createElement("div",{style:n.picker})},styles:{}},n8(yee),n8(function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,a=void 0===i?{}:i,s=e.className,l=void 0===s?"":s,c=(0,S3.Ay)(H4({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),u=function(e,n){e.hex?Y6(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return o.createElement(V4,{styles:a},o.createElement("div",{style:c.material,className:"material-picker "+l},o.createElement(z3,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:u}),o.createElement("div",{style:c.split,className:"flexbox-fix"},o.createElement("div",{style:c.third},o.createElement(z3,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:u})),o.createElement("div",{style:c.third},o.createElement(z3,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:u})),o.createElement("div",{style:c.third},o.createElement(z3,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:u})))))});const xee=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,a=(0,S3.Ay)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,o){e["#"]?Y6(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},o)};return o.createElement("div",{style:a.fields},o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:s}),o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:s}),o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:s}),o.createElement("div",{style:a.divider}),o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:s}),o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:s}),o.createElement(z3,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:s}),o.createElement("div",{style:a.divider}),o.createElement(z3,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),o.createElement("div",{style:a.fieldSymbols},o.createElement("div",{style:a.symbol},"°"),o.createElement("div",{style:a.symbol},"%"),o.createElement("div",{style:a.symbol},"%")))},Oee=function(e){var t=e.hsl,n=(0,S3.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return o.createElement("div",{style:n.picker})},wee=function(){var e=(0,S3.Ay)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return o.createElement("div",{style:e.pointer},o.createElement("div",{style:e.left},o.createElement("div",{style:e.leftInside})),o.createElement("div",{style:e.right},o.createElement("div",{style:e.rightInside})))},See=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,a=(0,S3.Ay)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return o.createElement("div",{style:a.button,onClick:t},n||r)},Eee=function(e){var t=e.rgb,n=e.currentColor,r=(0,S3.Ay)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return o.createElement("div",null,o.createElement("div",{style:r.label},"new"),o.createElement("div",{style:r.swatches},o.createElement("div",{style:r.new}),o.createElement("div",{style:r.current})),o.createElement("div",{style:r.label},"current"))};var _ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Cee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_ee(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,a=(0,S3.Ay)(H4({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return o.createElement("div",{style:a.picker,className:"photoshop-picker "+i},o.createElement("div",{style:a.head},this.props.header),o.createElement("div",{style:a.body,className:"flexbox-fix"},o.createElement("div",{style:a.saturation},o.createElement(s6,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Oee,onChange:this.props.onChange})),o.createElement("div",{style:a.hue},o.createElement(U3,{direction:"vertical",hsl:this.props.hsl,pointer:wee,onChange:this.props.onChange})),o.createElement("div",{style:a.controls},o.createElement("div",{style:a.top,className:"flexbox-fix"},o.createElement("div",{style:a.previews},o.createElement(Eee,{rgb:this.props.rgb,currentColor:this.state.currentColor})),o.createElement("div",{style:a.actions},o.createElement(See,{label:"OK",onClick:this.props.onAccept,active:!0}),o.createElement(See,{label:"Cancel",onClick:this.props.onCancel}),o.createElement(xee,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(o.Component);Cee.propTypes={header:Q3().string,styles:Q3().object},Cee.defaultProps={header:"Color Picker",styles:{}},n8(Cee);const kee=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.disableAlpha,s=(0,S3.Ay)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(e,o){e.hex?Y6(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},o))};return o.createElement("div",{style:s.fields,className:"flexbox-fix"},o.createElement("div",{style:s.double},o.createElement(z3,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:l})),o.createElement("div",{style:s.single},o.createElement(z3,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),o.createElement("div",{style:s.single},o.createElement(z3,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),o.createElement("div",{style:s.single},o.createElement(z3,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),o.createElement("div",{style:s.alpha},o.createElement(z3,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:l,dragLabel:"true",dragMax:"100"})))};var Mee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tee=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=(0,S3.Ay)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){r({hex:e,source:"hex"},t)};return o.createElement("div",{style:a.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return o.createElement("div",{key:n,style:a.swatchWrap},o.createElement(s8,Mee({},t,{style:a.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};Tee.propTypes={colors:Q3().arrayOf(Q3().oneOfType([Q3().string,Q3().shape({color:Q3().string,title:Q3().string})])).isRequired};const Pee=Tee;var Ree=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aee=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,h=e.styles,f=void 0===h?{}:h,p=e.className,m=void 0===p?"":p,g=(0,S3.Ay)(H4({default:Ree({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:c});return o.createElement("div",{style:g.picker,className:"sketch-picker "+m},o.createElement("div",{style:g.saturation},o.createElement(s6,{style:g.Saturation,hsl:a,hsv:i,onChange:s})),o.createElement("div",{style:g.controls,className:"flexbox-fix"},o.createElement("div",{style:g.sliders},o.createElement("div",{style:g.hue},o.createElement(U3,{style:g.Hue,hsl:a,onChange:s})),o.createElement("div",{style:g.alpha},o.createElement($3,{style:g.Alpha,rgb:n,hsl:a,renderers:d,onChange:s}))),o.createElement("div",{style:g.color},o.createElement(M3,null),o.createElement("div",{style:g.activeColor}))),o.createElement(kee,{rgb:n,hsl:a,hex:r,onChange:s,disableAlpha:c}),o.createElement(Pee,{colors:u,onClick:s,onSwatchHover:l}))};Aee.propTypes={disableAlpha:Q3().bool,width:Q3().oneOfType([Q3().string,Q3().number]),styles:Q3().object},Aee.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},n8(Aee);const $ee=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,a=e.active,s=e.first,l=e.last,c=(0,S3.Ay)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:l});return o.createElement("div",{style:c.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},Nee=function(e){var t=e.onClick,n=e.hsl,r=(0,S3.Ay)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return o.createElement("div",{style:r.swatches},o.createElement("div",{style:r.swatch},o.createElement($ee,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<i&&Math.abs(n.s-.5)<i,onClick:t,first:!0})),o.createElement("div",{style:r.swatch},o.createElement($ee,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<i&&Math.abs(n.s-.5)<i,onClick:t})),o.createElement("div",{style:r.swatch},o.createElement($ee,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<i&&Math.abs(n.s-.5)<i,onClick:t})),o.createElement("div",{style:r.swatch},o.createElement($ee,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<i&&Math.abs(n.s-.5)<i,onClick:t})),o.createElement("div",{style:r.swatch},o.createElement($ee,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<i&&Math.abs(n.s-.5)<i,onClick:t,last:!0})),o.createElement("div",{style:r.clear}))};var Iee=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,a=void 0===i?{}:i,s=e.className,l=void 0===s?"":s,c=(0,S3.Ay)(H4({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return o.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},o.createElement("div",{style:c.hue},o.createElement(U3,{style:c.Hue,hsl:t,pointer:r,onChange:n})),o.createElement("div",{style:c.swatches},o.createElement(Nee,{hsl:t,onClick:n})))};Iee.propTypes={styles:Q3().object},Iee.defaultProps={pointer:function(){var e=(0,S3.Ay)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return o.createElement("div",{style:e.picker})},styles:{}},n8(Iee);var Dee=n(748);const Lee=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,a=e.first,s=e.last,l=e.active,c=(0,S3.Ay)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:K6(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return o.createElement(s8,{color:t,style:c.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},o.createElement("div",{style:c.check},o.createElement(Dee.A,null)))},zee=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,a=(0,S3.Ay)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return o.createElement("div",{style:a.group},v7(r,function(e,a){return o.createElement(Lee,{key:e,color:e,active:e.toLowerCase()===i,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})}))};var jee=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,a=e.colors,s=e.hex,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,S3.Ay)(H4({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),f=function(e,t){return r({hex:e,source:"hex"},t)};return o.createElement("div",{style:h.picker,className:"swatches-picker "+d},o.createElement(V4,null,o.createElement("div",{style:h.overflow},o.createElement("div",{style:h.body},v7(a,function(e){return o.createElement(zee,{key:e.toString(),group:e,active:s,onClick:f,onSwatchHover:i})}),o.createElement("div",{style:h.clear})))))};jee.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),height:Q3().oneOfType([Q3().string,Q3().number]),colors:Q3().arrayOf(Q3().arrayOf(Q3().string)),styles:Q3().object},jee.defaultProps={width:320,height:240,colors:[[E7,S7,w7,O7,x7],[T7,M7,k7,C7,_7],[N7,$7,A7,R7,P7],[j7,z7,L7,D7,I7],[Q7,H7,U7,F7,B7],[q7,X7,G7,W7,V7],[e9,J7,K7,Y7,Z7],[i9,o9,r9,n9,t9],[u9,c9,l9,s9,a9],["#194D33",p9,f9,h9,d9],[y9,b9,v9,g9,m9],[E9,S9,w9,O9,x9],[T9,M9,k9,C9,_9],[N9,$9,A9,R9,P9],[j9,z9,L9,D9,I9],[Q9,H9,U9,F9,B9],[q9,X9,G9,W9,V9],[eee,J9,K9,Y9,Z9],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},n8(jee);var Bee=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,a=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,S3.Ay)(H4({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),f=function(e,n){Y6(e)&&t({hex:e,source:"hex"},n)};return o.createElement("div",{style:h.card,className:"twitter-picker "+d},o.createElement("div",{style:h.triangleShadow}),o.createElement("div",{style:h.triangle}),o.createElement("div",{style:h.body},v7(i,function(e,t){return o.createElement(s8,{key:t,color:e,hex:e,style:h.swatch,onClick:f,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),o.createElement("div",{style:h.hash},"#"),o.createElement(z3,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:f}),o.createElement("div",{style:h.clear})))};Bee.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),triangle:Q3().oneOf(["hide","top-left","top-right"]),colors:Q3().arrayOf(Q3().string),styles:Q3().object},Bee.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},n8(Bee);var Fee=function(e){var t=(0,S3.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return o.createElement("div",{style:t.picker})};Fee.propTypes={hsl:Q3().shape({h:Q3().number,s:Q3().number,l:Q3().number,a:Q3().number})},Fee.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const Uee=Fee;var Hee=function(e){var t=(0,S3.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return o.createElement("div",{style:t.picker})};Hee.propTypes={hsl:Q3().shape({h:Q3().number,s:Q3().number,l:Q3().number,a:Q3().number})},Hee.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const Qee=Hee,Vee=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,a=e.hsv,s=function(e,n){if(e.hex)Y6(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");J6(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var o=e.hsv.split(",");J6(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},n))}else if(e.hsl){var i=e.hsl.split(",");J6(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},n))}},l=(0,S3.Ay)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,u=Math.round(r.h)+"°, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",d=Math.round(a.h)+"°, "+Math.round(100*a.s)+"%, "+Math.round(100*a.v)+"%";return o.createElement("div",{style:l.wrap,className:"flexbox-fix"},o.createElement("div",{style:l.fields},o.createElement("div",{style:l.double},o.createElement(z3,{style:{input:l.input,label:l.label},label:"hex",value:i,onChange:s})),o.createElement("div",{style:l.column},o.createElement("div",{style:l.single},o.createElement(z3,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:s})),o.createElement("div",{style:l.single},o.createElement(z3,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:s})),o.createElement("div",{style:l.single},o.createElement(z3,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:s})))))};var Wee=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,a=e.hsv,s=e.hex,l=e.header,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?"":d,f=(0,S3.Ay)(H4({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return o.createElement("div",{style:f.picker,className:"google-picker "+h},o.createElement("div",{style:f.head},l),o.createElement("div",{style:f.swatch}),o.createElement("div",{style:f.saturation},o.createElement(s6,{hsl:i,hsv:a,pointer:Uee,onChange:n})),o.createElement("div",{style:f.body},o.createElement("div",{style:f.controls,className:"flexbox-fix"},o.createElement("div",{style:f.hue},o.createElement(U3,{style:f.Hue,hsl:i,radius:"4px",pointer:Qee,onChange:n}))),o.createElement(Vee,{rgb:r,hsl:i,hex:s,hsv:a,onChange:n})))};function Gee(e){return Gee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gee(e)}function Xee(){return Xee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xee.apply(null,arguments)}function qee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qee(Object(n),!0).forEach(function(t){Yee(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yee(e,t,n){return(t=function(e){var t=function(e){if("object"!=Gee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Gee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Gee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){return function(e){if(Array.isArray(e))return ite(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ote(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jee(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return ete(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ete(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ete(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,ete(d,"constructor",c),ete(c,"constructor",l),l.displayName="GeneratorFunction",ete(c,o,"GeneratorFunction"),ete(d),ete(d,o,"Generator"),ete(d,r,function(){return this}),ete(d,"toString",function(){return"[object Generator]"}),(Jee=function(){return{w:i,m:h}})()}function ete(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ete=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){ete(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},ete(e,t,n,r)}function tte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nte(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tte(i,r,o,a,s,"next",e)}function s(e){tte(i,r,o,a,s,"throw",e)}a(void 0)})}}function rte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||ote(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ote(e,t){if(e){if("string"==typeof e)return ite(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ite(e,t):void 0}}function ite(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Wee.propTypes={width:Q3().oneOfType([Q3().string,Q3().number]),styles:Q3().object,header:Q3().string},Wee.defaultProps={width:652,styles:{},header:"Color picker"},n8(Wee);var ate=function(e){var t,n,r,i,a,l,c=e.data,u=e.selected,d=e.id,h=e.onDelete,f=e.onOpenConfig,p=e.onColorChange,m=rte((0,o.useState)(!1),2),g=m[0],v=m[1],b=rte((0,o.useState)(!1),2),y=b[0],x=b[1],O=rte((0,o.useState)(!1),2),w=O[0],S=O[1],E=rte((0,o.useState)({left:0,top:0}),2),_=E[0],C=E[1];return(0,o.useEffect)(function(){var e=Zg.A.onRunningNodesChange(function(e){x(e.includes(d))});return function(){return e()}},[d]),o.createElement("div",{className:"custom-node-wrapper"},o.createElement($1,{isVisible:u,position:$K.Top,offset:10,align:"center"},o.createElement("div",{className:"node-toolbar-floating"},o.createElement("button",{className:"node-toolbar-btn",title:"设置",onClick:function(){return f(d)}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"#fff",strokeWidth:"1.5",fill:"none"}),o.createElement("path",{d:"M8 5.5V8L10 9",stroke:"#fff",strokeWidth:"1.2",strokeLinecap:"round"}))),o.createElement("button",{className:"node-toolbar-btn",title:"设置颜色",onClick:function(e){var t=e.currentTarget.getBoundingClientRect();C({left:t.left,top:t.bottom+4}),S(function(e){return!e})}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"#fff",strokeWidth:"1.5",fill:"none"}),o.createElement("circle",{cx:"6",cy:"7",r:"1",fill:"#1976d2"}),o.createElement("circle",{cx:"10",cy:"7",r:"1",fill:"#43a047"}),o.createElement("circle",{cx:"8",cy:"10",r:"1",fill:"#fbc02d"}))),w&&s.createPortal(o.createElement("div",{style:{position:"fixed",left:_.left,top:_.top,zIndex:9999}},o.createElement(hee,{color:c.color||"#2d2d2d",onChange:function(e){return p(d,e.hex)},disableAlpha:!0}),o.createElement("button",{style:{marginTop:8,width:"100%"},onClick:function(){return S(!1)}},"关闭")),document.body),o.createElement("button",{className:"node-toolbar-btn",title:"删除节点",onClick:function(){return h(d)}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("rect",{x:"3",y:"6",width:"10",height:"7",rx:"1",fill:"#fff",fillOpacity:"0.8"}),o.createElement("rect",{x:"6",y:"2",width:"4",height:"2",rx:"1",fill:"#fff",fillOpacity:"0.8"}),o.createElement("rect",{x:"2",y:"4",width:"12",height:"2",rx:"1",fill:"#fff",fillOpacity:"0.8"}),o.createElement("rect",{x:"7",y:"8",width:"2",height:"3",rx:"1",fill:"#888"}))))),o.createElement("div",{className:"custom-node".concat(y?" running":""),style:{background:c.color||"#2d2d2d"}},o.createElement("div",{className:"node-title",style:{position:"relative",borderBottom:(null===(t=c.inputs)||void 0===t?void 0:t.length)>0||(null===(n=c.outputs)||void 0===n?void 0:n.length)>0?"1px solid #444":"none"},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)}},c.label,g&&c.description&&o.createElement("div",{className:"node-description-tip"},c.description)),o.createElement("div",{className:"node-content".concat((null===(r=c.inputs)||void 0===r?void 0:r.length)>0?"":" no-inputs")},o.createElement("div",{className:"node-inputs"},null===(i=c.inputs)||void 0===i?void 0:i.map(function(e,t){return o.createElement("div",{key:"input-".concat(t),className:"port"},o.createElement(vJ,{type:"target",position:$K.Left,id:"input-".concat(t),style:{top:"".concat(30*(t+1),"px")},isConnectable:!0}),o.createElement("div",{className:"port-label",style:{position:"relative"}},o.createElement("span",{className:"port-name"},e.name),o.createElement("div",{className:"port-info"},o.createElement("span",{className:"port-type"},e.type),void 0!==e.default_value&&o.createElement("span",{className:"port-default-value",title:"默认值: ".concat(e.default_value)},e.default_value))))})),(null===(a=c.inputs)||void 0===a?void 0:a.length)>0&&o.createElement("div",{className:"divider"}),o.createElement("div",{className:"node-outputs"},null===(l=c.outputs)||void 0===l?void 0:l.map(function(e,t){return o.createElement("div",{key:"output-".concat(t),className:"port"},o.createElement(vJ,{type:"source",position:$K.Right,id:"output-".concat(t),style:{top:"".concat(30*(t+1),"px")},isConnectable:!0}),o.createElement("div",{className:"port-label",style:{position:"relative"}},o.createElement("span",{className:"port-name"},e.name),o.createElement("div",{className:"port-info"},o.createElement("span",{className:"port-type"},e.type),void 0!==e.default_value&&o.createElement("span",{className:"port-default-value",title:"默认值: ".concat(e.default_value)},e.default_value))))})))))};const ste=function(e){var t=e.onTreeDataChange,n=rte((0,o.useState)([]),2),r=n[0],i=n[1],a=rte((0,o.useState)([]),2),s=a[0],l=a[1],c=rte((0,o.useState)([]),2),u=c[0],d=c[1],h=rte((0,o.useState)(!1),2),f=h[0],p=h[1],m=rte((0,o.useState)(!1),2),g=m[0],v=m[1],b=rte((0,o.useState)(null),2),y=b[0],x=b[1],O=rte((0,o.useState)(!1),2),w=O[0],S=O[1],E=rte((0,o.useState)(null),2),_=E[0],C=E[1],k=rte((0,o.useState)(null),2),M=k[0],T=k[1],P=rte((0,o.useState)(!1),2),R=P[0],A=P[1],$=rte((0,o.useState)(!1),2),N=$[0],I=$[1],D=rte((0,o.useState)(!1),2),L=D[0],z=D[1],j=(0,o.useRef)(r);(0,o.useEffect)(function(){j.current=r,window.flowNodes=r,window.flowEdges=s},[r,s]),(0,o.useEffect)(function(){var e=Zg.A.onRunningStateChange(function(e){I(e)});return function(){return e()}},[]);var B=function(){var e=nte(Jee().m(function e(){var t,n,r;return Jee().w(function(e){for(;;)switch(e.n){case 0:if(!N){e.n=7;break}if(e.p=1,"function"!=typeof Zg.A.nodeController.forceStop){e.n=3;break}return e.n=2,Zg.A.nodeController.forceStop();case 2:e.n=4;break;case 3:return e.n=4,Zg.A.nodeController.stop();case 4:(0,qg.log)("流程已强制停止",qg.LOG_TYPES.INFO),e.n=6;break;case 5:e.p=5,r=e.v,(0,qg.log)("停止流程失败：".concat(r.message),qg.LOG_TYPES.ERROR);case 6:e.n=11;break;case 7:if(e.p=7,t=window.flowNodes||[],n=window.flowEdges||[],0!==t.length){e.n=8;break}return(0,qg.log)("没有可执行的节点",qg.LOG_TYPES.WARNING),e.a(2);case 8:return(0,qg.log)("开始执行流程...",qg.LOG_TYPES.INFO),e.n=9,Zg.A.nodeController.start(t,n);case 9:(0,qg.log)("流程执行完成",qg.LOG_TYPES.SUCCESS),e.n=11;break;case 10:e.p=10,e.v,(0,qg.log)("流程执行失败",qg.LOG_TYPES.ERROR);case 11:return e.a(2)}},e,null,[[7,10],[1,5]])}));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)(function(){var e=function(){var e=nte(Jee().m(function e(){var t,n;return Jee().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!V2.isInitialized()&&!V2.isInitializing()){e.n=1;break}return e.a(2);case 1:return S(!1),d([]),K2(),t=new Promise(function(e,t){setTimeout(function(){return t(new Error("GUI初始化超时"))},5e3)}),e.n=2,Promise.race([V2.initialize(),t]);case 2:d(V2.getNodeList()),S(!0),e.n=4;break;case 3:e.p=3,n=e.v,(0,qg.log)("GUI初始化失败: ".concat(n.message),qg.LOG_TYPES.ERROR),S(!0);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();e()},[]);var F=(0,o.useCallback)(function(e){i(function(t){return p0(e,t)})},[]),U=(0,o.useCallback)(function(e){l(function(t){return m0(e,t)})},[]),H=(0,o.useCallback)(function(e){var t=r.find(function(t){return t.id===e.source}),n=r.find(function(t){return t.id===e.target});if(t&&n){var o=t.data.outputs[e.sourceHandle.split("-")[1]],i=n.data.inputs[e.targetHandle.split("-")[1]];o&&i&&o.type===i.type?l(function(t){return[].concat(Kee(t),[Zee(Zee({},e),{},{id:"edge-".concat(e.source,"-").concat(e.sourceHandle,"-").concat(e.target,"-").concat(e.targetHandle,"-").concat(Date.now())})])}):(0,qg.log)("连接失败: 类型不匹配 (".concat(null==o?void 0:o.type," -> ").concat(null==i?void 0:i.type,")"),qg.LOG_TYPES.WARNING)}},[r]),Q=function(){p(!0)},V=(0,o.useCallback)(function(e){i(function(t){return t.filter(function(t){return t.id!==e})}),l(function(t){return t.filter(function(t){return t.source!==e&&t.target!==e})})},[]),W=(0,o.useCallback)(function(e){(0,qg.log)("打开配置: ".concat(e),qg.LOG_TYPES.INFO);var t=j.current.find(function(t){return t.id===e});x(t),v(!0)},[]),G=(0,o.useCallback)(function(e,t){i(function(n){return n.map(function(n){return n.id===e?Zee(Zee({},n),{},{data:Zee(Zee({},n.data),{},{color:t})}):n})})},[]),X=(0,o.useMemo)(function(){return{custom:function(e){return o.createElement(ate,Xee({},e,{onDelete:V,onOpenConfig:W,onColorChange:G}))}}},[V,W,G]);function q(e,t,n){return n.some(function(n){var r=n.position.x,o=n.position.y;return Math.abs(r-e)<220&&Math.abs(o-t)<120})}var Z=function(e){var t=e.data.type;if("流"===t){for(var n,o,a=100,s=100;q(a,s,r);)a+=40,s+=40;var l={id:"".concat(e.path,"-").concat(Date.now()),config:e.data,type:"custom",position:{x:a,y:s},path:e.path,data:{type:e.data.type,label:e.data.name,description:e.data.description,inputs:(null===(n=e.data.parameters)||void 0===n?void 0:n.inputs)||[],outputs:(null===(o=e.data.parameters)||void 0===o?void 0:o.outputs)||[],config:e.data.config||[],color:"#2d2d2d"}};i(function(e){return[].concat(Kee(e),[l])}),p(!1),(0,qg.log)("添加节点: ".concat(e.data.name),qg.LOG_TYPES.INFO)}else if("任务"===t){for(var c,u,d=100,h=100;q(d,h,r);)d+=40,h+=40;var f={id:"".concat(e.path,"-").concat(Date.now()),config:e.data,type:"custom",position:{x:d,y:h},path:e.path,data:{type:e.data.type,label:e.data.name,description:e.data.description,inputs:(null===(c=e.data.parameters)||void 0===c?void 0:c.inputs)||[],outputs:(null===(u=e.data.parameters)||void 0===u?void 0:u.outputs)||[],config:e.data.config||[],color:"#2d2d2d"}};i(function(e){return[].concat(Kee(e),[f])}),p(!1),(0,qg.log)("添加任务节点: ".concat(e.data.name),qg.LOG_TYPES.INFO)}};(0,o.useEffect)(function(){var e=setTimeout(function(){var e=document.querySelector(".node-type");e&&(e.onclick=Q)},100);return function(){clearTimeout(e)}},[]);var Y=(0,o.useCallback)(function(e,t){i(function(n){return n.map(function(n){if(n.id===e){var r=n.data.config.map(function(e){var n=t[e.name];return void 0!==n?Zee(Zee({},e),{},{default_value:n}):e});return Zee(Zee({},n),{},{data:Zee(Zee({},n.data),{},{config:r})})}return n})})},[]),K=(0,o.useCallback)(function(e,t){e.preventDefault(),T(t),C({x:e.clientX,y:e.clientY})},[]),J=(0,o.useCallback)(function(e){"delete"===e.key&&M&&l(function(e){return e.filter(function(e){return e.id!==M.id})}),C(null)},[M]),ee=(0,o.useCallback)(function(e,t){e.stopPropagation(),T(t)},[]),te=(0,o.useCallback)(function(){T(null),C(null)},[]),ne=(0,o.useCallback)(function(e){i([]),l([]);var n=e.nodes.map(function(e){return Zee(Zee({},e),{},{type:"custom",data:Zee(Zee({},e.data),{},{onDelete:function(){return V(e.id)}})})});i(n);var r=e.edges.map(function(e){return Zee(Zee({},e),{},{id:"edge-".concat(e.source,"-").concat(e.sourceHandle,"-").concat(e.target,"-").concat(e.targetHandle,"-").concat(Date.now()),style:{stroke:"#555",strokeWidth:2}})});l(r),t&&t()},[V,t]);return o.createElement("div",{className:"main-content"},w?o.createElement(o.Fragment,null,o.createElement("div",{className:"top-toolbar".concat(R?" collapsed":""),onClick:R?function(){return A(!1)}:void 0},o.createElement("button",{className:"toolbar-toggle",onClick:function(e){e.stopPropagation(),A(!R)},title:R?"展开工具栏":"收起工具栏"},R?o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M4 6L8 10L12 6",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})):o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M12 10L8 6L4 10",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),!R&&o.createElement("div",{className:"toolbar-buttons"},o.createElement("button",{className:"toolbar-button ".concat(N?"danger":"primary"),onClick:B,title:N?"停止运行":"运行流程"},N?o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z",clipRule:"evenodd"})):o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))),o.createElement("button",{className:"toolbar-button",onClick:function(){return z(!0)},title:"模板管理"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{fillRule:"evenodd",d:"M1.5 6.375c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v3.026a.75.75 0 0 1-.375.65 2.249 2.249 0 0 0 0 3.898.75.75 0 0 1 .375.65v3.026c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 17.625v-3.026a.75.75 0 0 1 .374-.65 2.249 2.249 0 0 0 0-3.898.75.75 0 0 1-.374-.65V6.375Zm15-1.125a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0V6a.75.75 0 0 1 .75-.75Zm.75 4.5a.75.75 0 0 0-1.5 0v.75a.75.75 0 0 0 1.5 0v-.75Zm-.75 3a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75Zm.75 4.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75ZM6 12a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 12Zm.75 2.25a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))),o.createElement("button",{className:"toolbar-button",onClick:function(){var e;0!==r.length?Dh.confirm({title:"导出模板",content:o.createElement("div",null,o.createElement("p",null,"请输入模板名称："),o.createElement(ly,{placeholder:"请输入模板名称",onChange:function(e){Dh.confirm.data=e.target.value},style:{marginTop:"8px"}})),okText:"确定",cancelText:"取消",className:"dark-modal",onOk:(e=nte(Jee().m(function e(){var n,o,i,a,l;return Jee().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,n=Dh.confirm.data||"未命名模板",o=f3.getTemplateDir(),i=kS().join(o,"".concat(n,".json")),a={name:n,description:"自定义导出模板",version:"1.0.0",created:(new Date).toISOString(),nodes:r.map(function(e){var t=e.path||"",n=kS().dirname(t),r=kS().basename(t);return{id:e.id,type:e.type,position:e.position,path:t,folder:n,name:r,data:{label:e.data.label,description:e.data.description,inputs:e.data.inputs,outputs:e.data.outputs,config:e.data.config,type:e.data.type}}}),edges:s.map(function(e){return{source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle}})},!y_().fileExists(i)){e.n=1;break}return e.a(2,new Promise(function(e){var r;Dh.confirm({title:"文件已存在",content:'模板 "'.concat(n,'" 已存在，是否覆盖？'),okText:"覆盖",cancelText:"取消",className:"dark-modal",onOk:(r=nte(Jee().m(function r(){var o;return Jee().w(function(r){for(;;)switch(r.n){case 0:return r.p=0,r.n=1,f3.saveTemplate(n,a);case 1:Dh.success({title:"导出成功",content:"模板已成功导出。",okText:"确定",className:"dark-modal"}),t(),e(),r.n=3;break;case 2:r.p=2,o=r.v,Dh.error({title:"导出失败",content:"导出模板时发生错误：".concat(o.message),okText:"确定",className:"dark-modal"}),e();case 3:return r.a(2)}},r,null,[[0,2]])})),function(){return r.apply(this,arguments)}),onCancel:function(){e()}})}));case 1:return e.n=2,f3.saveTemplate(n,a);case 2:Dh.success({title:"导出成功",content:"模板已成功导出。",okText:"确定",className:"dark-modal"}),t();case 3:e.n=5;break;case 4:e.p=4,l=e.v,Dh.error({title:"导出失败",content:"导出模板时发生错误：".concat(l.message),okText:"确定",className:"dark-modal"});case 5:return e.a(2)}},e,null,[[0,4]])})),function(){return e.apply(this,arguments)})}):Dh.warning({title:"无法导出模板",content:"当前画布中没有节点，请先添加节点后再导出。",okText:"确定",className:"dark-modal"})},title:"导出模板"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{d:"M9.97.97a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1-1.06 1.06l-1.72-1.72v3.44h-1.5V3.31L8.03 5.03a.75.75 0 0 1-1.06-1.06l3-3ZM9.75 6.75v6a.75.75 0 0 0 1.5 0v-6h3a3 3 0 0 1 3 3v7.5a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3h3Z"}),o.createElement("path",{d:"M7.151 21.75a2.999 2.999 0 0 0 2.599 1.5h7.5a3 3 0 0 0 3-3v-7.5c0-1.11-.603-2.08-1.5-2.599v7.099a4.5 4.5 0 0 1-4.5 4.5H7.151Z"}))),o.createElement("button",{className:"toolbar-button",onClick:function(){Dh.confirm({title:"自动排版",content:"确定要对当前画布进行自动排版吗？",okText:"确定",cancelText:"取消",className:"dark-modal",onOk:function(){var e=function(e,t,n,r,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ote(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(o);try{for(s.s();!(i=s.n()).done;){var l=rte(i.value,2),c=l[0],u=l[1];if(c!==a){var d=u.position,h=d.x,f=d.y,p=u.size,m=p.width,g=p.height;if(e<h+m+50&&e+n+50>h&&t<f+g+50&&t+r+50>f)return!1}}}catch(e){s.e(e)}finally{s.f()}return!0},t=function(t,n,r,o,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=t,l=n,c=0;!e(s,l,r,o,i,a)&&c<100;)l+=50,c%5==0&&(s+=300,l=n),c++;return{x:s,y:l}},n=function(){var e=new Map,t=new Set;return r.forEach(function(n){var r=function(e){var t,n=e.data,r=n.inputs,o=void 0===r?[]:r,i=n.outputs,a=void 0===i?[]:i,s=120+50*Math.max(o.length,a.length),l=220,c=8*((null===(t=e.data.label)||void 0===t?void 0:t.length)||0),u=20*(o.length+a.length);return{width:l=Math.max(l,c+40,u+40),height:s}}(n);e.set(n.id,{node:n,size:r,children:new Set,parents:new Set,level:0,position:{x:0,y:0}}),t.add(n.id)}),s.forEach(function(n){var r=e.get(n.source),o=e.get(n.target);r&&o&&(r.children.add(n.target),o.parents.add(n.source),t.delete(n.target))}),{nodeMap:e,rootNodes:t}}(),o=n.nodeMap,a=n.rootNodes;!function(e,n){var r=100,o=Array.from(n);o.forEach(function(n){var o=e.get(n),i=t(100,r,o.size.width,o.size.height,e,n);o.position={x:100,y:i.y},r=i.y+o.size.height+50}),o.forEach(function(n){var r=function(n,o){var i=e.get(n);Array.from(i.children).forEach(function(n,a){var s=e.get(n),l=i.position.x+i.size.width+300,c=i.position.y+50*a,u=t(l,c,s.size.width,s.size.height,e,n);s.position=u,s.level=o,r(n,o+1)})};r(n,1)})}(o,a);var l=r.map(function(e){return Zee(Zee({},e),{},{position:o.get(e.id).position})});i(l)}})},title:"自动排版"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{fillRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l2.25 1.313a.75.75 0 0 1-.756 1.295L12 3.118 10.128 4.21a.75.75 0 1 1-.756-1.295l2.25-1.313ZM5.898 5.81a.75.75 0 0 1-.27 1.025l-1.14.665 1.14.665a.75.75 0 1 1-.756 1.295L3.75 8.806v.944a.75.75 0 0 1-1.5 0V7.5a.75.75 0 0 1 .372-.648l2.25-1.312a.75.75 0 0 1 1.026.27Zm12.204 0a.75.75 0 0 1 1.026-.27l2.25 1.312a.75.75 0 0 1 .372.648v2.25a.75.75 0 0 1-1.5 0v-.944l-1.122.654a.75.75 0 1 1-.756-1.295l1.14-.665-1.14-.665a.75.75 0 0 1-.27-1.025Zm-9 5.25a.75.75 0 0 1 1.026-.27L12 11.882l1.872-1.092a.75.75 0 1 1 .756 1.295l-1.878 1.096V15a.75.75 0 0 1-1.5 0v-1.82l-1.878-1.095a.75.75 0 0 1-.27-1.025ZM3 13.5a.75.75 0 0 1 .75.75v1.82l1.878 1.095a.75.75 0 1 1-.756 1.295l-2.25-1.312a.75.75 0 0 1-.372-.648v-2.25A.75.75 0 0 1 3 13.5Zm18 0a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.372.648l-2.25 1.312a.75.75 0 1 1-.756-1.295l1.878-1.096V14.25a.75.75 0 0 1 .75-.75Zm-9 5.25a.75.75 0 0 1 .75.75v.944l1.122-.654a.75.75 0 1 1 .756 1.295l-2.25 1.313a.75.75 0 0 1-.756 0l-2.25-1.313a.75.75 0 1 1 .756-1.295l1.122.654V19.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))),o.createElement("button",{className:"toolbar-button",onClick:function(){Dh.confirm({title:"清空画布",content:"确定要清空当前画布吗？此操作不可恢复。",okText:"确定",cancelText:"取消",className:"dark-modal",onOk:function(){i([]),l([])}})},title:"清空画布"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6"},o.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))),o.createElement("button",{className:"toolbar-button",onClick:Q,title:"添加节点"},o.createElement("svg",{width:"25",height:"25",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M8 3V13M3 8H13",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round"}))))),o.createElement(C1,{nodes:r,edges:s.map(function(e){var t,n;return Zee(Zee({},e),{},{style:{stroke:e.id===(null==M?void 0:M.id)?"#00ff00":(null===(t=e.style)||void 0===t?void 0:t.stroke)||"#555",strokeWidth:e.id===(null==M?void 0:M.id)?2.5:(null===(n=e.style)||void 0===n?void 0:n.strokeWidth)||2,transition:"stroke 0.3s, stroke-width 0.3s"}})}),onNodesChange:F,onEdgesChange:U,onConnect:H,nodeTypes:X,onEdgeClick:ee,onEdgeContextMenu:K,onPaneClick:te,fitView:!0,fitViewOptions:{minZoom:.01,maxZoom:50,padding:.05}},o.createElement(F1,null),o.createElement(M2,{onNodeSelect:Z}),o.createElement(Z1,{nodeColor:function(e){return e.type,"#2d2d2d"},maskColor:"rgba(0, 0, 0, 0.1)",pannable:!0,zoomable:!0,style:{backgroundColor:"#2d2d2d",borderRadius:"4px",border:"1px solid #444"}})),_&&o.createElement(Ng,{style:{position:"fixed",left:_.x,top:_.y,zIndex:1e3,background:"#2d2d2d",border:"1px solid #444",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},items:[{key:"delete",label:"断开",style:{color:"#fff"}},{key:"cancel",label:"取消",style:{color:"#fff"}}],onClick:J}),o.createElement(w3,{visible:L,onClose:function(){return z(!1)},onApplyTemplate:ne})):o.createElement("div",{className:"loading"},"正在初始化..."),o.createElement(g2,{isOpen:f,onClose:function(){return p(!1)},nodes:u,onNodeSelect:Z}),o.createElement(D2,{open:g,node:y,onClose:function(){return v(!1)},onSave:function(e){y&&Y(y.id,e)}}))},lte=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:o}=e,i=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${i}`]:{[`&${i}-danger:not(${i}-disabled)`]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},cte=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:o,sizePopupArrow:i,antCls:a,iconCls:s,motionDurationMid:l,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:h,fontSizeIcon:f,controlPaddingHorizontal:p,colorBgElevated:m}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(i).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${a}-btn`]:{[`& > ${s}-down, & > ${a}-btn-icon > ${s}-down`]:{fontSize:f}},[`${t}-wrap`]:{position:"relative",[`${a}-btn > ${s}-down`]:{fontSize:f},[`${s}-down::before`]:{transition:`transform ${l}`}},[`${t}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottom,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottom,\n          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomRight,\n          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:sg},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topLeft,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topLeft,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-top,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-top,\n          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topRight,\n          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topRight`]:{animationName:cg},[`&${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottom,\n          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:lg},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topLeft,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-top,\n          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topRight`]:{animationName:ug}}},Um(e,m,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},xi(e)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},wi(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Le(c)} ${Le(p)}`,color:e.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Le(c)} ${Le(p)}`,color:e.colorText,fontWeight:"normal",fontSize:u,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},wi(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:h,cursor:"not-allowed","&:hover":{color:h,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Le(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:f,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Le(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(p).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:h,backgroundColor:m,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[gg(e,"slide-up"),gg(e,"slide-down"),gO(e,"move-up"),gO(e,"move-down"),th(e,"zoom-big")]]},ute=hs("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:o}=e,i=is(e,{menuCls:`${o}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[cte(i),lte(i)]},e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},Bm({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),zm(e)),{resetStyle:!1}),dte=e=>{var t;const{menu:n,arrow:r,prefixCls:i,children:a,trigger:s,disabled:l,dropdownRender:c,popupRender:u,getPopupContainer:d,overlayClassName:h,rootClassName:f,overlayStyle:p,open:m,onOpenChange:g,visible:v,onVisibleChange:b,mouseEnterDelay:y=.15,mouseLeaveDelay:x=.1,autoAdjustOverflow:O=!0,placement:w="",overlay:S,transitionName:E,destroyOnHidden:_,destroyPopupOnHide:C}=e,{getPopupContainer:k,getPrefixCls:M,direction:T,dropdown:P}=o.useContext(I),R=u||c;fn();const A=o.useMemo(()=>{const e=M();return void 0!==E?E:w.includes("top")?`${e}-slide-down`:`${e}-slide-up`},[M,w,E]),$=o.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:"rtl"===T?"bottomRight":"bottomLeft",[w,T]),N=M("dropdown",i),D=rd(N),[L,z,j]=ute(N,D),[,B]=mi(),F=o.Children.only("object"!=typeof(J=a)&&"function"!=typeof J||null===J?o.createElement("span",null,a):a),U=Xa(F,{className:$r()(`${N}-trigger`,{[`${N}-rtl`]:"rtl"===T},F.props.className),disabled:null!==(t=F.props.disabled)&&void 0!==t?t:l}),H=l?[]:s,Q=!!(null==H?void 0:H.includes("contextMenu")),[V,W]=co(!1,{value:null!=m?m:v}),G=ao(e=>{null==g||g(e,{source:"trigger"}),null==b||b(e),W(e)}),X=$r()(h,f,z,j,D,null==P?void 0:P.className,{[`${N}-rtl`]:"rtl"===T}),q=Wm({arrowPointAtCenter:"object"==typeof r&&r.pointAtCenter,autoAdjustOverflow:O,offset:B.marginXXS,arrowWidth:r?B.sizePopupArrow:0,borderRadius:B.borderRadius}),Z=o.useCallback(()=>{(null==n?void 0:n.selectable)&&(null==n?void 0:n.multiple)||(null==g||g(!1,{source:"menu"}),W(!1))},[null==n?void 0:n.selectable,null==n?void 0:n.multiple]),[Y,K]=La("Dropdown",null==p?void 0:p.zIndex);var J;let ee=o.createElement(cE,Object.assign({alignPoint:Q},Va(e,["rootClassName"]),{mouseEnterDelay:y,mouseLeaveDelay:x,visible:V,builtinPlacements:q,arrow:!!r,overlayClassName:X,prefixCls:N,getPopupContainer:d||k,transitionName:A,trigger:H,overlay:()=>{let e;return e=(null==n?void 0:n.items)?o.createElement(Ng,Object.assign({},n)):"function"==typeof S?S():S,R&&(e=R(e)),e=o.Children.only("string"==typeof e?o.createElement("span",null,e):e),o.createElement(og,{prefixCls:`${N}-menu`,rootClassName:$r()(j,D),expandIcon:o.createElement("span",{className:`${N}-menu-submenu-arrow`},"rtl"===T?o.createElement($y,{className:`${N}-menu-submenu-arrow-icon`}):o.createElement(Dy,{className:`${N}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Z,validator:({mode:e})=>{}},e)},placement:$,onVisibleChange:G,overlayStyle:Object.assign(Object.assign(Object.assign({},null==P?void 0:P.style),p),{zIndex:Y}),autoDestroy:null!=_?_:C}),U);return Y&&(ee=o.createElement($a.Provider,{value:K},ee)),L(ee)},hte=Mh(dte,"align",void 0,"dropdown",e=>e);dte._InternalPanelDoNotUseOrYouWillBeFired=e=>o.createElement(hte,Object.assign({},e),o.createElement("span",null));const fte=dte;const pte=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=o.useContext(I),{prefixCls:i,type:a="default",danger:s,disabled:l,loading:c,onClick:u,htmlType:d,children:h,className:f,menu:p,arrow:m,autoFocus:g,overlay:v,trigger:b,align:y,open:x,onOpenChange:O,placement:w,getPopupContainer:S,href:E,icon:_=o.createElement(km,null),title:C,buttonsRender:k=e=>e,mouseEnterDelay:M,mouseLeaveDelay:T,overlayClassName:P,overlayStyle:R,destroyOnHidden:A,destroyPopupOnHide:$,dropdownRender:N,popupRender:D}=e,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),z=n("dropdown",i),j=`${z}-button`,B={menu:p,arrow:m,autoFocus:g,align:y,disabled:l,trigger:l?[]:b,onOpenChange:O,getPopupContainer:S||t,mouseEnterDelay:M,mouseLeaveDelay:T,overlayClassName:P,overlayStyle:R,destroyOnHidden:A,popupRender:D||N},{compactSize:F,compactItemClassnames:U}=As(z,r),H=$r()(j,U,f);"destroyPopupOnHide"in e&&(B.destroyPopupOnHide=$),"overlay"in e&&(B.overlay=v),"open"in e&&(B.open=x),B.placement="placement"in e?w:"rtl"===r?"bottomLeft":"bottomRight";const Q=o.createElement(Hl,{type:a,danger:s,disabled:l,loading:c,onClick:u,htmlType:d,href:E,title:C},h),V=o.createElement(Hl,{type:a,danger:s,icon:_}),[W,G]=k([Q,V]);return o.createElement(JC.Compact,Object.assign({className:H,size:F,block:!0},L),W,o.createElement(fte,Object.assign({},B),G))};pte.__ANT_BUTTON=!0;const mte=pte,gte=fte;gte.Button=mte;const vte=gte;var bte=n(3433),yte={};yte.styleTagTransform=Wg(),yte.setAttributes=Ug(),yte.insert=Bg().bind(null,"head"),yte.domAPI=zg(),yte.insertStyleElement=Qg(),Dg()(bte.A,yte),bte.A&&bte.A.locals&&bte.A.locals;var xte=n(2717);function Ote(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||wte(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wte(e,t){if(e){if("string"==typeof e)return Ste(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ste(e,t):void 0}}function Ste(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ete=function(){var e=Ote((0,o.useState)([]),2),t=e[0],n=e[1],r=Ote((0,o.useState)("all"),2),i=r[0],a=r[1],s=Ote((0,o.useState)(""),2),l=s[0],c=s[1],u=Ote((0,o.useState)(!0),2),d=u[0],h=u[1],f=Ote((0,o.useState)(0),2),p=(f[0],f[1]),m=(0,o.useRef)(null),g=(0,o.useRef)(0),v=Ote((0,o.useState)(!1),2),b=v[0],y=v[1],x=(0,o.useRef)(null),O=(0,o.useRef)(!1),w=Ote((0,o.useState)({visible:!1,x:0,y:0,selectedLog:null}),2),S=w[0],E=w[1],_=(0,o.useCallback)(function(){if(m.current&&d){var e=m.current.scrollHeight;m.current.scrollTop=e,p(e)}},[d]),C=(0,o.useCallback)(function(e){d||p(e.target.scrollTop)},[d]),k=(0,o.useCallback)(function(){m.current&&(g.current=m.current.clientHeight)},[]);(0,o.useEffect)(function(){return k(),window.addEventListener("resize",k),function(){return window.removeEventListener("resize",k)}},[k]);var M=(0,o.useCallback)(function(e){n(function(t){var n,r=[].concat(function(e){if(Array.isArray(e))return Ste(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||wte(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);return r.length>1e3?r.slice(-1e3):r})},[]),T=(0,o.useCallback)(function(e,t){M(t)},[M]);(0,o.useEffect)(function(){return 1==window.isMainWindow&&((0,qg.addLogListener)(M),O.current||(xte.A.on("log-message",T),O.current=!0)),function(){1==window.isMainWindow&&((0,qg.removeLogListener)(M),O.current&&(xte.A.off("log-message",T),O.current=!1))}},[M,T]),(0,o.useEffect)(function(){_()},[t,_]),(0,o.useEffect)(function(){b&&x.current&&x.current.focus()},[b]);var P=function(e){switch(e){case qg.LOG_TYPES.INFO:return"log-info";case qg.LOG_TYPES.WARNING:return"log-warning";case qg.LOG_TYPES.ERROR:return"log-error";default:return""}},R=[{key:"all",label:"全部"},{key:qg.LOG_TYPES.INFO,label:"信息"},{key:qg.LOG_TYPES.WARNING,label:"警告"},{key:qg.LOG_TYPES.ERROR,label:"错误"}],A=t.filter(function(e){var t="all"===i||e.type===i,n=!l||e.message.toLowerCase().includes(l.toLowerCase())||e.timestamp.includes(l);return t&&n}),$=function(){E({visible:!1,x:0,y:0,selectedLog:null})};return(0,o.useEffect)(function(){var e=function(){return $()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}},[]),o.createElement("div",{className:"debug-console"},o.createElement("div",{className:"console-header"},o.createElement("div",{className:"console-title"},"输出控制台"),o.createElement(JC,null,o.createElement("div",{className:"console-search-wrapper".concat(b?" open":"")},!b&&o.createElement(Vb,{className:"console-search-icon",onClick:function(){return y(!0)}}),b&&o.createElement("input",{ref:x,type:"text",className:"console-search-input",placeholder:"搜索日志...",value:l,onChange:function(e){return c(e.target.value)},onBlur:function(){return y(!1)}})),o.createElement("span",{className:"console-scroll-lock ".concat(d?"locked":""),onClick:function(){if(h(!d),!d&&m.current){var e=m.current.scrollHeight;m.current.scrollTop=e,p(e)}},title:d?"取消锁定滚动":"锁定滚动"},d?o.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor"},o.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})):o.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor"},o.createElement("path",{d:"M18 1.5c2.9 0 5.25 2.35 5.25 5.25v3.75a.75.75 0 0 1-1.5 0V6.75a3.75 3.75 0 1 0-7.5 0v3a3 3 0 0 1 3 3v6.75a3 3 0 0 1-3 3H3.75a3 3 0 0 1-3-3v-6.75a3 3 0 0 1 3-3h9v-3c0-2.9 2.35-5.25 5.25-5.25Z"}))),o.createElement("span",{className:"console-clear",onClick:function(){n([])}},"清除"),o.createElement(vte,{menu:{items:R,onClick:function(e){var t=e.key;a(t)},selectedKeys:[i]},trigger:["click"]},o.createElement("span",{className:"console-filter"},"筛选 ","all"===i?"全部":i===qg.LOG_TYPES.INFO?"信息":i===qg.LOG_TYPES.WARNING?"警告":"错误")))),o.createElement("div",{className:"console-content",ref:m,onScroll:C},A.map(function(e,t){return o.createElement("div",{key:t,className:"console-line ".concat(P(e.type)),onContextMenu:function(t){return function(e,t){e.preventDefault(),E({visible:!0,x:e.clientX,y:e.clientY,selectedLog:t})}(t,e)}},o.createElement("span",{className:"line-number"},t+1),o.createElement("span",{className:"line-content"},o.createElement("span",{className:"timestamp"},"[",e.timestamp,"]"),o.createElement("span",{className:"log-type ".concat(e.type)},e.type.toUpperCase()),o.createElement("span",{className:"message"},e.message)))})),S.visible&&o.createElement("div",{className:"context-menu",style:{position:"fixed",left:S.x,top:S.y,zIndex:1e3,background:"#2d2d2d",border:"1px solid #444",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}},o.createElement("div",{className:"context-menu-item",onClick:function(){if(S.selectedLog){var e="[".concat(S.selectedLog.timestamp,"] ").concat(S.selectedLog.type.toUpperCase(),": ").concat(S.selectedLog.message);navigator.clipboard.writeText(e).then(function(){Pv.success("日志已复制到剪贴板")}).catch(function(){Pv.error("复制失败")})}$()},style:{padding:"8px 16px",cursor:"pointer",color:"#e0e0e0",fontSize:"13px",transition:"background 0.2s"},onMouseOver:function(e){return e.currentTarget.style.background="#3d3d3d"},onMouseOut:function(e){return e.currentTarget.style.background="transparent"}},"复制"),o.createElement("div",{className:"context-menu-item",onClick:function(){var e=A.map(function(e){return"[".concat(e.timestamp,"] ").concat(e.type.toUpperCase(),": ").concat(e.message)}).join("\n"),t=new Blob([e],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="debug_logs_".concat((new Date).toISOString().slice(0,19).replace(/[:]/g,"-"),".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),$()},style:{padding:"8px 16px",cursor:"pointer",color:"#e0e0e0",fontSize:"13px",transition:"background 0.2s",borderTop:"1px solid #444"},onMouseOver:function(e){return e.currentTarget.style.background="#3d3d3d"},onMouseOut:function(e){return e.currentTarget.style.background="transparent"}},"导出所有日志")))};var _te=n(1819),Cte={};function kte(e){return kte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kte(e)}function Mte(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Tte(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Tte(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Tte(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Tte(d,"constructor",c),Tte(c,"constructor",l),l.displayName="GeneratorFunction",Tte(c,o,"GeneratorFunction"),Tte(d),Tte(d,o,"Generator"),Tte(d,r,function(){return this}),Tte(d,"toString",function(){return"[object Generator]"}),(Mte=function(){return{w:i,m:h}})()}function Tte(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Tte=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Tte(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Tte(e,t,n,r)}function Pte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Rte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ate(r.key),r)}}function Ate(e){var t=function(e){if("object"!=kte(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kte(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kte(t)?t:t+""}Cte.styleTagTransform=Wg(),Cte.setAttributes=Ug(),Cte.insert=Bg().bind(null,"head"),Cte.domAPI=zg(),Cte.insertStyleElement=Qg(),Dg()(_te.A,Cte),_te.A&&_te.A.locals&&_te.A.locals;var $te=window.require("fs"),Nte=window.require("path"),Ite=function(){return function(e,t){return t&&Rte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projectPath=t,this.hardwareDir=Nte.join(t,"Hardware"),this.configPath=Nte.join(this.hardwareDir,"config.json")},[{key:"ensureHardwareDir",value:function(){$te.existsSync(this.hardwareDir)||$te.mkdirSync(this.hardwareDir,{recursive:!0})}},{key:"readConfig",value:function(){if(this.ensureHardwareDir(),!$te.existsSync(this.configPath))return{devices:[]};try{var e=$te.readFileSync(this.configPath,"utf8");return JSON.parse(e)}catch(e){return{devices:[]}}}},{key:"writeConfig",value:function(e){this.ensureHardwareDir(),$te.writeFileSync(this.configPath,JSON.stringify(e,null,2),"utf8")}},{key:"addDevice",value:function(e){var t=this.readConfig();t.devices=t.devices||[],t.devices.push(e),this.writeConfig(t)}},{key:"getDriverList",value:(e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Pte(i,r,o,a,s,"next",e)}function s(e){Pte(i,r,o,a,s,"throw",e)}a(void 0)})}}(Mte().m(function e(){var t,n;return Mte().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,fetch("http://127.0.0.1:8080/api/driver/list");case 1:return t=e.v,e.n=2,t.json();case 2:if(n=e.v,!Array.isArray(n)){e.n=3;break}return e.a(2,n);case 3:throw new Error("数据格式错误");case 4:return e.p=4,e.v,e.a(2,[{brand:"诚科",model:"IMUA1",driver_url:"http://example.com/driverA1",version:"1.0.0",topic:"/imu_raw"},{brand:"禾赛",model:"P40",driver_url:"http://example.com/driverB1",version:"2.1.3",topic:"/points_raw"}]);case 5:return e.a(2)}},e,null,[[0,4]])})),function(){return e.apply(this,arguments)})}]);var e}();const Dte=Ite;function Lte(e){return Lte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lte(e)}function zte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zte(Object(n),!0).forEach(function(t){Bte(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zte(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bte(e,t,n){return(t=function(e){var t=function(e){if("object"!=Lte(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Lte(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Lte(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fte(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Ute(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Ute(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ute(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Ute(d,"constructor",c),Ute(c,"constructor",l),l.displayName="GeneratorFunction",Ute(c,o,"GeneratorFunction"),Ute(d),Ute(d,o,"Generator"),Ute(d,r,function(){return this}),Ute(d,"toString",function(){return"[object Generator]"}),(Fte=function(){return{w:i,m:h}})()}function Ute(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ute=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Ute(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Ute(e,t,n,r)}function Hte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Qte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vte(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vte(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Wte=window.require("@electron/remote").dialog,Gte=window.require("path"),Xte=window.require("fs"),qte=null,Zte=function(e){var t,n,r=e.visible,i=e.onOk,a=e.onCancel,s=e.onTreeDataChange,l=e.mode,c=void 0===l?"add":l,u=e.device,d=void 0===u?null:u,h=Qte(CM.useForm(),1)[0],f=Qte((0,o.useState)((null==d?void 0:d.device_type)||"sensor"),2),p=f[0],m=f[1],g=Qte((0,o.useState)((null==d||null===(t=d.custom_driver)||void 0===t?void 0:t.script_directory)||""),2),v=g[0],b=g[1],y=Qte((0,o.useState)([]),2),x=y[0],O=y[1],w=function(){h.resetFields(),m("sensor"),b("")};(0,o.useEffect)(function(){var e;r&&(d?(h.setFieldsValue({name:d.device_name,model:d.device_model,topic:d.topic,enabled:d.enabled,remark:d.remarks}),m(d.device_type),b((null===(e=d.custom_driver)||void 0===e?void 0:e.script_directory)||"")):w(),qte.getDriverList().then(function(e){Array.isArray(e)&&O(e)}))},[r,d,h]);var S=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Hte(i,r,o,a,s,"next",e)}function s(e){Hte(i,r,o,a,s,"throw",e)}a(void 0)})}}(Fte().m(function e(){var t;return Fte().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Wte.showOpenDialog({properties:["openDirectory"]});case 1:!(t=e.v).canceled&&t.filePaths&&t.filePaths[0]&&b(t.filePaths[0]);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return o.createElement(Dh,{title:"add"===c?"添加硬件":"编辑硬件",open:r,onOk:function(){return h.submit()},onCancel:function(){w(),a()},destroyOnClose:!0,width:520,className:"add-device-modal",okText:"add"===c?"添加硬件":"保存",cancelText:"取消",maskClosable:!1},o.createElement(CM,{form:h,layout:"horizontal",labelCol:{flex:"90px"},wrapperCol:{flex:1},onFinish:function(e){var t;if(null===(t=window.currentProject)||void 0===t?void 0:t.path){var n={device_name:e.name,device_type:p,device_model:e.model,topic:e.topic,enabled:e.enabled,remarks:e.remark,custom_driver:"other"===p&&v?{script_directory:v,script_file:"main.py",enabled:!0}:""};try{if(null==qte)return void console.log("未初始化");var r=qte.readConfig(),o=r.devices||[];if("add"===c)qte.addDevice(n),Pv.success("硬件添加成功！");else{var a=o.findIndex(function(e){return e.device_name===d.device_name});-1!==a&&(o[a]=n,qte.writeConfig(jte(jte({},r),{},{devices:o})),Pv.success("硬件更新成功！"))}i(n),"function"==typeof s&&s()}catch(e){Pv.error("".concat("add"===c?"添加":"更新","硬件失败: ").concat(e.message))}}else Pv.error("需要先打开项目")},initialValues:Bte(Bte(Bte({enabled:!0,name:(null==d?void 0:d.device_name)||"",model:(null==d?void 0:d.device_model)||"",topic:(null==d?void 0:d.topic)||""},"enabled",null===(n=null==d?void 0:d.enabled)||void 0===n||n),"remark",(null==d?void 0:d.remarks)||""),"custom_driver",""),style:{gap:8}},o.createElement(BE,{activeKey:p,onChange:m,items:[{label:"传感器",key:"sensor"},{label:"其他",key:"other"}]}),o.createElement(CM.Item,{label:"硬件名称",name:"name",rules:[{required:!0,message:"请输入硬件名称"}]},o.createElement(ly,null)),o.createElement(CM.Item,{label:"硬件型号",name:"model",rules:[{required:!0,message:"请选择硬件型号"}]},o.createElement(YO,{placeholder:"请选择硬件型号",onChange:function(e){var t=x.find(function(t){return t.model===e});t&&t.topic&&h.setFieldsValue({topic:t.topic})}},x.map(function(e){return o.createElement(YO.Option,{key:e.model,value:e.model,title:"品牌: ".concat(e.brand," 版本: ").concat(e.version)},e.brand," - ",e.model,"（v",e.version,"）")}),o.createElement(YO.Option,{value:"other"},"其他"))),o.createElement(CM.Item,{label:"话题",name:"topic"},o.createElement(ly,null)),o.createElement(CM.Item,{label:"启用",name:"enabled",valuePropName:"checked"},o.createElement(mT,null)),o.createElement(CM.Item,{label:"备注",name:"remark"},o.createElement(ly.TextArea,{rows:3})),"other"===p&&o.createElement(CM.Item,{label:"驱动脚本",name:"custom_driver"},o.createElement(JC.Compact,{style:{width:"100%"}},o.createElement(ly,{value:v,readOnly:!0,placeholder:"请选择目录",style:{minWidth:0,backgroundColor:"rgb(136, 136, 136)",color:"#fff"}}),o.createElement(Hl,{onClick:S},"选择目录")))))};const Yte=function(e){var t,n,r=e.onTreeDataChange,i=Qte((0,o.useState)(!1),2),a=i[0],s=i[1],l=Qte((0,o.useState)("add"),2),c=l[0],u=l[1],d=Qte((0,o.useState)(null),2),h=d[0],f=d[1],p=Qte((0,o.useState)([]),2),m=p[0],g=p[1],v=Qte((0,o.useState)([]),2),b=v[0],y=v[1],x=Qte((0,o.useState)({visible:!1,x:0,y:0,node:null}),2),O=x[0],w=x[1],S=function(){try{var e,t=null===(e=window.currentProject)||void 0===e?void 0:e.path;if(!t)return void g([]);if(!function(e){try{var t=Gte.join(e,"Hardware"),n=Gte.join(t,"config.json");return Xte.existsSync(t)||Xte.mkdirSync(t,{recursive:!0}),Xte.existsSync(n)||Xte.writeFileSync(n,JSON.stringify({devices:[]},null,2)),!0}catch(e){return console.error("初始化硬件配置失败:",e),Pv.error("初始化硬件配置失败"),!1}}(t))return;if(null==qte)return void console.log("初始化失败");var n=qte.readConfig().devices||[],r=[{title:"硬件列表",key:"root",children:[{title:"传感器",key:"sensors",children:n.filter(function(e){return"sensor"===e.device_type}).map(function(e){return{title:e.device_name,key:"sensor-".concat(e.device_name),isLeaf:!0,data:e}})},{title:"其他硬件",key:"others",children:n.filter(function(e){return"other"===e.device_type}).map(function(e){return{title:e.device_name,key:"other-".concat(e.device_name),isLeaf:!0,data:e}})}]}];g(r),y(["root","sensors","others"])}catch(e){console.error("加载硬件配置失败:",e),Pv.error("加载硬件配置失败")}};(0,o.useEffect)(function(){var e;if(null!==(e=window.currentProject)&&void 0!==e&&e.path){if(null==qte){var t,n=null===(t=window.currentProject)||void 0===t?void 0:t.path;qte=new Dte(n)}S()}},[null===(t=window.currentProject)||void 0===t?void 0:t.path]);var E=function(){w({visible:!1,x:0,y:0,node:null})};(0,o.useEffect)(function(){var e=function(){E()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}},[]);var _=function(){s(!1),setTimeout(function(){f(null),u("add")},100)};return o.createElement("div",{className:"hardware-manager"},o.createElement(JC,{direction:"vertical",style:{width:"100%"}},(null===(n=window.currentProject)||void 0===n?void 0:n.path)&&o.createElement(JC,null,o.createElement(Hl,{size:"small",onClick:function(){f(null),u("add"),s(!0)}},"添加硬件")),o.createElement(mR,{treeData:m,expandedKeys:b,onExpand:function(e){y(e)},onRightClick:function(e){var t=e.node;return function(e,t){e.preventDefault(),(t.key.startsWith("sensor-")||t.key.startsWith("other-"))&&w({visible:!0,x:e.clientX,y:e.clientY,node:t})}(e.event,t)},showIcon:!0})),a&&o.createElement(Zte,{key:"".concat(c,"-").concat((null==h?void 0:h.device_name)||"new"),visible:a,mode:c,device:h,onOk:function(){S(),"function"==typeof r&&r(),_()},onCancel:_}),O.visible&&o.createElement("div",{className:"context-menu",style:{position:"fixed",left:O.x,top:O.y,zIndex:1e3}},o.createElement("div",{className:"context-menu-item",onClick:function(e){e.stopPropagation(),O.node&&(f(O.node.data),u("edit"),s(!0)),E()}},"编辑"),o.createElement("div",{className:"context-menu-item",onClick:function(e){e.stopPropagation(),O.node&&Dh.confirm({title:"确认删除",content:'确定要删除硬件 "'.concat(O.node.title,'" 吗？'),okText:"确定",cancelText:"取消",okButtonProps:{style:{background:"#1976d2",borderColor:"#1976d2"}},cancelButtonProps:{style:{background:"#3d3d3d",borderColor:"#444",color:"#e0e0e0"}},className:"custom-modal",onOk:function(){try{var e,t=null===(e=window.currentProject)||void 0===e?void 0:e.path;if(!t)return void Pv.error("需要先打开项目");var n=new Dte(t),r=n.readConfig(),o=r.devices||[],i=o.findIndex(function(e){return e.device_name===O.node.title});-1!==i&&(o.splice(i,1),n.writeConfig(jte(jte({},r),{},{devices:o})),Pv.success("删除成功"),S())}catch(e){console.error("删除硬件失败:",e),Pv.error("删除硬件失败")}}}),E()}},"删除")))};var Kte=n(9837),Jte={};Jte.styleTagTransform=Wg(),Jte.setAttributes=Ug(),Jte.insert=Bg().bind(null,"head"),Jte.domAPI=zg(),Jte.insertStyleElement=Qg(),Dg()(Kte.A,Jte),Kte.A&&Kte.A.locals&&Kte.A.locals;var ene=n(8438),tne=n.n(ene),nne=n(4757),rne={};function one(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return ine(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(ine(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ine(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,ine(d,"constructor",c),ine(c,"constructor",l),l.displayName="GeneratorFunction",ine(c,o,"GeneratorFunction"),ine(d),ine(d,o,"Generator"),ine(d,r,function(){return this}),ine(d,"toString",function(){return"[object Generator]"}),(one=function(){return{w:i,m:h}})()}function ine(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ine=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){ine(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},ine(e,t,n,r)}function ane(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function sne(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ane(i,r,o,a,s,"next",e)}function s(e){ane(i,r,o,a,s,"throw",e)}a(void 0)})}}function lne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}rne.styleTagTransform=Wg(),rne.setAttributes=Ug(),rne.insert=Bg().bind(null,"head"),rne.domAPI=zg(),rne.insertStyleElement=Qg(),Dg()(nne.A,rne),nne.A&&nne.A.locals&&nne.A.locals;var une=ly.TextArea,dne=window.require("@electron/remote").dialog,hne=window.require("fs"),fne=window.require("path");const pne=function(e){var t=e.visible,n=e.onClose,r=e.onCreate,i=e.onOpenProject,a=lne(CM.useForm(),1)[0],s=lne((0,o.useState)(!1),2),l=s[0],c=s[1],u=function(){a.resetFields()},d=function(){u(),n()},h=function(){var e=sne(one().m(function e(){var t,o,s,l,d;return one().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,a.validateFields();case 1:if(t=e.v,c(!0),o=t.path,!hne.existsSync(o)){e.n=2;break}return Pv.error("项目目录已存在"),e.a(2);case 2:hne.mkdirSync(o,{recursive:!0}),s={name:t.name,description:t.description,path:o,createdAt:(new Date).toISOString(),version:"1.0.0"},l=fne.join(o,"".concat(t.name,".proj")),hne.writeFileSync(l,JSON.stringify(s,null,2)),Pv.success("项目创建成功"),r(o),u(),n();try{(0,qg.log)("正在打开项目: ".concat(o),"INFO"),i(o)}catch(e){(0,qg.log)("打开项目失败: ".concat(e.message),"ERROR"),Pv.error("打开项目失败")}e.n=4;break;case 3:e.p=3,d=e.v,console.error("创建项目失败:",d),Pv.error(d.message||"项目创建失败");case 4:return e.p=4,c(!1),e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=sne(one().m(function e(){var t,n,r,o;return one().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,t=a.getFieldValue("name")){e.n=1;break}return Pv.warning("请先填写项目名称"),e.a(2);case 1:return e.n=2,dne.showOpenDialog({properties:["openDirectory"]});case 2:!(n=e.v).canceled&&n.filePaths&&n.filePaths[0]&&(r=fne.join(n.filePaths[0],t),a.setFieldsValue({path:r})),e.n=4;break;case 3:e.p=3,o=e.v,console.error("选择目录失败:",o),Pv.error("选择目录失败");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();return o.createElement(Dh,{title:"新建项目",open:t,onCancel:d,footer:null,width:500,className:"project-modal"},o.createElement(CM,{form:a,layout:"vertical",className:"project-form"},o.createElement(CM.Item,{name:"name",label:"项目名称",rules:[{required:!0,message:"请输入项目名称"},{pattern:/^[a-zA-Z0-9_-]+$/,message:"项目名称只能包含字母、数字、下划线和连字符"}]},o.createElement(ly,{placeholder:"请输入项目名称"})),o.createElement(CM.Item,{name:"description",label:"项目描述"},o.createElement(une,{placeholder:"请输入项目描述",autoSize:{minRows:3,maxRows:6}})),o.createElement(CM.Item,{label:"项目保存位置",required:!0},o.createElement(JC.Compact,{style:{width:"100%"}},o.createElement(CM.Item,{name:"path",noStyle:!0,rules:[{required:!0,message:"请选择项目保存位置"}]},o.createElement(ly,{style:{width:"calc(100% - 80px)"},placeholder:"请选择项目保存位置",readOnly:!0})),o.createElement(Hl,{icon:o.createElement(dS,null),onClick:f,className:"select-path-button"},"浏览"))),o.createElement(CM.Item,{className:"form-footer"},o.createElement(Hl,{style:{marginRight:"10px"},onClick:d},"取消"),o.createElement(Hl,{type:"primary",onClick:h,loading:l},"创建项目"))))},mne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};var gne=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:mne}))};const vne=o.forwardRef(gne),bne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var yne=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:bne}))};const xne=o.forwardRef(yne);var One=n(9123),wne={};wne.styleTagTransform=Wg(),wne.setAttributes=Ug(),wne.insert=Bg().bind(null,"head"),wne.domAPI=zg(),wne.insertStyleElement=Qg(),Dg()(One.A,wne),One.A&&One.A.locals&&One.A.locals;const Sne=function(e){var t=e.recentProjects,n=e.onOpenProject,r=e.onCreateProject;return o.createElement("div",{className:"welcome-screen"},o.createElement("div",{className:"welcome-card"},o.createElement("div",{className:"welcome-header"},o.createElement("div",{className:"welcome-title"},o.createElement(vne,{className:"welcome-icon"}),o.createElement("span",null,"欢迎使用 FutureDrive")),o.createElement("div",{className:"welcome-subtitle"},"连接 · 控制 · 调试 · 可视，一站式自动驾驶流程化解决方案")),o.createElement("div",{className:"welcome-btns"},o.createElement(Hl,{type:"primary",size:"large",className:"welcome-btn",onClick:function(){return n()}},"打开项目"),o.createElement(Hl,{size:"large",className:"welcome-btn",onClick:r},"新建项目")),o.createElement("div",{className:"welcome-recent"},o.createElement("div",{className:"welcome-recent-header"},o.createElement("h4",null,"最近打开的项目"),t.length>0&&o.createElement(tg,{title:"清空最近项目列表"},o.createElement(xne,{className:"clear-recent-icon",onClick:function(e){e.stopPropagation(),localStorage.removeItem("recentProjects"),window.location.reload()}}))),o.createElement("ul",{className:"welcome-recent-list"},0===t.length&&o.createElement("li",{className:"no-recent"},"暂无最近项目"),t.map(function(e,t){return o.createElement("li",{key:t},o.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),n(e.path)}},e.name," ",o.createElement("span",{className:"project-path"},"(",e.path,")")))})))))};function Ene(e){return Ene="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ene(e)}function _ne(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Cne(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Cne(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Cne(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Cne(d,"constructor",c),Cne(c,"constructor",l),l.displayName="GeneratorFunction",Cne(c,o,"GeneratorFunction"),Cne(d),Cne(d,o,"Generator"),Cne(d,r,function(){return this}),Cne(d,"toString",function(){return"[object Generator]"}),(_ne=function(){return{w:i,m:h}})()}function Cne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Cne=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Cne(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Cne(e,t,n,r)}function kne(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Mne(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){kne(i,r,o,a,s,"next",e)}function s(e){kne(i,r,o,a,s,"throw",e)}a(void 0)})}}function Tne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pne(r.key),r)}}function Pne(e){var t=function(e){if("object"!=Ene(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ene(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ene(t)?t:t+""}window.require("@electron/remote").app;var Rne=window.require("path"),Ane=window.require("fs"),$ne=n(888).A,Nne=n(8703).A,Ine=function(){return function(e,t){return t&&Tne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.nodeDir=Rne.join($ne.USERDATA_DIR,"node"),this.nodeExecutor=new Nne},[{key:"initialize",value:(n=Mne(_ne().m(function e(){return _ne().w(function(e){for(;;)switch(e.n){case 0:if(!this.initialized){e.n=1;break}return e.a(2);case 1:Ane.existsSync(this.nodeDir)||Ane.mkdirSync(this.nodeDir,{recursive:!0}),this.initialized=!0;case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"start",value:function(){var e=Mne(_ne().m(function e(t,n){return _ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.initialize();case 1:return e.a(2,this.nodeExecutor.executeFlow(t,n))}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"stop",value:(t=Mne(_ne().m(function e(){return _ne().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.nodeExecutor.stop();case 1:return e.a(2)}},e,this)})),function(){return t.apply(this,arguments)})},{key:"forceStop",value:(e=Mne(_ne().m(function e(){return _ne().w(function(e){for(;;)switch(e.n){case 0:return console.log("forceStop1"),e.n=1,this.nodeExecutor.forceStop();case 1:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})}]);var e,t,n}();const Dne=Ine;function Lne(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return zne(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(zne(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zne(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,zne(d,"constructor",c),zne(c,"constructor",l),l.displayName="GeneratorFunction",zne(c,o,"GeneratorFunction"),zne(d),zne(d,o,"Generator"),zne(d,r,function(){return this}),zne(d,"toString",function(){return"[object Generator]"}),(Lne=function(){return{w:i,m:h}})()}function zne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zne=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){zne(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},zne(e,t,n,r)}function jne(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Bne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Fne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fne(e,t){if(e){if("string"==typeof e)return Une(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Une(e,t):void 0}}function Une(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hne=window.require("electron").ipcRenderer;const Qne=function(){var e=Bne((0,o.useState)(250),2),t=e[0],r=e[1],i=Bne((0,o.useState)(250),2),a=i[0],s=i[1],l=Bne((0,o.useState)(200),2),c=l[0],u=l[1],d=Bne((0,o.useState)(200),2),h=d[0],f=d[1],p=Bne((0,o.useState)(200),2),m=p[0],g=p[1],v=Bne((0,o.useState)([]),2),b=v[0],y=v[1],x=Bne((0,o.useState)(""),2),O=x[0],w=x[1],S=Bne((0,o.useState)(null),2),E=S[0],_=S[1],C=Bne((0,o.useState)(!1),2),M=C[0],T=C[1],P=Bne((0,o.useState)([]),2),R=P[0],A=P[1],$=(0,o.useRef)(null),N=(0,o.useRef)(null),I=(0,o.useCallback)(function(){if(window.systemInfo)console.log(window.systemInfo);else{var e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){jne(i,r,o,a,s,"next",e)}function s(e){jne(i,r,o,a,s,"throw",e)}a(void 0)})}}(Lne().m(function e(){return Lne().w(function(e){for(;;)switch(e.n){case 0:if(window.systemInfo){e.n=2;break}return e.n=1,new Promise(function(e){return setTimeout(e,500)});case 1:e.n=0;break;case 2:console.log(window.systemInfo);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e()}},[]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,o.useRef)(!1);(0,o.useEffect)(function(){n.current||(e(),n.current=!0)},t)}(I,[]),(0,o.useEffect)(function(){Zg.A.nodeController||(Zg.A.nodeController=new Dne)},[]),(0,o.useEffect)(function(){var e=JSON.parse(localStorage.getItem("recentProjects")||"[]");A(e)},[]),(0,o.useEffect)(function(){var e=function(){if($.current){var e=$.current.scrollWidth;f(Math.max(200,e))}if(N.current){var t=N.current.scrollWidth;g(Math.max(200,t))}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);var D=function(e,t){e?L(e,t):tne().selectAndOpenProject(function(e,t){e&&(console.log("选择路径： "+e),L(e,t))},qg.log,qg.LOG_TYPES)},L=function(e,t){try{var r=t;if(!r){var o=window.require?window.require("path"):n(6928),i=window.require?window.require("fs"):n(9896),a=o.basename(e),s=o.join(e,"".concat(a,".proj"));if(!i.existsSync(s))return void(0,qg.log)("无效的项目目录：找不到项目配置文件",qg.LOG_TYPES.ERROR);var l=i.readFileSync(s,"utf8");r=JSON.parse(l)}var c=tne().openProject(r.path);if(c.success){window.currentProject={path:r.path,config:c.config,tree:c.tree},console.log(window.currentProject),y(c.tree),w(r.path),_(c.config),Hne.invoke("set-project-path",r.path),(0,qg.log)("成功打开项目: ".concat(c.config.name),qg.LOG_TYPES.SUCCESS);var u=JSON.parse(localStorage.getItem("recentProjects")||"[]"),d=[{name:c.config.name,path:r.path}].concat((h=u.filter(function(e){return e.path!==r.path}),function(e){if(Array.isArray(e))return Une(e)}(h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||Fne(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).slice(0,10);localStorage.setItem("recentProjects",JSON.stringify(d)),A(d)}else message.error("打开项目失败: ".concat(c.error)),(0,qg.log)("打开项目失败: ".concat(c.error),qg.LOG_TYPES.ERROR)}catch(e){message.error("打开项目失败: ".concat(e.message)),(0,qg.log)("打开项目失败: ".concat(e.message),qg.LOG_TYPES.ERROR)}var h},z=function(){if(O){var e=tne().openProject(O);e.success&&y(e.tree)}},j=function(e){e&&(L(e),T(!1))},B=function(){w(""),y([]),_(null),Hne.invoke("set-project-path",""),V2.reset(),window.currentProject={path:"",config:null,tree:[]}};return O?o.createElement("div",{className:"layout"},o.createElement(DT,{onOpenProject:D,onCloseProject:B,onCreateProject:function(){return T(!0)}}),o.createElement("div",{className:"main-container"},o.createElement(k,{size:{width:t,height:"100%"},onResizeStop:function(e,n,o,i){r(t+i.width)},minWidth:h,maxWidth:.4*window.innerWidth,enable:{right:!0},className:"project-explorer"},o.createElement("div",{ref:$},o.createElement(nX,{treeData:b,projectName:E?E.name:"",onTreeDataChange:z}))),o.createElement("div",{className:"center-content"},o.createElement("div",{className:"main-content"},o.createElement(ste,{onTreeDataChange:z})),o.createElement(k,{size:{width:"100%",height:c},onResizeStop:function(e,t,n,r){u(c+r.height)},minHeight:100,maxHeight:.8*window.innerHeight,enable:{top:!0},className:"debug-console"},o.createElement(Ete,null))),o.createElement(k,{size:{width:a,height:"100%"},onResizeStop:function(e,t,n,r){s(a-r.width)},minWidth:m,maxWidth:.4*window.innerWidth,enable:{left:!0},className:"hardware-manager"},o.createElement("div",{ref:N},o.createElement(Yte,{onTreeDataChange:z})))),o.createElement(pne,{visible:M,onClose:function(){return T(!1)},onCreate:j,onOpenProject:D})):o.createElement("div",{className:"layout"},o.createElement(DT,{onOpenProject:D,onCloseProject:B,onCreateProject:function(){return T(!0)}}),o.createElement(Sne,{recentProjects:R,onOpenProject:D,onCreateProject:function(){return T(!0)}}),o.createElement(pne,{visible:M,onClose:function(){return T(!1)},onCreate:j,onOpenProject:D}))},Vne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};var Wne=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:Vne}))};const Gne=o.forwardRef(Wne);var Xne=n(5967),qne={};function Zne(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Yne(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Yne(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Yne(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Yne(d,"constructor",c),Yne(c,"constructor",l),l.displayName="GeneratorFunction",Yne(c,o,"GeneratorFunction"),Yne(d),Yne(d,o,"Generator"),Yne(d,r,function(){return this}),Yne(d,"toString",function(){return"[object Generator]"}),(Zne=function(){return{w:i,m:h}})()}function Yne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Yne=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Yne(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Yne(e,t,n,r)}function Kne(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Jne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ere(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ere(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ere(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}qne.styleTagTransform=Wg(),qne.setAttributes=Ug(),qne.insert=Bg().bind(null,"head"),qne.domAPI=zg(),qne.insertStyleElement=Qg(),Dg()(Xne.A,qne),Xne.A&&Xne.A.locals&&Xne.A.locals;const tre=function(e){var t=e.topic,n=Jne((0,o.useState)(""),2),r=n[0],i=n[1],a=Jne((0,o.useState)(""),2),s=a[0],l=a[1],c=Jne((0,o.useState)(!1),2),u=c[0],d=c[1],h=Jne((0,o.useState)(!1),2),f=h[0],p=h[1],m=Jne((0,o.useState)(-1),2),g=m[0],v=m[1],b=Jne((0,o.useState)(0),2),y=b[0],x=b[1],O=Jne((0,o.useState)(""),2),w=O[0],S=O[1],E=Jne((0,o.useState)("echo"),2),_=E[0],C=E[1],k=(0,o.useRef)(null),M=(0,o.useRef)(""),T=(0,o.useRef)(null),P=(0,o.useRef)(null),R=(0,o.useRef)(!0),A=(0,o.useRef)(!0),$=function(e,t){for(var n=[],r=e.toLowerCase().indexOf(t.toLowerCase());-1!==r;)n.push(r),r=e.toLowerCase().indexOf(t.toLowerCase(),r+1);return n},N=function(e){if(-1!==e&&k.current){var t=k.current.value.substring(0,e).split("\n");k.current.scrollTop=20*(t.length-1)}};(0,o.useEffect)(function(){if("echo"===_){if(!A.current)return R.current?(R.current=!1,void D(!u)):void D(!u);A.current=!1}},[u,t,_]),(0,o.useEffect)(function(){if(T.current){try{T.current.kill()}catch(e){}T.current=null}if(P.current){try{P.current.kill()}catch(e){}P.current=null}return i(""),"echo"===_?D(!u):function(){if(P.current){try{P.current.kill()}catch(e){}P.current=null}i(""),_S.getTopic(t,_,function(e){i(function(t){return t+e+"\n"})}).then(function(e){P.current=e})}(),function(){if(T.current){try{T.current.kill()}catch(e){}T.current=null}if(P.current){try{P.current.kill()}catch(e){}P.current=null}}},[_,t]),(0,o.useEffect)(function(){!f&&k.current&&(k.current.scrollTop=k.current.scrollHeight)},[r,f]),(0,o.useEffect)(function(){if(s){var e=r.split("\n").filter(function(e){return e.toLowerCase().includes(s.toLowerCase())}).join("\n");M.current=e,S(e),p(!0);var t=$(e,s);x(t.length),t.length>0?(v(0),N(t[0])):v(-1)}else M.current=r,S(r),p(!1),x(0),v(-1)},[r,s]);var I=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Kne(i,r,o,a,s,"next",e)}function s(e){Kne(i,r,o,a,s,"throw",e)}a(void 0)})}}(Zne().m(function e(){var n,r,o,i,a,s,l;return Zne().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,n=M.current,r=new Date,o=r.toISOString().slice(0,19).replace(/[T:]/g,""),i="".concat(t.replace(/\//g,"_"),"_").concat(o,".txt"),console.log("导出文件",i),e.n=1,y_().showSaveDialog({defaultPath:i,filters:[{name:"Text Files",extensions:["txt"]}]});case 1:if(!(a=e.v).success){e.n=3;break}if((s=y_().writeFile(a.filePath,n)).success){e.n=2;break}return console.error("保存文件失败:",s.error),(0,qg.log)("保存文件失败: ".concat(s.error),qg.LOG_TYPES.ERROR),e.a(2);case 2:(0,qg.log)("导出成功: ".concat(a.filePath),qg.LOG_TYPES.SUCCESS),Pv.success("导出成功");case 3:e.n=5;break;case 4:e.p=4,l=e.v,console.error("导出失败:",l),(0,qg.log)("导出失败: ".concat(l.message),qg.LOG_TYPES.ERROR);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(T.current){try{T.current.kill()}catch(e){}T.current=null}var n=null;e?(n=_S.echoTopic(t,!0,function(e){i(function(t){return t+e+"\n"})}),n&&(T.current=n)):(n=_S.echoTopic(t,!1,function(e){i(function(t){return t+e+"\n"})}),n&&(T.current=n)),n||Pv.error("获取数据失败")}catch(e){console.error("获取数据失败:",e),(0,qg.log)("获取数据失败: ".concat(e.message),qg.LOG_TYPES.ERROR)}};return o.createElement("div",{className:"topic-echo-viewer-root"},o.createElement("div",{className:"topic-echo-viewer-toolbar"},o.createElement("span",{className:"topic-echo-viewer-title"},"话题: ",t),o.createElement(JC,null,o.createElement(YO,{value:_,onChange:C,style:{width:90},options:[{value:"echo",label:"echo"},{value:"delay",label:"delay"},{value:"hz",label:"hz"},{value:"info",label:"info"},{value:"type",label:"type"}],size:"small"}),o.createElement(ly,{className:"topic-echo-viewer-filter",placeholder:"过滤内容...",value:s,onChange:function(e){return l(e.target.value)},prefix:o.createElement(Vb,null),allowClear:!0}),f&&y>0&&o.createElement(JC,null,o.createElement(Hl,{icon:o.createElement(TM,null),onClick:function(){if(0!==y){var e=g>0?g-1:y-1;v(e);var t=$(M.current,s);N(t[e])}},size:"small"}),o.createElement("span",null,g+1,"/",y),o.createElement(Hl,{icon:o.createElement(WO,null),onClick:function(){if(0!==y){var e=g<y-1?g+1:0;v(e);var t=$(M.current,s);N(t[e])}},size:"small"})),"echo"===_&&o.createElement(Jw,{checked:u,onChange:function(e){return d(e.target.checked)}},"自动更新"),o.createElement(Hl,{icon:o.createElement(Gne,null),onClick:I},"导出"))),o.createElement("div",{className:"topic-echo-viewer-output-wrapper"},o.createElement("textarea",{ref:k,className:"topic-echo-viewer-output",value:w,readOnly:!0})))},nre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 476H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"line",theme:"outlined"};var rre=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:nre}))};const ore=o.forwardRef(rre),ire={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};var are=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:ire}))};const sre=o.forwardRef(are),lre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"};var cre=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:lre}))};const ure=o.forwardRef(cre),dre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};var hre=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:dre}))};const fre=o.forwardRef(hre),pre={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};var mre=function(e,t){return o.createElement(Oa,et({},e,{ref:t,icon:pre}))};const gre=o.forwardRef(mre),vre="177",bre=0,yre=1,xre=2,Ore=100,wre=101,Sre=102,Ere=200,_re=201,Cre=202,kre=203,Mre=204,Tre=205,Pre=206,Rre=207,Are=208,$re=209,Nre=210,Ire=211,Dre=212,Lre=213,zre=214,jre=0,Bre=1,Fre=2,Ure=3,Hre=4,Qre=5,Vre=6,Wre=7,Gre=301,Xre=302,qre=306,Zre=1e3,Yre=1001,Kre=1002,Jre=1003,eoe=1004,toe=1005,noe=1006,roe=1007,ooe=1008,ioe=1009,aoe=1012,soe=1013,loe=1014,coe=1015,uoe=1016,doe=1017,hoe=1018,foe=1020,poe=1023,moe=1026,goe=1027,voe=1029,boe=1031,yoe=1033,xoe=33776,Ooe=33777,woe=33778,Soe=33779,Eoe=35840,_oe=35841,Coe=35842,koe=35843,Moe=36196,Toe=37492,Poe=37496,Roe=37808,Aoe=37809,$oe=37810,Noe=37811,Ioe=37812,Doe=37813,Loe=37814,zoe=37815,joe=37816,Boe=37817,Foe=37818,Uoe=37819,Hoe=37820,Qoe=37821,Voe=36492,Woe=36494,Goe=36495,Xoe=36284,qoe=36285,Zoe=36286,Yoe=2300,Koe=2301,Joe=2302,eie="",tie="srgb",nie="srgb-linear",rie="linear",oie="srgb",iie=7680,aie=512,sie=513,lie=514,cie=515,uie=516,die=517,hie=518,fie=519,pie="300 es",mie=2e3,gie=2001;class vie{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const bie=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],yie=Math.PI/180,xie=180/Math.PI;function Oie(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(bie[255&e]+bie[e>>8&255]+bie[e>>16&255]+bie[e>>24&255]+"-"+bie[255&t]+bie[t>>8&255]+"-"+bie[t>>16&15|64]+bie[t>>24&255]+"-"+bie[63&n|128]+bie[n>>8&255]+"-"+bie[n>>16&255]+bie[n>>24&255]+bie[255&r]+bie[r>>8&255]+bie[r>>16&255]+bie[r>>24&255]).toLowerCase()}function wie(e,t,n){return Math.max(t,Math.min(n,e))}function Sie(e,t,n){return(1-n)*e+n*t}function Eie(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function _ie(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Cie=yie;class kie{constructor(e=0,t=0){kie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=wie(this.x,e.x,t.x),this.y=wie(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=wie(this.x,e,t),this.y=wie(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(wie(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(wie(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,i=this.y-e.y;return this.x=o*n-i*r+e.x,this.y=o*r+i*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mie{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,o,i,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=o[i+0],h=o[i+1],f=o[i+2],p=o[i+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=1-a;const t=s*d+l*h+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const o=Math.sqrt(r),i=Math.atan2(o,t*n);e=Math.sin(e*i)/o,a=Math.sin(a*i)/o}const o=a*n;if(s=s*e+d*o,l=l*e+h*o,c=c*e+f*o,u=u*e+p*o,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,o,i){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=o[i],d=o[i+1],h=o[i+2],f=o[i+3];return e[t]=a*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-a*h,e[t+2]=l*f+c*h+a*d-s*u,e[t+3]=c*f-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,o=e._z,i=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(o/2),d=s(n/2),h=s(r/2),f=s(o/2);switch(i){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],o=t[8],i=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(o-l)*e,this._z=(i-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+i)/e,this._z=(o+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(o-l)/e,this._x=(r+i)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(i-r)/e,this._x=(o+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wie(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,o=e._z,i=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+i*a+r*l-o*s,this._y=r*c+i*s+o*a-n*l,this._z=o*c+i*l+n*s-r*a,this._w=i*c-n*a-r*s-o*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,o=this._z,i=this._w;let a=i*e._w+n*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=i,this._x=n,this._y=r,this._z=o,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*i+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*o+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=i*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=o*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Tie{constructor(e=0,t=0,n=0){Tie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Rie.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Rie.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=e.elements,i=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*i,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*i,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*i,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,o=e.x,i=e.y,a=e.z,s=e.w,l=2*(i*r-a*n),c=2*(a*t-o*r),u=2*(o*n-i*t);return this.x=t+s*l+i*u-a*c,this.y=n+s*c+a*l-o*u,this.z=r+s*u+o*c-i*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=wie(this.x,e.x,t.x),this.y=wie(this.y,e.y,t.y),this.z=wie(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=wie(this.x,e,t),this.y=wie(this.y,e,t),this.z=wie(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(wie(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,o=e.z,i=t.x,a=t.y,s=t.z;return this.x=r*s-o*a,this.y=o*i-n*s,this.z=n*a-r*i,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Pie.copy(this).projectOnVector(e),this.sub(Pie)}reflect(e){return this.sub(Pie.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(wie(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Pie=new Tie,Rie=new Mie;class Aie{constructor(e,t,n,r,o,i,a,s,l){Aie.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,o,i,a,s,l)}set(e,t,n,r,o,i,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=o,c[5]=s,c[6]=n,c[7]=i,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,i=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],b=r[4],y=r[7],x=r[2],O=r[5],w=r[8];return o[0]=i*p+a*v+s*x,o[3]=i*m+a*b+s*O,o[6]=i*g+a*y+s*w,o[1]=l*p+c*v+u*x,o[4]=l*m+c*b+u*O,o[7]=l*g+c*y+u*w,o[2]=d*p+h*v+f*x,o[5]=d*m+h*b+f*O,o[8]=d*g+h*y+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*i*c-t*a*l-n*o*c+n*a*s+r*o*l-r*i*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*i-a*l,d=a*s-c*o,h=l*o-i*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(a*n-r*i)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*o-a*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(i*t-n*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,o,i,a){const s=Math.cos(o),l=Math.sin(o);return this.set(n*s,n*l,-n*(s*i+l*a)+i+e,-r*l,r*s,-r*(-l*i+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply($ie.makeScale(e,t)),this}rotate(e){return this.premultiply($ie.makeRotation(-e)),this}translate(e,t){return this.premultiply($ie.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const $ie=new Aie;function Nie(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function Iie(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Die(){const e=Iie("canvas");return e.style.display="block",e}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Lie={};function zie(e){e in Lie||(Lie[e]=!0,console.warn(e))}const jie=(new Aie).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Bie=(new Aie).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Fie(){const e={enabled:!0,workingColorSpace:nie,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===oie&&(e.r=Hie(e.r),e.g=Hie(e.g),e.b=Hie(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===oie&&(e.r=Qie(e.r),e.g=Qie(e.g),e.b=Qie(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===eie?rie:this.spaces[e].transfer},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return zie("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return zie("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[nie]:{primaries:t,whitePoint:r,transfer:rie,toXYZ:jie,fromXYZ:Bie,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:tie},outputColorSpaceConfig:{drawingBufferColorSpace:tie}},[tie]:{primaries:t,whitePoint:r,transfer:oie,toXYZ:jie,fromXYZ:Bie,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:tie}}}),e}const Uie=Fie();function Hie(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Qie(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let Vie;class Wie{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===Vie&&(Vie=Iie("canvas")),Vie.width=e.width,Vie.height=e.height;const t=Vie.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),n=Vie}return n.toDataURL(t)}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Iie("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),o=r.data;for(let e=0;e<o.length;e++)o[e]=255*Hie(o[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Hie(t[e]/255)):t[e]=Hie(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Gie=0;class Xie{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Gie++}),this.uuid=Oie(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(qie(r[t].image)):e.push(qie(r[t]))}else e=qie(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function qie(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Wie.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Zie=0;const Yie=new Tie;class Kie extends vie{constructor(e=Kie.DEFAULT_IMAGE,t=Kie.DEFAULT_MAPPING,n=1001,r=1001,o=1006,i=1008,a=1023,s=1009,l=Kie.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zie++}),this.uuid=Oie(),this.name="",this.source=new Xie(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=o,this.minFilter=i,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new kie(0,0),this.repeat=new kie(1,1),this.center=new kie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Aie,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Yie).x}get height(){return this.source.getSize(Yie).y}get depth(){return this.source.getSize(Yie).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n:console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Zre:e.x=e.x-Math.floor(e.x);break;case Yre:e.x=e.x<0?0:1;break;case Kre:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Zre:e.y=e.y-Math.floor(e.y);break;case Yre:e.y=e.y<0?0:1;break;case Kre:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Kie.DEFAULT_IMAGE=null,Kie.DEFAULT_MAPPING=300,Kie.DEFAULT_ANISOTROPY=1;class Jie{constructor(e=0,t=0,n=0,r=1){Jie.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,o=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*o,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*o,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*o,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,o;const i=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<i&&Math.abs(u-p)<i&&Math.abs(f-m)<i){if(Math.abs(c+d)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,b=(c+d)/4,y=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<i?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(e),r=b/n,o=y/n):s>v?s<i?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(s),n=b/r,o=x/r):v<i?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(v),n=y/o,r=x/o),this.set(n,r,o,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=wie(this.x,e.x,t.x),this.y=wie(this.y,e.y,t.y),this.z=wie(this.z,e.z,t.z),this.w=wie(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=wie(this.x,e,t),this.y=wie(this.y,e,t),this.z=wie(this.z,e,t),this.w=wie(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(wie(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class eae extends vie{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:noe,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Jie(0,0,e,t),this.scissorTest=!1,this.viewport=new Jie(0,0,e,t);const r={width:e,height:t,depth:n.depth},o=new Kie(r);this.textures=[];const i=n.count;for(let e=0;e<i;e++)this.textures[e]=o.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:noe,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let e=0;e<this.textures.length;e++)this.textures[e].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new Xie(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class tae extends eae{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class nae extends Kie{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Jre,this.minFilter=Jre,this.wrapR=Yre,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rae extends Kie{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Jre,this.minFilter=Jre,this.wrapR=Yre,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oae{constructor(e=new Tie(1/0,1/0,1/0),t=new Tie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(aae.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(aae.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=aae.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,aae):aae.fromBufferAttribute(r,t),aae.applyMatrix4(e.matrixWorld),this.expandByPoint(aae);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),sae.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),sae.copy(n.boundingBox)),sae.applyMatrix4(e.matrixWorld),this.union(sae)}const r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,aae),aae.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pae),mae.subVectors(this.max,pae),lae.subVectors(e.a,pae),cae.subVectors(e.b,pae),uae.subVectors(e.c,pae),dae.subVectors(cae,lae),hae.subVectors(uae,cae),fae.subVectors(lae,uae);let t=[0,-dae.z,dae.y,0,-hae.z,hae.y,0,-fae.z,fae.y,dae.z,0,-dae.x,hae.z,0,-hae.x,fae.z,0,-fae.x,-dae.y,dae.x,0,-hae.y,hae.x,0,-fae.y,fae.x,0];return!!bae(t,lae,cae,uae,mae)&&(t=[1,0,0,0,1,0,0,0,1],!!bae(t,lae,cae,uae,mae)&&(gae.crossVectors(dae,hae),t=[gae.x,gae.y,gae.z],bae(t,lae,cae,uae,mae)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aae).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(aae).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(iae[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),iae[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),iae[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),iae[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),iae[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),iae[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),iae[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),iae[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(iae)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const iae=[new Tie,new Tie,new Tie,new Tie,new Tie,new Tie,new Tie,new Tie],aae=new Tie,sae=new oae,lae=new Tie,cae=new Tie,uae=new Tie,dae=new Tie,hae=new Tie,fae=new Tie,pae=new Tie,mae=new Tie,gae=new Tie,vae=new Tie;function bae(e,t,n,r,o){for(let i=0,a=e.length-3;i<=a;i+=3){vae.fromArray(e,i);const a=o.x*Math.abs(vae.x)+o.y*Math.abs(vae.y)+o.z*Math.abs(vae.z),s=t.dot(vae),l=n.dot(vae),c=r.dot(vae);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const yae=new oae,xae=new Tie,Oae=new Tie;class wae{constructor(e=new Tie,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):yae.setFromPoints(e).getCenter(n);let r=0;for(let t=0,o=e.length;t<o;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xae.subVectors(e,this.center);const t=xae.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(xae,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Oae.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xae.copy(e.center).add(Oae)),this.expandByPoint(xae.copy(e.center).sub(Oae))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Sae=new Tie,Eae=new Tie,_ae=new Tie,Cae=new Tie,kae=new Tie,Mae=new Tie,Tae=new Tie;class Pae{constructor(e=new Tie,t=new Tie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Sae)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Sae.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Sae.copy(this.origin).addScaledVector(this.direction,t),Sae.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Eae.copy(e).add(t).multiplyScalar(.5),_ae.copy(t).sub(e).normalize(),Cae.copy(this.origin).sub(Eae);const o=.5*e.distanceTo(t),i=-this.direction.dot(_ae),a=Cae.dot(this.direction),s=-Cae.dot(_ae),l=Cae.lengthSq(),c=Math.abs(1-i*i);let u,d,h,f;if(c>0)if(u=i*s-a,d=i*a-s,f=o*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+i*d+2*a)+d*(i*u+d+2*s)+l}else d=o,u=Math.max(0,-(i*d+a)),h=-u*u+d*(d+2*s)+l;else d=-o,u=Math.max(0,-(i*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-i*o+a)),d=u>0?-o:Math.min(Math.max(-o,-s),o),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-o,-s),o),h=d*(d+2*s)+l):(u=Math.max(0,-(i*o+a)),d=u>0?o:Math.min(Math.max(-o,-s),o),h=-u*u+d*(d+2*s)+l);else d=i>0?-o:o,u=Math.max(0,-(i*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Eae).addScaledVector(_ae,d),h}intersectSphere(e,t){Sae.subVectors(e.center,this.origin);const n=Sae.dot(this.direction),r=Sae.dot(Sae)-n*n,o=e.radius*e.radius;if(r>o)return null;const i=Math.sqrt(o-r),a=n-i,s=n+i;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,o,i,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(o=(e.min.y-d.y)*c,i=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,i=(e.min.y-d.y)*c),n>i||o>r?null:((o>n||isNaN(n))&&(n=o),(i<r||isNaN(r))&&(r=i),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Sae)}intersectTriangle(e,t,n,r,o){kae.subVectors(t,e),Mae.subVectors(n,e),Tae.crossVectors(kae,Mae);let i,a=this.direction.dot(Tae);if(a>0){if(r)return null;i=1}else{if(!(a<0))return null;i=-1,a=-a}Cae.subVectors(this.origin,e);const s=i*this.direction.dot(Mae.crossVectors(Cae,Mae));if(s<0)return null;const l=i*this.direction.dot(kae.cross(Cae));if(l<0)return null;if(s+l>a)return null;const c=-i*Cae.dot(Tae);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Rae{constructor(e,t,n,r,o,i,a,s,l,c,u,d,h,f,p,m){Rae.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,o,i,a,s,l,c,u,d,h,f,p,m)}set(e,t,n,r,o,i,a,s,l,c,u,d,h,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=o,g[5]=i,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Rae).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Aae.setFromMatrixColumn(e,0).length(),o=1/Aae.setFromMatrixColumn(e,1).length(),i=1/Aae.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,o=e.z,i=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(o),u=Math.sin(o);if("XYZ"===e.order){const e=i*c,n=i*u,r=a*c,o=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-o*l,t[9]=-a*s,t[2]=o-e*l,t[6]=r+n*l,t[10]=i*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,o=l*u;t[0]=e+o*a,t[4]=r*a-n,t[8]=i*l,t[1]=i*u,t[5]=i*c,t[9]=-a,t[2]=n*a-r,t[6]=o+e*a,t[10]=i*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,o=l*u;t[0]=e-o*a,t[4]=-i*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=i*c,t[9]=o-e*a,t[2]=-i*l,t[6]=a,t[10]=i*s}else if("ZYX"===e.order){const e=i*c,n=i*u,r=a*c,o=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+o,t[1]=s*u,t[5]=o*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=i*s}else if("YZX"===e.order){const e=i*s,n=i*l,r=a*s,o=a*l;t[0]=s*c,t[4]=o-e*u,t[8]=r*u+n,t[1]=u,t[5]=i*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-o*u}else if("XZY"===e.order){const e=i*s,n=i*l,r=a*s,o=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+o,t[5]=i*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=o*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Nae,e,Iae)}lookAt(e,t,n){const r=this.elements;return zae.subVectors(e,t),0===zae.lengthSq()&&(zae.z=1),zae.normalize(),Dae.crossVectors(n,zae),0===Dae.lengthSq()&&(1===Math.abs(n.z)?zae.x+=1e-4:zae.z+=1e-4,zae.normalize(),Dae.crossVectors(n,zae)),Dae.normalize(),Lae.crossVectors(zae,Dae),r[0]=Dae.x,r[4]=Lae.x,r[8]=zae.x,r[1]=Dae.y,r[5]=Lae.y,r[9]=zae.y,r[2]=Dae.z,r[6]=Lae.z,r[10]=zae.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,o=this.elements,i=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],b=n[7],y=n[11],x=n[15],O=r[0],w=r[4],S=r[8],E=r[12],_=r[1],C=r[5],k=r[9],M=r[13],T=r[2],P=r[6],R=r[10],A=r[14],$=r[3],N=r[7],I=r[11],D=r[15];return o[0]=i*O+a*_+s*T+l*$,o[4]=i*w+a*C+s*P+l*N,o[8]=i*S+a*k+s*R+l*I,o[12]=i*E+a*M+s*A+l*D,o[1]=c*O+u*_+d*T+h*$,o[5]=c*w+u*C+d*P+h*N,o[9]=c*S+u*k+d*R+h*I,o[13]=c*E+u*M+d*A+h*D,o[2]=f*O+p*_+m*T+g*$,o[6]=f*w+p*C+m*P+g*N,o[10]=f*S+p*k+m*R+g*I,o[14]=f*E+p*M+m*A+g*D,o[3]=v*O+b*_+y*T+x*$,o[7]=v*w+b*C+y*P+x*N,o[11]=v*S+b*k+y*R+x*I,o[15]=v*E+b*M+y*A+x*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],i=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+o*s*u-r*l*u-o*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+o*i*d-r*i*h+r*l*c-o*s*c)+e[11]*(+t*l*u-t*a*h-o*i*u+n*i*h+o*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*i*u-n*i*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*d*l+p*s*h-a*m*h-u*s*g+a*d*g,b=f*d*l-c*m*l-f*s*h+i*m*h+c*s*g-i*d*g,y=c*p*l-f*u*l+f*a*h-i*p*h-c*a*g+i*u*g,x=f*u*s-c*p*s-f*a*d+i*p*d+c*a*m-i*u*m,O=t*v+n*b+r*y+o*x;if(0===O)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/O;return e[0]=v*w,e[1]=(p*d*o-u*m*o-p*r*h+n*m*h+u*r*g-n*d*g)*w,e[2]=(a*m*o-p*s*o+p*r*l-n*m*l-a*r*g+n*s*g)*w,e[3]=(u*s*o-a*d*o-u*r*l+n*d*l+a*r*h-n*s*h)*w,e[4]=b*w,e[5]=(c*m*o-f*d*o+f*r*h-t*m*h-c*r*g+t*d*g)*w,e[6]=(f*s*o-i*m*o-f*r*l+t*m*l+i*r*g-t*s*g)*w,e[7]=(i*d*o-c*s*o+c*r*l-t*d*l-i*r*h+t*s*h)*w,e[8]=y*w,e[9]=(f*u*o-c*p*o-f*n*h+t*p*h+c*n*g-t*u*g)*w,e[10]=(i*p*o-f*a*o+f*n*l-t*p*l-i*n*g+t*a*g)*w,e[11]=(c*a*o-i*u*o-c*n*l+t*u*l+i*n*h-t*a*h)*w,e[12]=x*w,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*w,e[14]=(f*a*r-i*p*r-f*n*s+t*p*s+i*n*m-t*a*m)*w,e[15]=(i*u*r-c*a*r+c*n*s-t*u*s-i*n*d+t*a*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,i=e.x,a=e.y,s=e.z,l=o*i,c=o*a;return this.set(l*i+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*i,0,l*s-r*a,c*s+r*i,o*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,o,i){return this.set(1,n,o,0,e,1,i,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,o=t._x,i=t._y,a=t._z,s=t._w,l=o+o,c=i+i,u=a+a,d=o*l,h=o*c,f=o*u,p=i*c,m=i*u,g=a*u,v=s*l,b=s*c,y=s*u,x=n.x,O=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(h+y)*x,r[2]=(f-b)*x,r[3]=0,r[4]=(h-y)*O,r[5]=(1-(d+g))*O,r[6]=(m+v)*O,r[7]=0,r[8]=(f+b)*w,r[9]=(m-v)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let o=Aae.set(r[0],r[1],r[2]).length();const i=Aae.set(r[4],r[5],r[6]).length(),a=Aae.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],$ae.copy(this);const s=1/o,l=1/i,c=1/a;return $ae.elements[0]*=s,$ae.elements[1]*=s,$ae.elements[2]*=s,$ae.elements[4]*=l,$ae.elements[5]*=l,$ae.elements[6]*=l,$ae.elements[8]*=c,$ae.elements[9]*=c,$ae.elements[10]*=c,t.setFromRotationMatrix($ae),n.x=o,n.y=i,n.z=a,this}makePerspective(e,t,n,r,o,i,a=2e3){const s=this.elements,l=2*o/(t-e),c=2*o/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,f;if(a===mie)h=-(i+o)/(i-o),f=-2*i*o/(i-o);else{if(a!==gie)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-i/(i-o),f=-i*o/(i-o)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,o,i,a=2e3){const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(i-o),d=(t+e)*l,h=(n+r)*c;let f,p;if(a===mie)f=(i+o)*u,p=-2*u;else{if(a!==gie)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);f=o*u,p=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=p,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Aae=new Tie,$ae=new Rae,Nae=new Tie(0,0,0),Iae=new Tie(1,1,1),Dae=new Tie,Lae=new Tie,zae=new Tie,jae=new Rae,Bae=new Mie;class Fae{constructor(e=0,t=0,n=0,r=Fae.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,o=r[0],i=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(wie(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-i,o)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-wie(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,o),this._z=0);break;case"ZXY":this._x=Math.asin(wie(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-i,l)):(this._y=0,this._z=Math.atan2(s,o));break;case"ZYX":this._y=Math.asin(-wie(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,o)):(this._x=0,this._z=Math.atan2(-i,l));break;case"YZX":this._z=Math.asin(wie(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-wie(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return jae.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jae,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Bae.setFromEuler(this),this.setFromQuaternion(Bae,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fae.DEFAULT_ORDER="XYZ";class Uae{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Hae=0;const Qae=new Tie,Vae=new Mie,Wae=new Rae,Gae=new Tie,Xae=new Tie,qae=new Tie,Zae=new Mie,Yae=new Tie(1,0,0),Kae=new Tie(0,1,0),Jae=new Tie(0,0,1),ese={type:"added"},tse={type:"removed"},nse={type:"childadded",child:null},rse={type:"childremoved",child:null};class ose extends vie{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Hae++}),this.uuid=Oie(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ose.DEFAULT_UP.clone();const e=new Tie,t=new Fae,n=new Mie,r=new Tie(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Rae},normalMatrix:{value:new Aie}}),this.matrix=new Rae,this.matrixWorld=new Rae,this.matrixAutoUpdate=ose.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ose.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Uae,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Vae.setFromAxisAngle(e,t),this.quaternion.multiply(Vae),this}rotateOnWorldAxis(e,t){return Vae.setFromAxisAngle(e,t),this.quaternion.premultiply(Vae),this}rotateX(e){return this.rotateOnAxis(Yae,e)}rotateY(e){return this.rotateOnAxis(Kae,e)}rotateZ(e){return this.rotateOnAxis(Jae,e)}translateOnAxis(e,t){return Qae.copy(e).applyQuaternion(this.quaternion),this.position.add(Qae.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Yae,e)}translateY(e){return this.translateOnAxis(Kae,e)}translateZ(e){return this.translateOnAxis(Jae,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Wae.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Gae.copy(e):Gae.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Xae.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wae.lookAt(Xae,Gae,this.up):Wae.lookAt(Gae,Xae,this.up),this.quaternion.setFromRotationMatrix(Wae),r&&(Wae.extractRotation(r.matrixWorld),Vae.setFromRotationMatrix(Wae),this.quaternion.premultiply(Vae.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ese),nse.child=e,this.dispatchEvent(nse),nse.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(tse),rse.child=e,this.dispatchEvent(rse),rse.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Wae.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Wae.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wae),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ese),nse.child=e,this.dispatchEvent(nse),nse.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let o=0,i=r.length;o<i;o++)r[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xae,e,qae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xae,Zae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};function o(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(e=>({...e})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];o(e.shapes,r)}else o(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(o(e.materials,this.material[n]));r.material=t}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(o(e.animations,n))}}if(t){const t=i(e.geometries),r=i(e.materials),o=i(e.textures),a=i(e.images),s=i(e.shapes),l=i(e.skeletons),c=i(e.animations),u=i(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),o.length>0&&(n.textures=o),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function i(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}ose.DEFAULT_UP=new Tie(0,1,0),ose.DEFAULT_MATRIX_AUTO_UPDATE=!0,ose.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ise=new Tie,ase=new Tie,sse=new Tie,lse=new Tie,cse=new Tie,use=new Tie,dse=new Tie,hse=new Tie,fse=new Tie,pse=new Tie,mse=new Jie,gse=new Jie,vse=new Jie;class bse{constructor(e=new Tie,t=new Tie,n=new Tie){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ise.subVectors(e,t),r.cross(ise);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,n,r,o){ise.subVectors(r,t),ase.subVectors(n,t),sse.subVectors(e,t);const i=ise.dot(ise),a=ise.dot(ase),s=ise.dot(sse),l=ase.dot(ase),c=ase.dot(sse),u=i*l-a*a;if(0===u)return o.set(0,0,0),null;const d=1/u,h=(l*s-a*c)*d,f=(i*c-a*s)*d;return o.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,lse)&&lse.x>=0&&lse.y>=0&&lse.x+lse.y<=1}static getInterpolation(e,t,n,r,o,i,a,s){return null===this.getBarycoord(e,t,n,r,lse)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(o,lse.x),s.addScaledVector(i,lse.y),s.addScaledVector(a,lse.z),s)}static getInterpolatedAttribute(e,t,n,r,o,i){return mse.setScalar(0),gse.setScalar(0),vse.setScalar(0),mse.fromBufferAttribute(e,t),gse.fromBufferAttribute(e,n),vse.fromBufferAttribute(e,r),i.setScalar(0),i.addScaledVector(mse,o.x),i.addScaledVector(gse,o.y),i.addScaledVector(vse,o.z),i}static isFrontFacing(e,t,n,r){return ise.subVectors(n,t),ase.subVectors(e,t),ise.cross(ase).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ise.subVectors(this.c,this.b),ase.subVectors(this.a,this.b),.5*ise.cross(ase).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bse.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return bse.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,o){return bse.getInterpolation(e,this.a,this.b,this.c,t,n,r,o)}containsPoint(e){return bse.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bse.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,o=this.c;let i,a;cse.subVectors(r,n),use.subVectors(o,n),hse.subVectors(e,n);const s=cse.dot(hse),l=use.dot(hse);if(s<=0&&l<=0)return t.copy(n);fse.subVectors(e,r);const c=cse.dot(fse),u=use.dot(fse);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return i=s/(s-c),t.copy(n).addScaledVector(cse,i);pse.subVectors(e,o);const h=cse.dot(pse),f=use.dot(pse);if(f>=0&&h<=f)return t.copy(o);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(n).addScaledVector(use,a);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return dse.subVectors(o,r),a=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(dse,a);const g=1/(m+p+d);return i=p*g,a=d*g,t.copy(n).addScaledVector(cse,i).addScaledVector(use,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const yse={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xse={h:0,s:0,l:0},Ose={h:0,s:0,l:0};function wse(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Sse{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=tie){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Uie.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=Uie.workingColorSpace){return this.r=e,this.g=t,this.b=n,Uie.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=Uie.workingColorSpace){if(e=function(e,t){return(e%t+t)%t}(e,1),t=wie(t,0,1),n=wie(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=wse(o,r,e+1/3),this.g=wse(o,r,e),this.b=wse(o,r,e-1/3)}return Uie.colorSpaceToWorking(this,r),this}setStyle(e,t=tie){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=r[1],o=n.length;if(3===o)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(n,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=tie){const n=yse[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Hie(e.r),this.g=Hie(e.g),this.b=Hie(e.b),this}copyLinearToSRGB(e){return this.r=Qie(e.r),this.g=Qie(e.g),this.b=Qie(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=tie){return Uie.workingToColorSpace(Ese.copy(this),e),65536*Math.round(wie(255*Ese.r,0,255))+256*Math.round(wie(255*Ese.g,0,255))+Math.round(wie(255*Ese.b,0,255))}getHexString(e=tie){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Uie.workingColorSpace){Uie.workingToColorSpace(Ese.copy(this),t);const n=Ese.r,r=Ese.g,o=Ese.b,i=Math.max(n,r,o),a=Math.min(n,r,o);let s,l;const c=(a+i)/2;if(a===i)s=0,l=0;else{const e=i-a;switch(l=c<=.5?e/(i+a):e/(2-i-a),i){case n:s=(r-o)/e+(r<o?6:0);break;case r:s=(o-n)/e+2;break;case o:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Uie.workingColorSpace){return Uie.workingToColorSpace(Ese.copy(this),t),e.r=Ese.r,e.g=Ese.g,e.b=Ese.b,e}getStyle(e=tie){Uie.workingToColorSpace(Ese.copy(this),e);const t=Ese.r,n=Ese.g,r=Ese.b;return e!==tie?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(xse),this.setHSL(xse.h+e,xse.s+t,xse.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(xse),e.getHSL(Ose);const n=Sie(xse.h,Ose.h,t),r=Sie(xse.s,Ose.s,t),o=Sie(xse.l,Ose.l,t);return this.setHSL(n,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*r,this.g=o[1]*t+o[4]*n+o[7]*r,this.b=o[2]*t+o[5]*n+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ese=new Sse;Sse.NAMES=yse;let _se=0;class Cse extends vie{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_se++}),this.uuid=Oie(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=Ore,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Sse(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=iie,this.stencilZFail=iie,this.stencilZPass=iie,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==Ore&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==iie&&(n.stencilFail=this.stencilFail),this.stencilZFail!==iie&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==iie&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),o=r(e.images);t.length>0&&(n.textures=t),o.length>0&&(n.images=o)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class kse extends Cse{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Sse(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fae,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Mse=new Tie,Tse=new kie;let Pse=0;class Rse{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Pse++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=35044,this.updateRanges=[],this.gpuType=coe,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Tse.fromBufferAttribute(this,t),Tse.applyMatrix3(e),this.setXY(t,Tse.x,Tse.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Mse.fromBufferAttribute(this,t),Mse.applyMatrix3(e),this.setXYZ(t,Mse.x,Mse.y,Mse.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Mse.fromBufferAttribute(this,t),Mse.applyMatrix4(e),this.setXYZ(t,Mse.x,Mse.y,Mse.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Mse.fromBufferAttribute(this,t),Mse.applyNormalMatrix(e),this.setXYZ(t,Mse.x,Mse.y,Mse.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Mse.fromBufferAttribute(this,t),Mse.transformDirection(e),this.setXYZ(t,Mse.x,Mse.y,Mse.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Eie(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=_ie(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Eie(t,this.array)),t}setX(e,t){return this.normalized&&(t=_ie(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Eie(t,this.array)),t}setY(e,t){return this.normalized&&(t=_ie(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Eie(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_ie(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Eie(t,this.array)),t}setW(e,t){return this.normalized&&(t=_ie(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_ie(t,this.array),n=_ie(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=_ie(t,this.array),n=_ie(n,this.array),r=_ie(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,o){return e*=this.itemSize,this.normalized&&(t=_ie(t,this.array),n=_ie(n,this.array),r=_ie(r,this.array),o=_ie(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class Ase extends Rse{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class $se extends Rse{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Nse extends Rse{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ise extends Rse{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Dse=0;const Lse=new Rae,zse=new ose,jse=new Tie,Bse=new oae,Fse=new oae,Use=new Tie;class Hse extends vie{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Dse++}),this.uuid=Oie(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Nie(e)?Nse:Ase)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Aie).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lse.makeRotationFromQuaternion(e),this.applyMatrix4(Lse),this}rotateX(e){return Lse.makeRotationX(e),this.applyMatrix4(Lse),this}rotateY(e){return Lse.makeRotationY(e),this.applyMatrix4(Lse),this}rotateZ(e){return Lse.makeRotationZ(e),this.applyMatrix4(Lse),this}translate(e,t,n){return Lse.makeTranslation(e,t,n),this.applyMatrix4(Lse),this}scale(e,t,n){return Lse.makeScale(e,t,n),this.applyMatrix4(Lse),this}lookAt(e){return zse.lookAt(e),zse.updateMatrix(),this.applyMatrix4(zse.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jse).negate(),this.translate(jse.x,jse.y,jse.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new Ise(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new oae);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Tie(-1/0,-1/0,-1/0),new Tie(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Bse.setFromBufferAttribute(n),this.morphTargetsRelative?(Use.addVectors(this.boundingBox.min,Bse.min),this.boundingBox.expandByPoint(Use),Use.addVectors(this.boundingBox.max,Bse.max),this.boundingBox.expandByPoint(Use)):(this.boundingBox.expandByPoint(Bse.min),this.boundingBox.expandByPoint(Bse.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new wae);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Tie,1/0);if(e){const n=this.boundingSphere.center;if(Bse.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Fse.setFromBufferAttribute(n),this.morphTargetsRelative?(Use.addVectors(Bse.min,Fse.min),Bse.expandByPoint(Use),Use.addVectors(Bse.max,Fse.max),Bse.expandByPoint(Use)):(Bse.expandByPoint(Fse.min),Bse.expandByPoint(Fse.max))}Bse.getCenter(n);let r=0;for(let t=0,o=e.count;t<o;t++)Use.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Use));if(t)for(let o=0,i=t.length;o<i;o++){const i=t[o],a=this.morphTargetsRelative;for(let t=0,o=i.count;t<o;t++)Use.fromBufferAttribute(i,t),a&&(jse.fromBufferAttribute(e,t),Use.add(jse)),r=Math.max(r,n.distanceToSquared(Use))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,o=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Rse(new Float32Array(4*n.count),4));const i=this.getAttribute("tangent"),a=[],s=[];for(let e=0;e<n.count;e++)a[e]=new Tie,s[e]=new Tie;const l=new Tie,c=new Tie,u=new Tie,d=new kie,h=new kie,f=new kie,p=new Tie,m=new Tie;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(o,e),h.fromBufferAttribute(o,t),f.fromBufferAttribute(o,r),c.sub(l),u.sub(l),h.sub(d),f.sub(d);const i=1/(h.x*f.y-f.x*h.y);isFinite(i)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-h.y).multiplyScalar(i),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-f.x).multiplyScalar(i),a[e].add(p),a[t].add(p),a[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let t=0,n=v.length;t<n;++t){const n=v[t],r=n.start;for(let t=r,o=r+n.count;t<o;t+=3)g(e.getX(t+0),e.getX(t+1),e.getX(t+2))}const b=new Tie,y=new Tie,x=new Tie,O=new Tie;function w(e){x.fromBufferAttribute(r,e),O.copy(x);const t=a[e];b.copy(t),b.sub(x.multiplyScalar(x.dot(t))).normalize(),y.crossVectors(O,t);const n=y.dot(s[e])<0?-1:1;i.setXYZW(e,b.x,b.y,b.z,n)}for(let t=0,n=v.length;t<n;++t){const n=v[t],r=n.start;for(let t=r,o=r+n.count;t<o;t+=3)w(e.getX(t+0)),w(e.getX(t+1)),w(e.getX(t+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Rse(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Tie,o=new Tie,i=new Tie,a=new Tie,s=new Tie,l=new Tie,c=new Tie,u=new Tie;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),o.fromBufferAttribute(t,f),i.fromBufferAttribute(t,p),c.subVectors(i,o),u.subVectors(r,o),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)r.fromBufferAttribute(t,e+0),o.fromBufferAttribute(t,e+1),i.fromBufferAttribute(t,e+2),c.subVectors(i,o),u.subVectors(r,o),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Use.fromBufferAttribute(e,t),Use.normalize(),e.setXYZ(t,Use.x,Use.y,Use.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,o=e.normalized,i=new n.constructor(t.length*r);let a=0,s=0;for(let o=0,l=t.length;o<l;o++){a=e.isInterleavedBufferAttribute?t[o]*e.data.stride+e.offset:t[o]*r;for(let e=0;e<r;e++)i[s++]=n[a++]}return new Rse(i,r,o)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Hse,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const o=this.morphAttributes;for(const r in o){const i=[],a=o[r];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);i.push(r)}t.morphAttributes[r]=i}t.morphTargetsRelative=this.morphTargetsRelative;const i=this.groups;for(let e=0,n=i.length;e<n;e++){const n=i[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const r=n[t];e.data.attributes[t]=r.toJSON(e.data)}const r={};let o=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],i=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];i.push(r.toJSON(e.data))}i.length>0&&(r[t]=i,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const i=this.groups;i.length>0&&(e.data.groups=JSON.parse(JSON.stringify(i)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere=a.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const r=e.attributes;for(const e in r){const n=r[e];this.setAttribute(e,n.clone(t))}const o=e.morphAttributes;for(const e in o){const n=[],r=o[e];for(let e=0,o=r.length;e<o;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const i=e.groups;for(let e=0,t=i.length;e<t;e++){const t=i[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Qse=new Rae,Vse=new Pae,Wse=new wae,Gse=new Tie,Xse=new Tie,qse=new Tie,Zse=new Tie,Yse=new Tie,Kse=new Tie,Jse=new Tie,ele=new Tie;class tle extends ose{constructor(e=new Hse,t=new kse){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,i=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(o&&a){Kse.set(0,0,0);for(let n=0,r=o.length;n<r;n++){const r=a[n],s=o[n];0!==r&&(Yse.fromBufferAttribute(s,e),i?Kse.addScaledVector(Yse,r):Kse.addScaledVector(Yse.sub(t),r))}t.add(Kse)}return t}raycast(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Wse.copy(n.boundingSphere),Wse.applyMatrix4(o),Vse.copy(e.ray).recast(e.near),!1===Wse.containsPoint(Vse.origin)){if(null===Vse.intersectSphere(Wse,Gse))return;if(Vse.origin.distanceToSquared(Gse)>(e.far-e.near)**2)return}Qse.copy(o).invert(),Vse.copy(e.ray).applyMatrix4(Qse),null!==n.boundingBox&&!1===Vse.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Vse)}}_computeIntersections(e,t,n){let r;const o=this.geometry,i=this.material,a=o.index,s=o.attributes.position,l=o.attributes.uv,c=o.attributes.uv1,u=o.attributes.normal,d=o.groups,h=o.drawRange;if(null!==a)if(Array.isArray(i))for(let o=0,s=d.length;o<s;o++){const s=d[o],f=i[s.materialIndex];for(let o=Math.max(s.start,h.start),i=Math.min(a.count,Math.min(s.start+s.count,h.start+h.count));o<i;o+=3)r=nle(this,f,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=s.materialIndex,t.push(r))}else for(let o=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);o<s;o+=3)r=nle(this,i,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),t.push(r));else if(void 0!==s)if(Array.isArray(i))for(let o=0,a=d.length;o<a;o++){const a=d[o],f=i[a.materialIndex];for(let o=Math.max(a.start,h.start),i=Math.min(s.count,Math.min(a.start+a.count,h.start+h.count));o<i;o+=3)r=nle(this,f,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=a.materialIndex,t.push(r))}else for(let o=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);o<a;o+=3)r=nle(this,i,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),t.push(r))}}function nle(e,t,n,r,o,i,a,s,l,c){e.getVertexPosition(s,Xse),e.getVertexPosition(l,qse),e.getVertexPosition(c,Zse);const u=function(e,t,n,r,o,i,a,s){let l;if(l=1===t.side?r.intersectTriangle(a,i,o,!0,s):r.intersectTriangle(o,i,a,0===t.side,s),null===l)return null;ele.copy(s),ele.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(ele);return c<n.near||c>n.far?null:{distance:c,point:ele.clone(),object:e}}(e,t,n,r,Xse,qse,Zse,Jse);if(u){const e=new Tie;bse.getBarycoord(Jse,Xse,qse,Zse,e),o&&(u.uv=bse.getInterpolatedAttribute(o,s,l,c,e,new kie)),i&&(u.uv1=bse.getInterpolatedAttribute(i,s,l,c,e,new kie)),a&&(u.normal=bse.getInterpolatedAttribute(a,s,l,c,e,new Tie),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c,normal:new Tie,materialIndex:0};bse.getNormal(Xse,qse,Zse,t.normal),u.face=t,u.barycoord=e}return u}class rle extends Hse{constructor(e=1,t=1,n=1,r=1,o=1,i=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:i};const a=this;r=Math.floor(r),o=Math.floor(o),i=Math.floor(i);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,o,i,f,p,m,g,v){const b=i/m,y=f/g,x=i/2,O=f/2,w=p/2,S=m+1,E=g+1;let _=0,C=0;const k=new Tie;for(let i=0;i<E;i++){const a=i*y-O;for(let s=0;s<S;s++){const d=s*b-x;k[e]=d*r,k[t]=a*o,k[n]=w,l.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=p>0?1:-1,c.push(k.x,k.y,k.z),u.push(s/m),u.push(1-i/g),_+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){const n=d+t+S*e,r=d+t+S*(e+1),o=d+(t+1)+S*(e+1),i=d+(t+1)+S*e;s.push(n,r,i),s.push(r,o,i),C+=6}a.addGroup(h,C,v),h+=C,d+=_}f("z","y","x",-1,-1,n,t,e,i,o,0),f("z","y","x",1,-1,n,t,-e,i,o,1),f("x","z","y",1,1,e,n,t,r,i,2),f("x","z","y",1,-1,e,n,-t,r,i,3),f("x","y","z",1,-1,e,t,n,r,o,4),f("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(s),this.setAttribute("position",new Ise(l,3)),this.setAttribute("normal",new Ise(c,3)),this.setAttribute("uv",new Ise(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rle(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ole(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const o=e[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=o.clone():Array.isArray(o)?t[n][r]=o.slice():t[n][r]=o}}return t}function ile(e){const t={};for(let n=0;n<e.length;n++){const r=ole(e[n]);for(const e in r)t[e]=r[e]}return t}function ale(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:Uie.workingColorSpace}const sle={clone:ole,merge:ile};class lle extends Cse{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ole(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class cle extends ose{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rae,this.projectionMatrix=new Rae,this.projectionMatrixInverse=new Rae,this.coordinateSystem=mie}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const ule=new Tie,dle=new kie,hle=new kie;class fle extends cle{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*xie*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*yie*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*xie*Math.atan(Math.tan(.5*yie*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){ule.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ule.x,ule.y).multiplyScalar(-e/ule.z),ule.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ule.x,ule.y).multiplyScalar(-e/ule.z)}getViewSize(e,t){return this.getViewBounds(e,dle,hle),t.subVectors(hle,dle)}setViewOffset(e,t,n,r,o,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*yie*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r;const i=this.view;if(null!==this.view&&this.view.enabled){const e=i.fullWidth,a=i.fullHeight;o+=i.offsetX*r/e,t-=i.offsetY*n/a,r*=i.width/e,n*=i.height/a}const a=this.filmOffset;0!==a&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ple=-90;class mle extends ose{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fle(ple,1,e,t);r.layers=this.layers,this.add(r);const o=new fle(ple,1,e,t);o.layers=this.layers,this.add(o);const i=new fle(ple,1,e,t);i.layers=this.layers,this.add(i);const a=new fle(ple,1,e,t);a.layers=this.layers,this.add(a);const s=new fle(ple,1,e,t);s.layers=this.layers,this.add(s);const l=new fle(ple,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,o,i,a,s]=t;for(const e of t)this.remove(e);if(e===mie)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),i.up.set(0,0,1),i.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==gie)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),i.up.set(0,0,-1),i.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,i,a,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,o),e.setRenderTarget(n,1,r),e.render(t,i),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class gle extends Kie{constructor(e=[],t=301,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class vle extends tae{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new gle(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",o="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new rle(5,5,5),a=new lle({name:"CubemapFromEquirect",uniforms:ole(n),vertexShader:r,fragmentShader:o,side:1,blending:0});a.uniforms.tEquirect.value=t;const s=new tle(i,a),l=t.minFilter;return t.minFilter===ooe&&(t.minFilter=noe),new mle(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const o=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(o)}}class ble extends ose{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yle={type:"move"};class xle{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ble,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ble,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Tie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Tie),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ble,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Tie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Tie),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,o=null,i=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){i=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,n),o=this._getHandJoint(l,r);null!==e&&(o.matrix.fromArray(e.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,o.jointRadius=e.radius),o.visible=null!==e}const r=l.joints["index-finger-tip"],o=l.joints["thumb-tip"],a=r.position.distanceTo(o.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),null!==o&&(s.matrix.fromArray(o.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,o.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(o.linearVelocity)):s.hasLinearVelocity=!1,o.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(o.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==o&&(r=o),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yle)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==o),null!==l&&(l.visible=null!==i),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new ble;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Ole extends ose{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Fae,this.environmentIntensity=1,this.environmentRotation=new Fae,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const wle=new Tie,Sle=new Tie,Ele=new Aie;class _le{constructor(e=new Tie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=wle.subVectors(n,t).cross(Sle.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(wle),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ele.getNormalMatrix(e),r=this.coplanarPoint(wle).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Cle=new wae,kle=new Tie;class Mle{constructor(e=new _le,t=new _le,n=new _le,r=new _le,o=new _le,i=new _le){this.planes=[e,t,n,r,o,i]}set(e,t,n,r,o,i){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(o),a[5].copy(i),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,r=e.elements,o=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],b=r[14],y=r[15];if(n[0].setComponents(s-o,d-l,m-h,y-g).normalize(),n[1].setComponents(s+o,d+l,m+h,y+g).normalize(),n[2].setComponents(s+i,d+c,m+f,y+v).normalize(),n[3].setComponents(s-i,d-c,m-f,y-v).normalize(),n[4].setComponents(s-a,d-u,m-p,y-b).normalize(),t===mie)n[5].setComponents(s+a,d+u,m+p,y+b).normalize();else{if(t!==gie)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,p,b).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Cle.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Cle.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Cle)}intersectsSprite(e){return Cle.center.set(0,0,0),Cle.radius=.7071067811865476,Cle.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cle)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(kle.x=r.normal.x>0?e.max.x:e.min.x,kle.y=r.normal.y>0?e.max.y:e.min.y,kle.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(kle)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Tle extends Cse{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Sse(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ple=new Tie,Rle=new Tie,Ale=new Rae,$le=new Pae,Nle=new wae,Ile=new Tie,Dle=new Tie;class Lle extends ose{constructor(e=new Hse,t=new Tle){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Ple.fromBufferAttribute(t,e-1),Rle.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Ple.distanceTo(Rle);e.setAttribute("lineDistance",new Ise(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Nle.copy(n.boundingSphere),Nle.applyMatrix4(r),Nle.radius+=o,!1===e.ray.intersectsSphere(Nle))return;Ale.copy(r).invert(),$le.copy(e.ray).applyMatrix4(Ale);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,i.start),r=Math.min(c.count,i.start+i.count);for(let o=n,i=r-1;o<i;o+=l){const n=c.getX(o),r=c.getX(o+1),i=zle(this,e,$le,s,n,r,o);i&&t.push(i)}if(this.isLineLoop){const o=c.getX(r-1),i=c.getX(n),a=zle(this,e,$le,s,o,i,r-1);a&&t.push(a)}}else{const n=Math.max(0,i.start),r=Math.min(u.count,i.start+i.count);for(let o=n,i=r-1;o<i;o+=l){const n=zle(this,e,$le,s,o,o+1,o);n&&t.push(n)}if(this.isLineLoop){const o=zle(this,e,$le,s,r-1,n,r-1);o&&t.push(o)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function zle(e,t,n,r,o,i,a){const s=e.geometry.attributes.position;if(Ple.fromBufferAttribute(s,o),Rle.fromBufferAttribute(s,i),n.distanceSqToSegment(Ple,Rle,Ile,Dle)>r)return;Ile.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(Ile);return l<t.near||l>t.far?void 0:{distance:l,point:Dle.clone().applyMatrix4(e.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:e}}const jle=new Tie,Ble=new Tie;class Fle extends Lle{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)jle.fromBufferAttribute(t,e),Ble.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+jle.distanceTo(Ble);e.setAttribute("lineDistance",new Ise(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ule extends Cse{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Sse(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Hle=new Rae,Qle=new Pae,Vle=new wae,Wle=new Tie;class Gle extends ose{constructor(e=new Hse,t=new Ule){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Vle.copy(n.boundingSphere),Vle.applyMatrix4(r),Vle.radius+=o,!1===e.ray.intersectsSphere(Vle))return;Hle.copy(r).invert(),Qle.copy(e.ray).applyMatrix4(Hle);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=n.index,c=n.attributes.position;if(null!==l)for(let n=Math.max(0,i.start),o=Math.min(l.count,i.start+i.count);n<o;n++){const o=l.getX(n);Wle.fromBufferAttribute(c,o),Xle(Wle,o,s,r,e,t,this)}else for(let n=Math.max(0,i.start),o=Math.min(c.count,i.start+i.count);n<o;n++)Wle.fromBufferAttribute(c,n),Xle(Wle,n,s,r,e,t,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Xle(e,t,n,r,o,i,a){const s=Qle.distanceSqToPoint(e);if(s<n){const n=new Tie;Qle.closestPointToPoint(e,n),n.applyMatrix4(r);const l=o.ray.origin.distanceTo(n);if(l<o.near||l>o.far)return;i.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class qle extends Kie{constructor(e,t,n=1014,r,o,i,a=1003,s=1003,l,c=1026,u=1){if(c!==moe&&c!==goe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},r,o,i,a,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Xie(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Zle extends Hse{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const o=e/2,i=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,d=t/s,h=[],f=[],p=[],m=[];for(let e=0;e<c;e++){const t=e*d-i;for(let n=0;n<l;n++){const r=n*u-o;f.push(r,-t,0),p.push(0,0,1),m.push(n/a),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=t+l*e,r=t+l*(e+1),o=t+1+l*(e+1),i=t+1+l*e;h.push(n,r,i),h.push(r,o,i)}this.setIndex(h),this.setAttribute("position",new Ise(f,3)),this.setAttribute("normal",new Ise(p,3)),this.setAttribute("uv",new Ise(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zle(e.width,e.height,e.widthSegments,e.heightSegments)}}class Yle extends Cse{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Kle extends Cse{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Jle(e,t){return e&&e.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}class ece{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let i;n:{r:if(!(e<r)){for(let i=n+2;;){if(void 0===r){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===i)break;if(o=r,r=t[++n],e<r)break t}i=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(n=2,o=a);for(let i=n-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(n===i)break;if(r=o,o=t[--n-1],e>=o)break t}i=n,n=0;break n}break e}for(;n<i;){const r=n+i>>>1;e<t[r]?i=r:n=r+1}if(r=t[n],o=t[n-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let e=0;e!==r;++e)t[e]=n[o+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tce extends ece{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const r=this.parameterPositions;let o=e-2,i=e+1,a=r[o],s=r[i];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=e,a=2*t-n;break;case 2402:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:i=e,s=2*n-t;break;case 2402:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=o*c,this._offsetNext=i*c}interpolate_(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,b=(-1-h)*m+(1.5+h)*p+.5*f,y=h*m-h*p;for(let e=0;e!==a;++e)o[e]=g*i[c+e]+v*i[l+e]+b*i[s+e]+y*i[u+e];return o}}class nce extends ece{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let e=0;e!==a;++e)o[e]=i[l+e]*u+i[s+e]*c;return o}}class rce extends ece{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class oce{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Jle(t,this.TimeBufferType),this.values=Jle(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Jle(e.times,Array),values:Jle(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new rce(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nce(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tce(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Yoe:t=this.InterpolantFactoryMethodDiscrete;break;case Koe:t=this.InterpolantFactoryMethodLinear;break;case Joe:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yoe;case this.InterpolantFactoryMethodLinear:return Koe;case this.InterpolantFactoryMethodSmooth:return Joe}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let o=0,i=r-1;for(;o!==r&&n[o]<e;)++o;for(;-1!==i&&n[i]>t;)--i;if(++i,0!==o||i!==r){o>=i&&(i=Math.max(i,1),o=i-1);const e=this.getValueSize();this.times=n.slice(o,i),this.values=this.values.slice(o*e,i*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let i=null;for(let t=0;t!==o;t++){const r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==i&&i>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,i),e=!1;break}i=r}if(void 0!==r&&(a=r,ArrayBuffer.isView(a)&&!(a instanceof DataView)))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}var a;return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Joe,o=e.length-1;let i=1;for(let a=1;a<o;++a){let o=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)o=!0;else{const e=a*n,r=e-n,i=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[i+a]){o=!0;break}}}if(o){if(a!==i){e[i]=e[a];const r=a*n,o=i*n;for(let e=0;e!==n;++e)t[o+e]=t[r+e]}++i}}if(o>0){e[i]=e[o];for(let e=o*n,r=i*n,a=0;a!==n;++a)t[r+a]=t[e+a];++i}return i!==e.length?(this.times=e.slice(0,i),this.values=t.slice(0,i*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}oce.prototype.ValueTypeName="",oce.prototype.TimeBufferType=Float32Array,oce.prototype.ValueBufferType=Float32Array,oce.prototype.DefaultInterpolation=Koe;class ice extends oce{constructor(e,t,n){super(e,t,n)}}ice.prototype.ValueTypeName="bool",ice.prototype.ValueBufferType=Array,ice.prototype.DefaultInterpolation=Yoe,ice.prototype.InterpolantFactoryMethodLinear=void 0,ice.prototype.InterpolantFactoryMethodSmooth=void 0;(class extends oce{constructor(e,t,n,r){super(e,t,n,r)}}).prototype.ValueTypeName="color";(class extends oce{constructor(e,t,n,r){super(e,t,n,r)}}).prototype.ValueTypeName="number";class ace extends ece{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let e=l+a;l!==e;l+=4)Mie.slerpFlat(o,0,i,l-a,i,l,s);return o}}class sce extends oce{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new ace(this.times,this.values,this.getValueSize(),e)}}sce.prototype.ValueTypeName="quaternion",sce.prototype.InterpolantFactoryMethodSmooth=void 0;class lce extends oce{constructor(e,t,n){super(e,t,n)}}lce.prototype.ValueTypeName="string",lce.prototype.ValueBufferType=Array,lce.prototype.DefaultInterpolation=Yoe,lce.prototype.InterpolantFactoryMethodLinear=void 0,lce.prototype.InterpolantFactoryMethodSmooth=void 0;(class extends oce{constructor(e,t,n,r){super(e,t,n,r)}}).prototype.ValueTypeName="vector";const cce={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class uce{constructor(e,t,n){const r=this;let o,i=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,s),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return o?o(e):e},this.setURLModifier=function(e){return o=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const dce=new uce;class hce{constructor(e){this.manager=void 0!==e?e:dce,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}hce.DEFAULT_MATERIAL_NAME="__DEFAULT";const fce={};class pce extends Error{constructor(e,t){super(e),this.response=t}}class mce extends hce{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const o=cce.get(e);if(void 0!==o)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(void 0!==fce[e])return void fce[e].push({onLoad:t,onProgress:n,onError:r});fce[e]=[],fce[e].push({onLoad:t,onProgress:n,onError:r});const i=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(i).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=fce[e],r=t.body.getReader(),o=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),i=o?parseInt(o):0,a=0!==i;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:o})=>{if(r)e.close();else{s+=o.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:i});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(o),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new pce(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,a));case"json":return e.json();default:if(""===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{cce.add(e,t);const n=fce[e];delete fce[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=fce[e];if(void 0===n)throw this.manager.itemError(e),t;delete fce[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gce extends cle{constructor(e=-1,t=1,n=1,r=-1,o=.1,i=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=o,this.far=i,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,o,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,i=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=e*this.view.offsetX,i=o+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(o,i,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}new WeakMap;class vce extends fle{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const bce="\\[\\]\\.:\\/",yce=new RegExp("["+bce+"]","g"),xce="[^"+bce+"]",Oce="[^"+bce.replace("\\.","")+"]",wce=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",xce)+/(WCOD+)?/.source.replace("WCOD",Oce)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xce)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xce)+"$"),Sce=["material","materials","bones","map"];class Ece{constructor(e,t,n){this.path=t,this.parsedPath=n||Ece.parseTrackName(t),this.node=Ece.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ece.Composite(e,t,n):new Ece(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(yce,"")}static parseTrackName(e){const t=wce.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Sce.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const o=e[r];if(o.name===t||o.uuid===t)return o;const i=n(o.children);if(i)return i}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,o=n.length;r!==o;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Ece.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const i=e[r];if(void 0===i){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}s=this.BindingType.ArrayElement,this.resolvedProperty=i,this.propertyIndex=o}else void 0!==i.fromArray&&void 0!==i.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=i):Array.isArray(i)?(s=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ece.Composite=class{constructor(e,t,n){const r=n||Ece.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Ece.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ece.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ece.prototype.GetterByBindingType=[Ece.prototype._getValue_direct,Ece.prototype._getValue_array,Ece.prototype._getValue_arrayElement,Ece.prototype._getValue_toArray],Ece.prototype.SetterByBindingTypeAndVersioning=[[Ece.prototype._setValue_direct,Ece.prototype._setValue_direct_setNeedsUpdate,Ece.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ece.prototype._setValue_array,Ece.prototype._setValue_array_setNeedsUpdate,Ece.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ece.prototype._setValue_arrayElement,Ece.prototype._setValue_arrayElement_setNeedsUpdate,Ece.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ece.prototype._setValue_fromArray,Ece.prototype._setValue_fromArray_setNeedsUpdate,Ece.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class _ce{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=wie(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(wie(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Cce extends Fle{constructor(e=10,t=10,n=4473924,r=8947848){n=new Sse(n),r=new Sse(r);const o=t/2,i=e/t,a=e/2,s=[],l=[];for(let e=0,c=0,u=-a;e<=t;e++,u+=i){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);const t=e===o?n:r;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new Hse;c.setAttribute("position",new Ise(s,3)),c.setAttribute("color",new Ise(l,3)),super(c,new Tle({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class kce extends Fle{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Hse;n.setAttribute("position",new Ise(t,3)),n.setAttribute("color",new Ise([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new Tle({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Sse,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mce extends vie{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e?(null!==this.domElement&&this.disconnect(),this.domElement=e):console.warn("THREE.Controls: connect() now requires an element.")}disconnect(){}dispose(){}update(){}}function Tce(e,t,n,r){const o=function(e){switch(e){case ioe:case 1010:return{byteLength:1,components:1};case aoe:case 1011:case uoe:return{byteLength:2,components:1};case doe:case hoe:return{byteLength:2,components:4};case loe:case soe:case coe:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case 1021:return e*t;case 1028:case voe:return e*t/o.components*o.byteLength;case 1030:case boe:return e*t*2/o.components*o.byteLength;case 1022:return e*t*3/o.components*o.byteLength;case poe:case yoe:return e*t*4/o.components*o.byteLength;case xoe:case Ooe:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case woe:case Soe:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case _oe:case koe:return Math.max(e,16)*Math.max(t,8)/4;case Eoe:case Coe:return Math.max(e,8)*Math.max(t,8)/2;case Moe:case Toe:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Poe:case Roe:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Aoe:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case $oe:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case Noe:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Ioe:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Doe:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Loe:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case zoe:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case joe:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Boe:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Foe:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Uoe:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case Hoe:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Qoe:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Voe:case Woe:case Goe:return Math.ceil(e/4)*Math.ceil(t/4)*16;case 36283:case Xoe:return Math.ceil(e/4)*Math.ceil(t/4)*8;case qoe:case Zoe:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Pce(){let e=null,t=!1,n=null,r=null;function o(t,i){n(t,i),r=e.requestAnimationFrame(o)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(o),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Rce(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const o=t.get(n);if(void 0===o)t.set(n,function(t,n){const r=t.array,o=t.usage,i=r.byteLength,a=e.createBuffer();let s;if(e.bindBuffer(n,a),e.bufferData(n,r,o),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:i}}(n,r));else if(o.version<n.version){if(o.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const o=n.array,i=n.updateRanges;if(e.bindBuffer(r,t),0===i.length)e.bufferSubData(r,0,o);else{i.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<i.length;e++){const n=i[t],r=i[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,i[t]=r)}i.length=t+1;for(let t=0,n=i.length;t<n;t++){const n=i[t];e.bufferSubData(r,n.start*o.BYTES_PER_ELEMENT,o,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}(o.buffer,n,r),o.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vre}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vre);const Ace={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},$ce={common:{diffuse:{value:new Sse(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Aie},alphaMap:{value:null},alphaMapTransform:{value:new Aie},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Aie}},envmap:{envMap:{value:null},envMapRotation:{value:new Aie},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Aie}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Aie}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Aie},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Aie},normalScale:{value:new kie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Aie},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Aie}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Aie}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Aie}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Sse(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Sse(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Aie},alphaTest:{value:0},uvTransform:{value:new Aie}},sprite:{diffuse:{value:new Sse(16777215)},opacity:{value:1},center:{value:new kie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Aie},alphaMap:{value:null},alphaMapTransform:{value:new Aie},alphaTest:{value:0}}},Nce={basic:{uniforms:ile([$ce.common,$ce.specularmap,$ce.envmap,$ce.aomap,$ce.lightmap,$ce.fog]),vertexShader:Ace.meshbasic_vert,fragmentShader:Ace.meshbasic_frag},lambert:{uniforms:ile([$ce.common,$ce.specularmap,$ce.envmap,$ce.aomap,$ce.lightmap,$ce.emissivemap,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,$ce.fog,$ce.lights,{emissive:{value:new Sse(0)}}]),vertexShader:Ace.meshlambert_vert,fragmentShader:Ace.meshlambert_frag},phong:{uniforms:ile([$ce.common,$ce.specularmap,$ce.envmap,$ce.aomap,$ce.lightmap,$ce.emissivemap,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,$ce.fog,$ce.lights,{emissive:{value:new Sse(0)},specular:{value:new Sse(1118481)},shininess:{value:30}}]),vertexShader:Ace.meshphong_vert,fragmentShader:Ace.meshphong_frag},standard:{uniforms:ile([$ce.common,$ce.envmap,$ce.aomap,$ce.lightmap,$ce.emissivemap,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,$ce.roughnessmap,$ce.metalnessmap,$ce.fog,$ce.lights,{emissive:{value:new Sse(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ace.meshphysical_vert,fragmentShader:Ace.meshphysical_frag},toon:{uniforms:ile([$ce.common,$ce.aomap,$ce.lightmap,$ce.emissivemap,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,$ce.gradientmap,$ce.fog,$ce.lights,{emissive:{value:new Sse(0)}}]),vertexShader:Ace.meshtoon_vert,fragmentShader:Ace.meshtoon_frag},matcap:{uniforms:ile([$ce.common,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,$ce.fog,{matcap:{value:null}}]),vertexShader:Ace.meshmatcap_vert,fragmentShader:Ace.meshmatcap_frag},points:{uniforms:ile([$ce.points,$ce.fog]),vertexShader:Ace.points_vert,fragmentShader:Ace.points_frag},dashed:{uniforms:ile([$ce.common,$ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ace.linedashed_vert,fragmentShader:Ace.linedashed_frag},depth:{uniforms:ile([$ce.common,$ce.displacementmap]),vertexShader:Ace.depth_vert,fragmentShader:Ace.depth_frag},normal:{uniforms:ile([$ce.common,$ce.bumpmap,$ce.normalmap,$ce.displacementmap,{opacity:{value:1}}]),vertexShader:Ace.meshnormal_vert,fragmentShader:Ace.meshnormal_frag},sprite:{uniforms:ile([$ce.sprite,$ce.fog]),vertexShader:Ace.sprite_vert,fragmentShader:Ace.sprite_frag},background:{uniforms:{uvTransform:{value:new Aie},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ace.background_vert,fragmentShader:Ace.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Aie}},vertexShader:Ace.backgroundCube_vert,fragmentShader:Ace.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ace.cube_vert,fragmentShader:Ace.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ace.equirect_vert,fragmentShader:Ace.equirect_frag},distanceRGBA:{uniforms:ile([$ce.common,$ce.displacementmap,{referencePosition:{value:new Tie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ace.distanceRGBA_vert,fragmentShader:Ace.distanceRGBA_frag},shadow:{uniforms:ile([$ce.lights,$ce.fog,{color:{value:new Sse(0)},opacity:{value:1}}]),vertexShader:Ace.shadow_vert,fragmentShader:Ace.shadow_frag}};Nce.physical={uniforms:ile([Nce.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Aie},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Aie},clearcoatNormalScale:{value:new kie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Aie},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Aie},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Aie},sheen:{value:0},sheenColor:{value:new Sse(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Aie},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Aie},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Aie},transmissionSamplerSize:{value:new kie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Aie},attenuationDistance:{value:0},attenuationColor:{value:new Sse(0)},specularColor:{value:new Sse(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Aie},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Aie},anisotropyVector:{value:new kie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Aie}}]),vertexShader:Ace.meshphysical_vert,fragmentShader:Ace.meshphysical_frag};const Ice={r:0,b:0,g:0},Dce=new Fae,Lce=new Rae;function zce(e,t,n,r,o,i,a){const s=new Sse(0);let l,c,u=!0===i?0:1,d=null,h=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;return r&&r.isTexture&&(r=(e.backgroundBlurriness>0?n:t).get(r)),r}function m(t,n){t.getRGB(Ice,ale(e)),r.buffers.color.setClear(Ice.r,Ice.g,Ice.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,m(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(s,u)},render:function(t){let n=!1;const o=p(t);null===o?m(s,u):o&&o.isColor&&(m(o,1),n=!0);const i=e.xr.getEnvironmentBlendMode();"additive"===i?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===i&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===qre)?(void 0===c&&(c=new tle(new rle(1,1,1),new lle({name:"BackgroundCubeMaterial",uniforms:ole(Nce.backgroundCube.uniforms),vertexShader:Nce.backgroundCube.vertexShader,fragmentShader:Nce.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(c)),Dce.copy(n.backgroundRotation),Dce.x*=-1,Dce.y*=-1,Dce.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(Dce.y*=-1,Dce.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Lce.makeRotationFromEuler(Dce)),c.material.toneMapped=Uie.getTransfer(r.colorSpace)!==oie,d===r&&h===r.version&&f===e.toneMapping||(c.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new tle(new Zle(2,2),new lle({name:"BackgroundMaterial",uniforms:ole(Nce.background.uniforms),vertexShader:Nce.background.vertexShader,fragmentShader:Nce.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=Uie.getTransfer(r.colorSpace)!==oie,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&h===r.version&&f===e.toneMapping||(l.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function jce(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},o=c(null);let i=o,a=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],o=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,o[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:o,object:e,attributes:{},index:null}}function u(){const e=i.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const r=i.newAttributes,o=i.enabledAttributes,a=i.attributeDivisors;r[t]=1,0===o[t]&&(e.enableVertexAttribArray(t),o[t]=1),a[t]!==n&&(e.vertexAttribDivisor(t,n),a[t]=n)}function f(){const t=i.newAttributes,n=i.enabledAttributes;for(let r=0,o=n.length;r<o;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,o,i,a,s){!0===s?e.vertexAttribIPointer(t,n,r,i,a):e.vertexAttribPointer(t,n,r,o,i,a)}function m(){g(),a=!0,i!==o&&(i=o,s(i.object))}function g(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:function(n,o,l,m,g){let v=!1;const b=function(t,n,o){const i=!0===o.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let s=a[n.id];void 0===s&&(s={},a[n.id]=s);let l=s[i];return void 0===l&&(l=c(e.createVertexArray()),s[i]=l),l}(m,l,o);i!==b&&(i=b,s(i.object)),v=function(e,t,n,r){const o=i.attributes,a=t.attributes;let s=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){const n=o[t];let r=a[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;s++}return i.attributesNum!==s||i.index!==r}(n,m,l,g),v&&function(e,t,n,r){const o={},a=t.attributes;let s=0;const l=n.getAttributes();for(const t in l)if(l[t].location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),o[t]=r,s++}i.attributes=o,i.attributesNum=s,i.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||a)&&(a=!1,function(n,r,o,i){u();const a=i.attributes,s=o.getAttributes(),l=r.defaultAttributeValues;for(const r in s){const o=s[r];if(o.location>=0){let s=a[r];if(void 0===s&&("instanceMatrix"===r&&n.instanceMatrix&&(s=n.instanceMatrix),"instanceColor"===r&&n.instanceColor&&(s=n.instanceColor)),void 0!==s){const r=s.normalized,a=s.itemSize,l=t.get(s);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||s.gpuType===soe;if(s.isInterleavedBufferAttribute){const t=s.data,l=t.stride,g=s.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<o.locationSize;e++)h(o.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===i._maxInstanceCount&&(i._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<o.locationSize;e++)d(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<o.locationSize;e++)p(o.location+e,a/o.locationSize,u,r,l*f,(g+a/o.locationSize*e)*f,m)}else{if(s.isInstancedBufferAttribute){for(let e=0;e<o.locationSize;e++)h(o.location+e,s.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===i._maxInstanceCount&&(i._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let e=0;e<o.locationSize;e++)d(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<o.locationSize;e++)p(o.location+e,a/o.locationSize,u,r,a*f,a/o.locationSize*e*f,m)}}else if(void 0!==l){const t=l[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(o.location,t);break;case 3:e.vertexAttrib3fv(o.location,t);break;case 4:e.vertexAttrib4fv(o.location,t);break;default:e.vertexAttrib1fv(o.location,t)}}}}f()}(n,o,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const o=n[e.id];for(const e in o)l(o[e].object),delete o[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:f}}function Bce(e,t,n){let r;function o(t,o,i){0!==i&&(e.drawArraysInstanced(r,t,o,i),n.update(o,r,i))}this.setMode=function(e){r=e},this.render=function(t,o){e.drawArrays(r,t,o),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,o,i){if(0===i)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,o,0,i);let a=0;for(let e=0;e<i;e++)a+=o[e];n.update(a,r,1)},this.renderMultiDrawInstances=function(e,i,a,s){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)o(e[t],i[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,i,0,s,0,a);let t=0;for(let e=0;e<a;e++)t+=i[e]*s[e];n.update(t,r,1)}}}function Fce(e,t,n,r){let o;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==o)return o;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");o=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o},getMaxPrecision:i,textureFormatReadable:function(t){return t===poe||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const o=n===uoe&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==ioe&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==coe&&!o)},precision:a,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function Uce(e){const t=this;let n=null,r=0,o=!1,i=!1;const a=new _le,s=new Aie,l={value:null,needsUpdate:!1};function c(e,n,r,o){const i=null!==e?e.length:0;let c=null;if(0!==i){if(c=l.value,!0!==o||null===c){const t=r+4*i,o=n.matrixWorldInverse;s.getNormalMatrix(o),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=r;t!==i;++t,n+=4)a.copy(e[t]).applyMatrix4(o,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=i,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||o;return o=t,r=e.length,n},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,s,u){const d=a.clippingPlanes,h=a.clipIntersection,f=a.clipShadows,p=e.get(a);if(!o||null===d||0===d.length||i&&!f)i?c(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0);else{const e=i?0:r,t=4*e;let o=p.clippingState||null;l.value=o,o=c(d,s,t,u);for(let e=0;e!==t;++e)o[e]=n[e];p.clippingState=o,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Hce(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=Gre:304===t&&(e.mapping=Xre),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const o=t.get(n);void 0!==o&&(t.delete(n),o.dispose())}return{get:function(o){if(o&&o.isTexture){const i=o.mapping;if(303===i||304===i){if(t.has(o))return n(t.get(o).texture,o.mapping);{const i=o.image;if(i&&i.height>0){const a=new vle(i.height);return a.fromEquirectangularTexture(e,o),t.set(o,a),o.addEventListener("dispose",r),n(a.texture,o.mapping)}return null}}}return o},dispose:function(){t=new WeakMap}}}const Qce=[.125,.215,.35,.446,.526,.582],Vce=new gce,Wce=new Sse;let Gce=null,Xce=0,qce=0,Zce=!1;const Yce=(1+Math.sqrt(5))/2,Kce=1/Yce,Jce=[new Tie(-Yce,Kce,0),new Tie(Yce,Kce,0),new Tie(-Kce,0,Yce),new Tie(Kce,0,Yce),new Tie(0,Yce,-Kce),new Tie(0,Yce,Kce),new Tie(-1,1,-1),new Tie(1,1,-1),new Tie(-1,1,1),new Tie(1,1,1)],eue=new Tie;class tue{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,o={}){const{size:i=256,position:a=eue}=o;Gce=this._renderer.getRenderTarget(),Xce=this._renderer.getActiveCubeFace(),qce=this._renderer.getActiveMipmapLevel(),Zce=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(i);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,a),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=iue(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=oue(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Gce,Xce,qce),this._renderer.xr.enabled=Zce,e.scissorTest=!1,rue(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Gre||e.mapping===Xre?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Gce=this._renderer.getRenderTarget(),Xce=this._renderer.getActiveCubeFace(),qce=this._renderer.getActiveMipmapLevel(),Zce=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:noe,minFilter:noe,generateMipmaps:!1,type:uoe,format:poe,colorSpace:nie,depthBuffer:!1},r=nue(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=nue(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let o=e;const i=e-4+1+Qce.length;for(let a=0;a<i;a++){const i=Math.pow(2,o);n.push(i);let s=1/i;a>e-4?s=Qce[a-e+4-1]:0===a&&(s=0),r.push(s);const l=1/(i-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),b=new Float32Array(m*f*h),y=new Float32Array(g*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),b.set(d,m*f*e);const o=[e,e,e,e,e,e];y.set(o,g*f*e)}const x=new Hse;x.setAttribute("position",new Rse(v,p)),x.setAttribute("uv",new Rse(b,m)),x.setAttribute("faceIndex",new Rse(y,g)),t.push(x),o>4&&o--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(20),o=new Tie(0,1,0);return new lle({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){const t=new tle(this._lodPlanes[0],e);this._renderer.compile(t,Vce)}_sceneToCubeUV(e,t,n,r,o){const i=new fle(90,1,t,n),a=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(Wce),l.toneMapping=0,l.autoClear=!1;const d=new kse({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new tle(new rle,d);let f=!1;const p=e.background;p?p.isColor&&(d.color.copy(p),e.background=null,f=!0):(d.color.copy(Wce),f=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(i.up.set(0,a[t],0),i.position.set(o.x,o.y,o.z),i.lookAt(o.x+s[t],o.y,o.z)):1===n?(i.up.set(0,0,a[t]),i.position.set(o.x,o.y,o.z),i.lookAt(o.x,o.y+s[t],o.z)):(i.up.set(0,a[t],0),i.position.set(o.x,o.y,o.z),i.lookAt(o.x,o.y,o.z+s[t]));const c=this._cubeSize;rue(r,n*c,t>2?c:0,c,c),l.setRenderTarget(r),f&&l.render(h,i),l.render(e,i)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Gre||e.mapping===Xre;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=iue()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=oue());const o=r?this._cubemapMaterial:this._equirectMaterial,i=new tle(this._lodPlanes[0],o);o.uniforms.envMap.value=e;const a=this._cubeSize;rue(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(i,Vce)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let t=1;t<r;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),o=Jce[(r-t-1)%Jce.length];this._blur(e,t-1,t,n,o)}t.autoClear=n}_blur(e,t,n,r,o){const i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",o),this._halfBlur(i,e,n,n,r,"longitudinal",o)}_halfBlur(e,t,n,r,o,i,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new tle(this._lodPlanes[r],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(o)?Math.PI/(2*d):2*Math.PI/39,f=o/h,p=isFinite(o)?1+Math.floor(3*f):20;p>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let g=0;for(let e=0;e<20;++e){const t=e/f,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===i,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const b=this._sizeLods[r];rue(t,3*b*(r>v-4?r-v+4:0),4*(this._cubeSize-b),3*b,2*b),s.setRenderTarget(t),s.render(c,Vce)}}function nue(e,t,n){const r=new tae(e,t,n);return r.texture.mapping=qre,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function rue(e,t,n,r,o){e.viewport.set(t,n,r,o),e.scissor.set(t,n,r,o)}function oue(){return new lle({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function iue(){return new lle({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function aue(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const o=t.get(n);void 0!==o&&(t.delete(n),o.dispose())}return{get:function(o){if(o&&o.isTexture){const i=o.mapping,a=303===i||304===i,s=i===Gre||i===Xre;if(a||s){let i=t.get(o);const l=void 0!==i?i.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==l)return null===n&&(n=new tue(e)),i=a?n.fromEquirectangular(o,i):n.fromCubemap(o,i),i.texture.pmremVersion=o.pmremVersion,t.set(o,i),i.texture;if(void 0!==i)return i.texture;{const l=o.image;return a&&l&&l.height>0||s&&l&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(l)?(null===n&&(n=new tue(e)),i=a?n.fromEquirectangular(o):n.fromCubemap(o),i.texture.pmremVersion=o.pmremVersion,t.set(o,i),o.addEventListener("dispose",r),i.texture):null}}}return o},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function sue(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&zie("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function lue(e,t,n,r){const o={},i=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",a),delete o[s.id];const l=i.get(s);l&&(t.remove(l),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,o=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],o=e[t+1],i=e[t+2];n.push(r,o,o,i,i,r)}}else{if(void 0===o)return;{const e=o.array;a=o.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,o=t+2;n.push(e,r,r,o,o,e)}}}const s=new(Nie(n)?Nse:Ase)(n,1);s.version=a;const l=i.get(e);l&&t.remove(l),i.set(e,s)}return{get:function(e,t){return!0===o[t.id]||(t.addEventListener("dispose",a),o[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const n in r)t.update(r[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=i.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return i.get(e)}}}function cue(e,t,n){let r,o,i;function a(t,a,s){0!==s&&(e.drawElementsInstanced(r,a,o,t*i,s),n.update(a,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){o=e.type,i=e.bytesPerElement},this.render=function(t,a){e.drawElements(r,a,o,t*i),n.update(a,r,1)},this.renderInstances=a,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,i,0,o,e,0,a);let s=0;for(let e=0;e<a;e++)s+=i[e];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/i,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,o,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function uue(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,o){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=o*(n/3);break;case e.LINES:t.lines+=o*(n/2);break;case e.LINE_STRIP:t.lines+=o*(n-1);break;case e.LINE_LOOP:t.lines+=o*n;break;case e.POINTS:t.points+=o*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function due(e,t,n){const r=new WeakMap,o=new Jie;return{update:function(i,a,s){const l=i.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=void 0!==c?c.length:0;let d=r.get(a);if(void 0===d||d.count!==u){void 0!==d&&d.texture.dispose();const h=void 0!==a.morphAttributes.position,f=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],v=a.morphAttributes.color||[];let b=0;!0===h&&(b=1),!0===f&&(b=2),!0===p&&(b=3);let y=a.attributes.position.count*b,x=1;y>t.maxTextureSize&&(x=Math.ceil(y/t.maxTextureSize),y=t.maxTextureSize);const O=new Float32Array(y*x*4*u),w=new nae(O,y,x,u);w.type=coe,w.needsUpdate=!0;const S=4*b;for(let _=0;_<u;_++){const C=m[_],k=g[_],M=v[_],T=y*x*4*_;for(let P=0;P<C.count;P++){const R=P*S;!0===h&&(o.fromBufferAttribute(C,P),O[T+R+0]=o.x,O[T+R+1]=o.y,O[T+R+2]=o.z,O[T+R+3]=0),!0===f&&(o.fromBufferAttribute(k,P),O[T+R+4]=o.x,O[T+R+5]=o.y,O[T+R+6]=o.z,O[T+R+7]=0),!0===p&&(o.fromBufferAttribute(M,P),O[T+R+8]=o.x,O[T+R+9]=o.y,O[T+R+10]=o.z,O[T+R+11]=4===M.itemSize?o.w:1)}}function E(){w.dispose(),r.delete(a),a.removeEventListener("dispose",E)}d={count:u,texture:w,size:new kie(y,x)},r.set(a,d),a.addEventListener("dispose",E)}if(!0===i.isInstancedMesh&&null!==i.morphTexture)s.getUniforms().setValue(e,"morphTexture",i.morphTexture,n);else{let A=0;for(let N=0;N<l.length;N++)A+=l[N];const $=a.morphTargetsRelative?1:1-A;s.getUniforms().setValue(e,"morphTargetBaseInfluence",$),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function hue(e,t,n,r){let o=new WeakMap;function i(e){const t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=t.get(a,l);if(o.get(c)!==s&&(t.update(c),o.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",i)&&a.addEventListener("dispose",i),o.get(a)!==s&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),o.set(a,s))),a.isSkinnedMesh){const e=a.skeleton;o.get(e)!==s&&(e.update(),o.set(e,s))}return c},dispose:function(){o=new WeakMap}}}const fue=new Kie,pue=new qle(1,1),mue=new nae,gue=new rae,vue=new gle,bue=[],yue=[],xue=new Float32Array(16),Oue=new Float32Array(9),wue=new Float32Array(4);function Sue(e,t,n){const r=e[0];if(r<=0||r>0)return e;const o=t*n;let i=bue[o];if(void 0===i&&(i=new Float32Array(o),bue[o]=i),0!==t){r.toArray(i,0);for(let r=1,o=0;r!==t;++r)o+=n,e[r].toArray(i,o)}return i}function Eue(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function _ue(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Cue(e,t){let n=yue[t];void 0===n&&(n=new Int32Array(t),yue[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function kue(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Mue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Eue(n,t))return;e.uniform2fv(this.addr,t),_ue(n,t)}}function Tue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Eue(n,t))return;e.uniform3fv(this.addr,t),_ue(n,t)}}function Pue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Eue(n,t))return;e.uniform4fv(this.addr,t),_ue(n,t)}}function Rue(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Eue(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),_ue(n,t)}else{if(Eue(n,r))return;wue.set(r),e.uniformMatrix2fv(this.addr,!1,wue),_ue(n,r)}}function Aue(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Eue(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),_ue(n,t)}else{if(Eue(n,r))return;Oue.set(r),e.uniformMatrix3fv(this.addr,!1,Oue),_ue(n,r)}}function $ue(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Eue(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),_ue(n,t)}else{if(Eue(n,r))return;xue.set(r),e.uniformMatrix4fv(this.addr,!1,xue),_ue(n,r)}}function Nue(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Iue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Eue(n,t))return;e.uniform2iv(this.addr,t),_ue(n,t)}}function Due(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Eue(n,t))return;e.uniform3iv(this.addr,t),_ue(n,t)}}function Lue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Eue(n,t))return;e.uniform4iv(this.addr,t),_ue(n,t)}}function zue(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function jue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Eue(n,t))return;e.uniform2uiv(this.addr,t),_ue(n,t)}}function Bue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Eue(n,t))return;e.uniform3uiv(this.addr,t),_ue(n,t)}}function Fue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Eue(n,t))return;e.uniform4uiv(this.addr,t),_ue(n,t)}}function Uue(e,t,n){const r=this.cache,o=n.allocateTextureUnit();let i;r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),this.type===e.SAMPLER_2D_SHADOW?(pue.compareFunction=515,i=pue):i=fue,n.setTexture2D(t||i,o)}function Hue(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(t||gue,o)}function Que(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(t||vue,o)}function Vue(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(t||mue,o)}function Wue(e,t){e.uniform1fv(this.addr,t)}function Gue(e,t){const n=Sue(t,this.size,2);e.uniform2fv(this.addr,n)}function Xue(e,t){const n=Sue(t,this.size,3);e.uniform3fv(this.addr,n)}function que(e,t){const n=Sue(t,this.size,4);e.uniform4fv(this.addr,n)}function Zue(e,t){const n=Sue(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Yue(e,t){const n=Sue(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Kue(e,t){const n=Sue(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Jue(e,t){e.uniform1iv(this.addr,t)}function ede(e,t){e.uniform2iv(this.addr,t)}function tde(e,t){e.uniform3iv(this.addr,t)}function nde(e,t){e.uniform4iv(this.addr,t)}function rde(e,t){e.uniform1uiv(this.addr,t)}function ode(e,t){e.uniform2uiv(this.addr,t)}function ide(e,t){e.uniform3uiv(this.addr,t)}function ade(e,t){e.uniform4uiv(this.addr,t)}function sde(e,t,n){const r=this.cache,o=t.length,i=Cue(n,o);Eue(r,i)||(e.uniform1iv(this.addr,i),_ue(r,i));for(let e=0;e!==o;++e)n.setTexture2D(t[e]||fue,i[e])}function lde(e,t,n){const r=this.cache,o=t.length,i=Cue(n,o);Eue(r,i)||(e.uniform1iv(this.addr,i),_ue(r,i));for(let e=0;e!==o;++e)n.setTexture3D(t[e]||gue,i[e])}function cde(e,t,n){const r=this.cache,o=t.length,i=Cue(n,o);Eue(r,i)||(e.uniform1iv(this.addr,i),_ue(r,i));for(let e=0;e!==o;++e)n.setTextureCube(t[e]||vue,i[e])}function ude(e,t,n){const r=this.cache,o=t.length,i=Cue(n,o);Eue(r,i)||(e.uniform1iv(this.addr,i),_ue(r,i));for(let e=0;e!==o;++e)n.setTexture2DArray(t[e]||mue,i[e])}class dde{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return kue;case 35664:return Mue;case 35665:return Tue;case 35666:return Pue;case 35674:return Rue;case 35675:return Aue;case 35676:return $ue;case 5124:case 35670:return Nue;case 35667:case 35671:return Iue;case 35668:case 35672:return Due;case 35669:case 35673:return Lue;case 5125:return zue;case 36294:return jue;case 36295:return Bue;case 36296:return Fue;case 35678:case 36198:case 36298:case 36306:case 35682:return Uue;case 35679:case 36299:case 36307:return Hue;case 35680:case 36300:case 36308:case 36293:return Que;case 36289:case 36303:case 36311:case 36292:return Vue}}(t.type)}}class hde{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Wue;case 35664:return Gue;case 35665:return Xue;case 35666:return que;case 35674:return Zue;case 35675:return Yue;case 35676:return Kue;case 5124:case 35670:return Jue;case 35667:case 35671:return ede;case 35668:case 35672:return tde;case 35669:case 35673:return nde;case 5125:return rde;case 36294:return ode;case 36295:return ide;case 36296:return ade;case 35678:case 36198:case 36298:case 36306:case 35682:return sde;case 35679:case 36299:case 36307:return lde;case 35680:case 36300:case 36308:case 36293:return cde;case 36289:case 36303:case 36311:case 36292:return ude}}(t.type)}}class fde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let o=0,i=r.length;o!==i;++o){const i=r[o];i.setValue(e,t[i.id],n)}}}const pde=/(\w+)(\])?(\[|\.)?/g;function mde(e,t){e.seq.push(t),e.map[t.id]=t}function gde(e,t,n){const r=e.name,o=r.length;for(pde.lastIndex=0;;){const i=pde.exec(r),a=pde.lastIndex;let s=i[1];const l="]"===i[2],c=i[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===o){mde(n,void 0===c?new dde(s,e,t):new hde(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new fde(s),mde(n,e)),n=e}}}class vde{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);gde(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const o=this.map[t];void 0!==o&&o.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let o=0,i=t.length;o!==i;++o){const i=t[o],a=n[i.id];!1!==a.needsUpdate&&i.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function bde(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let yde=0;const xde=new Aie;function Ode(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),o=e.getShaderInfoLog(t).trim();if(r&&""===o)return"";const i=/ERROR: 0:(\d+)/.exec(o);if(i){const r=parseInt(i[1]);return n.toUpperCase()+"\n\n"+o+"\n\n"+function(e,t){const n=e.split("\n"),r=[],o=Math.max(t-6,0),i=Math.min(t+6,n.length);for(let e=o;e<i;e++){const o=e+1;r.push(`${o===t?">":" "} ${o}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return o}function wde(e,t){const n=function(e){Uie._getMatrix(xde,Uie.workingColorSpace,e);const t=`mat3( ${xde.elements.map(e=>e.toFixed(4))} )`;switch(Uie.getTransfer(e)){case rie:return[t,"LinearTransferOETF"];case oie:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function Sde(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Ede=new Tie;function _de(e){return""!==e}function Cde(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function kde(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Mde=/^[ \t]*#include +<([\w\d./]+)>/gm;function Tde(e){return e.replace(Mde,Rde)}const Pde=new Map;function Rde(e,t){let n=Ace[t];if(void 0===n){const e=Pde.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=Ace[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return Tde(n)}const Ade=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $de(e){return e.replace(Ade,Nde)}function Nde(e,t,n,r){let o="";for(let e=parseInt(t);e<parseInt(n);e++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return o}function Ide(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Dde(e,t,n,r){const o=e.getContext(),i=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Gre:case Xre:t="ENVMAP_TYPE_CUBE";break;case qre:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===Xre&&(t="ENVMAP_MODE_REFRACTION"),t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(_de).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(i),m=o.createProgram();let g,v,b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(_de).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(_de).join("\n"),v.length>0&&(v+="\n")):(g=[Ide(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(_de).join("\n"),v=[Ide(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Ace.tonemapping_pars_fragment:"",0!==n.toneMapping?Sde("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ace.colorspace_pars_fragment,wde("linearToOutputTexel",n.outputColorSpace),(Uie.getLuminanceCoefficients(Ede),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${Ede.x.toFixed(4)}, ${Ede.y.toFixed(4)}, ${Ede.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(_de).join("\n")),a=Tde(a),a=Cde(a,n),a=kde(a,n),s=Tde(s),s=Cde(s,n),s=kde(s,n),a=$de(a),s=$de(s),!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===pie?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pie?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const y=b+g+a,x=b+v+s,O=bde(o,o.VERTEX_SHADER,y),w=bde(o,o.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=o.getProgramInfoLog(m).trim(),r=o.getShaderInfoLog(O).trim(),i=o.getShaderInfoLog(w).trim();let a=!0,s=!0;if(!1===o.getProgramParameter(m,o.LINK_STATUS))if(a=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(o,m,O,w);else{const e=Ode(o,O,"vertex"),r=Ode(o,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(m,o.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==i||(s=!1);s&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:i,prefix:v}})}o.deleteShader(O),o.deleteShader(w),E=new vde(o,m),_=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const r=e.getActiveAttrib(t,o),i=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[i]={type:r.type,location:e.getAttribLocation(t,i),locationSize:a}}return n}(o,m)}let E,_;o.attachShader(m,O),o.attachShader(m,w),void 0!==n.index0AttributeName?o.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===_&&S(this),_};let C=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=o.getProgramParameter(m,37297)),C},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=yde++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=O,this.fragmentShader=w,this}let Lde=0;class zde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(n),i=this._getShaderCacheForMaterial(e);return!1===i.has(r)&&(i.add(r),r.usedTimes++),!1===i.has(o)&&(i.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new jde(e),t.set(e,n)),n}}class jde{constructor(e){this.id=Lde++,this.code=e,this.usedTimes=0}}function Bde(e,t,n,r,o,i,a){const s=new Uae,l=new zde,c=new Set,u=[],d=o.logarithmicDepthBuffer,h=o.vertexTextures;let f=o.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(i,s,u,g,v){const b=g.fog,y=v.geometry,x=i.isMeshStandardMaterial?g.environment:null,O=(i.isMeshStandardMaterial?n:t).get(i.envMap||x),w=O&&O.mapping===qre?O.image.height:null,S=p[i.type];null!==i.precision&&(f=o.getMaxPrecision(i.precision),f!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead."));const E=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,_=void 0!==E?E.length:0;let C,k,M,T,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),S){const e=Nce[S];C=e.vertexShader,k=e.fragmentShader}else C=i.vertexShader,k=i.fragmentShader,l.update(i),M=l.getVertexShaderID(i),T=l.getFragmentShaderID(i);const R=e.getRenderTarget(),A=e.state.buffers.depth.getReversed(),$=!0===v.isInstancedMesh,N=!0===v.isBatchedMesh,I=!!i.map,D=!!i.matcap,L=!!O,z=!!i.aoMap,j=!!i.lightMap,B=!!i.bumpMap,F=!!i.normalMap,U=!!i.displacementMap,H=!!i.emissiveMap,Q=!!i.metalnessMap,V=!!i.roughnessMap,W=i.anisotropy>0,G=i.clearcoat>0,X=i.dispersion>0,q=i.iridescence>0,Z=i.sheen>0,Y=i.transmission>0,K=W&&!!i.anisotropyMap,J=G&&!!i.clearcoatMap,ee=G&&!!i.clearcoatNormalMap,te=G&&!!i.clearcoatRoughnessMap,ne=q&&!!i.iridescenceMap,re=q&&!!i.iridescenceThicknessMap,oe=Z&&!!i.sheenColorMap,ie=Z&&!!i.sheenRoughnessMap,ae=!!i.specularMap,se=!!i.specularColorMap,le=!!i.specularIntensityMap,ce=Y&&!!i.transmissionMap,ue=Y&&!!i.thicknessMap,de=!!i.gradientMap,he=!!i.alphaMap,fe=i.alphaTest>0,pe=!!i.alphaHash,me=!!i.extensions;let ge=0;i.toneMapped&&(null!==R&&!0!==R.isXRRenderTarget||(ge=e.toneMapping));const ve={shaderID:S,shaderType:i.type,shaderName:i.name,vertexShader:C,fragmentShader:k,defines:i.defines,customVertexShaderID:M,customFragmentShaderID:T,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:f,batching:N,batchingColor:N&&null!==v._colorsTexture,instancing:$,instancingColor:$&&null!==v.instanceColor,instancingMorph:$&&null!==v.morphTexture,supportsVertexTextures:h,outputColorSpace:null===R?e.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:nie,alphaToCoverage:!!i.alphaToCoverage,map:I,matcap:D,envMap:L,envMapMode:L&&O.mapping,envMapCubeUVHeight:w,aoMap:z,lightMap:j,bumpMap:B,normalMap:F,displacementMap:h&&U,emissiveMap:H,normalMapObjectSpace:F&&1===i.normalMapType,normalMapTangentSpace:F&&0===i.normalMapType,metalnessMap:Q,roughnessMap:V,anisotropy:W,anisotropyMap:K,clearcoat:G,clearcoatMap:J,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:X,iridescence:q,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:Z,sheenColorMap:oe,sheenRoughnessMap:ie,specularMap:ae,specularColorMap:se,specularIntensityMap:le,transmission:Y,transmissionMap:ce,thicknessMap:ue,gradientMap:de,opaque:!1===i.transparent&&1===i.blending&&!1===i.alphaToCoverage,alphaMap:he,alphaTest:fe,alphaHash:pe,combine:i.combine,mapUv:I&&m(i.map.channel),aoMapUv:z&&m(i.aoMap.channel),lightMapUv:j&&m(i.lightMap.channel),bumpMapUv:B&&m(i.bumpMap.channel),normalMapUv:F&&m(i.normalMap.channel),displacementMapUv:U&&m(i.displacementMap.channel),emissiveMapUv:H&&m(i.emissiveMap.channel),metalnessMapUv:Q&&m(i.metalnessMap.channel),roughnessMapUv:V&&m(i.roughnessMap.channel),anisotropyMapUv:K&&m(i.anisotropyMap.channel),clearcoatMapUv:J&&m(i.clearcoatMap.channel),clearcoatNormalMapUv:ee&&m(i.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&m(i.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&m(i.iridescenceMap.channel),iridescenceThicknessMapUv:re&&m(i.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&m(i.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(i.sheenRoughnessMap.channel),specularMapUv:ae&&m(i.specularMap.channel),specularColorMapUv:se&&m(i.specularColorMap.channel),specularIntensityMapUv:le&&m(i.specularIntensityMap.channel),transmissionMapUv:ce&&m(i.transmissionMap.channel),thicknessMapUv:ue&&m(i.thicknessMap.channel),alphaMapUv:he&&m(i.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(F||W),vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!y.attributes.uv&&(I||he),fog:!!b,useFog:!0===i.fog,fogExp2:!!b&&b.isFogExp2,flatShading:!0===i.flatShading,sizeAttenuation:!0===i.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:A,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:_,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:I&&!0===i.map.isVideoTexture&&Uie.getTransfer(i.map.colorSpace)===oie,decodeVideoTextureEmissive:H&&!0===i.emissiveMap.isVideoTexture&&Uie.getTransfer(i.emissiveMap.colorSpace)===oie,premultipliedAlpha:i.premultipliedAlpha,doubleSided:2===i.side,flipSided:1===i.side,useDepthPacking:i.depthPacking>=0,depthPacking:i.depthPacking||0,index0AttributeName:i.index0AttributeName,extensionClipCullDistance:me&&!0===i.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===i.extensions.multiDraw||N)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:i.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0),t.instancing&&s.enable(1),t.instancingColor&&s.enable(2),t.instancingMorph&&s.enable(3),t.matcap&&s.enable(4),t.envMap&&s.enable(5),t.normalMapObjectSpace&&s.enable(6),t.normalMapTangentSpace&&s.enable(7),t.clearcoat&&s.enable(8),t.iridescence&&s.enable(9),t.alphaTest&&s.enable(10),t.vertexColors&&s.enable(11),t.vertexAlphas&&s.enable(12),t.vertexUv1s&&s.enable(13),t.vertexUv2s&&s.enable(14),t.vertexUv3s&&s.enable(15),t.vertexTangents&&s.enable(16),t.anisotropy&&s.enable(17),t.alphaHash&&s.enable(18),t.batching&&s.enable(19),t.dispersion&&s.enable(20),t.batchingColor&&s.enable(21),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.reverseDepthBuffer&&s.enable(4),t.skinning&&s.enable(5),t.morphTargets&&s.enable(6),t.morphNormals&&s.enable(7),t.morphColors&&s.enable(8),t.premultipliedAlpha&&s.enable(9),t.shadowMapEnabled&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.transmission&&s.enable(15),t.sheen&&s.enable(16),t.opaque&&s.enable(17),t.pointsUvs&&s.enable(18),t.decodeVideoTexture&&s.enable(19),t.decodeVideoTextureEmissive&&s.enable(20),t.alphaToCoverage&&s.enable(21),e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=Nce[t];n=sle.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Dde(e,n,t,i),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Fde(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ude(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Hde(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Qde(){const e=[];let t=0;const n=[],r=[],o=[];function i(n,r,o,i,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:o,groupOrder:i,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=o,l.groupOrder=i,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:o,init:function(){t=0,n.length=0,r.length=0,o.length=0},push:function(e,t,a,s,l,c){const u=i(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?o.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=i(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?o.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ude),r.length>1&&r.sort(t||Hde),o.length>1&&o.sort(t||Hde)}}}function Vde(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let o;return void 0===r?(o=new Qde,e.set(t,[o])):n>=r.length?(o=new Qde,r.push(o)):o=r[n],o},dispose:function(){e=new WeakMap}}}function Wde(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Tie,color:new Sse};break;case"SpotLight":n={position:new Tie,direction:new Tie,color:new Sse,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Tie,color:new Sse,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Tie,skyColor:new Sse,groundColor:new Sse};break;case"RectAreaLight":n={color:new Sse,position:new Tie,halfWidth:new Tie,halfHeight:new Tie}}return e[t.id]=n,n}}}let Gde=0;function Xde(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function qde(e){const t=new Wde,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kie};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new kie,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new Tie);const o=new Tie,i=new Rae,a=new Rae;return{setup:function(o){let i=0,a=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,b=0;o.sort(Xde);for(let e=0,y=o.length;e<y;e++){const y=o[e],x=y.color,O=y.intensity,w=y.distance,S=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)i+=x.r*O,a+=x.g*O,s+=x.b*O;else if(y.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(y.sh.coefficients[e],O);b++}else if(y.isDirectionalLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=y.shadow.matrix,f++}r.directional[l]=e,l++}else if(y.isSpotLight){const e=t.get(y);e.position.setFromMatrixPosition(y.matrixWorld),e.color.copy(x).multiplyScalar(O),e.distance=w,e.coneCos=Math.cos(y.angle),e.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),e.decay=y.decay,r.spot[u]=e;const o=y.shadow;if(y.map&&(r.spotLightMap[g]=y.map,g++,o.updateMatrices(y),y.castShadow&&v++),r.spotLightMatrix[u]=o.matrix,y.castShadow){const e=n.get(y);e.shadowIntensity=o.intensity,e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(y.isRectAreaLight){const e=t.get(y);e.color.copy(x).multiplyScalar(O),e.halfWidth.set(.5*y.width,0,0),e.halfHeight.set(0,.5*y.height,0),r.rectArea[d]=e,d++}else if(y.isPointLight){const e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),e.distance=y.distance,e.decay=y.decay,y.castShadow){const e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=y.shadow.matrix,p++}r.point[c]=e,c++}else if(y.isHemisphereLight){const e=t.get(y);e.skyColor.copy(y.color).multiplyScalar(O),e.groundColor.copy(y.groundColor).multiplyScalar(O),r.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=$ce.LTC_FLOAT_1,r.rectAreaLTC2=$ce.LTC_FLOAT_2):(r.rectAreaLTC1=$ce.LTC_HALF_1,r.rectAreaLTC2=$ce.LTC_HALF_2)),r.ambient[0]=i,r.ambient[1]=a,r.ambient[2]=s;const y=r.hash;y.directionalLength===l&&y.pointLength===c&&y.spotLength===u&&y.rectAreaLength===d&&y.hemiLength===h&&y.numDirectionalShadows===f&&y.numPointShadows===p&&y.numSpotShadows===m&&y.numSpotMaps===g&&y.numLightProbes===b||(r.directional.length=l,r.spot.length=u,r.rectArea.length=d,r.point.length=c,r.hemi.length=h,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=b,y.directionalLength=l,y.pointLength=c,y.spotLength=u,y.rectAreaLength=d,y.hemiLength=h,y.numDirectionalShadows=f,y.numPointShadows=p,y.numSpotShadows=m,y.numSpotMaps=g,y.numLightProbes=b,r.version=Gde++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),n++}else if(h.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),a.identity(),i.copy(h.matrixWorld),i.premultiply(d),a.extractRotation(i),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(h.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),s++}else if(h.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function Zde(e){const t=new qde(e),n=[],r=[],o={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){o.camera=e,n.length=0,r.length=0},state:o,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Yde(e){let t=new WeakMap;return{get:function(n,r=0){const o=t.get(n);let i;return void 0===o?(i=new Zde(e),t.set(n,[i])):r>=o.length?(i=new Zde(e),o.push(i)):i=o[r],i},dispose:function(){t=new WeakMap}}}function Kde(e,t,n){let r=new Mle;const o=new kie,i=new kie,a=new Jie,s=new Yle({depthPacking:3201}),l=new Kle,c={},u=n.maxTextureSize,d={[bre]:1,[yre]:0,[xre]:2},h=new lle({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new kie},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Hse;p.setAttribute("position",new Rse(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new tle(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function b(n,r){const i=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new tae(o.x,o.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,m,null)}function y(t,n,r,o){let i=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)i=a;else if(i=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=i.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let o=r[t];void 0===o&&(o=i.clone(),r[t]=o,n.addEventListener("dispose",O)),i=o}return i.visible=n.visible,i.wireframe=n.wireframe,i.side=3===o?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],i.alphaMap=n.alphaMap,i.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,i.map=n.map,i.clipShadows=n.clipShadows,i.clippingPlanes=n.clippingPlanes,i.clipIntersection=n.clipIntersection,i.displacementMap=n.displacementMap,i.displacementScale=n.displacementScale,i.displacementBias=n.displacementBias,i.wireframeLinewidth=n.wireframeLinewidth,i.linewidth=n.linewidth,!0===r.isPointLight&&!0===i.isMeshDistanceMaterial&&(e.properties.get(i).light=r),i}function x(n,o,i,a,s){if(!1===n.visible)return;if(n.layers.test(o.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=y(n,d,a,s);n.onBeforeShadow(e,n,o,i,r,t,u),e.renderBufferDirect(i,null,r,t,n,u),n.onAfterShadow(e,n,o,i,r,t,u)}}}else if(l.visible){const t=y(n,l,a,s);n.onBeforeShadow(e,n,o,i,r,t,null),e.renderBufferDirect(i,null,r,t,n,null),n.onAfterShadow(e,n,o,i,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],o,i,a,s)}function O(e){e.target.removeEventListener("dispose",O);for(const t in c){const n=c[t],r=e.target.uuid;r in n&&(n[r].dispose(),delete n[r])}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const f=3!==v&&3===this.type,p=3===v&&3!==this.type;for(let l=0,c=t.length;l<c;l++){const c=t[l],d=c.shadow;if(void 0===d){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===d.autoUpdate&&!1===d.needsUpdate)continue;o.copy(d.mapSize);const m=d.getFrameExtents();if(o.multiply(m),i.copy(d.mapSize),(o.x>u||o.y>u)&&(o.x>u&&(i.x=Math.floor(u/m.x),o.x=i.x*m.x,d.mapSize.x=i.x),o.y>u&&(i.y=Math.floor(u/m.y),o.y=i.y*m.y,d.mapSize.y=i.y)),null===d.map||!0===f||!0===p){const e=3!==this.type?{minFilter:Jre,magFilter:Jre}:{};null!==d.map&&d.map.dispose(),d.map=new tae(o.x,o.y,e),d.map.texture.name=c.name+".shadowMap",d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();const g=d.getViewportCount();for(let e=0;e<g;e++){const t=d.getViewport(e);a.set(i.x*t.x,i.y*t.y,i.x*t.z,i.y*t.w),h.viewport(a),d.updateMatrices(c,e),r=d.getFrustum(),x(n,s,d.camera,c,this.type)}!0!==d.isPointLightShadow&&3===this.type&&b(d,s),d.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const Jde={[jre]:1,[Fre]:6,[Hre]:7,[Ure]:5,[Bre]:0,[Vre]:2,[Wre]:4,[Qre]:3};function ehe(e,t){const n=new function(){let t=!1;const n=new Jie;let r=null;const o=new Jie(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,a,s){!0===s&&(t*=a,r*=a,i*=a),n.set(t,r,i,a),!1===o.equals(n)&&(e.clearColor(t,r,i,a),o.copy(n))},reset:function(){t=!1,r=null,o.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,o=null,i=null,a=null;return{setReversed:function(e){if(r!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const o=a;a=null,this.setClear(o)}},getReversed:function(){return r},setTest:function(t){t?B(e.DEPTH_TEST):F(e.DEPTH_TEST)},setMask:function(t){o===t||n||(e.depthMask(t),o=t)},setFunc:function(t){if(r&&(t=Jde[t]),i!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}i=t}},setLocked:function(e){n=e},setClear:function(t){a!==t&&(r&&(t=1-t),e.clearDepth(t),a=t)},reset:function(){n=!1,o=null,i=null,a=null,r=!1}}},o=new function(){let t=!1,n=null,r=null,o=null,i=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?B(e.STENCIL_TEST):F(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&o===n&&i===a||(e.stencilFunc(t,n,a),r=t,o=n,i=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,o=null,i=null,a=null,s=null,l=null,c=null}}},i=new WeakMap,a=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,b=null,y=null,x=new Sse(0,0,0),O=0,w=!1,S=null,E=null,_=null,C=null,k=null;const M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let T=!1,P=0;const R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(R)[1]),T=P>=1):-1!==R.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),T=P>=2);let A=null,$={};const N=e.getParameter(e.SCISSOR_BOX),I=e.getParameter(e.VIEWPORT),D=(new Jie).fromArray(N),L=(new Jie).fromArray(I);function z(t,n,r,o){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let a=0;a<r;a++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,o,0,e.RGBA,e.UNSIGNED_BYTE,i):e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return a}const j={};function B(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function F(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}j[e.TEXTURE_2D]=z(e.TEXTURE_2D,e.TEXTURE_2D,1),j[e.TEXTURE_CUBE_MAP]=z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),j[e.TEXTURE_2D_ARRAY]=z(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),j[e.TEXTURE_3D]=z(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),o.setClear(0),B(e.DEPTH_TEST),r.setFunc(3),V(!1),W(1),B(e.CULL_FACE),Q(0);const U={[Ore]:e.FUNC_ADD,[wre]:e.FUNC_SUBTRACT,[Sre]:e.FUNC_REVERSE_SUBTRACT};U[103]=e.MIN,U[104]=e.MAX;const H={[Ere]:e.ZERO,[_re]:e.ONE,[Cre]:e.SRC_COLOR,[Mre]:e.SRC_ALPHA,[Nre]:e.SRC_ALPHA_SATURATE,[Are]:e.DST_COLOR,[Pre]:e.DST_ALPHA,[kre]:e.ONE_MINUS_SRC_COLOR,[Tre]:e.ONE_MINUS_SRC_ALPHA,[$re]:e.ONE_MINUS_DST_COLOR,[Rre]:e.ONE_MINUS_DST_ALPHA,[Ire]:e.CONSTANT_COLOR,[Dre]:e.ONE_MINUS_CONSTANT_COLOR,[Lre]:e.CONSTANT_ALPHA,[zre]:e.ONE_MINUS_CONSTANT_ALPHA};function Q(t,n,r,o,i,a,s,l,c,u){if(0!==t){if(!1===h&&(B(e.BLEND),h=!0),5===t)i=i||n,a=a||r,s=s||o,n===p&&i===v||(e.blendEquationSeparate(U[n],U[i]),p=n,v=i),r===m&&o===g&&a===b&&s===y||(e.blendFuncSeparate(H[r],H[o],H[a],H[s]),m=r,g=o,b=a,y=s),!1!==l.equals(x)&&c===O||(e.blendColor(l.r,l.g,l.b,c),x.copy(l),O=c),f=t,w=!1;else if(t!==f||u!==w){if(p===Ore&&v===Ore||(e.blendEquation(e.FUNC_ADD),p=Ore,v=Ore),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}m=null,g=null,b=null,y=null,x.set(0,0,0),O=0,f=t,w=u}}else!0===h&&(F(e.BLEND),h=!1)}function V(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function W(t){0!==t?(B(e.CULL_FACE),t!==E&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):F(e.CULL_FACE),E=t}function G(t,n,r){t?(B(e.POLYGON_OFFSET_FILL),C===n&&k===r||(e.polygonOffset(n,r),C=n,k=r)):F(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:o},enable:B,disable:F,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=u,o=!1;if(t){r=c.get(n),void 0===r&&(r=[],c.set(n,r));const i=t.textures;if(r.length!==i.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=i.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=i.length,o=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,o=!0);o&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:Q,setMaterial:function(t,i){2===t.side?F(e.CULL_FACE):B(e.CULL_FACE);let a=1===t.side;i&&(a=!a),V(a),1===t.blending&&!1===t.transparent?Q(0):Q(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;o.setTest(s),s&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),G(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):F(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:V,setCullFace:W,setLineWidth:function(t){t!==_&&(T&&e.lineWidth(t),_=t)},setPolygonOffset:G,setScissorTest:function(t){t?B(e.SCISSOR_TEST):F(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+M-1),A!==t&&(e.activeTexture(t),A=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===A?e.TEXTURE0+M-1:A);let o=$[r];void 0===o&&(o={type:void 0,texture:void 0},$[r]=o),o.type===t&&o.texture===n||(A!==r&&(e.activeTexture(r),A=r),e.bindTexture(t,n||j[t]),o.type=t,o.texture=n)},unbindTexture:function(){const t=$[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let r=a.get(n);void 0===r&&(r=new WeakMap,a.set(n,r));let o=r.get(t);void 0===o&&(o=e.getUniformBlockIndex(n,t.name),r.set(t,o))},uniformBlockBinding:function(t,n){const r=a.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},A=null,$={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,b=null,y=null,x=new Sse(0,0,0),O=0,w=!1,S=null,E=null,_=null,C=null,k=null,D.set(0,0,e.canvas.width,e.canvas.height),L.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),o.reset()}}}function the(e,t,n,r,o,i,a){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new kie,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function p(e,t){return f?new OffscreenCanvas(e,t):Iie("canvas")}function m(e,t,n){let r=1;const o=H(e);if((o.width>n||o.height>n)&&(r=n/Math.max(o.width,o.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*o.width),i=Math.floor(r*o.height);void 0===d&&(d=p(n,i));const a=t?p(n,i):d;return a.width=n,a.height=i,a.getContext("2d").drawImage(e,0,0,n,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+o.width+"x"+o.height+") to ("+n+"x"+i+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+o.width+"x"+o.height+")."),e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function b(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function y(n,r,o,i,a=!1){if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(o===e.FLOAT&&(s=e.R32F),o===e.HALF_FLOAT&&(s=e.R16F),o===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(o===e.UNSIGNED_BYTE&&(s=e.R8UI),o===e.UNSIGNED_SHORT&&(s=e.R16UI),o===e.UNSIGNED_INT&&(s=e.R32UI),o===e.BYTE&&(s=e.R8I),o===e.SHORT&&(s=e.R16I),o===e.INT&&(s=e.R32I)),r===e.RG&&(o===e.FLOAT&&(s=e.RG32F),o===e.HALF_FLOAT&&(s=e.RG16F),o===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(o===e.UNSIGNED_BYTE&&(s=e.RG8UI),o===e.UNSIGNED_SHORT&&(s=e.RG16UI),o===e.UNSIGNED_INT&&(s=e.RG32UI),o===e.BYTE&&(s=e.RG8I),o===e.SHORT&&(s=e.RG16I),o===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(o===e.UNSIGNED_BYTE&&(s=e.RGB8UI),o===e.UNSIGNED_SHORT&&(s=e.RGB16UI),o===e.UNSIGNED_INT&&(s=e.RGB32UI),o===e.BYTE&&(s=e.RGB8I),o===e.SHORT&&(s=e.RGB16I),o===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(o===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),o===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),o===e.UNSIGNED_INT&&(s=e.RGBA32UI),o===e.BYTE&&(s=e.RGBA8I),o===e.SHORT&&(s=e.RGBA16I),o===e.INT&&(s=e.RGBA32I)),r===e.RGB&&o===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.RGBA){const t=a?rie:Uie.getTransfer(i);o===e.FLOAT&&(s=e.RGBA32F),o===e.HALF_FLOAT&&(s=e.RGBA16F),o===e.UNSIGNED_BYTE&&(s=t===oie?e.SRGB8_ALPHA8:e.RGBA8),o===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),o===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function x(t,n){let r;return t?null===n||n===loe||n===foe?r=e.DEPTH24_STENCIL8:n===coe?r=e.DEPTH32F_STENCIL8:n===aoe&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===loe||n===foe?r=e.DEPTH_COMPONENT24:n===coe?r=e.DEPTH_COMPONENT32F:n===aoe&&(r=e.DEPTH_COMPONENT16),r}function O(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==Jre&&e.minFilter!==noe?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,o=h.get(n);if(o){const r=o[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&E(e),0===Object.keys(o).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const o=t.textures;for(let t=0,n=o.length;t<n;t++){const n=r.get(o[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),a.memory.textures--),r.remove(o[t])}r.remove(t)}(n)}function E(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const o=t.source;delete h.get(o)[n.__cacheKey],a.memory.textures--}let _=0;function C(t,o){const i=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&i.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void $(i,t,o);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,i.__webglTexture,e.TEXTURE0+o)}const k={[Zre]:e.REPEAT,[Yre]:e.CLAMP_TO_EDGE,[Kre]:e.MIRRORED_REPEAT},M={[Jre]:e.NEAREST,[eoe]:e.NEAREST_MIPMAP_NEAREST,[toe]:e.NEAREST_MIPMAP_LINEAR,[noe]:e.LINEAR,[roe]:e.LINEAR_MIPMAP_NEAREST,[ooe]:e.LINEAR_MIPMAP_LINEAR},T={[aie]:e.NEVER,[fie]:e.ALWAYS,[sie]:e.LESS,[cie]:e.LEQUAL,[lie]:e.EQUAL,[hie]:e.GEQUAL,[uie]:e.GREATER,[die]:e.NOTEQUAL};function P(n,i){if(i.type!==coe||!1!==t.has("OES_texture_float_linear")||i.magFilter!==noe&&i.magFilter!==roe&&i.magFilter!==toe&&i.magFilter!==ooe&&i.minFilter!==noe&&i.minFilter!==roe&&i.minFilter!==toe&&i.minFilter!==ooe||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,k[i.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,k[i.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,k[i.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[i.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[i.minFilter]),i.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,T[i.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(i.magFilter===Jre)return;if(i.minFilter!==toe&&i.minFilter!==ooe)return;if(i.type===coe&&!1===t.has("OES_texture_float_linear"))return;if(i.anisotropy>1||r.get(i).__currentAnisotropy){const a=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,o.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy}}}function R(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const o=n.source;let i=h.get(o);void 0===i&&(i={},h.set(o,i));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===i[s]&&(i[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),i[s].usedTimes++;const o=i[t.__cacheKey];void 0!==o&&(i[t.__cacheKey].usedTimes--,0===o.usedTimes&&E(n)),t.__cacheKey=s,t.__webglTexture=i[s].texture}return r}function A(e,t,n){return Math.floor(Math.floor(e/n)/t)}function $(t,a,s){let l=e.TEXTURE_2D;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),a.isData3DTexture&&(l=e.TEXTURE_3D);const c=R(t,a),u=a.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=Uie.getPrimaries(Uie.workingColorSpace),r=a.colorSpace===eie?null:Uie.getPrimaries(a.colorSpace),h=a.colorSpace===eie||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let f=m(a.image,!1,o.maxTextureSize);f=U(a,f);const p=i.convert(a.format,a.colorSpace),b=i.convert(a.type);let w,S=y(a.internalFormat,p,b,a.colorSpace,a.isVideoTexture);P(l,a);const E=a.mipmaps,_=!0!==a.isVideoTexture,C=void 0===d.__version||!0===c,k=u.dataReady,M=O(a,f);if(a.isDepthTexture)S=x(a.format===goe,a.type),C&&(_?n.texStorage2D(e.TEXTURE_2D,1,S,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,b,null));else if(a.isDataTexture)if(E.length>0){_&&C&&n.texStorage2D(e.TEXTURE_2D,M,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],_?k&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,b,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,b,w.data);a.generateMipmaps=!1}else _?(C&&n.texStorage2D(e.TEXTURE_2D,M,S,f.width,f.height),k&&function(t,r,o,i){const a=t.updateRanges;if(0===a.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,o,i,r.data);else{a.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<a.length;e++){const t=a[s],n=a[e],o=t.start+t.count,i=A(n.start,r.width,4),l=A(t.start,r.width,4);n.start<=o+1&&i===l&&A(n.start+n.count-1,r.width,4)===i?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,a[s]=n)}a.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,s=a.length;t<s;t++){const s=a[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),h=c,f=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,f,o,i,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(a,f,p,b)):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,b,f.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){_&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,M,S,E[0].width,E[0].height,f.depth);for(let t=0,r=E.length;t<r;t++)if(w=E[t],a.format!==poe)if(null!==p)if(_){if(k)if(a.layerUpdates.size>0){const r=Tce(w.width,w.height,a.format,a.type);for(const o of a.layerUpdates){const i=w.data.subarray(o*r/w.data.BYTES_PER_ELEMENT,(o+1)*r/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,o,w.width,w.height,1,p,i)}a.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,w.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,w.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else _?k&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,b,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,p,b,w.data)}else{_&&C&&n.texStorage2D(e.TEXTURE_2D,M,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],a.format!==poe?null!==p?_?k&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?k&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,b,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,b,w.data)}else if(a.isDataArrayTexture)if(_){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,M,S,f.width,f.height,f.depth),k)if(a.layerUpdates.size>0){const t=Tce(f.width,f.height,a.format,a.type);for(const r of a.layerUpdates){const o=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,p,b,o)}a.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,b,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,f.width,f.height,f.depth,0,p,b,f.data);else if(a.isData3DTexture)_?(C&&n.texStorage3D(e.TEXTURE_3D,M,S,f.width,f.height,f.depth),k&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,b,f.data)):n.texImage3D(e.TEXTURE_3D,0,S,f.width,f.height,f.depth,0,p,b,f.data);else if(a.isFramebufferTexture){if(C)if(_)n.texStorage2D(e.TEXTURE_2D,M,S,f.width,f.height);else{let t=f.width,r=f.height;for(let o=0;o<M;o++)n.texImage2D(e.TEXTURE_2D,o,S,t,r,0,p,b,null),t>>=1,r>>=1}}else if(E.length>0){if(_&&C){const t=H(E[0]);n.texStorage2D(e.TEXTURE_2D,M,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)w=E[t],_?k&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,b,w):n.texImage2D(e.TEXTURE_2D,t,S,p,b,w);a.generateMipmaps=!1}else if(_){if(C){const t=H(f);n.texStorage2D(e.TEXTURE_2D,M,S,t.width,t.height)}k&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,b,f)}else n.texImage2D(e.TEXTURE_2D,0,S,p,b,f);g(a)&&v(l),d.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}function N(t,o,a,l,c,u){const d=i.convert(a.format,a.colorSpace),h=i.convert(a.type),f=y(a.internalFormat,d,h,a.colorSpace),p=r.get(o),m=r.get(a);if(m.__renderTarget=o,!p.__hasExternalTextures){const t=Math.max(1,o.width>>u),r=Math.max(1,o.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,t,r,o.depth,0,d,h,null):n.texImage2D(c,u,f,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),F(o)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,m.__webglTexture,0,B(o)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,m.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function I(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const o=n.depthTexture,i=o&&o.isDepthTexture?o.type:null,a=x(n.stencilBuffer,i),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=B(n);F(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let o=0;o<t.length;o++){const a=t[o],l=i.convert(a.format,a.colorSpace),c=i.convert(a.type),u=y(a.internalFormat,l,c,a.colorSpace),d=B(n);r&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):F(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t,o){if(o&&o.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!o.depthTexture||!o.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const i=r.get(o.depthTexture);i.__renderTarget=o,i.__webglTexture&&o.depthTexture.image.width===o.width&&o.depthTexture.image.height===o.height||(o.depthTexture.image.width=o.width,o.depthTexture.image.height=o.height,o.depthTexture.needsUpdate=!0),C(o.depthTexture,0);const a=i.__webglTexture,l=B(o);if(o.depthTexture.format===moe)F(o)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(o.depthTexture.format!==goe)throw new Error("Unknown depthTexture format");F(o)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,l):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}function L(t){const o=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(o.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(o.__depthDisposeCallback&&o.__depthDisposeCallback(),e){const t=()=>{delete o.__boundDepthTexture,delete o.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),o.__depthDisposeCallback=t}o.__boundDepthTexture=e}if(t.depthTexture&&!o.__autoAllocateDepthBuffer){if(i)throw new Error("target.depthTexture not supported in Cube render targets");const e=t.texture.mipmaps;e&&e.length>0?D(o.__webglFramebuffer[0],t):D(o.__webglFramebuffer,t)}else if(i){o.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,o.__webglFramebuffer[r]),void 0===o.__webglDepthbuffer[r])o.__webglDepthbuffer[r]=e.createRenderbuffer(),I(o.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,i=o.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,i),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,i)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,o.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,o.__webglFramebuffer),void 0===o.__webglDepthbuffer)o.__webglDepthbuffer=e.createRenderbuffer(),I(o.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=o.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const z=[],j=[];function B(e){return Math.min(o.maxSamples,e.samples)}function F(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function U(e,t){const n=e.colorSpace,r=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==nie&&n!==eie&&(Uie.getTransfer(n)===oie?r===poe&&o===ioe||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=_;return e>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+o.maxTextures),_+=1,e},this.resetTextureUnits=function(){_=0},this.setTexture2D=C,this.setTexture2DArray=function(t,o){const i=r.get(t);t.version>0&&i.__version!==t.version?$(i,t,o):n.bindTexture(e.TEXTURE_2D_ARRAY,i.__webglTexture,e.TEXTURE0+o)},this.setTexture3D=function(t,o){const i=r.get(t);t.version>0&&i.__version!==t.version?$(i,t,o):n.bindTexture(e.TEXTURE_3D,i.__webglTexture,e.TEXTURE0+o)},this.setTextureCube=function(t,a){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,a,s){if(6!==a.image.length)return;const l=R(t,a),c=a.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=Uie.getPrimaries(Uie.workingColorSpace),r=a.colorSpace===eie?null:Uie.getPrimaries(a.colorSpace),d=a.colorSpace===eie||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=a.isCompressedTexture||a.image[0].isCompressedTexture,f=a.image[0]&&a.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=h||f?f?a.image[e].image:a.image[e]:m(a.image[e],!0,o.maxCubemapSize),p[e]=U(a,p[e]);const b=p[0],x=i.convert(a.format,a.colorSpace),w=i.convert(a.type),S=y(a.internalFormat,x,w,a.colorSpace),E=!0!==a.isVideoTexture,_=void 0===u.__version||!0===l,C=c.dataReady;let k,M=O(a,b);if(P(e.TEXTURE_CUBE_MAP,a),h){E&&_&&n.texStorage2D(e.TEXTURE_CUBE_MAP,M,S,b.width,b.height);for(let t=0;t<6;t++){k=p[t].mipmaps;for(let r=0;r<k.length;r++){const o=k[r];a.format!==poe?null!==x?E?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,x,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,x,w,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,o.width,o.height,0,x,w,o.data)}}}else{if(k=a.mipmaps,E&&_){k.length>0&&M++;const t=H(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,M,S,t.width,t.height)}for(let t=0;t<6;t++)if(f){E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,w,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,w,p[t].data);for(let r=0;r<k.length;r++){const o=k[r].image[t].image;E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,o.width,o.height,x,w,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,o.width,o.height,0,x,w,o.data)}}else{E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,p[t]);for(let r=0;r<k.length;r++){const o=k[r];E?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,w,o.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,w,o.image[t])}}}g(a)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(s,t,a):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+a)},this.rebindTextures=function(t,n,o){const i=r.get(t);void 0!==n&&N(i.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==o&&L(t)},this.setupRenderTarget=function(t){const o=t.texture,s=r.get(t),l=r.get(o);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=o.version,a.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(o.mipmaps&&o.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<o.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(o.mipmaps&&o.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<o.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),a.memory.textures++)}if(t.samples>0&&!1===F(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const o=i.convert(r.format,r.colorSpace),a=i.convert(r.type),l=y(r.internalFormat,o,a,r.colorSpace,!0===t.isXRRenderTarget),u=B(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),I(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),P(e.TEXTURE_CUBE_MAP,o);for(let n=0;n<6;n++)if(o.mipmaps&&o.mipmaps.length>0)for(let r=0;r<o.mipmaps.length;r++)N(s.__webglFramebuffer[n][r],t,o,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else N(s.__webglFramebuffer[n],t,o,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(o)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let o=0,i=c.length;o<i;o++){const i=c[o],a=r.get(i);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),P(e.TEXTURE_2D,i),N(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,0),g(i)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),P(r,o),o.mipmaps&&o.mipmaps.length>0)for(let n=0;n<o.mipmaps.length;n++)N(s.__webglFramebuffer[n],t,o,e.COLOR_ATTACHMENT0,r,n);else N(s.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0,r,0);g(o)&&v(r),n.unbindTexture()}t.depthBuffer&&L(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let o=0,i=t.length;o<i;o++){const i=t[o];if(g(i)){const t=b(e),o=r.get(i).__webglTexture;n.bindTexture(t,o),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===F(t)){const o=t.textures,i=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=o.length>1;if(d)for(let t=0;t<o.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<o.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(o[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,i,a,0,0,i,a,s,e.NEAREST),!0===l&&(z.length=0,j.length=0,z.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(z.push(c),j.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,j)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,z))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<o.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const i=r.get(o[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,i,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=L,this.setupFrameBufferTexture=N,this.useMultisampledRTT=F}function nhe(e,t){return{convert:function(n,r=""){let o;const i=Uie.getTransfer(r);if(n===ioe)return e.UNSIGNED_BYTE;if(n===doe)return e.UNSIGNED_SHORT_4_4_4_4;if(n===hoe)return e.UNSIGNED_SHORT_5_5_5_1;if(35902===n)return e.UNSIGNED_INT_5_9_9_9_REV;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===aoe)return e.UNSIGNED_SHORT;if(n===soe)return e.INT;if(n===loe)return e.UNSIGNED_INT;if(n===coe)return e.FLOAT;if(n===uoe)return e.HALF_FLOAT;if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(n===poe)return e.RGBA;if(n===moe)return e.DEPTH_COMPONENT;if(n===goe)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(n===voe)return e.RED_INTEGER;if(1030===n)return e.RG;if(n===boe)return e.RG_INTEGER;if(n===yoe)return e.RGBA_INTEGER;if(n===xoe||n===Ooe||n===woe||n===Soe)if(i===oie){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===xoe)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ooe)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===woe)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Soe)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===xoe)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ooe)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===woe)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Soe)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Eoe||n===_oe||n===Coe||n===koe){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(n===Eoe)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===_oe)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Coe)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===koe)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Moe||n===Toe||n===Poe){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(n===Moe||n===Toe)return i===oie?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Poe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(n===Roe||n===Aoe||n===$oe||n===Noe||n===Ioe||n===Doe||n===Loe||n===zoe||n===joe||n===Boe||n===Foe||n===Uoe||n===Hoe||n===Qoe){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(n===Roe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Aoe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===$oe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Noe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ioe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Doe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Loe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===zoe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===joe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Boe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Foe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Uoe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Hoe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Qoe)return i===oie?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Voe||n===Woe||n===Goe){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===Voe)return i===oie?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Woe)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Goe)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||n===Xoe||n===qoe||n===Zoe){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(n===Voe)return o.COMPRESSED_RED_RGTC1_EXT;if(n===Xoe)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===qoe)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Zoe)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===foe?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class rhe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new Kie;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new lle({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new tle(new Zle(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ohe extends vie{constructor(e,t){super();const n=this;let r=null,o=1,i=null,a="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p=new rhe,m=t.getContextAttributes();let g=null,v=null;const b=[],y=[],x=new kie;let O=null;const w=new fle;w.viewport=new Jie;const S=new fle;S.viewport=new Jie;const E=[w,S],_=new vce;let C=null,k=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=b[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||i),n.dispatchEvent({type:e.type,data:e.inputSource}))}function T(){r.removeEventListener("select",M),r.removeEventListener("selectstart",M),r.removeEventListener("selectend",M),r.removeEventListener("squeeze",M),r.removeEventListener("squeezestart",M),r.removeEventListener("squeezeend",M),r.removeEventListener("end",T),r.removeEventListener("inputsourceschange",P);for(let e=0;e<b.length;e++){const t=y[e];null!==t&&(y[e]=null,b[e].disconnect(t))}C=null,k=null,p.reset(),e.setRenderTarget(g),h=null,d=null,u=null,r=null,v=null,I.stop(),n.isPresenting=!1,e.setPixelRatio(O),e.setSize(x.width,x.height,!1),n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,b[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=y.indexOf(n);if(-1===r){for(let e=0;e<b.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}const o=b[r];o&&o.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=b[e];return void 0===t&&(t=new xle,b[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=b[e];return void 0===t&&(t=new xle,b[e]=t),t.getGripSpace()},this.getHand=function(e){let t=b[e];return void 0===t&&(t=new xle,b[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||i},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",M),r.addEventListener("selectstart",M),r.addEventListener("selectend",M),r.addEventListener("squeeze",M),r.addEventListener("squeezestart",M),r.addEventListener("squeezeend",M),r.addEventListener("end",T),r.addEventListener("inputsourceschange",P),!0!==m.xrCompatible&&await t.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(x),"undefined"!=typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,i=null,a=null;m.depth&&(a=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?goe:moe,i=m.stencil?foe:loe);const s={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:o};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),v=new tae(d.textureWidth,d.textureHeight,{format:poe,type:ioe,depthTexture:new qle(d.textureWidth,d.textureHeight,i,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new tae(h.framebufferWidth,h.framebufferHeight,{format:poe,type:ioe,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(s),l=null,i=await r.requestReferenceSpace(a),I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const R=new Tie,A=new Tie;function $(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==p.texture&&(p.depthNear>0&&(t=p.depthNear),p.depthFar>0&&(n=p.depthFar)),_.near=S.near=w.near=t,_.far=S.far=w.far=n,C===_.near&&k===_.far||(r.updateRenderState({depthNear:_.near,depthFar:_.far}),C=_.near,k=_.far),w.layers.mask=2|e.layers.mask,S.layers.mask=4|e.layers.mask,_.layers.mask=w.layers.mask|S.layers.mask;const o=e.parent,i=_.cameras;$(_,o);for(let e=0;e<i.length;e++)$(i[e],o);2===i.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),A.setFromMatrixPosition(n.matrixWorld);const r=R.distanceTo(A),o=t.projectionMatrix.elements,i=n.projectionMatrix.elements,a=o[14]/(o[10]-1),s=o[14]/(o[10]+1),l=(o[9]+1)/o[5],c=(o[9]-1)/o[5],u=(o[8]-1)/o[0],d=(i[8]+1)/i[0],h=a*u,f=a*d,p=r/(-u+d),m=p*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===o[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=a+p,n=s+p,o=h-m,i=f+(r-m),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(o,i,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(_,w,S):_.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*xie*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,_,o)},this.getCamera=function(){return _},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(_)};let N=null;const I=new Pce;I.setAnimationLoop(function(t,o){if(c=o.getViewerPose(l||i),f=o,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==_.cameras.length&&(_.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const o=t[r];let i=null;if(null!==h)i=h.getViewport(o);else{const t=u.getViewSubImage(d,o);i=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(v))}let a=E[r];void 0===a&&(a=new fle,a.layers.enable(r),a.viewport=new Jie,E[r]=a),a.matrix.fromArray(o.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(o.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(i.x,i.y,i.width,i.height),0===r&&(_.matrix.copy(a.matrix),_.matrix.decompose(_.position,_.quaternion,_.scale)),!0===n&&_.cameras.push(a)}const o=r.enabledFeatures;if(o&&o.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&u){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<b.length;e++){const t=y[e],n=b[e];null!==t&&void 0!==n&&n.update(t,o,l||i)}N&&N(t,o),o.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:o}),f=null}),this.setAnimationLoop=function(e){N=e},this.dispose=function(){}}}const ihe=new Fae,ahe=new Rae;function she(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const o=t.get(r),i=o.envMap,a=o.envMapRotation;i&&(e.envMap.value=i,ihe.copy(a),ihe.x*=-1,ihe.y*=-1,ihe.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(ihe.y*=-1,ihe.z*=-1),e.envMapRotation.value.setFromMatrix4(ahe.makeRotationFromEuler(ihe)),e.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,ale(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,o,i,a,s){o.isMeshBasicMaterial||o.isMeshLambertMaterial?r(e,o):o.isMeshToonMaterial?(r(e,o),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,o)):o.isMeshPhongMaterial?(r(e,o),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,o)):o.isMeshStandardMaterial?(r(e,o),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,o),o.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,o,s)):o.isMeshMatcapMaterial?(r(e,o),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,o)):o.isMeshDepthMaterial?r(e,o):o.isMeshDistanceMaterial?(r(e,o),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,o)):o.isMeshNormalMaterial?r(e,o):o.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,o),o.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,o)):o.isPointsMaterial?function(e,t,r,o){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*o,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,o,i,a):o.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,o):o.isShadowMaterial?(e.color.value.copy(o.color),e.opacity.value=o.opacity):o.isShaderMaterial&&(o.uniformsNeedUpdate=!1)}}}function lhe(e,t,n,r){let o={},i={},a=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const o=e.value,i=t+"_"+n;if(void 0===r[i])return r[i]="number"==typeof o||"boolean"==typeof o?o:o.clone(),!0;{const e=r[i];if("number"==typeof o||"boolean"==typeof o){if(e!==o)return r[i]=o,!0}else if(!1===e.equals(o))return e.copy(o),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(o[n.id]),delete o[n.id],delete i[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=o[n.id];void 0===h&&(function(e){const t=e.uniforms;let n=0;for(let e=0,r=t.length;e<r;e++){const r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=r.length;e<t;e++){const t=r[e],o=Array.isArray(t.value)?t.value:[t.value];for(let e=0,r=o.length;e<r;e++){const r=c(o[e]),i=n%16,a=i%r.boundary,s=i+a;n+=a,0!==s&&16-s<r.storage&&(n+=16-s),t.__data=new Float32Array(r.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=r.storage}}}const r=n%16;r>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),o=t.__size,i=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,o,i),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),o[n.id]=h,n.addEventListener("dispose",u));const f=d.program;r.updateUBOMapping(n,f);const p=t.render.frame;i[n.id]!==p&&(function(t){const n=o[t.id],r=t.uniforms,i=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){const n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(!0===l(o,t,r,i)){const t=o.__offset,n=Array.isArray(o.value)?o.value:[o.value];let r=0;for(let i=0;i<n.length;i++){const a=n[i],s=c(a);"number"==typeof a||"boolean"==typeof a?(o.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+r,o.__data)):a.isMatrix3?(o.__data[0]=a.elements[0],o.__data[1]=a.elements[1],o.__data[2]=a.elements[2],o.__data[3]=0,o.__data[4]=a.elements[3],o.__data[5]=a.elements[4],o.__data[6]=a.elements[5],o.__data[7]=0,o.__data[8]=a.elements[6],o.__data[9]=a.elements[7],o.__data[10]=a.elements[8],o.__data[11]=0):(a.toArray(o.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,o.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),i[n.id]=p)},dispose:function(){for(const t in o)e.deleteBuffer(o[t]);a=[],o={},i={}}}}class che{constructor(e={}){const{canvas:t=Die(),context:n=null,depth:r=!0,stencil:o=!1,alpha:i=!1,antialias:a=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:d=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=i;const f=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const y=this;let x=!1;this._outputColorSpace=tie;let O=0,w=0,S=null,E=-1,_=null;const C=new Jie,k=new Jie;let M=null;const T=new Sse(0);let P=0,R=t.width,A=t.height,$=1,N=null,I=null;const D=new Jie(0,0,R,A),L=new Jie(0,0,R,A);let z=!1;const j=new Mle;let B=!1,F=!1;const U=new Rae,H=new Rae,Q=new Tie,V=new Jie,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let G=!1;function X(){return null===S?$:1}let q,Z,Y,K,J,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,he,fe,pe,me,ge,ve,be,ye=n;function xe(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${vre}`),t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",Ee,!1),t.addEventListener("webglcontextcreationerror",_e,!1),null===ye){const t="webgl2";if(ye=xe(t,e),null===ye)throw xe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function Oe(){q=new sue(ye),q.init(),ge=new nhe(ye,q),Z=new Fce(ye,q,e,ge),Y=new ehe(ye,q),Z.reverseDepthBuffer&&d&&Y.buffers.depth.setReversed(!0),K=new uue(ye),J=new Fde,ee=new the(ye,q,Y,J,Z,ge,K),te=new Hce(y),ne=new aue(y),re=new Rce(ye),ve=new jce(ye,re),oe=new lue(ye,re,K,ve),ie=new hue(ye,oe,re,K),fe=new due(ye,Z,ee),ue=new Uce(J),ae=new Bde(y,te,ne,q,Z,ve,ue),se=new she(y,J),le=new Vde,ce=new Yde(q),he=new zce(y,te,ne,Y,ie,h,s),de=new Kde(y,ie,Z),be=new lhe(ye,K,Z,Y),pe=new Bce(ye,q,K),me=new cue(ye,q,K),K.programs=ae.programs,y.capabilities=Z,y.extensions=q,y.properties=J,y.renderLists=le,y.shadowMap=de,y.state=Y,y.info=K}Oe();const we=new ohe(y,ye);function Se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const e=K.autoReset,t=de.enabled,n=de.autoUpdate,r=de.needsUpdate,o=de.type;Oe(),K.autoReset=e,de.enabled=t,de.autoUpdate=n,de.needsUpdate=r,de.type=o}function _e(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ce(e){const t=e.target;t.removeEventListener("dispose",Ce),function(e){(function(e){const t=J.get(e).programs;void 0!==t&&(t.forEach(function(e){ae.releaseProgram(e)}),e.isShaderMaterial&&ae.releaseShaderCache(e))})(e),J.remove(e)}(t)}function ke(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Le(e,t,n),e.side=0,e.needsUpdate=!0,Le(e,t,n),e.side=2):Le(e,t,n)}this.xr=we,this.getContext=function(){return ye},this.getContextAttributes=function(){return ye.getContextAttributes()},this.forceContextLoss=function(){const e=q.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=q.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(e){void 0!==e&&($=e,this.setSize(R,A,!1))},this.getSize=function(e){return e.set(R,A)},this.setSize=function(e,n,r=!0){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=e,A=n,t.width=Math.floor(e*$),t.height=Math.floor(n*$),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(R*$,A*$).floor()},this.setDrawingBufferSize=function(e,n,r){R=e,A=n,$=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(C)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),Y.viewport(C.copy(D).multiplyScalar($).round())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),Y.scissor(k.copy(L).multiplyScalar($).round())},this.getScissorTest=function(){return z},this.setScissorTest=function(e){Y.setScissorTest(z=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){I=e},this.getClearColor=function(e){return e.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor(...arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==S){const t=S.texture.format;e=t===yoe||t===boe||t===voe}if(e){const e=S.texture.type,t=e===ioe||e===loe||e===aoe||e===foe||e===doe||e===hoe,n=he.getClearColor(),r=he.getClearAlpha(),o=n.r,i=n.g,a=n.b;t?(f[0]=o,f[1]=i,f[2]=a,f[3]=r,ye.clearBufferuiv(ye.COLOR,0,f)):(p[0]=o,p[1]=i,p[2]=a,p[3]=r,ye.clearBufferiv(ye.COLOR,0,p))}else r|=ye.COLOR_BUFFER_BIT}t&&(r|=ye.DEPTH_BUFFER_BIT),n&&(r|=ye.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ye.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",Ee,!1),t.removeEventListener("webglcontextcreationerror",_e,!1),he.dispose(),le.dispose(),ce.dispose(),J.dispose(),te.dispose(),ne.dispose(),ie.dispose(),ve.dispose(),be.dispose(),ae.dispose(),we.dispose(),we.removeEventListener("sessionstart",Te),we.removeEventListener("sessionend",Pe),Re.stop()},this.renderBufferDirect=function(e,t,n,r,o,i){null===t&&(t=W);const a=o.isMesh&&o.matrixWorld.determinant()<0,s=function(e,t,n,r,o){!0!==t.isScene&&(t=W),ee.resetTextureUnits();const i=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===S?y.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:nie,l=(r.isMeshStandardMaterial?ne:te).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(p=y.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==m?m.length:0,b=J.get(r),x=g.state.lights;if(!0===B&&(!0===F||e!==_)){const t=e===_&&r.id===E;ue.setState(r,e,t)}let O=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==x.state.version||b.outputColorSpace!==s||o.isBatchedMesh&&!1===b.batching?O=!0:o.isBatchedMesh||!0!==b.batching?o.isBatchedMesh&&!0===b.batchingColor&&null===o.colorTexture||o.isBatchedMesh&&!1===b.batchingColor&&null!==o.colorTexture||o.isInstancedMesh&&!1===b.instancing?O=!0:o.isInstancedMesh||!0!==b.instancing?o.isSkinnedMesh&&!1===b.skinning?O=!0:o.isSkinnedMesh||!0!==b.skinning?o.isInstancedMesh&&!0===b.instancingColor&&null===o.instanceColor||o.isInstancedMesh&&!1===b.instancingColor&&null!==o.instanceColor||o.isInstancedMesh&&!0===b.instancingMorph&&null===o.morphTexture||o.isInstancedMesh&&!1===b.instancingMorph&&null!==o.morphTexture||b.envMap!==l||!0===r.fog&&b.fog!==i?O=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===ue.numPlanes&&b.numIntersection===ue.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==u||b.morphTargets!==d||b.morphNormals!==h||b.morphColors!==f||b.toneMapping!==p||b.morphTargetsCount!==v)&&(O=!0):O=!0:O=!0:O=!0:O=!0:(O=!0,b.__version=r.version);let w=b.currentProgram;!0===O&&(w=Le(r,t,o));let C=!1,k=!1,M=!1;const T=w.getUniforms(),P=b.uniforms;if(Y.useProgram(w.program)&&(C=!0,k=!0,M=!0),r.id!==E&&(E=r.id,k=!0),C||_!==e){Y.buffers.depth.getReversed()?(U.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(U),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(U),T.setValue(ye,"projectionMatrix",U)):T.setValue(ye,"projectionMatrix",e.projectionMatrix),T.setValue(ye,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(ye,Q.setFromMatrixPosition(e.matrixWorld)),Z.logarithmicDepthBuffer&&T.setValue(ye,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(ye,"isOrthographic",!0===e.isOrthographicCamera),_!==e&&(_=e,k=!0,M=!0)}if(o.isSkinnedMesh){T.setOptional(ye,o,"bindMatrix"),T.setOptional(ye,o,"bindMatrixInverse");const e=o.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(ye,"boneTexture",e.boneTexture,ee))}o.isBatchedMesh&&(T.setOptional(ye,o,"batchingTexture"),T.setValue(ye,"batchingTexture",o._matricesTexture,ee),T.setOptional(ye,o,"batchingIdTexture"),T.setValue(ye,"batchingIdTexture",o._indirectTexture,ee),T.setOptional(ye,o,"batchingColorTexture"),null!==o._colorsTexture&&T.setValue(ye,"batchingColorTexture",o._colorsTexture,ee));const R=n.morphAttributes;var N,I;if(void 0===R.position&&void 0===R.normal&&void 0===R.color||fe.update(o,n,w),(k||b.receiveShadow!==o.receiveShadow)&&(b.receiveShadow=o.receiveShadow,T.setValue(ye,"receiveShadow",o.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(P.envMapIntensity.value=t.environmentIntensity),k&&(T.setValue(ye,"toneMappingExposure",y.toneMappingExposure),b.needsLights&&(I=M,(N=P).ambientLightColor.needsUpdate=I,N.lightProbe.needsUpdate=I,N.directionalLights.needsUpdate=I,N.directionalLightShadows.needsUpdate=I,N.pointLights.needsUpdate=I,N.pointLightShadows.needsUpdate=I,N.spotLights.needsUpdate=I,N.spotLightShadows.needsUpdate=I,N.rectAreaLights.needsUpdate=I,N.hemisphereLights.needsUpdate=I),i&&!0===r.fog&&se.refreshFogUniforms(P,i),se.refreshMaterialUniforms(P,r,$,A,g.state.transmissionRenderTarget[e.id]),vde.upload(ye,ze(b),P,ee)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(vde.upload(ye,ze(b),P,ee),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&T.setValue(ye,"center",o.center),T.setValue(ye,"modelViewMatrix",o.modelViewMatrix),T.setValue(ye,"normalMatrix",o.normalMatrix),T.setValue(ye,"modelMatrix",o.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];be.update(n,w),be.bind(n,w)}}return w}(e,t,n,r,o);Y.setMaterial(r,a);let l=n.index,c=1;if(!0===r.wireframe){if(l=oe.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==i&&(h=Math.max(h,i.start*c),f=Math.min(f,(i.start+i.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):null!=d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;ve.setup(o,r,s,n,l);let v=pe;if(null!==l&&(m=re.get(l),v=me,v.setIndex(m)),o.isMesh)!0===r.wireframe?(Y.setLineWidth(r.wireframeLinewidth*X()),v.setMode(ye.LINES)):v.setMode(ye.TRIANGLES);else if(o.isLine){let e=r.linewidth;void 0===e&&(e=1),Y.setLineWidth(e*X()),o.isLineSegments?v.setMode(ye.LINES):o.isLineLoop?v.setMode(ye.LINE_LOOP):v.setMode(ye.LINE_STRIP)}else o.isPoints?v.setMode(ye.POINTS):o.isSprite&&v.setMode(ye.TRIANGLES);if(o.isBatchedMesh)if(null!==o._multiDrawInstances)zie("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),v.renderMultiDrawInstances(o._multiDrawStarts,o._multiDrawCounts,o._multiDrawCount,o._multiDrawInstances);else if(q.get("WEBGL_multi_draw"))v.renderMultiDraw(o._multiDrawStarts,o._multiDrawCounts,o._multiDrawCount);else{const e=o._multiDrawStarts,t=o._multiDrawCounts,n=o._multiDrawCount,i=l?re.get(l).bytesPerElement:1,a=J.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)a.setValue(ye,"_gl_DrawID",r),v.render(e[r]/i,t[r])}else if(o.isInstancedMesh)v.renderInstances(h,p,o.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(h,p,t)}else v.render(h,p)},this.compile=function(e,t,n=null){null===n&&(n=e),g=ce.get(n),g.init(t),b.push(g),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))}),g.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let o=0;o<t.length;o++){const i=t[o];ke(i,n,e),r.add(i)}else ke(t,n,e),r.add(t)}),g=b.pop(),r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){J.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==q.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Me=null;function Te(){Re.stop()}function Pe(){Re.start()}const Re=new Pce;function Ae(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=ie.update(e),o=e.material;o.visible&&m.push(e,t,o,n,V.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||j.intersectsObject(e))){const t=ie.update(e),o=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),V.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),V.copy(t.boundingSphere.center)),V.applyMatrix4(e.matrixWorld).applyMatrix4(H)),Array.isArray(o)){const r=t.groups;for(let i=0,a=r.length;i<a;i++){const a=r[i],s=o[a.materialIndex];s&&s.visible&&m.push(e,t,s,n,V.z,a)}}else o.visible&&m.push(e,t,o,n,V.z,null)}const o=e.children;for(let e=0,i=o.length;e<i;e++)Ae(o[e],t,n,r)}function $e(e,t,n,r){const o=e.opaque,i=e.transmissive,a=e.transparent;g.setupLightsView(n),!0===B&&ue.setGlobalState(y.clippingPlanes,n),r&&Y.viewport(C.copy(r)),o.length>0&&Ie(o,t,n),i.length>0&&Ie(i,t,n),a.length>0&&Ie(a,t,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function Ne(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[r.id]&&(g.state.transmissionRenderTarget[r.id]=new tae(1,1,{generateMipmaps:!0,type:q.has("EXT_color_buffer_half_float")||q.has("EXT_color_buffer_float")?uoe:ioe,minFilter:ooe,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Uie.workingColorSpace}));const i=g.state.transmissionRenderTarget[r.id],a=r.viewport||C;i.setSize(a.z*y.transmissionResolutionScale,a.w*y.transmissionResolutionScale);const s=y.getRenderTarget();y.setRenderTarget(i),y.getClearColor(T),P=y.getClearAlpha(),P<1&&y.setClearColor(16777215,.5),y.clear(),G&&he.render(n);const l=y.toneMapping;y.toneMapping=0;const c=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),g.setupLightsView(r),!0===B&&ue.setGlobalState(y.clippingPlanes,r),Ie(e,n,r),ee.updateMultisampleRenderTarget(i),ee.updateRenderTargetMipmap(i),!1===q.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let o=0,i=t.length;o<i;o++){const i=t[o],a=i.object,s=i.geometry,l=i.material,c=i.group;if(2===l.side&&a.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,De(a,n,r,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ee.updateMultisampleRenderTarget(i),ee.updateRenderTargetMipmap(i))}y.setRenderTarget(s),y.setClearColor(T,P),void 0!==c&&(r.viewport=c),y.toneMapping=l}function Ie(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let o=0,i=e.length;o<i;o++){const i=e[o],a=i.object,s=i.geometry,l=i.group;let c=i.material;!0===c.allowOverride&&null!==r&&(c=r),a.layers.test(n.layers)&&De(a,t,n,s,c,l)}}function De(e,t,n,r,o,i){e.onBeforeRender(y,t,n,r,o,i),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),o.onBeforeRender(y,t,n,r,e,i),!0===o.transparent&&2===o.side&&!1===o.forceSinglePass?(o.side=1,o.needsUpdate=!0,y.renderBufferDirect(n,t,r,o,e,i),o.side=0,o.needsUpdate=!0,y.renderBufferDirect(n,t,r,o,e,i),o.side=2):y.renderBufferDirect(n,t,r,o,e,i),e.onAfterRender(y,t,n,r,o,i)}function Le(e,t,n){!0!==t.isScene&&(t=W);const r=J.get(e),o=g.state.lights,i=g.state.shadowsArray,a=o.state.version,s=ae.getParameters(e,o.state,i,t,n),l=ae.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ne:te).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ce),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return je(e,s),u}else s.uniforms=ae.getUniforms(e),e.onBeforeCompile(s,y),u=ae.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=ue.uniform),je(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=o.state.ambient,d.lightProbe.value=o.state.probe,d.directionalLights.value=o.state.directional,d.directionalLightShadows.value=o.state.directionalShadow,d.spotLights.value=o.state.spot,d.spotLightShadows.value=o.state.spotShadow,d.rectAreaLights.value=o.state.rectArea,d.ltc_1.value=o.state.rectAreaLTC1,d.ltc_2.value=o.state.rectAreaLTC2,d.pointLights.value=o.state.point,d.pointLightShadows.value=o.state.pointShadow,d.hemisphereLights.value=o.state.hemi,d.directionalShadowMap.value=o.state.directionalShadowMap,d.directionalShadowMatrix.value=o.state.directionalShadowMatrix,d.spotShadowMap.value=o.state.spotShadowMap,d.spotLightMatrix.value=o.state.spotLightMatrix,d.spotLightMap.value=o.state.spotLightMap,d.pointShadowMap.value=o.state.pointShadowMap,d.pointShadowMatrix.value=o.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function ze(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=vde.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function je(e,t){const n=J.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Re.setAnimationLoop(function(e){Me&&Me(e)}),"undefined"!=typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Me=e,we.setAnimationLoop(e),null===e?Re.stop():Re.start()},we.addEventListener("sessionstart",Te),we.addEventListener("sessionend",Pe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===x)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,S),g=ce.get(e,b.length),g.init(t),b.push(g),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(H),F=this.localClippingEnabled,B=ue.init(this.clippingPlanes,F),m=le.get(e,v.length),m.init(),v.push(m),!0===we.enabled&&!0===we.isPresenting){const e=y.xr.getDepthSensingMesh();null!==e&&Ae(e,t,-1/0,y.sortObjects)}Ae(e,t,0,y.sortObjects),m.finish(),!0===y.sortObjects&&m.sort(N,I),G=!1===we.enabled||!1===we.isPresenting||!1===we.hasDepthSensing(),G&&he.addToRenderList(m,e),this.info.render.frame++,!0===B&&ue.beginShadows();const n=g.state.shadowsArray;de.render(n,e,t),!0===B&&ue.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=m.opaque,o=m.transmissive;if(g.setupLights(),t.isArrayCamera){const n=t.cameras;if(o.length>0)for(let t=0,i=n.length;t<i;t++)Ne(r,o,e,n[t]);G&&he.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];$e(m,e,r,r.viewport)}}else o.length>0&&Ne(r,o,e,t),G&&he.render(e),$e(m,e,t);null!==S&&0===w&&(ee.updateMultisampleRenderTarget(S),ee.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(y,e,t),ve.resetDefaultState(),E=-1,_=null,b.pop(),b.length>0?(g=b[b.length-1],!0===B&&ue.setGlobalState(y.clippingPlanes,g.state.camera)):g=null,v.pop(),m=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){const r=J.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),J.get(e.texture).__webglTexture=t,J.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=J.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const Be=ye.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){S=e,O=t,w=n;let r=!0,o=null,i=!1,a=!1;if(e){const s=J.get(e);if(void 0!==s.__useDefaultFramebuffer)Y.bindFramebuffer(ye.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)ee.setupRenderTarget(e);else if(s.__hasExternalTextures)ee.rebindTextures(e,J.get(e.texture).__webglTexture,J.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&J.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ee.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=J.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(o=Array.isArray(c[t])?c[t][n]:c[t],i=!0):o=e.samples>0&&!1===ee.useMultisampledRTT(e)?J.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,C.copy(e.viewport),k.copy(e.scissor),M=e.scissorTest}else C.copy(D).multiplyScalar($).floor(),k.copy(L).multiplyScalar($).floor(),M=z;if(0!==n&&(o=Be),Y.bindFramebuffer(ye.FRAMEBUFFER,o)&&r&&Y.drawBuffers(e,o),Y.viewport(C),Y.scissor(k),Y.setScissorTest(M),i){const r=J.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=J.get(e.texture),o=t;ye.framebufferTextureLayer(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,r.__webglTexture,n,o)}else if(null!==e&&0!==n){const t=J.get(e.texture);ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,t.__webglTexture,n)}E=-1},this.readRenderTargetPixels=function(e,t,n,r,o,i,a,s=0){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=J.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(l=l[a]),l){Y.bindFramebuffer(ye.FRAMEBUFFER,l);try{const a=e.textures[s],l=a.format,c=a.type;if(!Z.textureFormatReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-o&&(e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,r,o,ge.convert(l),ge.convert(c),i))}finally{const e=null!==S?J.get(S).__webglFramebuffer:null;Y.bindFramebuffer(ye.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,o,i,a,s=0){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=J.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(l=l[a]),l){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-o){Y.bindFramebuffer(ye.FRAMEBUFFER,l);const a=e.textures[s],c=a.format,u=a.type;if(!Z.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=ye.createBuffer();ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.bufferData(ye.PIXEL_PACK_BUFFER,i.byteLength,ye.STREAM_READ),e.textures.length>1&&ye.readBuffer(ye.COLOR_ATTACHMENT0+s),ye.readPixels(t,n,r,o,ge.convert(c),ge.convert(u),0);const h=null!==S?J.get(S).__webglFramebuffer:null;Y.bindFramebuffer(ye.FRAMEBUFFER,h);const f=ye.fenceSync(ye.SYNC_GPU_COMMANDS_COMPLETE,0);return ye.flush(),await function(e,t){return new Promise(function(n,r){setTimeout(function o(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:r();break;case e.TIMEOUT_EXPIRED:setTimeout(o,4);break;default:n()}},4)})}(ye,f),ye.bindBuffer(ye.PIXEL_PACK_BUFFER,d),ye.getBufferSubData(ye.PIXEL_PACK_BUFFER,0,i),ye.deleteBuffer(d),ye.deleteSync(f),i}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){const r=Math.pow(2,-n),o=Math.floor(e.image.width*r),i=Math.floor(e.image.height*r),a=null!==t?t.x:0,s=null!==t?t.y:0;ee.setTexture2D(e,0),ye.copyTexSubImage2D(ye.TEXTURE_2D,n,0,0,a,s,o,i),Y.unbindTexture()};const Fe=ye.createFramebuffer(),Ue=ye.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,o=0,i=null){let a,s,l,c,u,d,h,f,p;null===i&&(0!==o?(zie("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),i=o,o=0):i=0);const m=e.isCompressedTexture?e.mipmaps[i]:e.image;if(null!==n)a=n.max.x-n.min.x,s=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-o);a=Math.floor(m.width*t),s=Math.floor(m.height*t),l=e.isDataArrayTexture?m.depth:e.isData3DTexture?Math.floor(m.depth*t):1,c=0,u=0,d=0}null!==r?(h=r.x,f=r.y,p=r.z):(h=0,f=0,p=0);const g=ge.convert(t.format),v=ge.convert(t.type);let b;t.isData3DTexture?(ee.setTexture3D(t,0),b=ye.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ee.setTexture2DArray(t,0),b=ye.TEXTURE_2D_ARRAY):(ee.setTexture2D(t,0),b=ye.TEXTURE_2D),ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,t.flipY),ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ye.pixelStorei(ye.UNPACK_ALIGNMENT,t.unpackAlignment);const y=ye.getParameter(ye.UNPACK_ROW_LENGTH),x=ye.getParameter(ye.UNPACK_IMAGE_HEIGHT),O=ye.getParameter(ye.UNPACK_SKIP_PIXELS),w=ye.getParameter(ye.UNPACK_SKIP_ROWS),S=ye.getParameter(ye.UNPACK_SKIP_IMAGES);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,m.width),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,m.height),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,c),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,u),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,d);const E=e.isDataArrayTexture||e.isData3DTexture,_=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=J.get(e),r=J.get(t),m=J.get(n.__renderTarget),g=J.get(r.__renderTarget);Y.bindFramebuffer(ye.READ_FRAMEBUFFER,m.__webglFramebuffer),Y.bindFramebuffer(ye.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let n=0;n<l;n++)E&&(ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,J.get(e).__webglTexture,o,d+n),ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,J.get(t).__webglTexture,i,p+n)),ye.blitFramebuffer(c,u,a,s,h,f,a,s,ye.DEPTH_BUFFER_BIT,ye.NEAREST);Y.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Y.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else if(0!==o||e.isRenderTargetTexture||J.has(e)){const n=J.get(e),r=J.get(t);Y.bindFramebuffer(ye.READ_FRAMEBUFFER,Fe),Y.bindFramebuffer(ye.DRAW_FRAMEBUFFER,Ue);for(let e=0;e<l;e++)E?ye.framebufferTextureLayer(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,n.__webglTexture,o,d+e):ye.framebufferTexture2D(ye.READ_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,n.__webglTexture,o),_?ye.framebufferTextureLayer(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,r.__webglTexture,i,p+e):ye.framebufferTexture2D(ye.DRAW_FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,r.__webglTexture,i),0!==o?ye.blitFramebuffer(c,u,a,s,h,f,a,s,ye.COLOR_BUFFER_BIT,ye.NEAREST):_?ye.copyTexSubImage3D(b,i,h,f,p+e,c,u,a,s):ye.copyTexSubImage2D(b,i,h,f,c,u,a,s);Y.bindFramebuffer(ye.READ_FRAMEBUFFER,null),Y.bindFramebuffer(ye.DRAW_FRAMEBUFFER,null)}else _?e.isDataTexture||e.isData3DTexture?ye.texSubImage3D(b,i,h,f,p,a,s,l,g,v,m.data):t.isCompressedArrayTexture?ye.compressedTexSubImage3D(b,i,h,f,p,a,s,l,g,m.data):ye.texSubImage3D(b,i,h,f,p,a,s,l,g,v,m):e.isDataTexture?ye.texSubImage2D(ye.TEXTURE_2D,i,h,f,a,s,g,v,m.data):e.isCompressedTexture?ye.compressedTexSubImage2D(ye.TEXTURE_2D,i,h,f,m.width,m.height,g,m.data):ye.texSubImage2D(ye.TEXTURE_2D,i,h,f,a,s,g,v,m);ye.pixelStorei(ye.UNPACK_ROW_LENGTH,y),ye.pixelStorei(ye.UNPACK_IMAGE_HEIGHT,x),ye.pixelStorei(ye.UNPACK_SKIP_PIXELS,O),ye.pixelStorei(ye.UNPACK_SKIP_ROWS,w),ye.pixelStorei(ye.UNPACK_SKIP_IMAGES,S),0===i&&t.generateMipmaps&&ye.generateMipmap(b),Y.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,o=0){return zie('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,o)},this.initRenderTarget=function(e){void 0===J.get(e).__webglFramebuffer&&ee.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ee.setTextureCube(e,0):e.isData3DTexture?ee.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ee.setTexture2DArray(e,0):ee.setTexture2D(e,0),Y.unbindTexture()},this.resetState=function(){O=0,w=0,S=null,Y.reset(),ve.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return mie}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Uie._getDrawingBufferColorSpace(e),t.unpackColorSpace=Uie._getUnpackColorSpace()}}const uhe={type:"change"},dhe={type:"start"},hhe={type:"end"},fhe=new Pae,phe=new _le,mhe=Math.cos(70*Cie),ghe=new Tie,vhe=2*Math.PI,bhe=-1,yhe=1e-6;class xhe extends Mce{constructor(e,t=null){super(e,t),this.state=bhe,this.target=new Tie,this.cursor=new Tie,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Tie,this._lastQuaternion=new Mie,this._lastTargetPosition=new Tie,this._quat=(new Mie).setFromUnitVectors(e.up,new Tie(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new _ce,this._sphericalDelta=new _ce,this._scale=1,this._panOffset=new Tie,this._rotateStart=new kie,this._rotateEnd=new kie,this._rotateDelta=new kie,this._panStart=new kie,this._panEnd=new kie,this._panDelta=new kie,this._dollyStart=new kie,this._dollyEnd=new kie,this._dollyDelta=new kie,this._dollyDirection=new Tie,this._mouse=new kie,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=whe.bind(this),this._onPointerDown=Ohe.bind(this),this._onPointerUp=She.bind(this),this._onContextMenu=Phe.bind(this),this._onMouseWheel=Che.bind(this),this._onKeyDown=khe.bind(this),this._onTouchStart=Mhe.bind(this),this._onTouchMove=The.bind(this),this._onMouseDown=Ehe.bind(this),this._onMouseMove=_he.bind(this),this._interceptControlDown=Rhe.bind(this),this._interceptControlUp=Ahe.bind(this),null!==this.domElement&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(uhe),this.update(),this.state=bhe}update(e=null){const t=this.object.position;ghe.copy(t).sub(this.target),ghe.applyQuaternion(this._quat),this._spherical.setFromVector3(ghe),this.autoRotate&&this.state===bhe&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(n)&&isFinite(r)&&(n<-Math.PI?n+=vhe:n>Math.PI&&(n-=vhe),r<-Math.PI?r+=vhe:r>Math.PI&&(r-=vhe),this._spherical.theta=n<=r?Math.max(n,Math.min(r,this._spherical.theta)):this._spherical.theta>(n+r)/2?Math.max(n,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const e=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=e!=this._spherical.radius}if(ghe.setFromSpherical(this._spherical),ghe.applyQuaternion(this._quatInverse),t.copy(this.target).add(ghe),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let e=null;if(this.object.isPerspectiveCamera){const t=ghe.length();e=this._clampDistance(t*this._scale);const n=t-e;this.object.position.addScaledVector(this._dollyDirection,n),this.object.updateMatrixWorld(),o=!!n}else if(this.object.isOrthographicCamera){const t=new Tie(this._mouse.x,this._mouse.y,0);t.unproject(this.object);const n=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=n!==this.object.zoom;const r=new Tie(this._mouse.x,this._mouse.y,0);r.unproject(this.object),this.object.position.sub(r).add(t),this.object.updateMatrixWorld(),e=ghe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==e&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(e).add(this.object.position):(fhe.origin.copy(this.object.position),fhe.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(fhe.direction))<mhe?this.object.lookAt(this.target):(phe.setFromNormalAndCoplanarPoint(this.object.up,this.target),fhe.intersectPlane(phe,this.target))))}else if(this.object.isOrthographicCamera){const e=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),e!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,!!(o||this._lastPosition.distanceToSquared(this.object.position)>yhe||8*(1-this._lastQuaternion.dot(this.object.quaternion))>yhe||this._lastTargetPosition.distanceToSquared(this.target)>yhe)&&(this.dispatchEvent(uhe),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?vhe/60*this.autoRotateSpeed*e:vhe/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){ghe.setFromMatrixColumn(t,0),ghe.multiplyScalar(-e),this._panOffset.add(ghe)}_panUp(e,t){!0===this.screenSpacePanning?ghe.setFromMatrixColumn(t,1):(ghe.setFromMatrixColumn(t,0),ghe.crossVectors(this.object.up,ghe)),ghe.multiplyScalar(e),this._panOffset.add(ghe)}_pan(e,t){const n=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;ghe.copy(r).sub(this.target);let o=ghe.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/n.clientHeight,this.object.matrix),this._panUp(2*t*o/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const n=this.domElement.getBoundingClientRect(),r=e-n.left,o=t-n.top,i=n.width,a=n.height;this._mouse.x=r/i*2-1,this._mouse.y=-o/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(vhe*this._rotateDelta.x/t.clientHeight),this._rotateUp(vhe*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(vhe*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-vhe*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(vhe*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-vhe*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(n,r)}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(n,r)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,o=Math.sqrt(n*n+r*r);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateEnd.set(n,r)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(vhe*this._rotateDelta.x/t.clientHeight),this._rotateUp(vhe*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(n,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,o=Math.sqrt(n*n+r*r);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const i=.5*(e.pageX+t.x),a=.5*(e.pageY+t.y);this._updateZoomParameters(i,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new kie,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}function Ohe(e){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e)))}function whe(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}function She(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(hhe),this.state=bhe;break;case 1:const t=this._pointers[0],n=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:n.x,pageY:n.y})}}function Ehe(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=1;break;case 0:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=0}break;case 2:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=2}break;default:this.state=bhe}this.state!==bhe&&this.dispatchEvent(dhe)}function _he(e){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(e);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(e);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(e)}}function Che(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===bhe&&(e.preventDefault(),this.dispatchEvent(dhe),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(hhe))}function khe(e){!1!==this.enabled&&this._handleKeyDown(e)}function Mhe(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=4;break;default:this.state=bhe}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=6;break;default:this.state=bhe}break;default:this.state=bhe}this.state!==bhe&&this.dispatchEvent(dhe)}function The(e){switch(this._trackPointer(e),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(e),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(e),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(e),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=bhe}}function Phe(e){!1!==this.enabled&&e.preventDefault()}function Rhe(e){"Control"===e.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Ahe(e){"Control"===e.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}class $he extends hce{constructor(e){super(e),this.littleEndian=!0}load(e,t,n,r){const o=this,i=new mce(o.manager);i.setPath(o.path),i.setResponseType("arraybuffer"),i.setRequestHeader(o.requestHeader),i.setWithCredentials(o.withCredentials),i.load(e,function(n){try{t(o.parse(n))}catch(t){r?r(t):console.error(t),o.manager.itemError(e)}},n,r)}_getDataView(e,t,n,r){switch(n){case"F":return 8===r?e.getFloat64(t,this.littleEndian):e.getFloat32(t,this.littleEndian);case"I":return 1===r?e.getInt8(t):2===r?e.getInt16(t,this.littleEndian):e.getInt32(t,this.littleEndian);case"U":return 1===r?e.getUint8(t):2===r?e.getUint16(t,this.littleEndian):e.getUint32(t,this.littleEndian)}}parse(e){const t=function(e){const t={},n=new Uint8Array(e);let r="",o="",i=0,a=!1;const s=n.length;for(;i<s&&!1===a;){const e=String.fromCharCode(n[i++]);"\n"===e||"\r"===e?(o.trim().toLowerCase().startsWith("data")&&(a=!0),o=""):o+=e,r+=e}const l=r.search(/[\r\n]DATA\s(\S*)\s/i),c=/[\r\n]DATA\s(\S*)\s/i.exec(r.slice(l-1));if(t.data=c[1],t.headerLen=c[0].length+l,t.str=r.slice(0,t.headerLen),t.str=t.str.replace(/#.*/gi,""),t.version=/^VERSION (.*)/im.exec(t.str),t.fields=/^FIELDS (.*)/im.exec(t.str),t.size=/^SIZE (.*)/im.exec(t.str),t.type=/^TYPE (.*)/im.exec(t.str),t.count=/^COUNT (.*)/im.exec(t.str),t.width=/^WIDTH (.*)/im.exec(t.str),t.height=/^HEIGHT (.*)/im.exec(t.str),t.viewpoint=/^VIEWPOINT (.*)/im.exec(t.str),t.points=/^POINTS (.*)/im.exec(t.str),null!==t.version&&(t.version=parseFloat(t.version[1])),t.fields=null!==t.fields?t.fields[1].split(" "):[],null!==t.type&&(t.type=t.type[1].split(" ")),null!==t.width&&(t.width=parseInt(t.width[1])),null!==t.height&&(t.height=parseInt(t.height[1])),null!==t.viewpoint&&(t.viewpoint=t.viewpoint[1]),null!==t.points&&(t.points=parseInt(t.points[1],10)),null===t.points&&(t.points=t.width*t.height),null!==t.size&&(t.size=t.size[1].split(" ").map(function(e){return parseInt(e,10)})),null!==t.count)t.count=t.count[1].split(" ").map(function(e){return parseInt(e,10)});else{t.count=[];for(let e=0,n=t.fields.length;e<n;e++)t.count.push(1)}t.offset={};let u=0;for(let e=0,n=t.fields.length;e<n;e++)"ascii"===t.data?t.offset[t.fields[e]]=e:(t.offset[t.fields[e]]=u,u+=t.size[e]*t.count[e]);return t.rowSize=u,t}(e),n=[],r=[],o=[],i=[],a=[],s=new Sse;if("ascii"===t.data){const l=t.offset,c=(new TextDecoder).decode(e).slice(t.headerLen).split("\n");for(let e=0,u=c.length;e<u;e++){if(""===c[e])continue;const u=c[e].split(" ");if(void 0!==l.x&&(n.push(parseFloat(u[l.x])),n.push(parseFloat(u[l.y])),n.push(parseFloat(u[l.z]))),void 0!==l.rgb){const e=t.fields.findIndex(e=>"rgb"===e),n=t.type[e],r=parseFloat(u[l.rgb]);let i=r;if("F"===n){const e=new Float32Array(1);e[0]=r,i=new Int32Array(e.buffer)[0]}const a=(i>>16&255)/255,c=(i>>8&255)/255,d=(255&i)/255;s.setRGB(a,c,d,tie),o.push(s.r,s.g,s.b)}void 0!==l.normal_x&&(r.push(parseFloat(u[l.normal_x])),r.push(parseFloat(u[l.normal_y])),r.push(parseFloat(u[l.normal_z]))),void 0!==l.intensity&&i.push(parseFloat(u[l.intensity])),void 0!==l.label&&a.push(parseInt(u[l.label]))}}if("binary_compressed"===t.data){const l=new Uint32Array(e.slice(t.headerLen,t.headerLen+8)),c=l[0],u=l[1],d=function(e,t){const n=e.length,r=new Uint8Array(t);let o,i,a,s=0,l=0;do{if(o=e[s++],o<32){if(o++,l+o>t)throw new Error("Output buffer is not large enough");if(s+o>n)throw new Error("Invalid compressed data");do{r[l++]=e[s++]}while(--o)}else{if(i=o>>5,a=l-((31&o)<<8)-1,s>=n)throw new Error("Invalid compressed data");if(7===i&&(i+=e[s++],s>=n))throw new Error("Invalid compressed data");if(a-=e[s++],l+i+2>t)throw new Error("Output buffer is not large enough");if(a<0)throw new Error("Invalid compressed data");if(a>=l)throw new Error("Invalid compressed data");do{r[l++]=r[a++]}while(2+--i)}}while(s<n);return r}(new Uint8Array(e,t.headerLen+8,c),u),h=new DataView(d.buffer),f=t.offset;for(let e=0;e<t.points;e++){if(void 0!==f.x){const r=t.fields.indexOf("x"),o=t.fields.indexOf("y"),i=t.fields.indexOf("z");n.push(this._getDataView(h,t.points*f.x+t.size[r]*e,t.type[r],t.size[r])),n.push(this._getDataView(h,t.points*f.y+t.size[o]*e,t.type[o],t.size[o])),n.push(this._getDataView(h,t.points*f.z+t.size[i]*e,t.type[i],t.size[i]))}if(void 0!==f.rgb){const n=t.fields.indexOf("rgb"),r=h.getUint8(t.points*f.rgb+t.size[n]*e+2)/255,i=h.getUint8(t.points*f.rgb+t.size[n]*e+1)/255,a=h.getUint8(t.points*f.rgb+t.size[n]*e+0)/255;s.setRGB(r,i,a,tie),o.push(s.r,s.g,s.b)}if(void 0!==f.normal_x){const n=t.fields.indexOf("normal_x"),o=t.fields.indexOf("normal_y"),i=t.fields.indexOf("normal_z");r.push(this._getDataView(h,t.points*f.normal_x+t.size[n]*e,t.type[n],t.size[n])),r.push(this._getDataView(h,t.points*f.normal_y+t.size[o]*e,t.type[o],t.size[o])),r.push(this._getDataView(h,t.points*f.normal_z+t.size[i]*e,t.type[i],t.size[i]))}if(void 0!==f.intensity){const n=t.fields.indexOf("intensity");i.push(this._getDataView(h,t.points*f.intensity+t.size[n]*e,t.type[n],t.size[n]))}if(void 0!==f.label){const n=t.fields.indexOf("label");a.push(h.getInt32(t.points*f.label+t.size[n]*e,this.littleEndian))}}}if("binary"===t.data){const l=new DataView(e,t.headerLen),c=t.offset;for(let e=0,u=0;e<t.points;e++,u+=t.rowSize){if(void 0!==c.x){const e=t.fields.indexOf("x"),r=t.fields.indexOf("y"),o=t.fields.indexOf("z");n.push(this._getDataView(l,u+c.x,t.type[e],t.size[e])),n.push(this._getDataView(l,u+c.y,t.type[r],t.size[r])),n.push(this._getDataView(l,u+c.z,t.type[o],t.size[o]))}if(void 0!==c.rgb){const e=l.getUint8(u+c.rgb+2)/255,t=l.getUint8(u+c.rgb+1)/255,n=l.getUint8(u+c.rgb+0)/255;s.setRGB(e,t,n,tie),o.push(s.r,s.g,s.b)}if(void 0!==c.normal_x){const e=t.fields.indexOf("normal_x"),n=t.fields.indexOf("normal_y"),o=t.fields.indexOf("normal_z");r.push(this._getDataView(l,u+c.normal_x,t.type[e],t.size[e])),r.push(this._getDataView(l,u+c.normal_y,t.type[n],t.size[n])),r.push(this._getDataView(l,u+c.normal_z,t.type[o],t.size[o]))}if(void 0!==c.intensity){const e=t.fields.indexOf("intensity");i.push(this._getDataView(l,u+c.intensity,t.type[e],t.size[e]))}void 0!==c.label&&a.push(l.getInt32(u+c.label,this.littleEndian))}}const l=new Hse;n.length>0&&l.setAttribute("position",new Ise(n,3)),r.length>0&&l.setAttribute("normal",new Ise(r,3)),o.length>0&&l.setAttribute("color",new Ise(o,3)),i.length>0&&l.setAttribute("intensity",new Ise(i,1)),a.length>0&&l.setAttribute("label",new $se(a,1)),l.computeBoundingSphere();const c=new Ule({size:.005});return o.length>0&&(c.vertexColors=!0),new Gle(l,c)}}var Nhe=n(1843),Ihe={};function Dhe(e){return Dhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dhe(e)}function Lhe(e,t,n){if(jhe())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&zhe(o,n.prototype),o}function zhe(e,t){return zhe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zhe(e,t)}function jhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jhe=function(){return!!e})()}function Bhe(e){return function(e){if(Array.isArray(e))return qhe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xhe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fhe(Object(n),!0).forEach(function(t){Hhe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fhe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hhe(e,t,n){return(t=function(e){var t=function(e){if("object"!=Dhe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dhe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dhe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qhe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Vhe(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Vhe(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Vhe(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Vhe(d,"constructor",c),Vhe(c,"constructor",l),l.displayName="GeneratorFunction",Vhe(c,o,"GeneratorFunction"),Vhe(d),Vhe(d,o,"Generator"),Vhe(d,r,function(){return this}),Vhe(d,"toString",function(){return"[object Generator]"}),(Qhe=function(){return{w:i,m:h}})()}function Vhe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Vhe=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){Vhe(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},Vhe(e,t,n,r)}function Whe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ghe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Xhe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xhe(e,t){if(e){if("string"==typeof e)return qhe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qhe(e,t):void 0}}function qhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Ihe.styleTagTransform=Wg(),Ihe.setAttributes=Ug(),Ihe.insert=Bg().bind(null,"head"),Ihe.domAPI=zg(),Ihe.insertStyleElement=Qg(),Dg()(Nhe.A,Ihe),Nhe.A&&Nhe.A.locals&&Nhe.A.locals;var Zhe=window.require("fs"),Yhe=(window.require("path"),YO.Option);const Khe=function(){var e=Ghe((0,o.useState)(null),2),t=e[0],n=e[1],r=Ghe((0,o.useState)([{id:100,name:"道路线",visible:!0,type:"line",isLane:!0},{id:1,name:"车道线",visible:!0,type:"line"},{id:2,name:"停车区",visible:!0,type:"polygon"},{id:3,name:"路口",visible:!0,type:"point"}]),2),i=r[0],a=r[1],s=Ghe((0,o.useState)(null),2),l=s[0],c=(s[1],Ghe((0,o.useState)(300),2)),u=c[0],d=c[1],h=Ghe((0,o.useState)(!1),2),f=h[0],p=h[1],m=Ghe((0,o.useState)(!1),2),g=m[0],v=m[1],b=Ghe((0,o.useState)([]),2),y=b[0],x=b[1],O=Ghe((0,o.useState)([]),2),w=O[0],S=O[1],E=Ghe((0,o.useState)(null),2),_=E[0],C=E[1],M=Ghe((0,o.useState)(null),2),T=M[0],P=M[1],R=(0,o.useRef)([]),A=(0,o.useRef)(null),$=(0,o.useRef)([]),N=((0,o.useRef)([]),Ghe((0,o.useState)(!1),2)),I=(N[0],N[1]),D=(0,o.useRef)(null),L=Ghe(CM.useForm(),1)[0],z=(0,o.useRef)(null),j=(0,o.useRef)(null),B=(0,o.useRef)(null),F=(0,o.useRef)(null),U=(0,o.useRef)(null);(0,o.useEffect)(function(){R.current=y},[y]),(0,o.useEffect)(function(){A.current=_},[_]),(0,o.useEffect)(function(){$.current=w},[w]),(0,o.useEffect)(function(){if(D.current){var e=new Ole;e.background=new Sse(1710618),z.current=e;var t=new fle(75,D.current.clientWidth/D.current.clientHeight,.1,1e3);t.position.set(0,0,20),t.up.set(0,1,0),t.lookAt(0,0,0),j.current=t;var n=new che({canvas:D.current});n.setSize(D.current.clientWidth,D.current.clientHeight),B.current=n;var r=new xhe(t,n.domElement);r.enableDamping=!0,r.dampingFactor=.05,r.screenSpacePanning=!0,r.minDistance=1,r.maxDistance=50,r.maxPolarAngle=Math.PI/2,r.enableRotate=!1,r.enableZoom=!0,r.enablePan=!0,F.current=r;var o=null;r.addEventListener("change",function(){o&&cancelAnimationFrame(o),o=requestAnimationFrame(function(){console.log("相机移动，触发重绘"),W()})});var i=new Cce(10,10);i.rotation.x=Math.PI/2,e.add(i);var a=new kce(10);e.add(a);var s=function(){requestAnimationFrame(s),r.update(),n.render(e,t)};s();var l=function(){if(D.current){var e=D.current.clientWidth,r=D.current.clientHeight;t.aspect=e/r,t.updateProjectionMatrix(),n.setSize(e,r)}};return window.addEventListener("resize",l),function(){window.removeEventListener("resize",l),r.removeEventListener("change",function(){}),n.dispose()}}},[]);var H=[{key:"import",icon:o.createElement(t3,null),tooltip:"导入PCD文件"},{key:"line",icon:o.createElement(ore,null),tooltip:"画线工具"},{key:"polygon",icon:o.createElement(sre,null),tooltip:"画多边形工具"},{key:"point",icon:o.createElement(ure,null),tooltip:"添加点工具"},{key:"delete",icon:o.createElement(xne,null),tooltip:"删除工具"},{key:"undo",icon:o.createElement(fre,null),tooltip:"撤销工具"}],Q=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Whe(i,r,o,a,s,"next",e)}function s(e){Whe(i,r,o,a,s,"throw",e)}a(void 0)})}}(Qhe().m(function e(){var t,n;return Qhe().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,y_().selectFile({title:"选择PCD文件",filters:[{name:"PCD文件",extensions:["pcd"]}]});case 1:(t=e.v).success&&(console.log(t.filePath),V(t.filePath)),e.n=3;break;case 2:e.p=2,n=e.v,Pv.error("文件导入失败"),console.error("导入PCD文件失败:",n);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),V=function(e){try{var t=Zhe.readFileSync(e),n=(new $he).parse(t,e);if(!(n&&n.geometry&&n.geometry.attributes&&n.geometry.attributes.position))throw new Error("点云数据格式不正确");if(console.log("点云数据:",n),console.log("点云属性:",n.geometry.attributes),z.current){var r=z.current.getObjectByName("pointCloud");r&&z.current.remove(r)}for(var o=n.geometry.attributes.position.array,i=n.geometry.attributes.color?n.geometry.attributes.color.array:null,a=[],s=[],l=0;l<o.length;l+=3){var c=o[l],u=o[l+1],d=o[l+2];d>=0&&d<=5&&(a.push(c,u,d),i&&s.push(i[l],i[l+1],i[l+2]))}if(console.log("过滤后的点云数据:",{originalPoints:o.length/3,filteredPoints:a.length/3}),0===a.length)return void Pv.error("过滤后没有可用的点云数据");for(var h=-1/0,f=1;f<a.length;f+=3)a[f]>h&&(h=a[f]);var p=new Hse;p.setAttribute("position",new Ise(a,3)),s.length>0&&p.setAttribute("color",new Ise(s,3));var m=new Ule({size:.1,color:16777215,sizeAttenuation:!0,transparent:!0,opacity:.8}),g=new Gle(p,m);g.name="pointCloud",g.position.y=-h,z.current.add(g);var v=(new oae).setFromObject(g),b=(v.getCenter(new Tie),v.getSize(new Tie));Math.max(b.x,b.y,b.z),Pv.success("点云文件加载成功")}catch(e){Pv.error("点云文件加载失败"),console.error("加载PCD文件失败:",e),console.error("错误堆栈:",e.stack),Pv.error("点云文件加载失败")}};(0,o.useEffect)(function(){if(D.current&&U.current){var e=function(){var e=D.current.clientWidth,t=D.current.clientHeight;U.current.width=e,U.current.height=t;var n=U.current.getContext("2d",{alpha:!0});n.lineCap="round",n.lineJoin="round",n.strokeStyle="#ffff00",n.lineWidth=3,n.clearRect(0,0,e,t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}},[]);var W=function(){if(U.current&&j.current){console.log("开始重绘"),console.log("当前多边形点数:",R.current.length),console.log("已完成的区域数:",$.current.length),console.log("polygons 数据:",JSON.stringify($.current));var e=U.current.getContext("2d",{alpha:!0}),t=U.current.width,n=U.current.height;if(e.clearRect(0,0,t,n),e.lineCap="round",e.lineJoin="round",e.strokeStyle="#ffff00",e.lineWidth=3,R.current.length>0){console.log("绘制当前线"),e.beginPath();var r=G(Lhe(Tie,Bhe(R.current[0])),j.current,t,n);if(console.log("起点坐标:",r),e.moveTo(r.x,r.y),R.current.slice(1).forEach(function(r,o){var i=G(Lhe(Tie,Bhe(r)),j.current,t,n);console.log("第".concat(o+1,"个点坐标:"),i),e.lineTo(i.x,i.y)}),A.current){var o=G(Lhe(Tie,Bhe(A.current)),j.current,t,n);console.log("预览点坐标:",o),e.lineTo(o.x,o.y)}e.stroke()}$.current&&$.current.length>0&&(console.log("开始绘制已完成的区域"),$.current.forEach(function(r,o){if(r&&r.length>2){console.log("绘制第".concat(o+1,"个区域")),e.beginPath();var i=G(Lhe(Tie,Bhe(r[0])),j.current,t,n);console.log("区域起点坐标:",i),e.moveTo(i.x,i.y),r.slice(1).forEach(function(r,o){var i=G(Lhe(Tie,Bhe(r)),j.current,t,n);console.log("区域第".concat(o+1,"个点坐标:"),i),e.lineTo(i.x,i.y)}),e.closePath(),e.fillStyle="rgba(0, 191, 174, 0.3)",e.fill(),e.beginPath(),e.moveTo(i.x,i.y),r.slice(1).forEach(function(r){var o=G(Lhe(Tie,Bhe(r)),j.current,t,n);e.lineTo(o.x,o.y)}),e.closePath(),e.stroke()}})),console.log("重绘完成")}else console.log("绘制失败：canvas 或 camera 不存在")};function G(e,t,n,r){var o=(e instanceof Tie?e:Lhe(Tie,Bhe(e))).clone().project(t);return{x:(o.x+1)/2*n,y:(1-o.y)/2*r}}return(0,o.useEffect)(function(){console.log("状态变化，触发重绘"),W()},[w,y,_]),(0,o.useEffect)(function(){if("line"===t&&U.current){var e=U.current,n=function(t){var n=e.getBoundingClientRect(),r=(t.clientX-n.left)/n.width*2-1,o=-(t.clientY-n.top)/n.height*2+1,i=new Tie(r,o,.5);if(i.unproject(j.current),0===y.length)return P([i.x,i.y,i.z]),void x([[i.x,i.y,i.z]]);if(T){var a=Ghe(T,3),s=a[0],l=a[1],c=a[2],u=Math.sqrt(Math.pow(i.x-s,2)+Math.pow(i.y-l,2)+Math.pow(i.z-c,2));if(console.log("dist",u),u<.01)return console.log("闭合"),S(function(e){return[].concat(Bhe(e),[[].concat(Bhe(y),[T])])}),x([]),I(!1),P(null),void C(null)}x(function(e){return[].concat(Bhe(e),[[i.x,i.y,i.z]])})},r=function(t){if(0!==y.length){var n=e.getBoundingClientRect(),r=(t.clientX-n.left)/n.width*2-1,o=-(t.clientY-n.top)/n.height*2+1,i=new Tie(r,o,.5);i.unproject(j.current),C([i.x,i.y,i.z])}},o=function(e){"Escape"===e.key&&(x([]),I(!1),v(!1),P(null),C(null))},i=function(e){e.preventDefault(),x(function(e){return e.length>0?e.slice(0,-1):e})};return e.addEventListener("click",n),e.addEventListener("mousemove",r),window.addEventListener("keydown",o),e.addEventListener("contextmenu",i),v(!0),function(){e.removeEventListener("click",n),e.removeEventListener("mousemove",r),window.removeEventListener("keydown",o),e.removeEventListener("contextmenu",i),v(!1)}}},[t,y,T]),(0,o.useEffect)(function(){F.current&&(F.current.enabled="line"!==t)},[t]),o.createElement("div",{className:"map-editor"},o.createElement("div",{className:"map-editor-toolbar-wrapper"},o.createElement("div",{className:"map-editor-toolbar"},H.map(function(e){return o.createElement(tg,{key:e.key,title:e.tooltip},o.createElement(Hl,{type:t===e.key?"primary":"default",icon:e.icon,onClick:function(){return function(e){"import"===e?Q():"line"===e&&g?(x([]),I(!1),v(!1),n(null),P(null),C(null)):n(e)}(e.key)}}))}))),o.createElement("div",{className:"map-editor-canvas",style:{position:"relative",width:"100%",height:"100%"}},o.createElement("canvas",{ref:D,style:{position:"absolute",left:0,top:0,zIndex:1,width:"100%",height:"100%"}}),o.createElement("canvas",{ref:U,style:{position:"absolute",left:0,top:0,zIndex:10,width:"100%",height:"100%",pointerEvents:"line"===t?"auto":"none",touchAction:"none",backgroundColor:"rgba(255, 0, 0, 0.1)"}}),o.createElement(Hl,{className:"map-editor-layers-toggle",type:"primary",icon:o.createElement(gre,null),onClick:function(){return p(!f)}})),o.createElement(k,{size:{width:u,height:"100%"},onResizeStop:function(e,t,n,r){d(u-r.width)},minWidth:200,maxWidth:500,enable:{left:!0},className:"map-editor-properties-wrapper"},o.createElement("div",{className:"map-editor-properties"},f?o.createElement(o.Fragment,null,o.createElement("div",{className:"map-editor-layers-header"},o.createElement("h3",null,"图层列表"),o.createElement(Hl,{type:"text",icon:o.createElement(Kl,null),onClick:function(){return p(!1)}})),o.createElement("div",{className:"map-editor-layers-content"},i.map(function(e){return o.createElement("div",{key:e.id,className:"layer-item"},o.createElement(mT,{checked:e.visible,onChange:function(){return t=e.id,void a(i.map(function(e){return e.id===t?Uhe(Uhe({},e),{},{visible:!e.visible}):e}));var t},checkedChildren:o.createElement(zb,null),unCheckedChildren:o.createElement(Ib,null)}),o.createElement("span",null,e.name))}))):o.createElement(o.Fragment,null,o.createElement("h3",null,"属性面板"),l&&o.createElement(CM,{form:L,layout:"vertical",onValuesChange:function(e){l&&Uhe(Uhe({},l),{},{properties:e})}},o.createElement(CM.Item,{label:"ID",name:"id"},o.createElement(ly,{disabled:!0})),o.createElement(CM.Item,{label:"类型",name:"type"},o.createElement(YO,null,o.createElement(Yhe,{value:"line"},"车道线"),o.createElement(Yhe,{value:"polygon"},"停车区"),o.createElement(Yhe,{value:"point"},"路口"))),o.createElement(CM.Item,{label:"限速",name:"speedLimit"},o.createElement(ly,{type:"number"})),o.createElement(CM.Item,{label:"方向",name:"direction"},o.createElement(YO,null,o.createElement(Yhe,{value:"forward"},"正向"),o.createElement(Yhe,{value:"backward"},"反向"),o.createElement(Yhe,{value:"both"},"双向"))))))))};function Jhe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return efe(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(efe(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,efe(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,efe(d,"constructor",c),efe(c,"constructor",l),l.displayName="GeneratorFunction",efe(c,o,"GeneratorFunction"),efe(d),efe(d,o,"Generator"),efe(d,r,function(){return this}),efe(d,"toString",function(){return"[object Generator]"}),(Jhe=function(){return{w:i,m:h}})()}function efe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}efe=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){efe(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},efe(e,t,n,r)}function tfe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nfe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}window.__REACT_DEVTOOLS_GLOBAL_HOOK__={isDisabled:!0,supportsFiber:!0,inject:function(){},onCommitFiberRoot:function(){},onCommitFiberUnmount:function(){}};var rfe=window.require("electron").ipcRenderer;const ofe=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tfe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tfe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(null),2),t=e[0],n=e[1],r=(0,o.useRef)(!1);return(0,o.useEffect)(function(){if(window.__versionChecked||(window.__versionChecked=!0,rfe.invoke("get-sys-info").then(function(e){console.log(e)})),!r.current){r.current=!0;var e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){nfe(i,r,o,a,s,"next",e)}function s(e){nfe(i,r,o,a,s,"throw",e)}a(void 0)})}}(Jhe().m(function e(){var t,r,i,a,s,l,c;return Jhe().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,rfe.invoke("get-window-params");case 1:if(t=e.v,r=t.page,i=t.params,console.log("获取到的 page:",r),console.log("获取到的 params:",i),window.isMainWindow=""==r?1:0,"show_topic"===r?(a=i.topic,n(o.createElement(tre,{topic:a}))):n("map_editor"===r?o.createElement(Khe,null):o.createElement(Qne,null)),!window.isMainWindow){e.n=5;break}return rfe.removeAllListeners("get-config"),rfe.on("get-config",function(e,t){var n=v_.A.get(t);e.sender.send("get-config-reply",n)}),e.p=2,s=v_.A.get("server")||{port:2200,host:"localhost"},e.n=3,rfe.invoke("start-server",s);case 3:console.log("服务器启动成功"),e.n=5;break;case 4:e.p=4,l=e.v,console.error("启动服务器失败:",l),Pv.error("启动服务器失败");case 5:e.n=7;break;case 6:e.p=6,c=e.v,console.error("获取窗口参数失败:",c),n(o.createElement(Qne,null));case 7:return e.a(2)}},e,null,[[2,4],[0,6]])}));return function(){return e.apply(this,arguments)}}();return e(),function(){window.isMainWindow&&rfe.invoke("stop-server").catch(function(e){console.error("停止服务器失败:",e)})}}},[]),t?o.createElement("div",{className:"App"},t):null}},4885:e=>{"use strict";e.exports="data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23888%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e"},4891:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".file-editor-modal .ant-modal-content {\n  background-color: #363636 !important;\n  color: #e0e0e0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-editor-modal .ant-modal-title {\n  color: #e0e0e0;\n  font-size: 14px;\n  font-weight: 500;\n  padding: 0;\n  background: transparent;\n}\n\n.file-editor-modal .ant-modal-header {\n  background: #2A2A2C !important;\n}\n\n.file-editor-modal .ant-modal-close {\n  color: #e0e0e0;\n}\n\n.file-editor-modal .ant-modal-close:hover {\n  color: #fff;\n  background-color: #333;\n}\n\n.file-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #1e1e1e;\n}\n\n.file-editor-toolbar {\n  padding: 8px 16px;\n  background-color: #252526;\n  border-bottom: 1px solid #333;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.save-button {\n  padding: 4px 12px;\n  background-color: #2d2d2d;\n  border: 1px solid #444;\n  color: #e0e0e0;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 13px;\n  transition: all 0.2s;\n}\n\n.save-button:hover:not(:disabled) {\n  background-color: #3d3d3d;\n  border-color: #555;\n}\n\n.save-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.save-button.modified {\n  background-color: #1976d2;\n  border-color: #1976d2;\n  color: #fff;\n}\n\n.save-button.modified:hover:not(:disabled) {\n  background-color: #1565c0;\n  border-color: #1565c0;\n}\n\n.file-editor-content {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n}\n\n.file-editor-title-bar {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  background: transparent;\n}\n\n.file-editor-title {\n  font-size: 15px;\n  font-weight: 500;\n  color: #e0e0e0;\n  margin-right: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n} ",""]);const s=a},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4894:(e,t,n)=>{var r=n(1882),o=n(294);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4901:(e,t,n)=>{var r=n(2552),o=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},4918:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};if(Object.defineProperty(t,"__esModule",{value:!0}),"browser"===process.type)throw new Error('"@electron/remote" cannot be required in the browser process. Instead require("@electron/remote/main").');o(n(2246),t)},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5015:(e,t,n)=>{var r=n(2552),o=n(6449),i=n(346);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var h=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},5083:(e,t,n)=>{var r=n(1882),o=n(7296),i=n(3805),a=n(7473),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},5128:(e,t,n)=>{var r=n(909),o=n(4894);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},5179:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".main-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: #1e1e1e;\n}\n\n.react-flow {\n  background: #1e1e1e !important;\n  padding: 0 !important;\n}\n\n.react-flow__attribution {\n  display: none !important;\n}\n\n.react-flow__minimap {\n  background-color: #2d2d2d;\n  border-radius: 4px;\n  border: 1px solid #444;\n}\n\n.react-flow__minimap-mask {\n  fill: rgba(0, 0, 0, 0.1);\n}\n\n.react-flow__minimap-node {\n  fill: #2d2d2d;\n  stroke: #555;\n}\n\n.react-flow__node {\n  border-radius: 3px;\n  border: 1px solid #555;\n  padding: 10px;\n  color: #fff;\n  font-size: 12px;\n  background-color: #2d2d2d;\n}\n\n.react-flow__node-input {\n  background-color: #2d2d2d;\n}\n\n.react-flow__controls {\n  background: #2d2d2d;\n  border-radius: 4px;\n  border: 1px solid #444;\n}\n\n.react-flow__controls button {\n  background: #2d2d2d;\n  border: none;\n  border-bottom: 1px solid #444;\n  color: #fff;\n}\n\n.react-flow__controls button:hover {\n  background: #3d3d3d;\n}\n\n.react-flow__background {\n  background-color: #1e1e1e;\n}\n\n.react-flow__handle {\n  width: 10px !important;\n  height: 10px !important;\n  background: #666 !important;\n  border: 2px solid #444 !important;\n  transition: all 0.2s ease !important;\n  top: 50% !important;\n  transform: translateY(-50%) !important;\n  margin: 0 !important;\n  z-index: 10 !important;\n}\n\n.react-flow__handle:hover {\n  background: #888;\n}\n\n/* 自定义按钮样式 */\n.custom-button {\n  background: #2d2d2d;\n  border: none;\n  border-bottom: 1px solid #444;\n  color: #fff;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.custom-button:hover {\n  background: #3d3d3d;\n}\n\n/* 确保按钮在panel中的位置正确 */\n.react-flow__panel .custom-button {\n  margin-left: 4px;\n}\n\n.react-flow__container {\n  width: 100%;\n  height: 100%;\n}\n\n/* 节点列表模态框样式 */\n.node-list-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.node-list-content {\n  background: #2d2d2d;\n  border-radius: 4px;\n  padding: 20px;\n  min-width: 300px;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.node-list-content h3 {\n  margin: 0 0 20px 0;\n  color: #fff;\n}\n\n.node-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 10px;\n  margin-bottom: 20px;\n}\n\n.node-item {\n  background: #3d3d3d;\n  border: 1px solid #555;\n  border-radius: 4px;\n  padding: 10px;\n  color: #fff;\n  cursor: pointer;\n  text-align: center;\n  transition: background-color 0.2s;\n}\n\n.node-item:hover {\n  background: #4d4d4d;\n}\n\n.node-list-content button {\n  background: #3d3d3d;\n  border: 1px solid #555;\n  border-radius: 4px;\n  padding: 8px 16px;\n  color: #fff;\n  cursor: pointer;\n  width: 100%;\n}\n\n.node-list-content button:hover {\n  background: #4d4d4d;\n}\n\n.toolbar {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 5;\n  background: #2d2d2d;\n  border-radius: 4px;\n  padding: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.add-node-button {\n  background: #2d2d2d;\n  border: 1px solid #444;\n  border-radius: 4px;\n  color: #fff;\n  padding: 8px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  transition: all 0.2s ease;\n}\n\n.add-node-button:hover {\n  background: #3d3d3d;\n  border-color: #555;\n}\n\n.node-type {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n/* 自定义节点样式 */\n.custom-node {\n  background: #2d2d2d;\n  border: 1px solid #444;\n  border-radius: 4px;\n  padding: 10px;\n  color: #fff;\n  position: relative;\n  display: inline-block;\n  min-width: 180px;\n  width: auto;\n  box-sizing: border-box;\n  transition: all 0.3s ease;\n}\n\n.custom-node.running {\n  border: 2px solid #00ff00;\n  box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);\n  animation: pulse 1.5s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(0, 255, 0, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(0, 255, 0, 0);\n  }\n}\n\n.node-title {\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 10px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #444;\n  text-align: center;\n}\n\n.node-content {\n  display: flex;\n  align-items: stretch;\n  width: 100%;\n}\n\n.node-inputs, .node-outputs {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 5px;\n  min-width: 0;\n  flex: 0 1 auto;\n}\n\n.divider {\n  width: 1px;\n  background: #444;\n  margin: 0 8px;\n}\n\n.port {\n  display: flex;\n  align-items: center;\n  margin: 4px 0;\n  position: relative;\n}\n\n.port-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background: rgba(255, 255, 255, 0.05);\n  transition: all 0.2s ease;\n  flex: 1;\n  justify-content: space-between;\n  min-width: 0;\n}\n\n.port-main {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 0;\n}\n\n.port-label:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.port-name {\n  max-width: none;\n  overflow: visible;\n  text-overflow: unset;\n  white-space: normal;\n  word-break: break-all;\n  display: inline-block;\n}\n\n.port-type {\n  font-size: 11px;\n  color: #888;\n  padding: 2px 6px;\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n}\n\n.port-info {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.port-default-value {\n  font-size: 11px;\n  color: #4caf50;\n  padding: 2px 6px;\n  background: rgba(76, 175, 80, 0.1);\n  border-radius: 3px;\n  border: 1px solid rgba(76, 175, 80, 0.2);\n}\n\n/* 输入端口样式 */\n.node-inputs .port-label::before {\n  content: '';\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 6px;\n  border-color: transparent transparent transparent #666;\n  margin-right: 4px;\n}\n\n/* 输出端口样式 */\n.node-outputs .port-label::after {\n  content: '';\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px 0 4px 6px;\n  border-color: transparent transparent transparent #666;\n  margin-left: 4px;\n}\n\n.node-inputs .react-flow__handle{\n  left: -4px !important;\n}\n\n.node-delete-btn {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  background: rgba(30,30,30,0.9);\n  border: none;\n  border-radius: 4px;\n  padding: 2px 2px 0 2px;\n  cursor: pointer;\n  z-index: 10;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n  transition: background 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.node-delete-btn:hover {\n  background: #d32f2f;\n}\n\n.node-delete-btn svg {\n  display: block;\n}\n\n.custom-node-wrapper {\n  position: relative;\n  z-index: 1;\n}\n\n.node-toolbar-floating {\n  position: absolute;\n  left: 50%;\n  top: -30px;\n  transform: translateX(-50%);\n  background: #474847;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.18);\n  padding: 4px 8px;\n  display: flex;\n  gap: 6px;\n  z-index: 10;\n  pointer-events: auto;\n}\n\n.node-toolbar-btn {\n  background: transparent;\n  border: none;\n  border-radius: 4px;\n  padding: 4px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.node-toolbar-btn svg {\n  width: 16px;\n  height: 16px;\n  transition: transform 0.2s;\n}\n\n.node-toolbar-btn:hover svg {\n  transform: scale(1.1);\n}\n\n.node-toolbar-btn:hover {\n  background: #222;\n}\n\n.node-toolbar-btn:last-child:hover {\n  background: #d32f2f;\n}\n\n.node-description-tip {\n  position: absolute;\n  left: 50%;\n  top: 100%;          /* 改为 100%，使其显示在标题下方 */\n  transform: translateX(-50%);\n  background: #232323;\n  color: #fff;\n  padding: 6px 16px;\n  border-radius: 6px;\n  font-size: 13px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.18);\n  white-space: pre-line;\n  z-index: 20;\n  pointer-events: none;\n  width: 100%;\n  opacity: 0.96;\n  transition: opacity 0.2s;\n  margin-top: 8px;     /* 添加顶部间距 */\n}\n\n.node-description-tip::before {\n  content: '';\n  position: absolute;\n  left: 50%;\n  top: -8px;          /* 添加小三角形指示器 */\n  transform: translateX(-50%);\n  border-width: 0 8px 8px 8px;\n  border-style: solid;\n  border-color: transparent transparent #232323 transparent;\n}\n\n.port-tip {\n  background: #232323;\n  color: #fff;\n  padding: 6px 16px;\n  border-radius: 6px;\n  font-size: 13px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.18);\n  white-space: pre-line;\n  z-index: 100;\n  pointer-events: none;\n  opacity: 0.96;\n  transition: opacity 0.2s;\n  position: fixed;\n}\n.port-tip-left {\n  margin-left: -16px;\n}\n.port-tip-right {\n  margin-left: 16px;\n}\n.port-tip-left::after {\n  content: '';\n  position: absolute;\n  right: -8px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 6px 0 6px 8px;\n  border-style: solid;\n  border-color: transparent transparent transparent #232323;\n}\n.port-tip-right::after {\n  content: '';\n  position: absolute;\n  left: -8px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 6px 8px 6px 0;\n  border-style: solid;\n  border-color: transparent #232323 transparent transparent;\n}\n\n.port-tip-inline {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 20;\n  min-width: 120px;\n}\n.port-tip-left.port-tip-inline {\n  right: 100%;\n  margin-right: 10px;\n}\n.port-tip-right.port-tip-inline {\n  left: 100%;\n  margin-left: 10px;\n}\n\n.port-tip-title {\n  min-width: 120px;\n  text-align: center;\n}\n.port-tip-title::after {\n  content: '';\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translateX(-50%) translateY(-100%);\n  border-width: 0 8px 8px 8px;\n  border-style: solid;\n  border-color: transparent transparent #232323 transparent;\n}\n\n.execute-button {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  padding: 10px 20px;\n  background-color: #4a90e2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n  z-index: 1000;\n}\n\n.execute-button:hover {\n  background-color: #357abd;\n}\n\n.execute-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n/* 右键菜单和边的样式 */\n.main-content .ant-menu {\n  background: #2d2d2d !important;\n  border: 1px solid #444 !important;\n  border-radius: 4px !important;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.15) !important;\n}\n\n.main-content .ant-menu-item {\n  color: #fff !important;\n  background: #2d2d2d !important;\n  height: 32px !important;\n  line-height: 32px !important;\n  padding: 0 12px !important;\n}\n\n.main-content .ant-menu-item:hover {\n  background: #3d3d3d !important;\n}\n\n.react-flow__edge {\n  cursor: pointer;\n}\n\n.react-flow__edge:hover {\n  stroke: #888;\n}\n\n/* 顶部工具栏样式 */\n.top-toolbar {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #2d2d2d;\n  border-radius: 0 0 8px 8px;\n  padding: 5px 10px 8px 10px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  z-index: 1000;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  flex-direction: column;\n}\n\n.top-toolbar.collapsed {\n  padding: 6px;\n  height: 30px;\n  overflow: hidden;\n  cursor: pointer;\n}\n\n.toolbar-toggle {\n  background: transparent;\n  border: none;\n  color: #fff;\n  width: 24px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  padding: 0;\n  border-radius: 4px;\n  margin-bottom: 2px;\n}\n\n.toolbar-toggle:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.toolbar-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n.toolbar-button {\n  background: #3d3d3d;\n  border: 1px solid #555;\n  color: #fff;\n  width: 25px;\n  height: 23px;\n  padding: 3px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.toolbar-button:hover {\n  background: #4d4d4d;\n}\n\n.toolbar-button.primary {\n  background: #1976d2;\n  border-color: #1976d2;\n}\n\n.toolbar-button.primary:hover {\n  background: #1565c0;\n}\n\n.toolbar-button.danger {\n  background: #d32f2f;\n  border-color: #d32f2f;\n}\n\n.toolbar-button.danger:hover {\n  background: #c62828;\n}\n\n.toolbar-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.toolbar-button svg {\n  width: 20px;\n  height: 20px;\n}\n\n/* 暗色主题 Modal 样式 */\n.dark-modal .ant-modal-content {\n  background-color: #2d2d2d !important;\n  border: 1px solid #444 !important;\n}\n\n.dark-modal .ant-modal-header {\n  background-color: #2d2d2d !important;\n  border-bottom: 1px solid #444 !important;\n}\n\n.dark-modal .ant-modal-title {\n  color: #fff !important;\n}\n\n.dark-modal .ant-modal-close {\n  color: #888 !important;\n}\n\n.dark-modal .ant-modal-close:hover {\n  color: #fff !important;\n  background-color: rgba(255, 255, 255, 0.1) !important;\n}\n\n.dark-modal .ant-modal-body {\n  color: #fff !important;\n}\n\n.dark-modal .ant-modal-footer {\n  background-color: #2d2d2d !important;\n  border-top: 1px solid #444 !important;\n}\n\n.dark-modal .ant-btn {\n  background-color: #363636 !important;\n  border: 1px solid #444 !important;\n  color: #fff !important;\n}\n\n.dark-modal .ant-btn:hover {\n  background-color: #404040 !important;\n  border-color: #555 !important;\n}\n\n.dark-modal .ant-btn-primary {\n  background-color: #1976d2 !important;\n  border-color: #1976d2 !important;\n}\n\n.dark-modal .ant-btn-primary:hover {\n  background-color: #1565c0 !important;\n  border-color: #1565c0 !important;\n}\n\n.dark-modal .ant-input {\n  background-color: #363636 !important;\n  border: 1px solid #444 !important;\n  color: #fff !important;\n}\n\n.dark-modal .ant-input:hover {\n  border-color: #555 !important;\n}\n\n.dark-modal .ant-input:focus {\n  border-color: #1976d2 !important;\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2) !important;\n}\n\n.dark-modal .ant-input::placeholder {\n  color: #888 !important;\n}\n\n.dark-modal .ant-modal-confirm-title {\n  color: #fff !important;\n}\n\n.dark-modal .ant-modal-confirm-content {\n  color: #ccc !important;\n}\n\n.dark-modal .ant-modal-confirm-btns {\n  margin-top: 24px !important;\n}\n\n.dark-modal .ant-modal-confirm-btns .ant-btn {\n  margin-left: 8px !important;\n} \n\n",""]);const s=a},5268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(6540))&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,s,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return s=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return i.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},i.default.createElement(e,o({},l.props,l.state)))},a(l,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(i.default.Component)};t.default=s},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,m(x,v.prototype),x.isPureReactComponent=!0;var O=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+M(l,0):i,O(a)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),T(a,t,o,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",O(e))for(var c=0;c<e.length;c++){var u=i+M(s=e[c],c);l+=T(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,u=i+M(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},$={transition:null},N={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:$,ReactCurrentOwner:S};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=y,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5317:e=>{"use strict";e.exports=require("child_process")},5338:(e,t,n)=>{"use strict";var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},5345:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".env-manager-modal .ant-modal-content {\n  background: #232323;\n  border-radius: 10px;\n  border: 1px solid #444;\n  color: #e0e0e0;\n  box-shadow: 0 4px 24px rgba(0,0,0,0.25);\n}\n.env-manager-modal .ant-modal-header {\n  background: #232323;\n  border-bottom: 1px solid #444;\n  padding-bottom: 10px;\n  margin-bottom: 0px !important;\n  border-radius: 10px 10px 0 0;\n}\n.env-manager-modal .ant-modal-title {\n  color: #fff;\n  font-size: 18px;\n  font-weight: 600;\n}\n.env-manager-card {\n  background: #1a1a1a;\n  border: 1px solid #333;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  color: #e0e0e0;\n}\n.env-manager-card .ant-card-head {\n  border-bottom: 1px solid #333;\n}\n.env-manager-card .ant-card-head-title {\n  color: #fff;\n  font-size: 16px;\n  font-weight: 500;\n}\n.env-manager-list-item {\n  background: #1a1a1a;\n  border-bottom: 1px solid #333;\n  padding: 16px;\n  transition: background-color 0.3s;\n}\n.env-manager-list-item:hover {\n  background: #242424;\n}\n.env-manager-list-item:last-child {\n  border-bottom: none;\n}\n.env-manager-env-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.env-manager-env-name {\n  font-size: 15px;\n  font-weight: 500;\n  color: #fff;\n}\n.env-manager-env-desc {\n  font-size: 13px;\n  color: #999;\n}\n.env-manager-env-actions {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.env-manager-env-version {\n  color: #888;\n  font-size: 13px;\n}\n.env-manager-env-status {\n  font-size: 13px;\n}\n.env-manager-env-status .installed {\n  color: #52c41a;\n}\n.env-manager-env-status .not-installed {\n  color: #ff4d4f;\n}\n.env-manager-card .ant-btn {\n  background: #2a2a2a;\n  border-color: #444;\n  color: #e0e0e0;\n}\n.env-manager-card .ant-btn:hover {\n  background: #333;\n  border-color: #555;\n  color: #fff;\n}\n.env-manager-card .ant-btn-primary {\n  background: #1890ff;\n  border-color: #1890ff;\n  color: #fff;\n}\n.env-manager-card .ant-btn-primary:hover {\n  background: #40a9ff;\n  border-color: #40a9ff;\n}\n.env-manager-card .ant-btn-primary[disabled] {\n  background: #1a1a1a;\n  border-color: #333;\n  color: #666;\n}\n.env-manager-card .ant-spin {\n  color: #1890ff;\n}\n.env-manager-card .ant-spin-dot {\n  color: #1890ff;\n}\n.env-manager-modal .ant-modal-close {\n  top: 14px;\n  right: 14px;\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  background: none;\n  transition: background 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.env-manager-modal .ant-modal-close-x {\n  color: #f5f5f5;\n  font-size: 24px;\n  transition: color 0.2s;\n  line-height: 1;\n}\n.env-manager-modal .ant-modal-close:hover {\n  background: #444;\n}\n.env-manager-modal .ant-modal-close:hover .ant-modal-close-x {\n  color: #1976d2;\n} \n\n.env-manager-modal .ant-card-body{\n  padding: 0px !important;\n}\n.env-manager-modal .ant-list-item{\n  padding: 24px !important;\n}\n\n.env-manager-card .ant-card-body {\n  padding: 0px !important;\n  max-height: calc(100vh - 300px);\n  overflow-y: auto;\n}\n\n/* 自定义滚动条样式 */\n.env-manager-card .ant-card-body::-webkit-scrollbar {\n  width: 6px;\n}\n\n.env-manager-card .ant-card-body::-webkit-scrollbar-thumb {\n  background: #444;\n  border-radius: 3px;\n}\n\n.env-manager-card .ant-card-body::-webkit-scrollbar-track {\n  background: #1a1a1a;\n}\n\n.env-manager-card .ant-card-body::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n.env-manager-modal .ant-modal-mask {\n  background-color: rgba(0, 0, 0, 0.45);\n}\n\n.env-manager-modal,\n.env-manager-modal * {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}",""]);const s=a},5371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElectronBinding=void 0,t.getElectronBinding=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null},5378:(e,t,n)=>{var r=n(4932),o=n(5389),i=n(5128),a=n(6449);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},5389:(e,t,n)=>{var r=n(3663),o=n(7978),i=n(3488),a=n(6449),s=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},5477:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".about-modal .ant-modal-content {\n  background-color: #1f1f1f;\n  border: 1px solid #303030;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .ant-modal-header {\n  background-color: #1f1f1f;\n  border-bottom: 1px solid #303030;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .ant-modal-title {\n  color: #ffffff;\n  margin-bottom: 6px;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .ant-modal-close {\n  top: 14px;\n  right: 14px;\n  width: 30px;\n  height: 30px;\n  border-radius: 4px;\n  background: none;\n  transition: background 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.about-modal .ant-modal-close-x {\n  color: #f5f5f5;\n  font-size: 24px;\n  transition: color 0.2s;\n  line-height: 1;\n}\n\n.about-modal .ant-modal-close:hover {\n  background: #444;\n}\n\n.about-modal .ant-modal-close:hover .ant-modal-close-x {\n  color: #1976d2;\n}\n\n.about-modal .about-content {\n  padding: 20px 0;\n  color: #ffffff;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .version-section {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.about-modal .version-section .ant-typography {\n  color: #ffffff;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .company-info {\n  margin: 20px 0;\n}\n\n.about-modal .company-info .ant-typography {\n  color: #d9d9d9;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .legal-section {\n  margin-top: 30px;\n  padding-top: 20px;\n  border-top: 1px solid #303030;\n}\n\n.about-modal .clickable-text {\n  color: #1890ff;\n  cursor: pointer;\n  transition: all 0.3s;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.about-modal .clickable-text:hover {\n  color: #40a9ff;\n  text-decoration: underline;\n}\n\n.about-modal .ant-btn-primary {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n\n.about-modal .ant-btn-primary:hover {\n  background-color: #40a9ff;\n  border-color: #40a9ff;\n}\n\n.about-modal .ant-tooltip .ant-tooltip-inner {\n  background-color: #141414;\n  color: #ffffff;\n}\n\n.about-modal .ant-tooltip .ant-tooltip-arrow-content {\n  background-color: #141414;\n}\n\n.about-modal .ant-btn {\n  height: 30px !important;\n  padding: 0 10px !important;\n  margin-left: 10px !important;\n}",""]);const s=a},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5529:(e,t,n)=>{var r=n(9344),o=n(8879),i=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},5556:(e,t,n)=>{e.exports=n(2694)()},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5861:(e,t,n)=>{var r=n(5580),o=n(8223),i=n(2804),a=n(6545),s=n(8303),l=n(2552),c=n(7473),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(o),v=c(i),b=c(a),y=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||o&&x(new o)!=u||i&&x(i.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case b:return h;case y:return f}return t}),e.exports=x},5911:(e,t,n)=>{var r=n(8859),o=n(4248),i=n(9219);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],b=t[p];if(a)var y=c?a(b,v,p,t,e,l):a(v,b,p,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)})){m=!1;break}}else if(v!==b&&!s(v,b,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},5950:(e,t,n)=>{var r=n(695),o=n(2955),i=n(4894);e.exports=function(e){return i(e)?r(e):o(e)}},5967:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".topic-echo-viewer {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #1a1a1a;\n  color: #fff;\n}\n\n.topic-echo-viewer-toolbar {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  background-color: #2d2d2d;\n  border-bottom: 1px solid #444;\n}\n\n.topic-echo-viewer-search {\n  flex: 1;\n  margin-right: 16px;\n}\n\n.topic-echo-viewer-search-input {\n  background-color: #1a1a1a !important;\n  border: 1px solid #444 !important;\n  color: #fff !important;\n}\n\n.topic-echo-viewer-search-input:hover,\n.topic-echo-viewer-search-input:focus {\n  border-color: #666 !important;\n  box-shadow: none !important;\n}\n\n.topic-echo-viewer-search-input::placeholder {\n  color: #888 !important;\n}\n\n.topic-echo-viewer-search-input .anticon {\n  color: #888;\n}\n\n.topic-echo-viewer-options {\n  display: flex;\n  align-items: center;\n}\n\n.topic-echo-viewer-options .ant-checkbox-wrapper {\n  color: #fff;\n}\n\n.topic-echo-viewer-options .ant-checkbox-inner {\n  background-color: #1a1a1a;\n  border-color: #444;\n}\n\n.topic-echo-viewer-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 12px;\n}\n\n.topic-echo-viewer-message {\n  margin-bottom: 8px;\n  font-family: monospace;\n}\n\n.topic-echo-viewer-timestamp {\n  color: #888;\n  margin-right: 8px;\n}\n\n.topic-echo-viewer-text {\n  color: #fff;\n}\n\n.topic-echo-viewer-root {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #1e1e1e;\n  color: #e0e0e0;\n  font-family: monospace;\n  font-size: 12px;\n}\n\n.topic-echo-viewer-title {\n  font-size: 12px;\n  font-weight: 500;\n  color: #888;\n  margin-right: 16px;\n}\n\n.topic-echo-viewer-filter {\n  background: #232323 !important;\n  border: 1px solid #333 !important;\n  color: #e0e0e0 !important;\n  font-size: 12px !important;\n}\n\n.topic-echo-viewer-filter:focus {\n  background: #222b3a !important;\n}\n\n.topic-echo-viewer-filter input{\n  background-color: unset !important;\n  &::placeholder{\n    color: #888 !important;\n  }\n}\n\n.topic-echo-viewer-output-wrapper {\n  flex: 1;\n  overflow: hidden;\n  position: relative;\n  padding: 10px;\n}\n\n.topic-echo-viewer-output {\n  width: 100%;\n  height: 100%;\n  background: #1e1e1e;\n  border: none;\n  color: #e0e0e0;\n  font-family: monospace;\n  font-size: 12px;\n  line-height: 1.5;\n  resize: none;\n  outline: none;\n  padding: 8px;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.topic-echo-viewer-output::-webkit-scrollbar {\n  width: 8px;\n}\n\n.topic-echo-viewer-output::-webkit-scrollbar-track {\n  background: #1e1e1e;\n}\n\n.topic-echo-viewer-output::-webkit-scrollbar-thumb {\n  background: #292929;\n  border-radius: 4px;\n}\n\n.topic-echo-viewer-output::-webkit-scrollbar-thumb:hover {\n  background: #444;\n}\n\n.topic-echo-viewer-toolbar .ant-btn {\n  background: #232323;\n  border: 1px solid #333;\n  color: #e0e0e0;\n}\n\n.topic-echo-viewer-toolbar .ant-btn:hover {\n  background: #2d2d2d;\n  border-color: #444;\n  color: #fff;\n}\n\n.topic-echo-viewer-toolbar .ant-btn-primary {\n  background: #1976d2;\n  border-color: #1976d2;\n  color: #fff;\n}\n\n.topic-echo-viewer-toolbar .ant-btn-primary:hover {\n  background: #1565c0;\n  border-color: #1565c0;\n}\n\n.topic-echo-viewer-toolbar .ant-checkbox-wrapper {\n  color: #e0e0e0;\n}\n\n.topic-echo-viewer-toolbar .ant-checkbox-inner {\n  background: #232323;\n  border-color: #444;\n}\n\n.topic-echo-viewer-toolbar .ant-checkbox-checked .ant-checkbox-inner {\n  background: #1976d2;\n  border-color: #1976d2;\n}\n\n.topic-echo-viewer-toolbar .ant-input {\n  background: #232323;\n  border: 1px solid #333;\n  color: #e0e0e0;\n}\n\n.topic-echo-viewer-toolbar .ant-input:hover,\n.topic-echo-viewer-toolbar .ant-input:focus {\n  border-color: #1976d2;\n  background: #222b3a;\n}\n\n.topic-echo-viewer-toolbar .ant-input-clear-icon {\n  color: #888;\n}\n\n.topic-echo-viewer-toolbar .ant-input-clear-icon:hover {\n  color: #e0e0e0;\n} \n\n/* 让下拉框和输入框风格一致 */\n.topic-echo-viewer-toolbar .ant-select-selector {\n  background: #232323 !important;\n  border: 1px solid #333 !important;\n  color: #e0e0e0 !important;\n  font-size: 12px !important;\n  height: 28px !important;\n  align-items: center;\n}\n\n.topic-echo-viewer-toolbar .ant-select-selection-item {\n  color: #e0e0e0 !important;\n}\n\n.topic-echo-viewer-toolbar .ant-select-arrow {\n  color: #888 !important;\n}\n\n.topic-echo-viewer-toolbar .ant-select-dropdown {\n  background: #232323 !important;\n  color: #e0e0e0 !important;\n}\n\n.topic-echo-viewer-toolbar .ant-select-item-option {\n  background: #232323 !important;\n  color: #e0e0e0 !important;\n}\n\n.topic-echo-viewer-toolbar .ant-select-item-option-active,\n.topic-echo-viewer-toolbar .ant-select-item-option-selected {\n  background: #1976d2 !important;\n  color: #fff !important;\n} ",""]);const s=a},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6038:(e,t,n)=>{var r=n(5861),o=n(346);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},6110:(e,t,n)=>{var r=n(5083),o=n(392);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},6157:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return i(u,"_invoke",function(n,r,o){var i,a,s,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,h.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,s=p;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(h.n=-1),f(a,s)):h.n=s:h.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=h.n<0)?s:n.call(r,h))!==l)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var h=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),f=d.prototype=c.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){i(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},i(e,t,n,r)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)})}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var f=n(9896),p=n(6928),m=n(4157).shell,g=n(6606).dialog,v=n(1965),b=v.log,y=v.LOG_TYPES,x=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"createFile",value:function(e){try{if(f.existsSync(e))return{success:!1,error:"文件已存在"};var t=p.dirname(e);if(!f.existsSync(t))return{success:!1,error:"父目录不存在"};if(!f.statSync(t).isDirectory()){var n=p.dirname(t),r=p.join(n,p.basename(e));return f.existsSync(r)?{success:!1,error:"文件已存在"}:(f.writeFileSync(r,""),b("创建文件成功: ".concat(r),y.SUCCESS),{success:!0,path:r})}return f.writeFileSync(e,""),b("创建文件成功: ".concat(e),y.SUCCESS),{success:!0,path:e}}catch(e){return b("创建文件失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"createFolder",value:function(e){try{if(f.existsSync(e))return{success:!1,error:"文件夹已存在"};var t=p.dirname(e);if(!f.existsSync(t))return{success:!1,error:"父目录不存在"};if(!f.statSync(t).isDirectory()){var n=p.dirname(t),r=p.join(n,p.basename(e));return f.existsSync(r)?{success:!1,error:"文件夹已存在"}:(f.mkdirSync(r,{recursive:!0}),b("创建文件夹成功: ".concat(r),y.SUCCESS),{success:!0,path:r})}return f.mkdirSync(e,{recursive:!0}),b("创建文件夹成功: ".concat(e),y.SUCCESS),{success:!0,path:e}}catch(e){return b("创建文件夹失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"deleteFolderRecursive",value:function(e){var t=this;f.existsSync(e)&&(f.readdirSync(e).forEach(function(n){var r=p.join(e,n);f.lstatSync(r).isDirectory()?t.deleteFolderRecursive(r):f.unlinkSync(r)}),f.rmdirSync(e))}},{key:"fileExists",value:function(e){return f.existsSync(e)}},{key:"deleteFile",value:function(e){try{return f.existsSync(e)?(f.statSync(e).isDirectory()?(this.deleteFolderRecursive(e),b("删除文件夹成功: ".concat(e),y.SUCCESS)):(f.unlinkSync(e),b("删除文件成功: ".concat(e),y.SUCCESS)),{success:!0}):{success:!1,error:"文件或文件夹不存在"}}catch(e){return b("删除失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"renameFile",value:function(e,t){try{return f.existsSync(e)?f.existsSync(t)?{success:!1,error:"目标文件已存在"}:(f.renameSync(e,t),b("重命名文件成功: ".concat(e," -> ").concat(t),y.SUCCESS),{success:!0,path:t}):{success:!1,error:"文件不存在"}}catch(e){return b("重命名文件失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"openInExplorer",value:function(e){try{if(!f.existsSync(e))return{success:!1,error:"文件不存在"};var t=p.dirname(e);return m.openPath(t),b("在资源管理器中打开: ".concat(t),y.SUCCESS),{success:!0}}catch(e){return b("打开资源管理器失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"readFile",value:function(e){try{if(!f.existsSync(e))return{success:!1,error:"文件不存在"};if(f.statSync(e).isDirectory())return{success:!1,error:"不能读取文件夹"};var t=f.readFileSync(e,"utf8");return b("读取文件成功: ".concat(e),y.SUCCESS),{success:!0,content:t}}catch(e){return b("读取文件失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"writeFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=p.dirname(e);return f.existsSync(r)||f.mkdirSync(r,{recursive:!0}),n&&f.existsSync(e)&&f.unlinkSync(e),f.writeFileSync(e,t,"utf8"),b("写入文件成功: ".concat(e),y.SUCCESS),{success:!0}}catch(e){return b("写入文件失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}},{key:"showSaveDialog",value:(i=u(o().m(function e(){var t,n,r,i=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.p=1,e.n=2,g.showSaveDialog(s(s({},t),{},{filters:t.filters||[{name:"Text Files",extensions:["txt"]}]}));case 2:if((n=e.v).canceled||!n.filePath){e.n=3;break}return e.a(2,{success:!0,filePath:n.filePath});case 3:return e.a(2,{success:!1,error:"用户取消保存"});case 4:return e.p=4,r=e.v,b("显示保存对话框失败: ".concat(r.message),y.ERROR),e.a(2,{success:!1,error:r.message})}},e,null,[[1,4]])})),function(){return i.apply(this,arguments)})},{key:"selectFile",value:(r=u(o().m(function e(){var t,n,r=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.n=1,g.showOpenDialog({properties:["openFile","multiSelections"],filters:t.filters||[{name:"Text Files",extensions:["txt"]}]});case 1:if(!(n=e.v).canceled){e.n=2;break}return e.a(2,{success:!1,error:"用户取消选择"});case 2:return e.a(2,{success:!0,filePath:n.filePaths[0]})}},e)})),function(){return r.apply(this,arguments)})},{key:"selectDirectory",value:(n=u(o().m(function e(){var t,n,r=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.n=1,g.showOpenDialog(s({properties:["openDirectory"]},t));case 1:if(!(n=e.v).canceled){e.n=2;break}return e.a(2,{success:!1,error:"用户取消选择"});case 2:return e.a(2,{success:!0,path:n.filePaths[0]})}},e)})),function(){return n.apply(this,arguments)})},{key:"copyFile",value:function(e,t){try{if(!f.existsSync(e))return{success:!1,error:"源文件不存在"};var n=p.dirname(t);return f.existsSync(n)||f.mkdirSync(n,{recursive:!0}),f.existsSync(t)&&f.unlinkSync(t),f.copyFileSync(e,t),{success:!0,path:t}}catch(e){return b("文件操作失败: ".concat(e.message),y.ERROR),{success:!1,error:e.message}}}}],t&&d(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,i}();e.exports=new x},6169:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},6203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(3215)),o=a(n(8055)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map(function(t){var o=e[t];return o&&(0,r.default)(o,function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])}),t}),n};t.default=s},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},6351:(e,t,n)=>{"use strict";e.exports=n(7787)},6375:(e,t,n)=>{var r=n(4528),o=n(8879),i=n(4664),a=n(3345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},6426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},6449:e=>{var t=Array.isArray;e.exports=t},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},6547:(e,t,n)=>{var r=n(3360),o=n(5288),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},6606:(e,t,n)=>{e.exports=n(4918)},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},6686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(6540))&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,s,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return s=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return i.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},i.default.createElement(e,o({},l.props,l.state)))},a(l,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(i.default.Component)};t.default=s},6711:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".template-manager-modal {\n    .ant-modal-content {\n      background-color: #1e1e1e;\n      color: #fff;\n    }\n\n    .ant-modal-header {\n      background-color: #1e1e1e;\n      border-bottom: 1px solid #333;\n    }\n\n    .ant-modal-title {\n      color: #fff;\n      margin-bottom: 6px;\n    }\n\n    .ant-modal-footer {\n      background-color: #1e1e1e;\n    }\n\n    .ant-btn {\n      background-color: #1890ff;\n      border-color: #1890ff;\n      color: #fff;\n    }\n\n    .ant-btn:hover {\n      background-color: #40a9ff;\n      border-color: #40a9ff;\n    }\n\n    .ant-btn-default {\n      background-color: #2d2d2d;\n      border-color: #444;\n      color: #fff;\n    }\n\n    .ant-btn-default:hover {\n      background-color: #3d3d3d;\n      border-color: #555;\n      color: #fff;\n    }\n\n    .ant-modal-close {\n      color: #888;\n    }\n\n    .ant-modal-close:hover {\n      color: #fff;\n    }\n\n    /* 列表样式 */\n    .template-list {\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 60vh;\n      overflow-y: auto;\n      padding: 8px;\n    }\n\n    .template-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 12px;\n      background-color: #363636;\n      border-radius: 4px;\n      transition: background-color 0.2s;\n      user-select: none;\n    }\n\n    .template-item:hover {\n      background-color: #404040;\n    }\n\n    .template-info {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      flex: 1;\n      min-width: 0;\n    }\n\n    .template-header {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .template-name {\n      color: #fff;\n      font-weight: 500;\n      font-size: 14px;\n    }\n\n    .template-version {\n      color: #1890ff;\n      font-size: 12px;\n      padding: 2px 8px;\n      background-color: rgba(24, 144, 255, 0.1);\n      border: 1px solid rgba(24, 144, 255, 0.2);\n      border-radius: 4px;\n      font-weight: 500;\n    }\n\n    .template-description {\n      color: #aaa;\n      font-size: 12px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n    }\n\n    .template-date {\n      color: #666;\n      font-size: 12px;\n    }\n\n    *{\n      user-select: none !important;\n      -webkit-user-select: none !important;\n      -moz-user-select: none !important;\n      -ms-user-select: none !important;\n    }\n} ",""]);const s=a},6721:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},6892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=(r=n(3215))&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,o.default)(e,function(e,n){var r={};(0,o.default)(e,function(e,t){var n=a[t];n?r=i({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=s},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6928:e=>{"use strict";e.exports=require("path")},6940:(e,t,n)=>{"use strict";var r=n(5072),o=n.n(r),i=n(7825),a=n.n(i),s=n(7659),l=n.n(s),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),f=n(1113),p=n.n(f),m=n(8925),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},6954:(e,t,n)=>{"use strict";n.a(e,async(e,t)=>{try{var r=n(6540),o=n(5338),i=n(4879),a=(n(6940),n(8689),n(8984));await a.A.init(),o.createRoot(document.getElementById("root")).render(r.createElement(i.A,null)),t()}catch(e){t(e)}},1)},7068:(e,t,n)=>{var r=n(7217),o=n(5911),i=n(1986),a=n(689),s=n(5861),l=n(6449),c=n(3656),u=n(7167),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var b=l(e),y=l(t),x=b?h:s(e),O=y?h:s(t),w=(x=x==d?f:x)==f,S=(O=O==d?f:O)==f,E=x==O;if(E&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(E&&!w)return v||(v=new r),b||u(e)?o(e,t,n,m,g,v):i(e,t,x,n,m,g,v);if(!(1&n)){var _=w&&p.call(e,"__wrapped__"),C=S&&p.call(t,"__wrapped__");if(_||C){var k=_?e.value():e,M=C?t.value():t;return v||(v=new r),g(k,M,n,m,v)}}return!!E&&(v||(v=new r),a(e,t,n,m,g,v))}},7120:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7167:(e,t,n)=>{var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},7196:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(5317),o=n(1965),i=n(6928),a=n.n(i),s=n(9896),l=n.n(s),c=n(888),u=["nodeId","env","onStdout","onStderr","onError","isTaskNode"],d=["onStdout","onStderr","onError","env"];function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return m(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(m(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,m(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,m(d,"constructor",c),m(c,"constructor",l),l.displayName="GeneratorFunction",m(c,o,"GeneratorFunction"),m(d),m(d,o,"Generator"),m(d,r,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:h}})()}function m(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}m=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){m(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},m(e,t,n,r)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}const S=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tempDir=a().join(c.A.USERDATA_DIR,"temp"),l().existsSync(this.tempDir)||l().mkdirSync(this.tempDir,{recursive:!0})},t=[{key:"addProcess",value:function(e,t){c.A.addProcess(e,t)}},{key:"removeProcess",value:function(e){c.A.removeProcess(e)}},{key:"execute",value:(n=p().m(function e(t){var n,i,a,s,l,d,h,f,m,g,b,x,O,w,S,E=this,_=arguments;return p().w(function(e){for(;;)switch(e.n){case 0:return n=_.length>1&&void 0!==_[1]?_[1]:[],i=_.length>2&&void 0!==_[2]?_[2]:{},e.p=1,a=i.nodeId,s=i.env,l=void 0===s?{}:s,d=i.onStdout,h=void 0===d?function(e){return(0,o.log)("Command stdout: ".concat(e),o.LOG_TYPES.INFO)}:d,f=i.onStderr,m=void 0===f?function(e){return(0,o.log)("Command stderr: ".concat(e),o.LOG_TYPES.INFO)}:f,g=i.onError,b=void 0===g?function(e){return(0,o.log)("Command error: ".concat(e),o.LOG_TYPES.ERROR)}:g,x=i.isTaskNode,O=void 0!==x&&x,w=y(i,u),e.a(2,new Promise(function(e,i){var s="".concat(t," ").concat(n.join(" "));(0,o.log)("执行命令: ".concat(s),o.LOG_TYPES.INFO);var u=(0,r.spawn)(t,n,v({env:v(v({},process.env),l)},w));a&&E.addProcess(a,u);var d="",f="";u.stdout.on("data",function(e){var t=e.toString("utf8");d+=t,h(t)}),u.stderr.on("data",function(e){var t=e.toString("utf8");f+=t,m(t)}),u.on("close",function(t){O&&0===t||a&&E.removeProcess(a),0===t?e({stdout:d,stderr:f,exitCode:t}):c.A.isRunning&&i(new Error("退出码: ".concat(t)))}),u.on("error",function(e){a&&E.removeProcess(a),"function"==typeof b&&b(e),i(e)})}));case 2:throw e.p=2,S=e.v,"function"==typeof onError&&onError(S),S;case 3:return e.a(2)}},e,null,[[1,2]])}),i=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){x(i,r,o,a,s,"next",e)}function s(e){x(i,r,o,a,s,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})},{key:"createTempFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=a().join(this.tempDir,"temp_".concat(Date.now()).concat(t));return l().writeFileSync(n,e,"utf8"),n}},{key:"deleteTempFile",value:function(e){try{l().existsSync(e)&&l().unlinkSync(e)}catch(e){(0,o.log)("删除临时文件失败: ".concat(e.message),o.LOG_TYPES.WARNING)}}},{key:"killActiveProcess",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(c.A.activeProcesses);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.nodeId,i=n.process;try{i&&"function"==typeof i.kill&&i.kill("SIGKILL")}catch(e){(0,o.log)("强制终止节点 ".concat(r," 的进程失败: ").concat(e.message),o.LOG_TYPES.ERROR)}}}catch(e){t.e(e)}finally{t.f()}c.A.clearProcesses(),(0,o.log)("已强制终止所有进程",o.LOG_TYPES.WARNING)}},{key:"executeFlow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var i=n.onStdout,a=n.onStderr,s=n.onError,l=n.env,c=void 0===l?{}:l,u=y(n,d),h="".concat(e," ").concat(t.join(" "));(0,o.log)("执行命令: ".concat(h),o.LOG_TYPES.INFO);var f=(0,r.spawn)(e,t,v({env:v(v({},process.env),c)},u));return i&&f.stdout.on("data",function(e){return i(e.toString("utf8"))}),a&&f.stderr.on("data",function(e){return a(e.toString("utf8"))}),f.on("error",function(e){(0,o.log)("命令执行错误: ".concat(e.message),o.LOG_TYPES.ERROR),s&&s(e)}),f.on("close",function(e){0!==e&&(0,o.log)("命令执行结束，退出码: ".concat(e),o.LOG_TYPES.WARNING)}),f}catch(e){throw(0,o.log)("创建进程失败: ".concat(e.message),o.LOG_TYPES.ERROR),n.onError&&n.onError(e),e}}}],t&&O(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i}())},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},7199:(e,t,n)=>{var r=n(9653),o=n(6169),i=n(3201),a=n(3736),s=n(1961);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},7217:(e,t,n)=>{var r=n(79),o=n(1420),i=n(938),a=n(3605),s=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7241:(e,t,n)=>{var r=n(695),o=n(2903),i=n(4894);e.exports=function(e){return i(e)?r(e,!0):o(e)}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},7296:(e,t,n)=>{var r,o=n(5481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7422:(e,t,n)=>{var r=n(1769),o=n(7797);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function O(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,$(w);else{var t=r(u);null!==t&&N(O,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,b(C),C=-1),p=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(c)&&o(c),x(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&N(O,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,C=-1,k=5,M=-1;function T(){return!(t.unstable_now()-M<k)}function P(){if(null!==_){var e=t.unstable_now();M=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"==typeof y)S=function(){y(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){v(P,0)};function $(e){_=e,E||(E=!0,S())}function N(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,$(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,N(O,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,$(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},7556:(e,t,n)=>{var r=n(1873),o=n(4932),i=n(6449),a=n(4394),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7730:(e,t,n)=>{var r=n(9172),o=n(7301),i=n(6009),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7755:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".settings-modal .ant-modal-content {\n  background-color: #23272e;\n  color: #e0e0e0;\n}\n.settings-modal .ant-modal-header {\n  background-color: #23272e;\n  border-bottom: 1px solid #333;\n}\n.settings-modal .ant-modal-title {\n  color: #fff;\n}\n.settings-modal-content {\n  display: flex;\n  flex-direction: row;\n  min-height: 400px;\n}\n.settings-menu {\n  width: 200px;\n  background: #1a1d23 !important;\n  border-right: 1px solid #333;\n  color: #e0e0e0;\n}\n.settings-menu .ant-menu-item {\n  color: #e0e0e0 !important;\n}\n.settings-menu .ant-menu-item-selected {\n  background: #23272e !important;\n  color: #1890ff !important;\n}\n.settings-form-container {\n  flex: 1;\n  padding: 32px 24px;\n  background: #23272e;\n  display: flex;\n  flex-direction: column;\n}\n.settings-form .ant-form-item-label > label {\n  color: #cccccc;\n}\n.settings-form .ant-input,\n.settings-form .ant-input-number,\n.settings-form .ant-input-number-input {\n  background: #23272e !important;\n  color: #e0e0e0 !important;\n  border-color: #444 !important;\n}\n.settings-form .ant-input:focus,\n.settings-form .ant-input-number:focus,\n.settings-form .ant-input-number-input:focus {\n  border-color: #1890ff !important;\n  box-shadow: none !important;\n}\n.settings-form .ant-input[disabled],\n.settings-form .ant-input-number[disabled],\n.settings-form .ant-input-number-input[disabled] {\n  color: #888 !important;\n  background: #23272e !important;\n}\n.settings-form .ant-switch {\n  background: #444 !important;\n}\n.settings-form .ant-switch-checked {\n  background: #1890ff !important;\n}\n.settings-modal .ant-modal-close,\n.settings-modal .ant-modal-close-x {\n  color: #fff !important;\n}\n.settings-modal .ant-modal-close:hover,\n.settings-modal .ant-modal-close:focus {\n  color: #fff !important;\n}\n.settings-form .ant-input::placeholder,\n.settings-form .ant-input-number-input::placeholder {\n  color: #b0b0b0 !important;\n  opacity: 1;\n} \n\n.settings-modal .ant-modal-header{\n    padding-bottom: 10px !important;\n    margin-bottom: 10px !important;\n}\n\n.settings-modal,\n.settings-modal * {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n\n.settings-footer {\n  margin-top: auto;\n  padding-top: 16px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.settings-footer .ant-btn-primary {\n  background: #1890ff;\n  border-color: #1890ff;\n}\n\n.settings-footer .ant-btn-primary:hover {\n  background: #40a9ff;\n  border-color: #40a9ff;\n}",""]);const s=a},7787:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=u,t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case p:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},7965:(e,t,n)=>{"use strict";var r=n(6426),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,a,s,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),a()}return u}},7978:(e,t,n)=>{var r=n(270),o=n(8156),i=n(631),a=n(8586),s=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},8019:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".simulation-manager-modal .ant-modal-content {\n  background-color: #333333;\n  color: #e0e0e0;\n}\n\n.simulation-manager-modal .ant-modal-header {\n  background-color: #333333;\n  border-bottom: 1px solid #444444;\n}\n\n.simulation-manager-modal .ant-modal-title {\n  color: #e0e0e0;\n}\n\n.simulation-manager-modal .ant-tabs-nav {\n  background-color: #333333;\n  margin-bottom: 20px;\n}\n\n.simulation-manager-modal .ant-tabs-tab {\n  color: #e0e0e0;\n}\n\n.simulation-manager-modal .ant-tabs-tab-active {\n  color: #1890ff;\n}\n\n.simulation-manager-modal .ant-tabs-ink-bar {\n  background-color: #1890ff;\n}\n\n.simulation-section {\n  padding: 20px;\n  background-color: #2a2a2a;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\n.section-content {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.status-item,\n.path-item,\n.config-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.label {\n  min-width: 80px;\n  color: #cccccc;\n}\n\n.status {\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.status.success {\n  background-color: #52c41a;\n  color: #ffffff;\n}\n\n.status.warning {\n  background-color: #faad14;\n  color: #ffffff;\n}\n\n.path-item .ant-input {\n  flex: 1;\n  background-color: #444444;\n  border-color: #555555;\n  color: #e0e0e0;\n}\n\n.path-item .ant-input:hover,\n.path-item .ant-input:focus {\n  border-color: #1890ff;\n}\n\n.config-item .ant-input,\n.config-item .ant-select {\n  background-color: #444444;\n  border-color: #555555;\n  color: #e0e0e0;\n}\n\n.config-item .ant-select-selector {\n  background-color: #444444 !important;\n  border-color: #555555 !important;\n}\n\n.config-item .ant-select-selection-item {\n  color: #e0e0e0 !important;\n}\n\n.modal-footer {\n  margin-top: 20px;\n  text-align: right;\n  border-top: 1px solid #444444;\n  padding-top: 20px;\n}\n\n/* 自定义下拉框样式 */\n.ant-select-dropdown {\n  background-color: #333333 !important;\n}\n\n.ant-select-item {\n  color: #e0e0e0 !important;\n}\n\n.ant-select-item-option-selected {\n  background-color: #1890ff !important;\n  color: #ffffff !important;\n}\n\n.ant-select-item-option-active {\n  background-color: #444444 !important;\n}\n\n/* 按钮样式 */\n.simulation-manager-modal .ant-btn-primary {\n  color: #ffffff;\n}\n\n.simulation-manager-modal .ant-modal-header{\n  padding-bottom: 10px !important;\n  margin-bottom: 5px !important;\n}\n\n.simulation-manager-modal .ant-btn-primary[disabled] {\n  color: #a5a3a3 !important;\n  background-color: #444444 !important;\n  border-color: #555555 !important;\n}\n\n.simulation-manager-modal .ant-btn-primary[disabled]:hover {\n  color: #a5a3a3 !important;\n  background-color: #444444 !important;\n  border-color: #555555 !important;\n}\n\n/* 暗色系模态框样式 */\n.dark-modal .ant-modal-content {\n  background-color: #1f1f1f;\n  border: 1px solid #333;\n}\n\n.dark-modal .ant-modal-header {\n  background-color: #1f1f1f;\n  border-bottom: 1px solid #333;\n}\n\n.dark-modal .ant-modal-title {\n  color: #fff;\n}\n\n.dark-modal .ant-modal-body {\n  color: #fff;\n}\n\n.dark-modal .ant-modal-footer {\n  border-top: 1px solid #333;\n}\n\n.dark-modal .ant-btn {\n  background-color: #2f2f2f;\n  border-color: #444;\n  color: #fff;\n}\n\n.dark-modal .ant-btn:hover {\n  background-color: #3f3f3f;\n  border-color: #555;\n}\n\n.dark-modal .ant-btn-primary {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n\n.dark-modal .ant-btn-primary:hover {\n  background-color: #40a9ff;\n  border-color: #40a9ff;\n}\n\n.dark-modal .ant-btn-dangerous {\n  background-color: #ff4d4f;\n  border-color: #ff4d4f;\n}\n\n.dark-modal .ant-btn-dangerous:hover {\n  background-color: #ff7875;\n  border-color: #ff7875;\n}\n\n.simulation-manager-modal .ant-modal-close,\n.simulation-manager-modal .ant-modal-close-x {\n  color: #fff !important;\n}\n.simulation-manager-modal .ant-modal-close:hover,\n.simulation-manager-modal .ant-modal-close:focus {\n  color: #fff !important;\n} \n\n.simulation-manager-modal,\n.simulation-manager-modal * {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}",""]);const s=a},8055:(e,t,n)=>{var r=n(9999);e.exports=function(e){return r(e,5)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},8280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbacksRegistry=void 0,t.CallbacksRegistry=class{constructor(){this.nextId=0,this.callbacks={},this.callbackIds=new WeakMap,this.locationInfo=new WeakMap}add(e){let t=this.callbackIds.get(e);if(null!=t)return t;t=this.nextId+=1,this.callbacks[t]=e,this.callbackIds.set(e,t);const n=/at (.*)/gi,r=(new Error).stack;if(!r)return t;let o,i;for(;null!==(i=n.exec(r));){const e=i[1];if(e.includes("(native)"))continue;if(e.includes("(<anonymous>)"))continue;if(e.includes("callbacks-registry.js"))continue;if(e.includes("remote.js"))continue;if(e.includes("@electron/remote/dist"))continue;const t=/([^/^)]*)\)?$/gi.exec(e);t&&(o=t[1]);break}return this.locationInfo.set(e,o),t}get(e){return this.callbacks[e]||function(){}}getLocation(e){return this.locationInfo.get(e)}apply(e,...t){return this.get(e).apply(global,...t)}remove(e){const t=this.callbacks[e];t&&(this.callbackIds.delete(t),delete this.callbacks[e])}}},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},8438:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return i(u,"_invoke",function(n,r,o){var i,a,s,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,h.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,s=p;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(h.n=-1),f(a,s)):h.n=s:h.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=h.n<0)?s:n.call(r,h))!==l)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var h=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),f=d.prototype=c.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){i(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},i(e,t,n,r)}function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var c=n(6928),u=n(9896),d=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"handleSelectDirectory",value:function(){return null}},{key:"handleCreateProject",value:function(e){var t=e.name,n=e.description,r=e.path;try{var o=c.join(r,t);if(u.existsSync(o))return{success:!1,error:"项目目录已存在"};u.mkdirSync(o,{recursive:!0});var i={name:t,description:n,path:o,createdAt:(new Date).toISOString(),version:"1.0.0"},a=c.join(o,"".concat(t,".proj"));return u.writeFileSync(a,JSON.stringify(i,null,2)),{success:!0,projectPath:o}}catch(e){return console.error("创建项目失败:",e),{success:!1,error:e.message}}}},{key:"readDirRecursive",value:function(e){var t=this;return u.readdirSync(e).map(function(n){var r=c.join(e,n);return u.statSync(r).isDirectory()?{title:n,key:r,children:t.readDirRecursive(r)}:{title:n,key:r}})}},{key:"openProject",value:function(e){try{if(!u.existsSync(e))return{success:!1,error:"项目路径不存在"};var t=c.basename(e),n=c.join(e,"".concat(t,".proj"));if(!u.existsSync(n))return{success:!1,error:"无效的项目目录：找不到项目配置文件"};var r=u.readFileSync(n,"utf8"),o=JSON.parse(r);return o.path&&u.existsSync(o.path)?{success:!0,tree:this.readDirRecursive(e),config:o}:{success:!1,error:"项目配置无效：项目路径不存在"}}catch(e){return{success:!1,error:e.message}}}},{key:"selectAndOpenProject",value:(n=o().m(function e(t,n,r){var i,a,s,l,c,u,d;return o().w(function(e){for(;;)switch(e.n){case 0:return i=window.require("@electron/remote"),a=i.dialog,s=window.require("fs"),e.n=1,a.showOpenDialog({properties:["openFile"],filters:[{name:"项目文件",extensions:["proj"]}]});case 1:if((l=e.v).canceled||!l.filePaths||!l.filePaths[0]){e.n=5;break}if(e.p=2,c=s.readFileSync(l.filePaths[0],"utf8"),u=JSON.parse(c),s.existsSync(u.path)){e.n=3;break}return n&&n("项目路径不存在: ".concat(u.path),r&&r.ERROR),e.a(2);case 3:t(u.path,u),e.n=5;break;case 4:e.p=4,d=e.v,n&&n("打开项目失败: ".concat(d.message),r&&r.ERROR);case 5:return e.a(2)}},e,null,[[2,4]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)})},function(e,t,n){return r.apply(this,arguments)})}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();e.exports=new d},8440:(e,t,n)=>{var r=n(6038),o=n(7301),i=n(6009),a=i&&i.isSet,s=a?o(a):r;e.exports=s},8493:(e,t,n)=>{"use strict";var r=n(6540),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},8527:(e,t,n)=>{"use strict";t.H8=void 0;var r=c(n(9265)),o=c(n(6203)),i=c(n(6892)),a=c(n(6686)),s=c(n(5268)),l=c(n(2693));function c(e){return e&&e.__esModule?e:{default:e}}a.default,t.H8=a.default,s.default,l.default;t.Ay=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,o.default)(e,s);return(0,i.default)(l)}},8586:(e,t,n)=>{var r=n(6449),o=n(4394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},8667:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i),s=n(4417),l=n.n(s),c=new URL(n(4885),n.b),u=a()(o()),d=l()(c);u.push([e.id,`.node-config-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.node-config-modal {\n  background-color: #2d2d2d;\n  border-radius: 8px;\n  padding: 15px 14px 5px 15px;\n  width: 400px;\n  max-width: 90vw;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  color: #fff;\n}\n\n.node-config-modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #444;\n}\n\n.node-config-modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  color: #fff;\n}\n\n.node-config-modal-close {\n  background: none;\n  border: none;\n  color: #888;\n  font-size: 24px;\n  cursor: pointer;\n  padding: 0;\n  line-height: 1;\n}\n\n.node-config-modal-close:hover {\n  color: #fff;\n}\n\n.node-config-modal-body {\n  margin-bottom: 20px;\n}\n\n.node-config-form-item {\n  margin-bottom: 15px;\n}\n\n.node-config-form-item label {\n  display: block;\n  margin-bottom: 5px;\n  color: #ccc;\n  font-size: 14px;\n}\n\n.node-config-form-item input,\n.node-config-form-item select {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #444;\n  border-radius: 4px;\n  background-color: #1e1e1e;\n  color: #fff;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.node-config-form-item input:focus,\n.node-config-form-item select:focus {\n  outline: none;\n  border-color: #1976d2;\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);\n}\n\n.node-config-form-item input:hover,\n.node-config-form-item select:hover {\n  border-color: #666;\n}\n\n/* Select 特定样式 */\n.node-config-form-item select {\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background-image: url(${d});\n  background-repeat: no-repeat;\n  background-position: right 8px center;\n  background-size: 16px;\n  padding-right: 32px;\n  cursor: pointer;\n}\n\n.node-config-form-item select option {\n  background-color: #2d2d2d;\n  color: #fff;\n  padding: 8px;\n}\n\n.node-config-form-item select:focus {\n  background-color: #1e1e1e;\n}\n\n.node-config-form-description {\n  margin-top: 4px;\n  font-size: 12px;\n  color: #888;\n}\n\n.node-config-modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  padding-top: 15px;\n  border-top: 1px solid #444;\n}\n\n.node-config-modal-footer button {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.node-config-modal-footer button[type="button"] {\n  background-color: transparent;\n  color: #888;\n  border: 1px solid #444;\n}\n\n.node-config-modal-footer button[type="button"]:hover {\n  background-color: #444;\n  color: #fff;\n}\n\n.node-config-modal-footer button[type="submit"] {\n  background-color: #1976d2;\n  color: #fff;\n}\n\n.node-config-modal-footer button[type="submit"]:hover {\n  background-color: #1565c0;\n}\n\n/* 禁用状态样式 */\n.node-config-form-item input:disabled,\n.node-config-form-item select:disabled {\n  background-color: #333;\n  color: #666;\n  cursor: not-allowed;\n  border-color: #444;\n}\n\n/* 错误状态样式 */\n.node-config-form-item input.error,\n.node-config-form-item select.error {\n  border-color: #d32f2f;\n}\n\n.node-config-form-item .error-message {\n  color: #d32f2f;\n  font-size: 12px;\n  margin-top: 4px;\n} `,""]);const h=u},8689:(e,t,n)=>{"use strict";var r=n(5072),o=n.n(r),i=n(7825),a=n.n(i),s=n(7659),l=n.n(s),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),f=n(1113),p=n.n(f),m=n(1208),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals},8703:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(6928),o=n.n(r),i=n(9896),a=n.n(i),s=n(888),l=n(1965),c=n(7196);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return h(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(h(t={},r,function(){return this}),t),f=c.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,h(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=c,h(f,"constructor",c),h(c,"constructor",l),l.displayName="GeneratorFunction",h(c,o,"GeneratorFunction"),h(f),h(f,o,"Generator"),h(f,r,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:p}})()}function h(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}h=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){h(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},h(e,t,n,r)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function x(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}const O=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tempDir=o().join(s.A.USERDATA_DIR,"temp"),a().existsSync(this.tempDir)||a().mkdirSync(this.tempDir,{recursive:!0})},t=[{key:"execute",value:(n=d().m(function e(t,n,r){var i,u,h,p,m,v,b,y,x,O,w,S,E,_,C;return d().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,i=o().join(s.A.USERDATA_DIR,"node",t.path),u=o().join(i,"main.py"),h=o().join(i,"config.json"),p=null,a().existsSync(h)&&(p=JSON.parse(a().readFileSync(h,"utf8"))),m=g({},n),p&&p.parameters&&Array.isArray(p.parameters.inputs)){v=f(p.parameters.inputs);try{for(v.s();!(b=v.n()).done;)y=b.value,x=y.name,void 0!==m[x]&&null!==m[x]||"default_value"in y&&(m[x]=y.default_value)}catch(e){v.e(e)}finally{v.f()}}return(0,l.log)("开始执行节点: ".concat(t.data.label),l.LOG_TYPES.INFO),console.log("node",t),O="\nimport sys\nimport json\nimport importlib.util\nimport os\nimport locale\n\n# 设置环境变量和编码\nos.environ['PYTHONIOENCODING'] = 'utf-8'\nif sys.platform == 'win32':\n    try:\n        locale.setlocale(locale.LC_ALL, 'en_US.UTF-8')\n    except locale.Error:\n        try:\n            locale.setlocale(locale.LC_ALL, 'English_United States.UTF-8')\n        except locale.Error:\n            pass\n\n# 设置标准输出和错误输出的编码\nsys.stdout.reconfigure(encoding='utf-8')\nsys.stderr.reconfigure(encoding='utf-8')\n\n# 导入主程序\nspec = importlib.util.spec_from_file_location(\"main\", \"".concat(u.replace(/\\/g,"\\\\"),'")\nmain = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(main)\n\n# 创建节点实例\nnode = main.MainNode()\n\n# 设置输入数据\ninput_data = ').concat(JSON.stringify(m),"\nnode.get_node_input(input_data)\n\n# 设置配置数据\nconfig_data = ").concat(JSON.stringify(r),"\nnode.get_user_input(config_data)\n\n# 执行节点\nresult = node.execute()\n\n# 输出结果\nprint(json.dumps(result, ensure_ascii=False), file=sys.stderr)\n"),w=c.A.createTempFile(O,".py"),e.p=1,e.n=2,c.A.execute("python3",["-u",w],{nodeId:t.id,env:{PYTHONIOENCODING:"utf-8",LANG:"en_US.UTF-8",LC_ALL:"en_US.UTF-8"},onStdout:function(e){return(0,l.log)("Python stdout: ".concat(e),l.LOG_TYPES.INFO)},onStderr:function(e){return(0,l.log)("Python stderr: ".concat(e),l.LOG_TYPES.INFO)},onError:function(e){if(e.message.includes("ENOENT"))throw new Error("Python 未安装或未添加到系统环境变量中。请安装 Python 并确保将其添加到系统环境变量。");throw e}});case 2:if(S=e.v,E=S.stderr,!(_=E.match(/\{[\s\S]*\}/))){e.n=3;break}return e.a(2,JSON.parse(_[0]));case 3:throw new Error("无法解析 Python 输出结果");case 4:return e.p=4,c.A.deleteTempFile(w),e.f(4);case 5:e.n=7;break;case 6:throw e.p=6,C=e.v,(0,l.log)("执行节点失败: ".concat(C.message),l.LOG_TYPES.ERROR),C;case 7:return e.a(2)}},e,null,[[1,,4,5],[0,6]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){b(i,r,o,a,s,"next",e)}function s(e){b(i,r,o,a,s,"throw",e)}a(void 0)})},function(e,t,n){return r.apply(this,arguments)})},{key:"killActiveProcess",value:function(){console.log("killActiveProcess2"),c.A.killActiveProcess()}}],t&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(w(e)+" is not iterable")}function E(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return _(c,"_invoke",function(n,r,o){var i,s,l,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,s=0,l=e,h.n=n,a}};function f(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(l=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(s=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,s=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!d;){i||(s?s<3?(s>1&&(h.n=-1),f(s,l)):h.n=l:h.v=l);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=h.n<0)?l:n.call(r,h))!==a)break}catch(t){i=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(_(t={},r,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,_(d,"constructor",c),_(c,"constructor",l),l.displayName="GeneratorFunction",_(c,o,"GeneratorFunction"),_(d),_(d,o,"Generator"),_(d,r,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(E=function(){return{w:i,m:h}})()}function _(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){_(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},_(e,t,n,r)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)})}}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}const I=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeOutputs=new Map,this.executionOrder=[],this.pythonExecutor=new O},t=[{key:"buildExecutionOrder",value:function(e,t){var n=new Map(e.map(function(e){return[e.id,e]})),r=new Map,o=new Map;e.forEach(function(e){return o.set(e.id,0)}),t.forEach(function(e){r.has(e.source)||r.set(e.source,[]),r.get(e.source).push(e),o.set(e.target,(o.get(e.target)||0)+1)});var i=[],a=[];for(e.forEach(function(e){0===o.get(e.id)&&a.push(e)});a.length>0;){var s=a.shift();i.push(s);var l,c=R(r.get(s.id)||[]);try{for(c.s();!(l=c.n()).done;){var u=l.value.target;if(o.set(u,o.get(u)-1),0===o.get(u)){var d=n.get(u);d&&a.push(d)}}}catch(e){c.e(e)}finally{c.f()}}return i}},{key:"executeFlow",value:(r=P(E().m(function e(t,n){var r,o,i,a,s,c,u,d,h,f,p,m,g,v,b,y=this;return E().w(function(e){for(;;)switch(e.n){case 0:console.log(t),e.p=1,r=new Set,n.forEach(function(e){r.add(e.source),r.add(e.target)}),o=t.filter(function(e){return"任务"===e.data.type}),i=R(o),e.p=2,s=E().m(function e(){var t,n;return E().w(function(e){for(;;)switch(e.n){case 0:t=a.value,n=t.data.config||[],y.pythonExecutor.execute(t,{},n).then(function(e){t.data.outputs=t.data.outputs.map(function(t){return k(k({},t),{},{value:e.outputs[t.name]})}),(0,l.log)("任务节点执行完成: ".concat(t.data.label),l.LOG_TYPES.SUCCESS)}).catch(function(e){(0,l.log)("任务节点执行失败: ".concat(t.data.label," - ").concat(e.message),l.LOG_TYPES.ERROR)});case 1:return e.a(2)}},e)}),i.s();case 3:if((a=i.n()).done){e.n=5;break}return e.d(S(s()),4);case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,g=e.v,i.e(g);case 7:return e.p=7,i.f(),e.f(7);case 8:if(0!==(c=t.filter(function(e){return r.has(e.id)})).length){e.n=9;break}return e.a(2);case 9:u=new Map(c.map(function(e){return[e.id,e]})),d=new Map,n.forEach(function(e){d.has(e.target)||d.set(e.target,[]),d.get(e.target).push(e)}),h=this.buildExecutionOrder(c,n),(0,l.log)("执行顺序: ".concat(h.map(function(e){return e.id}).join(" -> ")),l.LOG_TYPES.INFO),f=R(h),e.p=10,m=E().m(function e(){var t,n,r,o,i,a,s,c,h,f,m,g;return E().w(function(e){for(;;)switch(e.n){case 0:t=p.value,e.p=1,n={},r=d.get(t.id)||[],o=R(r);try{for(o.s();!(i=o.n()).done;)a=i.value,s=u.get(a.source),c=s.data.outputs[a.sourceHandle.split("-")[1]],h=t.data.inputs[a.targetHandle.split("-")[1]],c&&h&&(n[h.name]=c.value)}catch(e){o.e(e)}finally{o.f()}return f=t.data.config||[],e.n=2,y.pythonExecutor.execute(t,n,f);case 2:(m=e.v)&&m.outputs&&(t.data.outputs=t.data.outputs.map(function(e){return k(k({},e),{},{value:m.outputs[e.name]})})),e.n=4;break;case 3:throw e.p=3,g=e.v,(0,l.log)("节点执行失败: ".concat(t.data.label," - ").concat(g.message),l.LOG_TYPES.ERROR),g;case 4:return e.a(2)}},e,null,[[1,3]])}),f.s();case 11:if((p=f.n()).done){e.n=13;break}return e.d(S(m()),12);case 12:e.n=11;break;case 13:e.n=15;break;case 14:e.p=14,v=e.v,f.e(v);case 15:return e.p=15,f.f(),e.f(15);case 16:e.n=18;break;case 17:throw e.p=17,-1===(b=e.v).message.indexOf("Traceback")&&(0,l.log)("流程执行失败: ".concat(b.message),l.LOG_TYPES.ERROR),b;case 18:return e.a(2)}},e,this,[[10,14,15,16],[2,6,7,8],[1,17]])})),function(e,t){return r.apply(this,arguments)})},{key:"forceStop",value:(n=P(E().m(function e(){return E().w(function(e){for(;;)switch(e.n){case 0:console.log("forceStop2"),this.pythonExecutor.killActiveProcess();case 1:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})}],t&&$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}()},8726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=t.isSerializableObject=t.isPromise=void 0;const r=n(4157);t.isPromise=function(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function};const o=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function i(e){return null===e||ArrayBuffer.isView(e)||o.some(t=>e instanceof t)}t.isSerializableObject=i;const a=function(e,t){const n=Object.entries(e).map(([e,n])=>[e,t(n)]);return Object.fromEntries(n)};t.serialize=function e(t){return t&&t.constructor&&"NativeImage"===t.constructor.name?function(e){const t=[],n=e.getScaleFactors();if(1===n.length){const r=n[0],o=e.getSize(r),i=e.toBitmap({scaleFactor:r});t.push({scaleFactor:r,size:o,buffer:i})}else for(const r of n){const n=e.getSize(r),o=e.toDataURL({scaleFactor:r});t.push({scaleFactor:r,size:n,dataURL:o})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:t}}(t):Array.isArray(t)?t.map(e):i(t)?t:t instanceof Object?a(t,e):t},t.deserialize=function e(t){return t&&t.__ELECTRON_SERIALIZED_NativeImage__?function(e){const t=r.nativeImage.createEmpty();if(1===e.representations.length){const{buffer:n,size:r,scaleFactor:o}=e.representations[0],{width:i,height:a}=r;t.addRepresentation({buffer:n,scaleFactor:o,width:i,height:a})}else for(const n of e.representations){const{dataURL:e,size:r,scaleFactor:o}=n,{width:i,height:a}=r;t.addRepresentation({dataURL:e,scaleFactor:o,width:i,height:a})}return t}(t):Array.isArray(t)?t.map(e):i(t)?t:t instanceof Object?a(t,e):t}},8759:(e,t,n)=>{"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.browserModuleNames=t.commonModuleNames=void 0;const i=n(5371);t.commonModuleNames=["clipboard","nativeImage","shell"],t.browserModuleNames=["app","autoUpdater","BaseWindow","BrowserView","BrowserWindow","contentTracing","crashReporter","dialog","globalShortcut","ipcMain","inAppPurchase","Menu","MenuItem","nativeTheme","net","netLog","MessageChannelMain","Notification","powerMonitor","powerSaveBlocker","protocol","pushNotifications","safeStorage","screen","session","ServiceWorkerMain","ShareMenu","systemPreferences","TopLevelWindow","TouchBar","Tray","utilityProcess","View","webContents","WebContentsView","webFrameMain"].concat(t.commonModuleNames);const a=i.getElectronBinding("features");!1!==(null===(r=null==a?void 0:a.isDesktopCapturerEnabled)||void 0===r?void 0:r.call(a))&&t.browserModuleNames.push("desktopCapturer"),!1!==(null===(o=null==a?void 0:a.isViewApiEnabled)||void 0===o?void 0:o.call(a))&&t.browserModuleNames.push("ImageView")},8859:(e,t,n)=>{var r=n(3661),o=n(1380),i=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},8925:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"/* stylelint-disable */\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n}\ninput::-ms-clear,\ninput::-ms-reveal {\n  display: none;\n}\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\nhtml {\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -ms-overflow-style: scrollbar;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n@-ms-viewport {\n  width: device-width;\n}\nbody {\n  margin: 0;\n}\n[tabindex='-1']:focus {\n  outline: none;\n}\nhr {\n  box-sizing: content-box;\n  height: 0;\n  overflow: visible;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin-top: 0;\n  margin-bottom: 0.5em;\n  font-weight: 500;\n}\np {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\nabbr[title],\nabbr[data-original-title] {\n  -webkit-text-decoration: underline dotted;\n  text-decoration: underline dotted;\n  border-bottom: 0;\n  cursor: help;\n}\naddress {\n  margin-bottom: 1em;\n  font-style: normal;\n  line-height: inherit;\n}\ninput[type='text'],\ninput[type='password'],\ninput[type='number'],\ntextarea {\n  -webkit-appearance: none;\n}\nol,\nul,\ndl {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\nol ol,\nul ul,\nol ul,\nul ol {\n  margin-bottom: 0;\n}\ndt {\n  font-weight: 500;\n}\ndd {\n  margin-bottom: 0.5em;\n  margin-left: 0;\n}\nblockquote {\n  margin: 0 0 1em;\n}\ndfn {\n  font-style: italic;\n}\nb,\nstrong {\n  font-weight: bolder;\n}\nsmall {\n  font-size: 80%;\n}\nsub,\nsup {\n  position: relative;\n  font-size: 75%;\n  line-height: 0;\n  vertical-align: baseline;\n}\nsub {\n  bottom: -0.25em;\n}\nsup {\n  top: -0.5em;\n}\npre,\ncode,\nkbd,\nsamp {\n  font-size: 1em;\n  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;\n}\npre {\n  margin-top: 0;\n  margin-bottom: 1em;\n  overflow: auto;\n}\nfigure {\n  margin: 0 0 1em;\n}\nimg {\n  vertical-align: middle;\n  border-style: none;\n}\na,\narea,\nbutton,\n[role='button'],\ninput:not([type='range']),\nlabel,\nselect,\nsummary,\ntextarea {\n  touch-action: manipulation;\n}\ntable {\n  border-collapse: collapse;\n}\ncaption {\n  padding-top: 0.75em;\n  padding-bottom: 0.3em;\n  text-align: left;\n  caption-side: bottom;\n}\ninput,\nbutton,\nselect,\noptgroup,\ntextarea {\n  margin: 0;\n  color: inherit;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: inherit;\n}\nbutton,\ninput {\n  overflow: visible;\n}\nbutton,\nselect {\n  text-transform: none;\n}\nbutton,\nhtml [type='button'],\n[type='reset'],\n[type='submit'] {\n  -webkit-appearance: button;\n}\nbutton::-moz-focus-inner,\n[type='button']::-moz-focus-inner,\n[type='reset']::-moz-focus-inner,\n[type='submit']::-moz-focus-inner {\n  padding: 0;\n  border-style: none;\n}\ninput[type='radio'],\ninput[type='checkbox'] {\n  box-sizing: border-box;\n  padding: 0;\n}\ninput[type='date'],\ninput[type='time'],\ninput[type='datetime-local'],\ninput[type='month'] {\n  -webkit-appearance: listbox;\n}\ntextarea {\n  overflow: auto;\n  resize: vertical;\n}\nfieldset {\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\nlegend {\n  display: block;\n  width: 100%;\n  max-width: 100%;\n  margin-bottom: 0.5em;\n  padding: 0;\n  color: inherit;\n  font-size: 1.5em;\n  line-height: inherit;\n  white-space: normal;\n}\nprogress {\n  vertical-align: baseline;\n}\n[type='number']::-webkit-inner-spin-button,\n[type='number']::-webkit-outer-spin-button {\n  height: auto;\n}\n[type='search'] {\n  outline-offset: -2px;\n  -webkit-appearance: none;\n}\n[type='search']::-webkit-search-cancel-button,\n[type='search']::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n::-webkit-file-upload-button {\n  font: inherit;\n  -webkit-appearance: button;\n}\noutput {\n  display: inline-block;\n}\nsummary {\n  display: list-item;\n}\ntemplate {\n  display: none;\n}\n[hidden] {\n  display: none !important;\n}\nmark {\n  padding: 0.2em;\n  background-color: #feffe6;\n}\n",""]);const s=a},8948:(e,t,n)=>{var r=n(1791),o=n(6375);e.exports=function(e,t){return r(e,o(e),t)}},8984:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1965),o=n(888);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof c?r:c,u=Object.create(a.prototype);return s(u,"_invoke",function(n,r,o){var i,a,s,c=0,u=o||[],d=!1,h={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,h.n=n,l}};function f(n,r){for(a=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=h.p,p=i[2];n>3?(o=p===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,h.v=r,h.n=i[1]):f<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,h.n=p,a=0))}if(o||n>1)return l;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,p),a=u,s=p;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(h.n=-1),f(a,s)):h.n=s:h.v=s);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=h.n<0)?s:n.call(r,h))!==l)break}catch(t){i=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var h=[][r]?t(t([][r]())):(s(t={},r,function(){return this}),t),f=d.prototype=c.prototype=Object.create(h);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,s(f,"constructor",d),s(d,"constructor",u),u.displayName="GeneratorFunction",s(d,o,"GeneratorFunction"),s(f),s(f,o,"Generator"),s(f,r,function(){return this}),s(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:p}})()}function s(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){s(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},s(e,t,n,r)}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)})}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}window.require("@electron/remote").app;var h=window.require("fs"),f=window.require("path");const p=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h.existsSync(o.A.USERDATA_DIR)||h.mkdirSync(o.A.USERDATA_DIR,{recursive:!0}),this.configDir=f.join(o.A.USERDATA_DIR,"config"),this.configPath=f.join(this.configDir,"config.json"),this.data=null,this.initialized=!1,this.initPromise=null,this.cache=new Map},t=[{key:"init",value:(p=c(a().m(function e(){var t=this;return a().w(function(e){for(;;)switch(e.n){case 0:if(!this.initialized){e.n=1;break}return e.a(2);case 1:if(!this.initPromise){e.n=2;break}return e.a(2,this.initPromise);case 2:return this.initPromise=c(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:if(h.existsSync(t.configDir)||h.mkdirSync(t.configDir,{recursive:!0}),h.existsSync(t.configPath)){e.n=2;break}return t.data=t.getDefaultConfig(),e.n=1,t.save();case 1:e.n=3;break;case 2:return e.n=3,t.load();case 3:t.initialized=!0,(0,r.log)("init config success",r.LOG_TYPES.INFO);case 4:return e.a(2)}},e)}))(),e.a(2,this.initPromise)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getDefaultConfig",value:function(){return{version:window.require("@electron/remote").app.getVersion(),workflow:{name:"workflow",description:"workflow description",nodes:[]},environment:{listUrl:"https://example.com/api/environments"},systemInfo:null}}},{key:"checkVersion",value:(d=c(a().m(function e(){var t,n,o,i;return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.init();case 1:if(t=this.get("version"),n=window.require("@electron/remote"),o=n.app,i=o.getVersion(),console.log("当前配置版本: ".concat(t||"无",", 应用版本: ").concat(i)),t){e.n=3;break}return(0,r.log)("首次运行，设置版本号为: ".concat(i),r.LOG_TYPES.INFO),this.data.version=i,e.n=2,this.save();case 2:e.n=7;break;case 3:if(t===i){e.n=6;break}return(0,r.log)("检测到版本升级: ".concat(t," -> ").concat(i),r.LOG_TYPES.INFO),e.n=4,this.reset();case 4:return this.data.version=i,e.n=5,this.save();case 5:e.n=7;break;case 6:(0,r.log)("版本未变化: ".concat(i),r.LOG_TYPES.INFO);case 7:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"load",value:(l=c(a().m(function e(){var t,n;return a().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,h.promises.readFile(this.configPath,"utf8");case 1:t=e.v,this.data=JSON.parse(t),this.cache.clear(),this.cache.set("workflow",this.data.workflow),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Error loading config:",n),this.data=this.getDefaultConfig();case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return l.apply(this,arguments)})},{key:"save",value:(s=c(a().m(function e(){var t,n=this;return a().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,this.cache.forEach(function(e,t){n.setNestedValue(n.data,t,e)}),e.n=1,h.promises.writeFile(this.configPath,JSON.stringify(this.data,null,2),"utf8");case 1:e.n=3;break;case 2:throw e.p=2,t=e.v,console.error("Error saving config:",t),t;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return s.apply(this,arguments)})},{key:"get",value:function(e){if(!this.initialized)return this.cache.has(e)?this.cache.get(e):"";if(this.cache.has(e))return this.cache.get(e);var t=e?this.getNestedValue(this.data,e):this.data;return void 0!==t&&this.cache.set(e,t),t}},{key:"set",value:(i=c(a().m(function e(t,n){return a().w(function(e){for(;;)switch(e.n){case 0:if(this.initialized){e.n=1;break}return this.cache.set(t,n),e.a(2);case 1:return this.setNestedValue(this.data,t,n),this.cache.set(t,n),e.n=2,this.save();case 2:return e.a(2)}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"getNestedValue",value:function(e,t){return t.split(".").reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e)}},{key:"setNestedValue",value:function(e,t,n){var r=t.split("."),o=r.pop();r.reduce(function(e,t){return e[t]||(e[t]={}),e[t]},e)[o]=n}},{key:"reset",value:(n=c(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return this.data=this.getDefaultConfig(),this.cache.clear(),e.n=1,this.save();case 1:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})}],t&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i,s,l,d,p}())},9123:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".welcome-screen {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n}\n\n.welcome-card {\n  background: rgba(45, 45, 45, 0.95);\n  border-radius: 12px;\n  padding: 40px;\n  width: 600px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);\n  backdrop-filter: blur(8px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.welcome-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.welcome-title {\n  font-size: 32px;\n  font-weight: 600;\n  color: #fff;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n}\n\n.welcome-icon {\n  font-size: 36px;\n  color: #1976d2;\n}\n\n.welcome-subtitle {\n  font-size: 16px;\n  color: #888;\n  margin-top: 8px;\n}\n\n.welcome-btns {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n  margin-bottom: 40px;\n}\n\n.welcome-btn {\n  min-width: 160px;\n  height: 48px;\n  font-size: 16px;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n}\n\n.welcome-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n}\n\n.welcome-recent {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  padding: 20px;\n}\n\n.welcome-recent-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n}\n\n.welcome-recent-header h4 {\n  color: #ccc;\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.clear-recent-icon {\n  color: #888;\n  cursor: pointer;\n  font-size: 16px;\n  transition: all 0.2s ease;\n}\n\n.clear-recent-icon:hover {\n  color: #ff4d4f;\n}\n\n.welcome-recent-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.welcome-recent-list li {\n  margin-bottom: 8px;\n}\n\n.welcome-recent-list li:last-child {\n  margin-bottom: 0;\n}\n\n.welcome-recent-list a {\n  display: block;\n  padding: 8px 12px;\n  color: #fff;\n  text-decoration: none;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n\n.welcome-recent-list a:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.project-path {\n  font-size: 12px;\n  color: #888;\n  margin-left: 8px;\n}\n\n.no-recent {\n  color: #888;\n  text-align: center;\n  padding: 12px;\n  font-style: italic;\n} ",""]);const s=a},9172:(e,t,n)=>{var r=n(5861),o=n(346);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9242:(e,t,n)=>{"use strict";e.exports=n(2162)},9265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(5015)),o=s(n(3215)),i=s(n(1331)),a=s(n(5378));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,i.default)(t)?(0,o.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};t.default=l},9325:(e,t,n)=>{var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9326:(e,t,n)=>{var r=n(1769),o=n(2428),i=n(6449),a=n(361),s=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(i(e)||o(e))}},9344:(e,t,n)=>{var r=n(3805),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9351:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".project-explorer {\n  height: 100%;\n  background-color: #252526;\n  padding-top: 2px;\n}\n\n.project-explorer .ant-tree {\n  background: transparent;\n  color: #cccccc;\n  border: none;\n  width: 100%;\n  padding-left: 16px;\n  overflow-x: hidden;\n}\n\n/* 修改选中效果为整个树节点 */\n.project-explorer .ant-tree-treenode {\n  width: 100%;\n  padding: 0 !important;\n  height: 22px;\n  line-height: 22px;\n  position: relative;\n}\n\n.project-explorer .ant-tree-treenode:hover::after,\n.project-explorer .ant-tree-treenode-selected::after {\n  content: '';\n  position: absolute;\n  left: -16px;\n  right: 0;\n  height: 100%;\n  background-color: #37373d;\n  z-index: 0;\n}\n\n.project-explorer .ant-tree-indent,\n.project-explorer .ant-tree-switcher,\n.project-explorer .ant-tree-node-content-wrapper {\n  position: relative;\n  z-index: 1;\n  background: transparent !important;\n}\n\n/* 覆盖 Ant Design 的默认选中效果 */\n.project-explorer .ant-tree-node-content-wrapper.ant-tree-node-selected,\n.project-explorer .ant-tree-node-content-wrapper:hover {\n  background: transparent !important;\n  color: #cccccc !important;\n}\n\n.project-explorer .ant-tree-node-content-wrapper {\n  color: #cccccc;\n  transition: none;\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n\n.project-explorer .ant-tree-switcher {\n  color: #cccccc;\n  width: 8px !important;\n  margin-right: -4px !important;\n  z-index: 3;\n}\n\n.project-explorer .ant-tree-title {\n  font-size: 13px;\n  color: inherit;\n  flex: 1;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* 树节点输入框样式 */\n.tree-node-input {\n  display: inline-flex;\n  align-items: center;\n  margin-left: 8px;\n  height: 22px;\n}\n\n.tree-node-input .ant-input {\n  width: 120px;\n  height: 20px;\n  padding: 0 4px;\n  font-size: 13px;\n  background: #1e1e1e;\n  border: 1px solid #333;\n  color: #e0e0e0;\n  border-radius: 2px;\n  transition: all 0.3s;\n}\n\n.tree-node-input .ant-input:hover {\n  border-color: #444;\n  background: #252526;\n}\n\n.tree-node-input .ant-input:focus {\n  border-color: #1976d2;\n  background: #252526;\n  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);\n}\n\n.tree-node-input .ant-input::placeholder {\n  color: #666;\n}\n\n/* 控制台样式 */\n.console-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px;\n  background: #1e1e1e;\n  border-bottom: 1px solid #333;\n  user-select: none;\n}\n\n.project-explorer .console-title {\n  font-size: 13px;\n  font-weight: 500;\n  color: #cccccc;\n}\n\n.project-explorer .console-content {\n  height: calc(100% - 37px);\n  overflow: auto;\n  background: #252526;\n  width: 100%;\n  padding: unset !important;\n}\n\n/*\n .project-explorer .ant-tree-indent {\n  width: 12px !important;\n} */\n\n.project-explorer .ant-tree-indent-unit {\n  display: inline-block;\n  width: 8px !important;\n}\n\n.project-header {\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  font-weight: 500;\n  color: #bfc4cc;\n  background: #232526;\n  padding: 12px 18px 12px 16px;\n  border-bottom: 1px solid #333;\n  border-radius: 8px 8px 0 0;\n  margin: 0 6px 6px 6px;\n  letter-spacing: 0.5px;\n  position: relative;\n  user-select: none;\n  box-shadow: 0 1px 4px rgba(0,0,0,0.06);\n}\n\n.project-header::before {\n  content: '';\n  display: inline-block;\n  width: 4px;\n  height: 18px;\n  background: #444;\n  border-radius: 2px;\n  margin-right: 10px;\n}\n\n.project-explorer :where(.ant-card) {\n  margin: 0 !important;\n}\n\n.project-explorer :where(.ant-card-head) {\n  min-height: 20px !important;\n  background: #333333 !important;\n  border-radius: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  margin: 0 !important;\n  padding-left: 16px !important;\n  padding-right: 0 !important;\n  box-sizing: border-box;\n}\n\n.project-explorer :where(.ant-card-head) .ant-card-head-wrapper {\n  border-radius: 0 !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\n\n.ant-tree-switcher{\n  width:8px !important;\n}\n\n/* 右键菜单样式 */\n.context-menu {\n  background: #2d2d2d;\n  border: 1px solid #444;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n  min-width: 120px;\n}\n\n.context-menu-item {\n  padding: 8px 16px;\n  cursor: pointer;\n  color: #e0e0e0;\n  font-size: 13px;\n  transition: background 0.2s;\n  user-select: none;\n}\n\n.context-menu-item:hover {\n  background: #3d3d3d;\n}\n\n.context-menu-item:not(:last-child) {\n  border-bottom: 1px solid #444;\n}\n\n.context-menu-divider {\n  height: 1px;\n  background: #444;\n  margin: 4px 0;\n}\n\n/* 重命名输入框样式 */\n.project-explorer .ant-input {\n  background: #2d2d2d;\n  border: 1px solid #444;\n  color: #e0e0e0;\n  font-size: 13px;\n  height: 22px;\n  padding: 0 8px;\n}\n\n.project-explorer .ant-input:focus {\n  border-color: #1976d2;\n  box-shadow: none;\n}\n\n/* 新建项目输入框样式 */\n.new-item-input {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.new-item-input .ant-input {\n  flex: 1;\n  min-width: 100px;\n}\n\n.custom-modal .ant-modal-content {\n  background: #2d2d2d;\n  border-radius: 8px;\n}\n\n.custom-modal .ant-modal-header {\n  background: #2d2d2d;\n  border-bottom: 1px solid #444;\n  padding: 16px 24px;\n}\n\n.custom-modal .ant-modal-confirm-title {\n  color: #ffffff;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.custom-modal .ant-modal-confirm-content {\n  color: #ffffff;\n  font-size: 14px;\n}\n\n.custom-modal .ant-modal-close {\n  color: #888;\n}\n\n.custom-modal .ant-modal-close:hover {\n  color: #fff;\n}\n\n.custom-modal .ant-modal-body {\n  color: #ffffff;\n  padding: 24px;\n  font-size: 14px;\n}\n\n.custom-modal .ant-modal-footer {\n  border-top: 1px solid #444;\n  padding: 16px 24px;\n}\n\n.custom-modal .ant-btn {\n  border-radius: 4px;\n  font-size: 14px;\n  height: 32px;\n  padding: 0 16px;\n}\n\n.custom-modal .ant-btn-primary {\n  background: #1976d2;\n  border-color: #1976d2;\n  color: #ffffff;\n}\n\n.custom-modal .ant-btn-primary:hover {\n  background: #1565c0;\n  border-color: #1565c0;\n  color: #ffffff;\n}\n\n.custom-modal .ant-btn-default {\n  background: #3d3d3d;\n  border-color: #444;\n  color: #ffffff;\n} ",""]);const s=a},9359:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".menu-bar {\n  width: 100%;\n  background: #333333;\n  /* 可选：加阴影或分割线 */\n  /* box-shadow: 0 1px 4px rgba(0,0,0,0.08); */\n}\n\n.menu-bar .ant-menu {\n  background: #333333 !important;\n  border: none !important;\n  outline: none !important;\n  box-shadow: none !important;\n}\n\n.menu-bar .ant-menu:focus,\n.menu-bar .ant-menu:active,\n.menu-bar .ant-menu *:focus {\n  outline: none !important;\n  box-shadow: none !important;\n}\n\n.menu-bar .ant-menu-item {\n  color: #e0e0e0;\n  font-size: 15px;\n  background: transparent !important;\n  border: none !important;\n}\n\n.menu-bar .ant-menu-item-selected {\n  background: #333333 !important;\n  color: #4ea1ff !important;\n}\n\n.menu-bar .ant-menu-item:hover {\n  background: #333333 !important;\n  color: #4ea1ff !important;\n}\n\n.menu-bar .ant-menu-submenu-title {\n  color: #e0e0e0;\n  background: transparent !important;\n}\n\n.menu-bar .ant-menu-submenu {\n  color: #cccccc;\n  font-size: 13px;\n  padding: 0 10px;\n  margin: 0 4px;\n  height: 30px;\n  line-height: 30px;\n}\n\n.menu-bar .ant-menu-submenu:hover {\n  background-color: #333333;\n  color: #ffffff;\n}\n\n.menu-bar .ant-menu-submenu-popup {\n  background-color: #333333;\n}\n\n.menu-bar .ant-menu-sub {\n  background-color: #333333;\n}\n\n.menu-bar .ant-modal-wrap {\n  overflow: hidden;\n}\n\n/* Modal.confirm 暗色系样式 */\n.menu-bar-modal .ant-modal-confirm {\n  background-color: #333333 !important;\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n\n.menu-bar-modal .ant-modal-confirm * {\n  user-select: none !important;\n  -webkit-user-select: none !important;\n  -moz-user-select: none !important;\n  -ms-user-select: none !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-title {\n  color: #e0e0e0 !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-content {\n  color: #cccccc !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-btns {\n  padding-top:10px;\n  border-top: 1px solid #444444 !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-btns .ant-btn {\n  background-color: #444444 !important;\n  border-color: #555555 !important;\n  color: #e0e0e0 !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-btns .ant-btn:hover {\n  background-color: #555555 !important;\n  border-color: #666666 !important;\n  color: #ffffff !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-btns .ant-btn-primary {\n  background-color: #1890ff !important;\n  border-color: #1890ff !important;\n  color: #ffffff !important;\n}\n\n.menu-bar-modal .ant-modal-confirm-btns .ant-btn-primary:hover {\n  background-color: #40a9ff !important;\n  border-color: #40a9ff !important;\n}\n\n/* 确保 Modal 背景也是暗色的 */\n.menu-bar-modal .ant-modal-mask {\n  background-color: rgba(0, 0, 0, 0.65) !important;\n}\n\n.menu-bar-modal .ant-modal-content {\n  background-color: #333333 !important;\n  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05) !important;\n}\n\n/* 地图编辑器模态框样式 */\n.map-editor-modal .ant-modal-content {\n  background: #1a1a1a !important;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.map-editor-modal .ant-modal-header {\n  background: #232323 !important;\n  border-bottom: 1px solid #333 !important;\n  padding: 16px 24px !important;\n}\n\n.map-editor-modal .ant-modal-title {\n  color: #fff !important;\n  font-size: 18px !important;\n}\n\n.map-editor-modal .ant-modal-close {\n  color: #e0e0e0 !important;\n}\n\n.map-editor-modal .ant-modal-close:hover {\n  color: #fff !important;\n  background: #333 !important;\n}\n\n.map-editor-modal .ant-modal-body {\n  padding: 0 !important;\n  height: 100% !important;\n  overflow: hidden !important;\n} ",""]);const s=a},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9837:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"/* 基础样式重置 */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* 主布局容器 */\n.layout {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #1e1e1e;\n  color: #cccccc;\n  user-select: none; /* 防止拖动时选中文本 */\n}\n\n/* 顶部菜单栏 */\n.menu-bar {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  background-color: #333333;\n  border-bottom: 1px solid #252525;\n  padding: 0 10px;\n}\n\n.menu-item {\n  padding: 0 10px;\n  cursor: pointer;\n  font-size: 13px;\n}\n\n.menu-item:hover {\n  background-color: #404040;\n}\n\n/* 主容器布局 */\n.main-container {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  background-color: #1e1e1e;\n  position: relative;\n}\n\n/* 左侧项目管理器 */\n.project-explorer {\n  position: relative;\n  background-color: #252526;\n  overflow: hidden;\n}\n\n/* 中间内容区域 */\n.center-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  background-color: #1e1e1e;\n}\n\n.main-content {\n  flex: 1;\n  overflow: auto;\n  background-color: #1e1e1e;\n  border-radius: 4px;\n}\n\n.debug-console {\n  position: relative;\n  background-color: #1e1e1e;\n  border-top: 1px solid #333333;\n  overflow: hidden;\n}\n\n/* 右侧硬件管理器 */\n.hardware-manager {\n  position: relative;\n  background-color: #252526;\n  overflow: hidden;\n}\n\n/* 调整大小的手柄 */\n.resize-handle {\n  position: absolute;\n  z-index: 2;\n  transition: background-color 0.2s;\n}\n\n.resize-handle-left,\n.resize-handle-right {\n  top: 0;\n  width: 4px;\n  height: 100%;\n  cursor: ew-resize;\n}\n\n.resize-handle-left {\n  left: 0;\n}\n\n.resize-handle-right {\n  right: 0;\n}\n\n.resize-handle-top {\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 4px;\n  cursor: ns-resize;\n}\n\n.resize-handle:hover {\n  background-color: #0e639c;\n}\n\n/* 拖动时的遮罩层 */\n.resize-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n  cursor: inherit;\n}\n\n/* 通用标题样式 */\n.section-title {\n  padding: 10px;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #2d2d2d;\n  border-bottom: 1px solid #1e1e1e;\n}\n\n/* 树状视图容器 */\n.tree-view {\n  padding: 10px;\n}\n\n/* 滚动条样式 */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #1e1e1e;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #424242;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #4f4f4f;\n}\n\n/* 覆盖 antd 默认样式 */\n.layout {\n  height: 100vh;\n}\n\n.header {\n  height: 30px !important;\n  line-height: 30px !important;\n  padding: 0 !important;\n  background: #333333 !important;\n}\n\n.header .ant-menu {\n  background: transparent;\n  border-bottom: none;\n}\n\n.main-container {\n  height: calc(100vh - 30px);\n}\n\n.sider {\n  background: #252526 !important;\n}\n\n.section-title {\n  padding: 8px 16px;\n  color: #cccccc;\n  font-size: 13px;\n  background: #2d2d2d;\n  border-bottom: 1px solid #1e1e1e;\n}\n\n.content-container {\n  display: grid;\n  grid-template-rows: 7fr 4fr;\n  background: #1e1e1e;\n  padding: 0;\n  position: relative;\n}\n\n.main-content {\n  background: #1e1e1e;\n  overflow: auto;\n}\n\n.debug-console {\n  background: #1e1e1e;\n  overflow: auto;\n}\n\n/* 自定义树组件样式 */\n.custom-tree {\n  background: transparent;\n  color: #cccccc;\n  padding: 8px;\n}\n\n.ant-tree-node-content-wrapper:hover {\n  background-color: #37373d !important;\n}\n\n/* re-resizable 样式覆盖 */\n.re-resizable-handle {\n  background-color: transparent;\n  transition: background-color 0.2s;\n}\n\n.re-resizable-handle:hover {\n  background-color: #0e639c;\n}\n\n.re-resizable-handle.re-resizable-handle-right {\n  right: -4px;\n  width: 8px;\n}\n\n.re-resizable-handle.re-resizable-handle-left {\n  left: -4px;\n  width: 8px;\n}\n\n.re-resizable-handle.re-resizable-handle-top {\n  top: -4px;\n  height: 8px;\n} ",""]);const s=a},9888:(e,t,n)=>{"use strict";e.exports=n(8493)},9896:e=>{"use strict";e.exports=require("fs")},9935:e=>{e.exports=function(){return!1}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},9999:(e,t,n)=>{var r=n(7217),o=n(3729),i=n(6547),a=n(4733),s=n(3838),l=n(3290),c=n(3007),u=n(2271),d=n(8948),h=n(2),f=n(3349),p=n(5861),m=n(6189),g=n(7199),v=n(5529),b=n(6449),y=n(3656),x=n(7730),O=n(3805),w=n(8440),S=n(5950),E=n(7241),_="[object Arguments]",C="[object Function]",k="[object Object]",M={};M[_]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[k]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[C]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,T,P,R,A){var $,N=1&n,I=2&n,D=4&n;if(T&&($=R?T(t,P,R,A):T(t)),void 0!==$)return $;if(!O(t))return t;var L=b(t);if(L){if($=m(t),!N)return c(t,$)}else{var z=p(t),j=z==C||"[object GeneratorFunction]"==z;if(y(t))return l(t,N);if(z==k||z==_||j&&!R){if($=I||j?{}:v(t),!N)return I?d(t,s($,t)):u(t,a($,t))}else{if(!M[z])return R?t:{};$=g(t,z,N)}}A||(A=new r);var B=A.get(t);if(B)return B;A.set(t,$),w(t)?t.forEach(function(r){$.add(e(r,n,T,r,t,A))}):x(t)&&t.forEach(function(r,o){$.set(o,e(r,n,T,o,t,A))});var F=L?void 0:(D?I?f:h:I?E:S)(t);return o(F||t,function(r,o){F&&(r=t[o=r]),i($,o,e(r,n,T,o,t,A))}),$}}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=a,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},l.a=(o,i,a)=>{var s;a&&((s=[]).d=-1);var l,c,u,d=new Set,h=o.exports,f=new Promise((e,t)=>{u=t,c=e});f[t]=h,f[e]=e=>(s&&e(s),d.forEach(e),f.catch(e=>{})),o.exports=f,i(o=>{var i;l=(o=>o.map(o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var i=[];i.d=0,o.then(e=>{a[t]=e,r(i)},e=>{a[n]=e,r(i)});var a={};return a[e]=e=>e(i),a}}var s={};return s[e]=e=>{},s[t]=o,s}))(o);var a=()=>l.map(e=>{if(e[n])throw e[n];return e[t]}),c=new Promise(t=>{(i=()=>t(a)).r=0;var n=e=>e!==s&&!d.has(e)&&(d.add(e),e&&!e.d&&(i.r++,e.push(i)));l.map(t=>t[e](n))});return i.r?c:a()},e=>(e?u(f[n]=e):c(h),r(s))),s&&s.d<0&&(s.d=0)},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var r={};o=o||[null,i({}),i([]),i(i)];for(var a=2&t&&e;"object"==typeof a&&!~o.indexOf(a);a=i(a))Object.getOwnPropertyNames(a).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,l.d(n,r),n},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.b=document.baseURI||self.location.href,l.nc=void 0,l(6954)})();